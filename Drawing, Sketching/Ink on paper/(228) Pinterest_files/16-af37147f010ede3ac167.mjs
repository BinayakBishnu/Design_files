(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[16],{"+tKw":function(e,t,n){n.d(t,"a",(function(){return m}));var a=n("q1tI"),i=n.n(a),o=n("Y+p1"),r=n.n(o),l=n("qD10");const s="__HashtagFlag__",c=/#[^(\-\\.\s#,\/$%\^&\*;:{}=\`~()\[\]@|<>…)]+/gi,d=(e,t)=>`/search/pins/?q=${encodeURIComponent(e)}&rs=${t}`;const u={hashtags:function(e,t){const n=t.appendText||"",a=t.source||"hashtag_pinrep";let o=[];const r=[],u={};let m=0;const p=e=>(t,n)=>{if(t===s&&r.length){const t=r.shift();return m+=1,i.a.createElement(l.a,{to:d(t,a),key:`hashtag-${e}.${n}`},i.a.createElement("span",{className:"pinHashtag"},t))}return t};for(let i=0;i<e.length;i+=1){const t=e[i];if("string"==typeof t){const e=t.replace(c,e=>(r.push(e),u[e]=!0,s)).split(new RegExp("(__HashtagFlag__)")).map(p(i));o=[...o,...e]}else o.push(t)}const h=[];return n&&n.replace(c,(e,t)=>(!u[e]&&m<4&&(m+=1,h.push(i.a.createElement("span",{key:"appended"+t}," ",i.a.createElement(l.a,{to:d(e,a)},i.a.createElement("span",{className:"pinHashtag"},e)))),u[e]=!0),e)),o=[...o,...h],o}};class m extends i.a.Component{shouldComponentUpdate(e){return!r()(this.props,e)}render(){const{text:e,options:t}=this.props;if("string"==typeof e&&""===e.trim())return e;let n=[e];for(const a of Object.keys(u))if(a in t){n=(0,u[a])(n,t[a])}return i.a.createElement("span",null,n)}}},"0bYG":function(e,t){e.exports={ReasonToChoose:{REPIN_BOARD:1,USER_ACTIVITY:4,CLICKTHROUGH:9,FRESH_REPIN_BOARD:47,FRESH_CLICKTHROUGH:48,FRESH_USER_ACTIVITY:49,LOCAL_REPIN_BOARD:13,LOCAL_CLICKTHROUGH:32,LOCAL_USER_ACTIVITY:33,P2P_CLICKTHROUGH:28,INSTANT_PFY_NON_MATERIALIZABLE:36,FOLLOWED_INTEREST:5,TOPIC_BEST_PINS:70,RECOMMENDED_TOPICS:65,GRAPHSAGE_USER_EMBEDDINGS_TO_ORGANIC_PINS:109,NAVBOOST_PFY:89,NAVBOOST_P2P:88,NOTIFICATION_NEWS_HUB:138,GEMINI_INTERESTS_FRESH:104,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN:100,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_VIDEO:95,INTENTIONAL_DISTRIBUTION_DOMAIN:86,INTENTIONAL_DISTRIBUTION_TOPICS_STORY_PINS:91,INTENTIONAL_DISTRIBUTION_TOPICS_VIDEO:98,GRAPHSAGE_MULTI_PINS_TO_CREATOR_PINS_REALTIME:135,GRAPHSAGE_MULTI_PINS_TO_VIDEO_PINS_REALTIME:139,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS_REALTIME:140,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGEED_INTERESTS_VIDEO:118,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGED_INTERESTS_STORY_PIN:130,CREATOR_DIRECT_INJECT:148,USER_INTERESTS_TO_LONGTERM_CREATOR_PINS:141,GRAPHSAGE_PRODUCT_PINS:97,GRAPHSAGE_USER_EMBEDDINGS_TO_PINS:108,PROMOTED_PIN:15,UNKNOWN:0,RECOMMENDED_CATEGORY:2,COOKIE_MONSTER:3,REALTIME_P2B:6,REALTIME_P2B_CLOSEUP:22,RECOMMENDED_INTEREST:7,VISUALLY_SIMILAR:8,BOARD_FOLLOW:35,USER_FOLLOW:45,RECOMMENDED_COMMERCE:10,EVERYTHING_FEED:11,RECOMMENDED_LOCAL_PIN:12,SEARCH:46,P2P_USER_COMMERCE:16,COMMERCE_EDUCATION:17,LANDING_PAGE_PINS:18,FOLLOWING_FEED:19,POPULAR_FEED:20,P2P_DYNAMIC_GRID:23,LANDING_PAGE_INTEREST_PINS:24,FRESH_PIN_FROM_PIN:25,FRESH_PIN_FROM_INTEREST:26,FRESH_PIN_FROM_BOARD:27,SIFTER_VIDEO_FROM_INTEREST:39,SIFTER_PRODUCTS:57,SIFTER_DISTRIBUTION_A:50,SIFTER_DISTRIBUTION_B:51,SIFTER_DISTRIBUTION_C:52,SIFTER_DISTRIBUTION_D:53,SIFTER_DISTRIBUTION_E:54,SIFTER_ACTIVATION_EXPERIMENT:58,SIFTER_FRESHMAKER_PIN_FROM_INTEREST:40,P2P_CLOSEUP:29,P2P_LIKE:30,P2P_PIN_CREATE:31,INSTANT_PFY:34,DYNAMIC_INSERTION:37,DYNAMIC_INSERTION_BOARD_FOLLOW:38,HYPERLOCAL_INTEREST_BOARD:41,NUX_BOARD_FOLLOW_P2P:42,INDIRECT_DOMAIN_PIN:43,PIXIE_PINS_FOR_BOARD:44,SCREENSHOT_SAVE:55,TEXT_EMBEDDINGS:56,FRESH_TEXT_EMBEDDINGS:67,PREFETCH_LOAD:60,DIVERSE_TOPICS:62,QUIZ_RESULTS:63,INTENTIONAL_DISTRIBUTION_TOPICS:64,INTENTIONAL_DISTRIBUTION_TOPICS_THIRD_PARTY:90,INTENTIONAL_DISTRIBUTION_GEMINI:73,INTENTIONAL_DISTRIBUTION_GEMINI_V5:120,INTENTIONAL_DISTRIBUTION_SHOP_STYLE_STL:74,INTENTIONAL_DISTRIBUTION_GRAPHSAGE:78,INTENTIONAL_DISTRIBUTION_REPIN_BOARD:80,INTENTIONAL_DISTRIBUTION_CLICKTHROUGH:81,INTENTIONAL_DISTRIBUTION_USER_ACTIVITY:82,INTENTIONAL_DISTRIBUTION_CREATOR_BASELINE:92,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS:102,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_STORY_PIN:103,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_DIVERSITY:105,PIXIE_RECENT_ACTION:66,NATIVE_CONTENT_TOPICS:68,BUBBLE_OPEN_TOPICS:69,TOPIC_BEST_PINS_V2:77,DAILY_BEST_PINS:79,TOPIC_BEST_PINS_V3:101,DARK_PROMOTED_PIN:71,POST_EXPLORE_TOPICS:72,GRAPHSAGE_EMBEDDINGS:75,DEMOGRAPHIC_PFY:76,SHOPPING_STL:83,UNAUTH_PIXIE_P2B:84,UNAUTH_PIXIE_P2P:85,VIDEO_EMBEDDINGS:87,VIDEO_EMBEDDINGS_GEMINI_V5:121,GEMINI_V5_EMBEDDINGS_STATIC:93,GEMINI_V5_EMBEDDINGS_FRESH:94,GEMINI_V5_EMBEDDINGS_REALTIME:106,GEMINI_V5_EMBEDDINGS_STORYPIN:107,CURATED_VIDEO_INTEREST:96,GRAPHSAGE_PRODUCT_PINS_LONGER_HISTORY:112,GRAPHSAGE_SHOPPABLE_INSPIRATION:126,GRAPHSAGE_PRODUCT_PINS_EXPERIMENTAL:134,NUX_GRAPHSAGE:99,GRAPHSAGE_USER_EMBEDDINGS_TO_PRODUCT_PINS:110,GRAPHSAGE_VIDEO_PINS:113,RECBOOST_REPIN_BOARD:114,RECBOOST_CLICKTHROUGH:115,RECBOOST_USER_ACTIVITY:116,RECBOOST_CREATOR_BOARDS:129,RECOMMENDED_BOARDS:117,RECOMMENDED_ANNOTATION_BOARDS:136,RECOMMENDED_GRAPHSAGE_BOARDS:153,RECOMMENDED_CREATOR_BOARDS:124,ANNOTATION_REC_CREATOR_BOARDS:127,INTENTIONAL_DISTRIBUTION_MANUAL_INTERESTS_VIDEO:119,INTENTIONAL_DISTRIBUTION_INTERESTS_VIDEO:143,INTENTIONAL_DISTRIBUTION_INTERESTS_STORY_PIN:144,REPIN_CREATOR_BOARD:122,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS:123,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS_REALTIME:131,FRESH_SIG_FROM_BOARD:125,RECENT_ENGAGED_CREATOR_BOARDS:128,RECENT_ENGAGED_BOARDS:132,SHOPPING_CREATOR_REALTIME:133,GRAPHSAGE_BASED_RECOMMENDED_CREATOR_BOARDS:137,PIXIE_P2P:142,NEW_USE_CASE_PINS:145,RECBOOST_NEW_USE_CASES:146,SEARCHSAGE_PFY:147,SEARCHSAGE_SHOPPING_PFY:155,INTEREST_EXPLORATION:149,INTEREST_EXPLORATION_TRENDY_QUERIES:150,INTEREST_EXPLORATION_RELATED_INTERESTS:151,RECBOOST_INTERESTS:152,HF_STORY_SHOPPING_RETARGETING:154,RTC_IMPROVEMENT_TEST_1:501,RTC_IMPROVEMENT_TEST_2:502,RTC_IMPROVEMENT_TEST_3:503,RTC_IMPROVEMENT_TEST_4:504,RTC_IMPROVEMENT_TEST_5:505,RTC_IMPROVEMENT_TEST_6:506,RTC_IMPROVEMENT_TEST_7:507,RTC_IMPROVEMENT_TEST_8:508,RTC_IMPROVEMENT_TEST_9:509,RTC_IMPROVEMENT_TEST_10:510,RTC_IMPROVEMENT_TEST_11:511,RTC_IMPROVEMENT_TEST_12:512,RTC_IMPROVEMENT_TEST_13:513,RTC_IMPROVEMENT_TEST_14:514,RTC_IMPROVEMENT_TEST_15:515,RTC_BLENDER_TEST:516,P2P_COMMERCE:21,P2P:14,LENS_CAMERA_VISUALLY_SIMILAR:111,RECENT_FOLLOWED_INTEREST:59,RECENT_FOLLOWED_BOARD:61},ThroughObjectType:{PIN_ID:1,IMAGE_SIGNATURE:2,BOARD_ID:3,INTEREST_ID:4,SEARCH_QUERY:5,CREATOR_ID:6,ANNOTATION_ID:7}}},"1Fta":function(e,t,n){var a=n("kmwA"),i=n("pSsd");const o=e=>e.length>32?e.substring(0,32).trim()+"...":e;t.a=({i18n:e,interpolateNamedTemplate:t})=>({getLearnMoreUrl:e=>{switch(e){case 1:return a.a.settings.HELP_PROMOTED_PINS_RETARGETED_PIN_URL;case 2:case 3:return a.a.settings.HELP_PROMOTED_PINS_LOOKALIKE_TARGETING_URL;default:return a.a.settings.HELP_PROMOTED_PINS_URL}},getRecommendationDescription:({ad_match_reason:n,board:a,feedbackType:i,makeNavigateLink:r,pinner:l,promoter:s,recommendationReason:c,sourceInterest:d})=>{switch(i){case"pfy":return e._("This Pin was inspired by your recent activity","Pin feedback reason","Pin feedback reason");case"pfyBoard":const{name:i,url:u}=c.board,m=r("navigation",u,i);return t(e._("This Pin was inspired by your board {{ boardLink }}","Pin feedback - inspired by your board","Pin feedback - inspired by your board"),{boardLink:m});case"topic":const{name:p,url_name:h}=d,g=r("topicUrl","/topics/"+h,p);return t(e._("This Pin was inspired by {{ formattedTopic }}","Pin feedback","Pin feedback"),{formattedTopic:g});case"followed":const f="/"+l.username,b=r("boardUrl",a.url,o(a.name)),_=r("pinnerUrl",f,o(l.full_name));return l.explicitly_followed_by_me?t(e._("This Pin is from {{ formattedPinner }}, a profile you follow","Pin feedback","Pin feedback"),{formattedPinner:_}):t(e._("This Pin is from {{ formattedBoard }}, a board you follow","Pin feedback","Pin feedback"),{formattedBoard:b});case"promoted":switch(n){case 1:case 2:case 3:return e._("This ad was personalized for you using info from one of our partners","Pin feedback","Pin feedback");default:const{full_name:n,username:a}=s,i=r("promotedLink",a?"/"+a+"/":"/",n);return t(e._("{{ promoterLink }} paid to have this Pin show up where\n          you’d be more likely to notice it","Pin feedback","Pin feedback"),{promoterLink:i})}default:return null}},getFeedbackType({board:e,feedback:t,viewParameter:n,pin:{promoter:a,is_downstream_promotion:i,recommendation_reason:o},pinner:r}){const l=t&&t.type;return a&&!i?"promoted":l||((e=>!!e&&"FOLLOWED_INTEREST"!==e.reason&&"FOLLOWING_FEED"!==e.reason&&"RECENT_FOLLOWED_BOARD"!==e.reason&&!0)(o)?o.board?"pfyBoard":"pfy":o&&"FOLLOWED_INTEREST"===o.reason?"topic":e&&e.followed_by_me||r&&r.explicitly_followed_by_me?"followed":140===n||144===n||141===n||145===n||139===n||3173===n?"related":92===n?"default":3082===n?"newsHub":null)},getHidePinAction:({feedbackData:e,feedbackType:t,pinId:n,recommendationReasonId:a,pinFeedbackType:i,complaintReason:o,throughId:r,clientTrackingParams:l})=>{const s="promoted"===t;let c,d;switch(t){case"promoted":c="promotedComplaint";break;case"search":c="unrelatedSearchPin";break;case"related":c="relatedPinHide";break;case"newsHub":c="newsHubPinHide";break;default:c="complaint"}switch(t){case"search":d={query:e.query,pin_id:n};break;case"related":d={pin:n};break;case"newsHub":d={pinId:n,newsId:e.newsId};break;default:d={complaint_reason:o||0,pin_id:n,...a?{recommendation_reason_id:a}:{},feedback_type:i||1,promoted:s,...r?{through_id:r}:{},...l?{client_tracking_params:l}:{}}}return{action:c,actionOptions:d}},getUnfollowAction:({board:n,feedbackType:a,makeNavigateLink:o,pinner:r,sourceInterest:l})=>{if("topic"===a){if(l){const{id:n,name:a,url_name:r}=l,s=o("topicUrl","/topics/"+r,a,!0),c=t(e._("We’ll show you less Pins from {{ formattedTopic }} in the future.","pin.contextualMenu.feedback.unfollowTopic.subtitle","Confirmation text after unfollowing a topic"),{formattedTopic:s});return{action:"unfollowTopic",actionOptions:{interest_id:n,interest_list:i.a},title:"",subTitle:c}}}else if("followed"===a&&n&&r){const{id:a,name:i,url:l}=n||{},{explicitly_followed_by_me:s,full_name:c,username:d}=r,u="/"+d,m=o("boardUrl",l,i,!0),p=o("pinnerUrl",u,c,!0);let h=s?t(e._("You’ve unfollowed {{ formattedPinner }}’s Board {{ formattedBoard }}. You can follow it again by searching for it.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedPinner:p,formattedBoard:m}):t(e._("You’ve unfollowed {{ formattedBoard }}. You can follow it again by searching for it.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:m});return h=s?t(e._("You unfollowed {{ formattedPinner }} and won’t see Pins they save anymore.","Confirmation text after unfollowing a user","Confirmation text after unfollowing a user"),{formattedPinner:p}):t(e._("You unfollowed the board {{ formattedBoard }} and won’t see Pins saved to it anymore.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:m}),{action:"unfollowBoard",actionOptions:{board_id:a},title:"",subTitle:h}}return null}})},"3qdF":function(e,t,n){n.d(t,"a",(function(){return s}));var a=n("q1tI"),i=n.n(a),o=n("4Utz"),r=n("n6mq");const l={chip:{marginRight:1,flex:"1 1 0"},chipInner:{paddingBottom:"100%"},chipContainer:{marginRight:-1}};function s({pin:e,enableCloseupLink:t}){const{aggregated_pin_data:n}=e,{pin_tags_chips:a}=n||{},s=a&&a.length>=3?a.slice(0,3):[];return i.a.createElement(r.e,{display:"flex",dangerouslySetInlineStyle:{__style:l.chipContainer}},s.map(n=>{const a=n.images["750x"]||{},s=i.a.createElement(r.v,{alt:"",fit:"cover",naturalHeight:a.height,naturalWidth:a.width,src:a.url});return i.a.createElement(r.e,{dangerouslySetInlineStyle:{__style:l.chip},"data-test-id":"collageChip",key:n.id},i.a.createElement(r.e,{dangerouslySetInlineStyle:{__style:l.chipInner},position:"relative"},i.a.createElement(r.e,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0},i.a.createElement(r.A,{height:"100%",wash:!0,width:"100%"},t?i.a.createElement(o.a,{additionalStyles:{width:"100%",height:"100%"},collageChipId:n.id,pin:e},s):s))))}))}},"4+TC":function(e,t,n){var a=n("q1tI"),i=n.n(a),o=n("TSYQ"),r=n.n(o),l=n("Ye/N"),s=n("qD10"),c=n("n6mq");class d extends i.a.Component{constructor(...e){var t,n,a;super(...e),a={showBoardName:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a}componentDidMount(){this.timer=setTimeout(()=>{this.setState({showBoardName:!0})},950)}componentWillUnmount(){clearTimeout(this.timer)}render(){const{showBoardName:e}=this.state,{isNewlySaved:t,name:n,url:a}=this.props;let o,d;if(t&&!e)o=i.a.createElement(c.V,{color:"white"},i.a.createElement("span",{className:"deprecatedTextSizeXL"},l.a._("Saved!","Indication that a pin has been saved","Indication that a pin has been saved")));else{const e=i.a.createElement(c.s,{color:"white",size:"sm",truncate:!0},n);o=a?i.a.createElement(s.a,{to:a},e):e}return t&&(d=e?"board":"saved"),i.a.createElement("div",{"data-test-id":"savedInfo",className:r()("SavedAnimation",d)},o)}}t.a=d},"4Utz":function(e,t,n){n.d(t,"a",(function(){return d}));var a=n("q1tI"),i=n.n(a),o=n("qD10"),r=n("0nTG"),l=n("Y8Sn"),s=n("U4JR"),c=n("gD/Z");function d({additionalStyles:e={},children:t,collageChipId:n,componentType:a,contextLogData:d,elementType:u,pin:m,viewParameter:p,viewType:h}){const g=Object(c.b)(),{carousel_data:f,id:b}=m;let _,y=`/pin/${n||b}/`;if(f){const{carousel_slots:e=[],id:t,index:n}=f;y=`/pin/${b}/`,_={carousel_slot_id:e[n]&&e[n].id,carousel_data_id:t,carousel_slot_index:n}}_={..._||{},...Object(r.f)(m,d)||{}};return i.a.createElement(o.a,{auxData:_,onClick:()=>{Object(s.a)(101,{...d,component:a||g.componentType,element:u,objectId:b,view:h||g.viewType,viewParameter:p||g.viewParameter,...Object(r.f)(m,d)||{}}),Object(l.d)()&&Object(s.a)(8948,{closeup_navigation_type:"click",view:h||g.viewType,viewParameter:p||g.viewParameter,component:a||g.componentType,element:u,objectId:b,...d,...Object(r.f)(m,d)||{}})},pinId:b,style:{cursor:"zoom-in",display:"block",...e},to:y},t)}},"4cTg":function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return l}));var a=n("q1tI"),i=n.n(a),o=n("dKiF");const r=Object(o.d)(({showCloseupContentRight:e,showPdp:t,updateCloseupBodyContainerHeight:n,viewportSize:a,width:i})=>({showCloseupContentRight:e,showPdp:t,updateCloseupBodyContainerHeight:n,viewportSize:a,width:i})),l={showCloseupContentRight:!0,showPdp:!1,updateCloseupBodyContainerHeight:()=>{},viewportSize:"lg",width:null};t.b=i.a.createContext(l)},5871:function(e,t,n){var a=n("q1tI"),i=n.n(a),o=n("/MKj"),r=n("Nle8"),l=n("E/VT"),s=n("R6wO"),c=n("1Fta"),d=n("Ye/N"),u=n("qD10"),m=n("hFNL"),p=n("4cpq"),h=n("ANjH"),g=n("pSsd"),f=n("0bYG"),b=n("U4JR"),_=n("DJoW"),y=n("vvax"),E=n("n6mq"),w=n("eqXv"),T=n("EC67");function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const O={color:"white",textDecorationColor:"white"};class S extends i.a.Component{constructor(e){super(e),v(this,"getRecommendationDescription",()=>{const{ad_match_reason:e,board:t,feedbackType:n,pinner:a,promoter:i,recommendationReason:o,sourceInterest:r}=this.props;return this.feedbackHelpers.getRecommendationDescription({ad_match_reason:e,board:t,feedbackType:n,makeNavigateLink:this.makeNavigateLink,pinner:a,promoter:i,recommendationReason:o,sourceInterest:r})}),v(this,"getRecommendationDescriptionImage",()=>{const{board:e,feedbackType:t,pinner:n,recommendationReason:a}=this.props;if("followed"!==t&&"pfyBoard"!==t)return null;let o,r,l;return n&&n.explicitly_followed_by_me?(o=n.image_small_url,r="50%",l="/"+n.username):e&&e.image_thumbnail_url&&(o=e.image_thumbnail_url,r="4px",l=a&&a.board&&a.board.url||e.url),o?i.a.createElement(E.e,{dangerouslySetInlineStyle:{__style:{borderRadius:r}},flex:"none",marginStart:3,overflow:"hidden"},i.a.createElement(E.U,{onTap:()=>this.props.history.push(l)},i.a.createElement(E.A,{height:40,wash:!0,width:40},i.a.createElement(E.v,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,src:o})))):null}),v(this,"getUnfollowAction",()=>{const{board:e,feedbackType:t,pinner:n,sourceInterest:a}=this.props;return this.feedbackHelpers.getUnfollowAction({board:e,feedbackType:t,makeNavigateLink:this.makeNavigateLink,pinner:n,sourceInterest:a})}),v(this,"getUndoText",e=>"unfollowPinner"===e||"unfollowBoard"===e?d.a._("Follow again","Caption for button to undo a unfollowing of a topic","Caption for button to undo a unfollowing of a topic"):""),v(this,"generateUndoHideCallback",(e,t)=>()=>{const{dispatch:n,pinId:a,viewType:i,viewParameter:o}=this.props,r={...e,undo:!0};let l=t;"unfollowPinner"===t?l="followPinner":"unfollowBoard"===t?l="followBoard":"unfollowTopic"===t&&(l="followTopic"),Object(w.a)(l,r),n(Object(_.b)(a)),Object(b.a)(101,{component:0,element:11181,view:i,viewParameter:o})}),v(this,"feedbackHelpers",Object(c.a)({i18n:d.a,interpolateNamedTemplate:y.b})),v(this,"makeNavigateLink",(e,t,n,a)=>{const o={display:"inline",...a?O:{}};return i.a.createElement(u.a,{key:e,className:"underlineLink",onClick:this.props.onLinkClick,to:t},i.a.createElement(E.e,{dangerouslySetInlineStyle:{__style:o}},n))}),v(this,"reportPinOption",()=>({action:"reportPin",elementType:974,text:d.a._("Report Pin","Report a pin in the dropdown","Report a pin in the dropdown"),description:d.a._("This goes against Pinterest's community guidelines","Description for the report pin option","Description for the report pin option"),callback:this.props.reportPin})),v(this,"hidePinOption",e=>{const{feedbackData:t,feedbackType:n,pinId:a,recommendationReason:i}=this.props,o="search"===n?973:982,{action:l,actionOptions:s}=this.feedbackHelpers.getHidePinAction({feedbackData:t,feedbackType:n,pinId:a,recommendationReasonId:i&&i.reason&&f.ReasonToChoose[i.reason],pinFeedbackType:"pfy"===n?4:10,throughId:i&&this.getThroughId(),clientTrackingParams:Object(r.a)(a)}),c=d.a._("Hide Pin","message displayed in pin feedback list","message displayed in pin feedback list");return{action:l,actionOptions:s,feedbackText:this.pinHiddenFeedbackText(e),text:c,description:d.a._("See fewer Pins like this","Description for the hide pin option","Description for the hide pin option"),elementType:o}}),v(this,"stopRecommendationOption",()=>{const{feedbackData:e,feedbackType:t,pinId:n,recommendationReason:a}=this.props,{board:i,reason:o}=a,l=o&&f.ReasonToChoose[o],s=a&&this.getThroughId(),c="pfyBoard"===t,{action:u,actionOptions:m}=this.feedbackHelpers.getHidePinAction({feedbackData:e,feedbackType:t,pinId:n,recommendationReasonId:l,pinFeedbackType:c?2:4,throughId:s,clientTrackingParams:Object(r.a)(n)}),p=i?this.makeNavigateLink("boardUrl",i.url,i.name,!0):"";return{action:u,actionOptions:m,feedbackText:{subTitle:c&&i?Object(y.b)(d.a._("We won't show you Pins inspired by your board {{ formattedBoard }} anymore.","Primary caption displayed in pin feedback list to unfollow a board","Primary caption displayed in pin feedback list to unfollow a board"),{formattedBoard:p}):d.a._("Got it! We won't show you Pins like this in the future.","message displayed after stopping recommendations from a pin","message displayed after stopping recommendations from a pin")},text:c&&i?Object(y.b)(d.a._("Stop seeing Pins inspired by {{ boardName }}","Primary caption displayed in pin feedback list to unfollow a board","Primary caption displayed in pin feedback list to unfollow a board"),{boardName:i.name}):d.a._("See fewer Pins like this","Feedback option to stop recommendations inspired by this Pin","Feedback option to stop recommendations inspired by this Pin"),elementType:284}}),v(this,"unfollowBoardOption",()=>{const{board:e}=this.props,t=this.makeNavigateLink("boardUrl",e.url,e.name,!0),n=Object(y.b)(d.a._("Unfollow {{ boardName }}","Primary caption displayed in pin feedback list to unfollow a board","Primary caption displayed in pin feedback list to unfollow a board"),{boardName:e.name}),a=Object(y.b)(d.a._("Got it! You unfollowed {{ formattedBoard }} and won't see Pins saved to it in the future.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:t});return{action:"unfollowBoard",actionOptions:{board_id:e.id},feedbackText:{title:"",subTitle:a},text:n,description:Object(y.b)(d.a._('Stop seeing Pins from the board "{{ boardName }}"',"Secondary caption displayed in pin feedback list to unfollow a board","Secondary caption displayed in pin feedback list to unfollow a board"),{boardName:e.name}),elementType:10614}}),v(this,"unfollowTopicOption",()=>{const{sourceInterest:e}=this.props;if(e){const{id:t,name:n,url_name:a}=e,i="/topics/"+a,o=this.makeNavigateLink("topicUrl",i,n,!0),r=Object(y.b)(d.a._("See fewer Pins from {{ topicName }}","Primary caption displayed in pin feedback list to unfollow a topic","Primary caption displayed in pin feedback list to unfollow a topic"),{topicName:n}),l=Object(y.b)(d.a._("We'll show you fewer Pins from {{ formattedTopic }} in the future.","Confirmation text after unfollowing a topic","Confirmation text after unfollowing a topic"),{formattedTopic:o});return{action:"unfollowTopic",actionOptions:{interest_id:t,interest_list:g.a},feedbackText:{title:"",subTitle:l},text:r,description:Object(y.b)(d.a._('Stop seeing Pins from the topic "{{ topicName }}"',"Secondary caption displayed in pin feedback list to unfollow a topic","Secondary caption displayed in pin feedback list to unfollow a topic"),{topicName:e.name}),elementType:976}}return null}),v(this,"unfollowUserOption",()=>{const{pinner:e}=this.props,{id:t,username:n,full_name:a}=e,i="/"+n,o=this.makeNavigateLink("pinnerUrl",i,a,!0);return{action:"unfollowPinner",actionOptions:{user_id:t},feedbackText:{title:"",subTitle:Object(y.b)(d.a._("Got it! You unfollowed {{ formattedUser }} and won't see Pins they save in the future.","Confirmation text after unfollowing a user","Confirmation text after unfollowing a user"),{formattedUser:o})},text:Object(y.b)(d.a._("Unfollow {{ fullName }}","Primary caption displayed in pin feedback list to unfollow a user","Primary caption displayed in pin feedback list to unfollow a user"),{fullName:a}),description:d.a._("Stop seeing all their Pins","Secondary caption displayed in pin feedback list to unfollow a user","Secondary caption displayed in pin feedback list to unfollow a user"),elementType:10640}}),v(this,"downloadPinOption",()=>({action:"downloadPin",text:d.a._("Download image","Button to download Pin image","Button to download Pin image"),elementType:10836})),v(this,"_pinFeedbackText",()=>{const{location:e,feedbackType:t,hideDownload:n,pinner:a}=this.props,i="followed"===this.props.feedbackType,o=e.pathname.includes("following"),r=(i||"topic"===t)&&!o,l=this.hidePinOption(r),s=this.reportPinOption(),c="promoted"!==t&&!n;switch(t){case"followed":const e=o,n=!e&&this.getRecommendationDescription(),i=a.explicitly_followed_by_me?this.unfollowUserOption():this.unfollowBoardOption();return{...n?{description:n}:{},options:[l,...r||e?[i]:[],..."promoted"!==t?[this.downloadPinOption()]:[],s]};case"promoted":const{ad_match_reason:u}=this.props,m=[l,{link:this.feedbackHelpers.getLearnMoreUrl(u),text:d.a._("Why am I seeing this ad?","Link to promoted pins explanation page","Link to promoted pins explanation page"),dataTestId:"why-am-i-seeing-this-ad"},s];return{description:this.getRecommendationDescription(),options:m};case"topic":const p=this.unfollowTopicOption(),h=[l,...r&&p?[p]:[],...c?[this.downloadPinOption()]:[],s];return{description:this.getRecommendationDescription(),options:h};case"pfy":case"pfyBoard":const g=[l,..."pfyBoard"===t?[this.stopRecommendationOption()]:[],...c?[this.downloadPinOption()]:[],s];return{description:this.getRecommendationDescription(),options:g};default:const f=[l,...c?[this.downloadPinOption()]:[],s];return{description:this.getRecommendationDescription(),options:f}}}),v(this,"handleSecondaryFeedbackItemClick",(e,t)=>{const{feedbackData:n,feedbackType:a,pinId:i,onHide:o,recommendationReason:r}=this.props,l=r&&r.reason&&f.ReasonToChoose[r.reason],s=r&&this.getThroughId(),{action:c,actionOptions:d}=this.feedbackHelpers.getHidePinAction({feedbackData:n,feedbackType:a,pinId:i,recommendationReasonId:l,throughId:s,complaintReason:e});this.handleClickLogging(t),Object(w.a)(c,d),o()}),v(this,"pinHiddenFeedbackText",e=>{const t=e?null:this.getUnfollowAction();return t?{title:"",subTitle:this.getRecommendationDescription(),unfollow:t}:{title:"",subTitle:d.a._("Got it! We won't show you this Pin in the future.","message displayed after hiding a pin","message displayed after hiding a pin")}}),v(this,"renderSecondaryFeedbackItem",({text:e,reason:t,elementType:n})=>i.a.createElement(E.U,{fullWidth:!1,key:e,onTap:()=>this.handleSecondaryFeedbackItemClick(t,n)},i.a.createElement(s.a,{compact:!0,text:e}))),v(this,"renderSecondaryFeedback",()=>{const{feedbackType:e}=this.props,t="promoted"===e?[{text:d.a._("Not relevant to me","Feedback option for Pin","Feedback option for Pin"),reason:10,elementType:1296},{text:d.a._("Seen Pin too many times","",""),reason:3,elementType:11172},{text:d.a._("Blurry or pixelated image","low quality picture","low quality picture"),reason:13,elementType:10898}]:[{text:d.a._("Not relevant to me","Feedback option for Pin","Feedback option for Pin"),reason:10,elementType:1296},{text:d.a._("Not in a language I understand","",""),reason:15,elementType:11178},{text:d.a._("Seen Pin too many times","",""),reason:3,elementType:295},{text:d.a._("Blurry or pixelated image","low quality picture","low quality picture"),reason:13,elementType:10898},{text:d.a._("Other","",""),reason:8,elementType:11179}];return i.a.createElement(E.e,{overflow:"hidden",rounding:2,width:"100%"},i.a.createElement(E.e,{paddingX:4,paddingY:4},i.a.createElement(E.V,{color:"darkGray",size:"md"},d.a._("Got a moment? Tell us why.","Title of follow up question after negative Pin feedback","Title of follow up question after negative Pin feedback"))),i.a.createElement(E.o,null),i.a.createElement(E.e,{paddingY:2},t.map(this.renderSecondaryFeedbackItem)))});const t=this._pinFeedbackText();this.state={pinFeedbackConfig:t,showSecondary:!1}}onPinFeedbackActionButtonClick(e,t,n){e.stopPropagation(),t.auxData?this.handleClickLogging(t.elementType,t.auxData):this.handleClickLogging(t.elementType),Object(w.a)(t.action,t.actionOptions,n)}onPinHide(e,t,n,a){const{dispatch:i,onHide:o,pinId:r}=this.props;i(t&&n&&a?Object(_.e)(r,e,this.generateUndoHideCallback(n,a),this.getUndoText(a)):Object(_.a)(r,e)),!n||n.promoted||10!==n.feedback_type&&4!==n.feedback_type?o():(this.setState({showSecondary:!0}),i(Object(_.d)(r)))}getThroughId(){const{recommendationReason:e}=this.props;return e.reason_id?e.reason_id:e.board?e.board.id:e.pin?e.pin.id:e.interest?e.interest.id:""}getComponentType(){const{feedbackType:e}=this.props;switch(e){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}}makeStrongText(e,t){return i.a.createElement("strong",{key:e},t)}handleClickLogging(e,t={}){const{viewParameter:n,viewType:a}=this.props;Object(b.a)(101,{...t,view:a,viewParameter:n,element:e,component:this.getComponentType()})}renderButtons(){const{hideDownload:e,onDownloadHideFlyout:t,pinId:n,viewType:a,viewParameter:o}=this.props,{pinFeedbackConfig:r}=this.state,{options:c}=r,h=[],g=c.length;for(let f=0;f<g;f+=1){const r=c[f],g=w.b.includes(r.action),b=r.callback?r.callback:()=>this.onPinHide(r.feedbackText,g,r.actionOptions,r.action);if("downloadPin"!==r.action)h.push(i.a.createElement(E.e,{key:f},r.link?i.a.createElement(p.a,{id:r.dataTestId||""},i.a.createElement(u.a,{external:!0,to:r.link},i.a.createElement(s.a,{compact:!0,text:r.text}))):i.a.createElement(E.U,{fullWidth:!1,onTap:({event:e})=>this.onPinFeedbackActionButtonClick(e,r,b)},i.a.createElement(s.a,{compact:!0,text:r.text}))));else if(!e&&"undefined"!=typeof window&&"windows"!==Object(m.b)(window)){const{bestPinImgSrc:e,pinTitle:r,pinDescription:c,pinCategory:u}=this.props;h.push(i.a.createElement(E.e,{key:f},i.a.createElement(l.a,{category:u,filename:r||c,imageDownloadSuccessCallback:()=>{t&&t()},imgSrc:e,pinId:n,viewParameter:o,viewType:a},e=>i.a.createElement(E.U,{fullWidth:!1,onTap:e},i.a.createElement(s.a,{compact:!0,text:d.a._("Download image","Button to download Pin image","Button to download Pin image")})))))}}return h}render(){const{pinFeedbackConfig:e,showSecondary:t}=this.state,{description:n}=e,a=this.getRecommendationDescriptionImage();return i.a.createElement(E.e,{overflow:"hidden",width:"100%"},t?this.renderSecondaryFeedback():i.a.createElement(E.e,null,n&&i.a.createElement(E.e,null,i.a.createElement(E.e,{alignItems:"center",display:"flex",padding:4},i.a.createElement(E.e,{maxHeight:56,overflow:"hidden"},i.a.createElement(E.V,{color:"darkGray",overflow:"normal",size:"md"},n)),a),i.a.createElement(E.o,null)),i.a.createElement(E.e,{marginBottom:3,marginTop:2},this.renderButtons())))}}t.a=Object(h.compose)(Object(o.connect)(),T.k)(S)},"8A+h":function(e,t,n){function a(e,t){const n=t&&t.owner&&t.owner.id;return e.isAuth&&n===e.id}n.d(t,"a",(function(){return a}))},"9WJf":function(e,t,n){n.d(t,"a",(function(){return r}));var a=n("8A+h"),i=n("E58E"),o=n("zpPL");function r({action:e,board:t}){var n;const r=o.a.instance&&o.a.instance.getState()||{viewer:{}},{viewer:l}=r;return Object(a.a)(l,t)||Object(i.a)({board:t,viewer:l})&&!!(null===(n=t.collaborator_permissions)||void 0===n?void 0:n.includes(e))}},DJoW:function(e,t,n){function a(e,t,n,a){return{type:"PIN_SHOW_UNDO_AND_FEEDBACK",payload:{id:e,value:!0,text:t,undoAction:n,undoText:a}}}function i(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1}}}function o(e,t){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:t}}}function r(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0}}}function l(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1}}}n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return l}))},"E/VT":function(e,t,n){n.d(t,"a",(function(){return c}));var a=n("q1tI"),i=n.n(a),o=n("28DW"),r=n("n6mq"),l=n("U4JR");function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends i.a.Component{constructor(...e){super(...e),s(this,"state",{href:void 0}),s(this,"onEvent",()=>{if("undefined"==typeof window)return;const{category:e,imageDownloadSuccessCallback:t,imgSrc:n,isUnauth:a,pinId:i,viewParameter:r,viewType:s}=this.props,{href:c}=this.state;null==c&&n&&fetch(n,{headers:new Headers({Origin:window.location.origin}),mode:"cors"}).then(e=>e.blob()).then(e=>{this.setState({href:window.URL.createObjectURL(e)},()=>{this.imageDownload&&this.imageDownload.click()})}).then(()=>t&&t()).catch(()=>this.setState({href:this.DOWNLOAD_ERROR})),Object(o.a)(`web.${a?"unauth":"auth"}.download.click.${e||"no_category"}`),Object(l.a)(82,{objectId:i,view:s||3,viewParameter:r||139})}),s(this,"DOWNLOAD_ERROR","error")}render(){const{children:e}=this.props,{filename:t}=this.props,{href:n}=this.state,a=null!=n&&n!==this.DOWNLOAD_ERROR;return i.a.createElement(i.a.Fragment,null,e(this.onEvent),a&&i.a.createElement(r.e,{display:"none"},i.a.createElement("a",{ref:e=>this.imageDownload=e,tabIndex:-1,download:t&&t.replace(".","_"),href:n})))}}},E58E:function(e,t,n){function a({board:e,viewer:t}){const{collaborated_by_me:n}=e;return t.isAuth&&n}n.d(t,"a",(function(){return a}))},ENn1:function(e,t,n){var a=n("zpPL"),i=n("xjqW"),o=n("Y8Sn");t.a=({pin:e,viewParameter:t,viewType:n})=>{const{id:r,videos:l}=e,s=Object(o.e)(e),c=Object(o.f)(e);let d;if(Object(o.i)(l)&&l){const{video_list:e}=l,t=e[Object.keys(e)[0]];d=t&&t.duration}return()=>{a.a.instance.dispatch(Object(i.b)({id:r,isProduct:s,isPromoted:c,videoDuration:d,viewParameter:t,viewType:n,type:"pin"}))}}},EPem:function(e,t,n){n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return h}));var a=n("q1tI"),i=n.n(a),o=n("JW66"),r=n("BcL7"),l=n("ynlw"),s=n("Ye/N"),c=n("vvax"),d=n("VpfY"),u=n("n6mq");function m(e,t){var n,a;if(!t.isAuth)return!1;const i=Object(d.b)(e)||Object(d.d)(e),s=(null===(n=e.board)||void 0===n?void 0:n.privacy)===o.a.BoardPrivacy.PUBLIC&&!e.is_repin&&(null===(a=e.pinner)||void 0===a?void 0:a.id)===t.id,{isStoryPin:c}=Object(l.a)(e);return i||t.isPartner&&s||["employees","enabled"].includes(r.a.getInstance().v2ActivateExperiment("web_ps4p"))&&c&&s}function p(e,t){return e?[{align:"start",displayText:s.a._("Video views","pinRep.pinStats.videoViews","Label for views of a video pin on pinrep"),field:"video_views",iconType:"play"},{align:"center",displayText:s.a._("Avg. time","pinRep.pinStats.videoAverageTime","Label for average time of a video pin on pinrep"),field:"video_average_time",iconType:"clock",valueFormat:"TIME"},{align:"end",displayText:s.a._("Saves","pinRep.pinStats.save","Label for saves of a video pin on pinrep"),field:"save",iconType:"angled-pin"}]:t?[{align:"start",displayText:s.a._("Impressions","pinRep.pinStats.impression","Label for impressions of a pin on pinrep"),field:"impression",iconType:"eye"},{align:"center",displayText:s.a._("Closeups","pinRep.pinStats.closeups","Label for closeups of a pin on pinrep"),field:"closeup",iconSize:10,iconType:"hand-pointing"},{align:"end",displayText:s.a._("Saves","pinRep.pinStats.save","Label for saves of a pin on pinrep"),field:"save",iconType:"angled-pin"}]:[{align:"start",displayText:s.a._("Impressions","pinRep.pinStats.impression","Label for impressions of a pin on pinrep"),field:"impression",iconType:"eye"},{align:"center",displayText:s.a._("Saves","pinRep.pinStats.save","Label for saves of a pin on pinrep"),field:"save",iconType:"angled-pin"},{align:"end",displayText:s.a._("Link clicks","pinRep.pinStats.clickthrough","Label for click-throughs of a pin on pinrep"),field:"clickthrough",iconSize:10,iconType:"arrow-up-right"}]}function h(e,t){const{isStoryPin:n,isVideo:a}=Object(l.a)(e),o=Object(d.b)(e),r=Object(d.d)(e)&&(n||!o)?e.creator_analytics:e.aggregated_pin_data.creator_analytics,m=new Date(e.created_at),p=(new Date).getTime()-m.getTime(),h=Math.floor(p/36e5),g=r?r["24h_realtime"].is_realtime:null,f=r?r["24h_realtime"].timestamp:null;let b=null;r&&(b=n||a?r.all_time_realtime.timestamp:r["30d_realtime"].timestamp);const _=b!==f,y=e=>Object(c.b)(s.a._("Updated {{ lastUpdated }}","closeup.partnerModule.lastUpdated","Indicates to the user when the stats were last updated"),{lastUpdated:e}).join(""),E={timeframe:"",lastUpdated:""};if(r)if(g){const e=r["24h_realtime"].impression>=(n||a?r.all_time_realtime.impression:r["30d_realtime"].impression);E.timeframe=e?s.a._("Last 24 hours","closeup.partnerModule.lastUpdatedRealtime","Stats from the stated duration"):n||a?s.a._("Lifetime of pin","closeup.partnerModule.lastUpdatedAllTime","Stats from stated duration"):s.a._("Last 30 days","closeup.partnerModule.lastUpdated30Days","Stats from stated duration"),E.lastUpdated=s.a._("Real-time estimates","closeup.partnerModule.lastUpdatedRealtime","Indicates to user that the stats are being updated in real-time")}else if(_||h>48)if(n||a){const e=s.a.getHumanizedTimesince(r.all_time_realtime.timestamp);E.timeframe=s.a._("Lifetime of pin","closeup.partnerModule.lastUpdatedAllTime","Stats from stated duration"),E.lastUpdated=y(e)}else{const e=s.a.getHumanizedTimesince(r["30d_realtime"].timestamp);E.timeframe=s.a._("Last 30 days","closeup.partnerModule.lastUpdated30Days","Stats from stated duration"),E.lastUpdated=y(e)}else{const e=s.a.getHumanizedTimesince(r["24h_realtime"].timestamp);E.timeframe=s.a._("Last 24 hours","closeup.partnerModule.lastUpdatedHoursAgo","Stats from the stated duration"),E.lastUpdated=y(e)}else E.lastUpdated=s.a._("Stats are currently unavailable","closeup.partnerModule.statsUnavailable","Stats status for the pin");return i.a.createElement(u.e,{alignItems:n||"lg"!==t?"center":void 0,display:n||"lg"!==t?"flex":void 0},i.a.createElement(u.V,{align:"right",color:"gray",size:"sm"},E.lastUpdated),(n||["md","sm"].includes(t))&&!!r&&i.a.createElement(u.V,{color:"gray",inline:!0,size:"sm"}," ・"),i.a.createElement(u.V,{align:"right",color:"gray",size:"sm"},E.timeframe))}},ExRq:function(e,t,n){n.d(t,"a",(function(){return c}));var a=n("uVIr"),i=n("eOdZ"),o=n("qUSw"),r=n("i9se");const l={[r.a.BOARD_ACTIVITY]:"BoardActivityCommentResource",[r.a.BOARD_ACTIVITY_COMMENT]:"BoardActivityNestedCommentResource"},s={[r.a.BOARD]:"boardId",[r.a.BOARD_ACTIVITY]:"activityId",[r.a.BOARD_ACTIVITY_COMMENT]:"activityId"};function c({contentMarkdown:e,imageSignatures:t,objectIds:n,parentId:c,parentType:d,text:u,tags:m,replyToCommentId:p}){return h=>{const g=l[d],f={[s[d]]:c,contentMarkdown:e,imageSignatures:t,objectIds:n,tags:m,text:u,replyToCommentId:p},b=r.b[d],_=d!==r.a.BOARD_ACTIVITY_COMMENT;return i.a.create(g,f).callCreate({showError:!0}).then(e=>{const t=e.resource_response.data;return h(function(e,t){return{type:"ACTIVITY_ITEM_CREATED",payload:{parentId:e,activityItem:t}}}(c,t)),h(Object(a.a)({feedId:c,feedType:b,itemIds:[t.id],itemType:t.type,prepend:_})),h(Object(o.b)(c)),e})}}},Gx6I:function(e,t,n){n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c}));var a=n("eOdZ"),i=n("i9se");const o={[i.a.BOARD_ACTIVITY]:"BoardActivityReactionResource",[i.a.BOARD_ACTIVITY_COMMENT]:"BoardActivityCommentReactionResource"};function r(e,t,n=1){return{type:"ACTIVITY_ITEM_UPDATE_REACTION_COUNT",payload:{id:e,increment:t,reactionType:n}}}function l(e,t,n){return o=>{const r=i.c[t],l={activityId:e,...n};return a.a.create(r,l).callUpdate().then(e=>{const t=e.resource_response.data;return o({type:"ACTIVITY_ITEM_UPDATED",payload:{data:t}}),t})}}function s(e,t,n,i){return l=>{if(n===i)return;const s=o[t],c={activityId:e,reactionType:i},d=a.a.create(s,c);0===i?d.callDelete({showError:!1}):d.callUpdate({showError:!1}),0!==n&&l(r(e,!1,n)),0!==i&&l(r(e,!0,i))}}function c(e,t,n,i,l=0){return async s=>{const c=o[n];if(!i&&l>0){s(r(e,!1,l)),s(r(e,!0,t));const n={activityId:e,reactionType:l},i=a.a.create(c,n),o={activityId:e,reactionType:t},d=a.a.create(c,o);await i.callDelete({showError:!1}),d.callCreate({showError:!1})}else{const n={activityId:e,reactionType:t},o=a.a.create(c,n);i?o.callDelete({showError:!1}):o.callCreate({showError:!1}),s(r(e,!i,t))}}}},"HOY+":function(e,t,n){var a=n("q1tI"),i=n.n(a),o=n("/MKj"),r=n("s+7V"),l=n("Ye/N"),s=n("qhFy"),c=n("n6mq");const d={__path:"M12 18.5A6.508 6.508 0 0 1 5.5 12c0-1.706.689-3.307 1.835-4.5H6.5a1 1 0 1 1 0-2h4.185v4.474a1 1 0 0 1-2 0V8.972A4.505 4.505 0 0 0 7.5 12c0 2.481 2.019 4.5 4.5 4.5s4.5-2.019 4.5-4.5a4.49 4.49 0 0 0-3.112-4.283 1 1 0 1 1 .615-1.902A6.482 6.482 0 0 1 18.5 12c0 3.584-2.916 6.5-6.5 6.5M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0"},u={__path:"M17.496 14.572a1 1 0 0 1-1 1h-.001a1.001 1.001 0 0 1-.999-1.001l.002-4.652-7.29 7.288a.995.995 0 0 1-.707.293.999.999 0 0 1-.707-1.707l7.293-7.29L9.428 8.5a1 1 0 0 1 .001-2h.001l8.071.005-.005 8.067zM12 0C5.373 0 0 5.373 0 12c0 6.628 5.373 12 12 12 6.628 0 12-5.372 12-12 0-6.627-5.372-12-12-12z"},m={overlay:{__style:{backgroundColor:"#000"}}};function p({backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:a,pinTitle:o,pin:r}){const{id:s}=r;return i.a.createElement(c.v,{alt:o||l.a._("pin image","image of a pin","image of a pin"),naturalHeight:t,naturalWidth:n,src:e},i.a.createElement(c.e,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.8,dangerouslySetInlineStyle:m.overlay}),i.a.createElement(c.e,{justifyContent:"center",direction:"column",display:"flex",position:"absolute",height:"100%",width:"100%","data-test-id":"video-end-card-"+s},i.a.createElement(c.U,{rounding:2},i.a.createElement(c.e,{display:"flex",justifyContent:"center",padding:2},i.a.createElement(c.t,{accessibilityLabel:l.a._("Visit site","Button when pressed goes to pin's website","Button when pressed goes to pin's website"),color:"white",dangerouslySetSvgPath:u,size:25}),i.a.createElement(c.e,{margin:1}),i.a.createElement(c.V,{color:"white",truncate:!0,weight:"bold"},l.a._("Visit site","Button when pressed goes to pin's website","Button when pressed goes to pin's website")))),i.a.createElement(c.e,{margin:3}),i.a.createElement(c.U,{onTap:a,rounding:2},i.a.createElement(c.e,{display:"flex",justifyContent:"center",padding:2},i.a.createElement(c.t,{accessibilityLabel:l.a._("Watch again","Button when pressed restarts the video","Button when pressed restarts the video"),color:"white",dangerouslySetSvgPath:d,size:25}),i.a.createElement(c.e,{margin:1}),i.a.createElement(c.V,{color:"white",truncate:!0,weight:"bold"},l.a._("Watch again","Button when pressed restarts the video","Button when pressed restarts the video"))))))}var h=n("51gp"),g=n("Y8Sn"),f=n("vZlu");const b=new Set(["ConversationView","TodayTabFeed"]);var _=Object(o.connect)(void 0,e=>({setCurrentVideo:t=>e(Object(f.c)(t))}))((function({inAdsDesktopVideoExperiment:e,isAutoplay:t,cropHeight:n,currentTime:o,lowResOnly:r,highResOnly:d,onLoad:u,onError:m,saved:f,onTimeChange:_,isExperimentalPinRep:y,pin:E,surface:w,playing:T,rootMargin:v,setCurrentVideo:O,viewType:S,viewParameter:I}){const[P,C]=Object(a.useState)(0),[x,R]=Object(a.useState)(!1),[k,N]=Object(a.useState)(!0),D=Object(g.f)(E),A=D&&!E.is_eligible_for_web_closeup,j=y&&D&&E.is_eligible_for_web_closeup&&!b.has(w),B=A||!y||!D;let L=!T;e&&(L=k,t&&T&&k&&N(!1));const{url:M}=E.images["236x"]||{},{id:V,is_promoted:U}=E,H=Object(a.useCallback)(({event:e})=>{e.preventDefault(),e.stopPropagation(),C(0),O({pinId:V,isPromoted:U,currentTime:0}),R(!1)},[U,V,O,P]),G=Object(a.useCallback)(()=>{U&&R(j),C(e=>e+1)},[j,P]);if(!E.videos||!E.videos.video_list.V_HLSV4)return null;const{height:F,thumbnail:z,width:q,url:W}=E.videos.video_list.V_HLSV4||{},Y=E.videos.id,X=[{type:"video/m3u8",src:W}];return x&&D?i.a.createElement(c.e,null,i.a.createElement(p,{backgroundImage:M,naturalHeight:F,naturalWidth:q,pin:E,onRestartVideo:H})):L?i.a.createElement(c.e,null,i.a.createElement(s.b,{lowResOnly:r,highResOnly:d,onLoad:u,onError:m,pin:E,saved:f})):i.a.createElement(c.e,null,i.a.createElement(h.a,{cropHeight:n,rootMargin:v,inAdsDesktopVideoExperiment:e,contextLogData:{viewParameter:I,component:0,objectId:E.id,video_id:Y,view:S},accessibilityMaximizeLabel:l.a._("Maximize","Maximize button on video","Maximize button on video"),accessibilityMinimizeLabel:l.a._("Minimize","Minimize button on video","Minimize button on video"),accessibilityMuteLabel:l.a._("Mute","Mute button on video","Mute button on video"),accessibilityPauseLabel:l.a._("Pause","Pause button on video","Pause button on video"),accessibilityPlayLabel:l.a._("Play","Play button on video","Play button on video"),accessibilityUnmuteLabel:l.a._("Unmute","Unmute button on video","Unmute button on video"),aspectRatio:q/F,captions:"",hlsConfig:{capLevelToPlayerSize:!0,startPosition:o||-1},loop:B,onTimeChange:_,playing:T,poster:M||z,src:X,videoStartTime:o,volume:0,onEnded:G}))}));function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const E=Object(r.a)(_);class w extends i.a.Component{constructor(...e){super(...e),y(this,"calculateCurrentVideoTime",()=>{const{currentTimeFromPinRep:e,pin:t,videosAutoplaying:n}=this.props,{id:a}=t,i=Object(g.b)(a,n);return this.currentVideoCurrentTime||i||e}),y(this,"handleVisibilityChanged",e=>{const{currentTimeFromPinRep:t,pin:n,setCurrentVideo:a,pauseAutoplay:i,videosAutoplaying:o}=this.props,{id:r,is_promoted:l}=n,s=Object(g.j)(r,o),c=Object(g.a)(r,o);e?(l||c)&&a({pinId:r,isPromoted:l,currentTime:this.calculateCurrentVideoTime()}):!e&&s&&i({pinId:r,isPromoted:l,currentTime:t||this.currentVideoCurrentTime})}),y(this,"handleVideoTimeChange",e=>{const{pin:t,onTimeChange:n,videosAutoplaying:a}=this.props,{id:i}=t;Object(g.j)(i,a)&&(this.currentVideoCurrentTime=e.time),n&&n(e)})}componentDidMount(){this.props.onLoad&&this.props.onLoad()}componentDidUpdate(e){const{appInFocus:t}=e,{appInFocus:n,currentTimeFromPinRep:a,pauseAutoplay:i,pin:o,setCurrentVideo:r,videosAutoplaying:l}=this.props,{id:s,is_promoted:c}=o,d=Object(g.j)(s,l);n!==t&&!n&&d?(this.pausedDueToBrowserOutOfFocus=!0,i({pinId:s,isPromoted:c,currentTime:a||this.currentVideoCurrentTime})):this.pausedDueToBrowserOutOfFocus&&n&&(this.pausedDueToBrowserOutOfFocus=!1,r({pinId:s,isPromoted:c,currentTime:this.calculateCurrentVideoTime()}))}componentWillUnmount(){const{currentTimeFromPinRep:e,pauseAutoplay:t,pin:n,videosAutoplaying:a}=this.props,{id:i,is_promoted:o}=n;Object(g.j)(i,a)&&t({pinId:i,isPromoted:o,currentTime:e||this.currentVideoCurrentTime})}render(){const{cropHeight:e,isAutoplay:t,pin:n,surface:a,videosAutoplaying:o,viewParameter:r,viewType:l,highResOnly:s,lowResOnly:c,onError:d,onLoad:u,saved:m,inAdsDesktopVideoExperiment:p,isExperimentalPinRep:h,rootMargin:f}=this.props,{id:b}=n,_=Object(g.b)(b,o),y=Object(g.j)(b,o)&&t;return i.a.createElement(E,{cropHeight:e,rootMargin:f,currentTime:_,inAdsDesktopVideoExperiment:p,isAutoplay:t,viewParameter:r,viewType:l,onTimeChange:this.handleVideoTimeChange,onVisibilityChanged:this.handleVisibilityChanged,pin:n,surface:a,playing:y,trackFullVisible:!1,highResOnly:s,lowResOnly:c,onError:d,onLoad:u,saved:m,isExperimentalPinRep:h})}}t.a=Object(o.connect)((e,t)=>({appInFocus:e.ui.app.appInFocus,isAutoplay:e.ui.app.isAutoplay,videosAutoplaying:e.ui.app?e.ui.app.videosAutoplaying:{organicVideosAutoplaying:{},promotedVideosAutoplaying:{}}}),(e,t)=>({pauseAutoplay:t=>e(Object(f.a)(t)),setCurrentVideo:t=>e(Object(f.c)(t))}))(w)},N89m:function(e,t,n){n.d(t,"a",(function(){return o}));var a=n("ynlw"),i=n("0nTG");function o(e){const{isProduct:t}=Object(a.a)(e);return t&&Object(i.c)(e)||""}},RwJG:function(e,t,n){t.a={debugPinImpressions:999,max:9999,pinActionWrapper:101,saved:102,storyPinImage:-1}},T5j3:function(e,t,n){function a(e){const t=Object.keys(e);if(t.length>0){return t.sort((t,n)=>e[n]-e[t]).slice(0,3)}return null}function i(e){const t=Object.values(e);if(t.length>0){return t.reduce((e,t)=>e+t,0)}return 0}function o(e){const{videos:t,is_downstream_promotion:n,is_promoted:a,story_pin_data_id:i,board:o}=e;return!(a||n||(!t||!t.id)&&!i||(null==o?void 0:o.is_collaborative)&&o.collaborated_by_me)}n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o}))},TOi3:function(e,t,n){n.d(t,"a",(function(){return c}));var a=n("q1tI"),i=n.n(a),o=n("Ye/N"),r=n("US8k"),l=n("oRao"),s=n("n6mq");function c({value:e,valueFormat:t}){return e||0===e?"TIME"===t?Object(r.a)(e):i.a.createElement(l.a,{shortform:!0,shortformMaximumFractionDigits:1,value:e}):i.a.createElement(s.Z,{idealDirection:"up",text:o.a._("This stat is not available yet","closeup.partnerAnalytics.unavailableStat","when data for this field has not populated yet")},"—")}},Te6n:function(e,t,n){n.r(t),n.d(t,"OverflowMenu",(function(){return b}));var a=n("q1tI"),i=n.n(a),o=n("/MKj"),r=n("ENn1"),l=n("jCsw"),s=n("Ye/N"),c=n("5871"),d=n("Zxas"),u=n("kVqD"),m=n("YxyV"),p=n("DJoW"),h=n("Y8Sn"),g=n("gD/Z"),f=n("n6mq");function b({feedbackData:e,feedbackType:t,hidePinFeedbackOverlay:n,isHomefeedContextualMenuTooltipExperience:o,pin:p,pinTitle:b,setForcePrimary:_,transparentBackground:y}){const{viewParameter:E,viewType:w}=Object(g.b)(),[T,v]=Object(a.useState)(!1),[O,S]=Object(a.useState)(),{ad_match_reason:I,board:P,category:C,description:x,id:R="",images:k,is_promoted:N,pinner:D,promoter:A,recommendation_reason:j,source_interest:B,videos:L}=p;var M;const V=(M=N?60:50,function(e){return Object(d.a)((e||"").trim(),M)})(x),U=Object(l.a)(k,"236x"),H=Object(h.i)(L),G=Object(u.a)(101,{component:0,element:981,feedback_type:t,objectId:R}),F=()=>{_(!1),n(),v(!1)};return i.a.createElement(a.Fragment,null,i.a.createElement(f.e,{"data-test-id":"feedback-button",ref:S},i.a.createElement(f.u,{accessibilityLabel:s.a._("More information","accessibility label for overflow menu button","accessibility label for overflow menu button"),bgColor:y?"transparent":"white",icon:"ellipsis",iconColor:"darkGray",onClick:({event:e})=>{T?F():(_(!0),v(!0)),G()},size:"sm"})),T&&i.a.createElement(f.x,null,i.a.createElement(f.q,{anchor:O,idealDirection:"right",onDismiss:F,positionRelativeToAnchor:!1,size:"md"},i.a.createElement(c.a,{ad_match_reason:I,bestPinImgSrc:Object(m.d)(p),board:P,feedbackData:e,feedbackType:t,hideDownload:H,onLinkClick:()=>{T&&F()},onHide:F,onDownloadHideFlyout:()=>{_(!1),v(!1)},pinCategory:C,pinDescription:V,pinId:R,pinImgSrc:U,pinner:D,pinTitle:b,promoter:A,recommendationReason:j,reportPin:Object(r.a)({pin:p,viewParameter:E,viewType:w}),sourceInterest:B,viewParameter:E,viewType:w}))))}t.default=Object(o.connect)((function({experiences:e}){return{isHomefeedContextualMenuTooltipExperience:e&&e.eligibleExperiences&&e.eligibleExperiences[1000116]&&501093===e.eligibleExperiences[1000116].experience_id}}),(function(e,{pin:t}){return{hidePinFeedbackOverlay:()=>{e(Object(p.c)(t.id))}}}))(b)},U5D8:function(e,t){e.exports="https://s.pinimg.com/webapp/style/images/wow-3cb697ef.svg"},VJm5:function(e,t,n){var a=n("q1tI"),i=n.n(a),o=n("/MKj"),r=n("ZbwW"),l=n("Ye/N"),s=n("gYog"),c=n("qhFy"),d=n("n6mq"),u=n("yjg8");function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends a.Component{constructor(...e){super(...e),m(this,"state",{showBadge:!0}),m(this,"renderBadge",()=>{const{carouselData:e,isCloseup:t,showCarouselBadge:n}=this.props;if(!e)return null;const{showBadge:a}=this.state,{carousel_slots:o,index:r}=e,l=a?.8:0;return!t&&n?i.a.createElement(d.e,{display:"flex",justifyContent:"center",alignItems:"center",color:"darkGray",position:"absolute",right:!0,height:35,width:35,marginEnd:5,marginTop:5,rounding:2,dangerouslySetInlineStyle:{__style:{zIndex:1,opacity:l,transition:"opacity .3s"}}},i.a.createElement(d.V,{color:"white"},`${r+1}/${o.length}`)):null})}componentDidMount(){this.hideBadgeTimeout=setTimeout(()=>this.setState({showBadge:!1}),3e3)}componentDidUpdate(e){const{showBadge:t}=this.state,{carouselData:n}=e,{carouselData:a}=this.props;if(!n||!a)return;const{index:i}=n,{index:o}=a;t&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.hideBadgeTimeout=setTimeout(()=>this.setState({showBadge:!1}),3e3)),i!==o&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.setState({showBadge:!0}))}componentWillUnmount(){this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout)}render(){const{isCloseup:e,carouselIndex:t,closeupHeight:n,closeupWidth:a=0,cropHeight:o,cropWidth:r,carouselData:m,highResOnly:p,lowResOnly:h,onError:g,onLoad:f,pinId:b,isEditMode:_,isDenseView:y}=this.props;if(!m)return null;const{carousel_slots:E=[],index:w}=m,T=void 0!==t?t:w,v=!e&&r,{images:O}=E[T];let S;S=e?a:v||(p?474:y?u.f:u.e);const I=O["236x"]||{},P=I.height||0,C=I.width||236,x=n||P/C*S;return i.a.createElement(d.e,{height:x,display:"flex",alignItems:"center",overflow:"hidden","data-test-id":"carousel-pin",minHeight:c.a},!_&&this.renderBadge(),i.a.createElement(s.a,{trackCarousel:!0,key:"carousel-impression-key-"+T,impressionType:"Pin",loggingId:b,slotIndex:w,viewParameter:72,viewType:1},i.a.createElement(d.e,{position:"absolute",height:x,width:S,overflow:"hidden"})),i.a.createElement(d.e,{width:S*E.length,dangerouslySetInlineStyle:{__style:{left:T*S*-1+"px",transition:"left .3s"}},left:!0,height:"100%",display:"flex",direction:"row",position:"relative"},E.map((t,s)=>((e,t,n,a,o,r,s,c,u,m,p,h,g,f)=>{const{images:b,details:_=""}=e;let y,E=236,w=236,T="";c?(E=u||0,w=m||0,T=b&&(b["564x"]&&b["564x"].url||b["736x"]&&b["736x"].url||b["236x"]&&b["236x"].url)):a?(E=474,w=b&&Math.min(E/.8,E/(b["564x"].width/b["564x"].height)),T=b&&b["564x"].url):b&&b["736x"]?(w=b&&b["736x"]&&b["736x"].height,E=b&&b["736x"]&&b["736x"].width,T=b&&b["736x"]&&b["736x"].url):b&&b["236x"]&&(w=b&&b["236x"]&&b["236x"].height,E=b&&b["236x"]&&b["236x"].width,T=b&&b["236x"]&&b["236x"].url),g&&f&&(w=Math.min(g*f,w)),y=o?b["236x"].url+" 1x":a?b["564x"].url+" 1x":[b["474x"]&&b["474x"].url+" 2x",b["736x"]&&b["736x"].url+" 3x",b.orig&&b.orig.url+" 4x"].filter(Boolean).join(", ");const v=_||`${l.a._("carousel image","Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed","Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed")} ${n}`;return i.a.createElement(d.e,{key:`carousel-slot-${t}-${n}`,height:h?void 0:w,width:h?void 0:E},i.a.createElement(d.e,{height:h?p:void 0,width:h||void 0},i.a.createElement(d.v,{alt:v,fit:h?"cover":"none",naturalHeight:w,naturalWidth:E,onError:r,onLoad:s,src:T,srcSet:y})))})(t,b,s,p,h,g,f,e,a,n,o,r,x,S))))}}m(p,"defaultProps",{showCarouselBadge:!0});t.a=Object(o.connect)(({pins:e},{pinId:t})=>{const n=e[t];return{carouselData:Object(r.a)(n)}},()=>({}))(p)},VpfY:function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"c",(function(){return m})),n.d(t,"i",(function(){return p})),n.d(t,"g",(function(){return h}));var a=n("RHD0"),i=n("7jH2"),o=n("Y8Sn");function r(e){var t;return(null===(t=e.closeup_attribution)||void 0===t?void 0:t.id)||null}function l(e){var t,n;return!Object(o.i)(e.videos)&&!Object(o.h)(e)&&0!==Object.keys((null===(t=e.aggregated_pin_data)||void 0===t||null===(n=t.creator_analytics)||void 0===n?void 0:n["30d_realtime"])||{}).length}function s(e){var t;return 0!==Object.keys((null===(t=e.creator_analytics)||void 0===t?void 0:t["30d_realtime"])||{}).length}function c(e){var t,n;return!!(null===(t=e.creator_analytics)||void 0===t||null===(n=t["30d_realtime"])||void 0===n?void 0:n.is_realtime)}function d(e){const t=e.aggregated_pin_data||{};return t.is_shop_the_look||t.is_stela}function u(e){const{native_creator:t,pinner:n,domain:a}=e;return(e.link_user_website&&e.link_user_website.official_user||e.link_domain&&e.link_domain.official_user||!!e.third_party_pin_owner||!!n&&n.domain_verified&&n.domain_url===a)&&!e.is_promoted||t}function m(e,t){const{is_native:n,native_pin_stats:a}=e,o=a||{},r=Object(i.p)({pin:e}),{video:c}=Object(i.x)(r)||{};return u(e)||d(e)||n&&c&&e&&e.link||Object.keys(o).length>0&&!l(e)&&!s(e)||e.promoter&&e.is_promoted&&!t}function p(e){if(!e.story_pin_data_id)return;const{story_pin_data:{metadata:t,pages:n=[]}={}}=e;return{metadata:t,detailsPage:n[1]}}const h=({viewer:e,pin:t})=>Object(a.b)(e)&&t.is_quick_promotable_by_pinner},W5T3:function(e,t,n){n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var a=n("q1tI"),i=n.n(a),o=n("zwad"),r=n("n6mq");const l={impressed:{backgroundColor:"#adebad"}},s=()=>void 0!==o.a.getQueryStringParams().debug_impression_log;function c({debugImpressionState:e="paused",slotIndex:t}){return"paused"===e?null:i.a.createElement(r.e,{dangerouslySetInlineStyle:{__style:l.impressed},"data-test-id":"debug-pin-impressions",position:"absolute",top:!0,left:!0,right:!0,bottom:!0,opacity:.5},i.a.createElement(r.e,{position:"absolute",top:!0,left:!0,padding:2,color:"darkGray"},i.a.createElement(r.V,{color:"white"},i.a.createElement("span",{className:"deprecatedTextSizeXL"},t))))}},"X/CP":function(e,t){e.exports="https://s.pinimg.com/webapp/style/images/haha-e2800d2d.svg"},XPo3:function(e,t,n){n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"h",(function(){return r})),n.d(t,"i",(function(){return l})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return u}));const a=424,i=800,o=508,r=424,l=278,s=640,c=508,d=1016,u=508},XSD5:function(e,t,n){function a(e,t){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{pinId:e,index:t}}}n.d(t,"a",(function(){return a}))},YxyV:function(e,t,n){n.d(t,"g",(function(){return r})),n.d(t,"f",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"e",(function(){return h})),n.d(t,"d",(function(){return g})),n.d(t,"a",(function(){return f}));var a=n("yjg8"),i=n("9Hsp"),o=n("wzxk");const r=(e,t)=>{let n=e&&e.url?e.url.split("/")[1]:"";return t&&t.full_name&&(n=t.full_name),n},l=()=>({seeMoreButtonHeight:15,seeMoreButtonBottomMargin:3,productSiteTitle:15,productSiteTitleTopMargin:4,vaseCarouselHeight:30,descriptionLineHeight:17,descriptionVerticalMargin:10,maxNumTitleLines:2,maxNumDescriptionLines:2}),s=e=>"ja"===e?23:19,c=(e,t)=>{if(e){const n=((e,t)=>{let n=0;if(e){let a=27;"ja"===t&&(a=14);const i=l().maxNumTitleLines;n=Math.floor(e.length/a)+1,n>i&&(n=i)}return n})(e,t);return s(t)*n}return 0},d=e=>Object(o.c)(e),u=(e,t=!1)=>e&&e.length>0&&!t,m=(e,t,n,a)=>{let o=0;const{description:r,vaseAnnotations:s}=d(e),c=l();if(((e,t,n,a,i=!0)=>{if(!n)return null;if(i)return!u(t)&&t&&t.length>0;return!1})(0,s,e)&&(o+=c.seeMoreButtonHeight,o+=c.seeMoreButtonBottomMargin),(e=>!!(e.rich_metadata&&e.rich_metadata.products&&Array.isArray(e.rich_metadata.products)&&e.rich_metadata.products.length&&e.rich_metadata.site_name))(e)&&(o+=c.productSiteTitle,o+=c.productSiteTitleTopMargin),u(s,a)&&(o+=c.vaseCarouselHeight),!a){const e=(e=>{let t=0;if(e){e=Object(i.a)(e);const n=35,a=l().maxNumDescriptionLines;t=Math.floor(e.length/n)+1,t>a&&(t=a)}return t})(r);o+=c.descriptionVerticalMargin+c.descriptionLineHeight*e}return e.pinner&&e.board&&(o+=28),o},p=(e,t,n,a=!1,i,r)=>{const l=(e=>{const{hasRichAttributionTitle:t,hasPlaceInfo:n}=(e=>{const t=e.rich_summary,n=t&&"mobile application"!==t.type_name;return{hasRichSummary:n,hasRichAttributionTitle:n&&t.display_name,hasPlaceInfo:!!e.place_summary}})(e);return!!(t||n||e.rich_metadata&&e.rich_metadata.title)})(e)?((e,t)=>{const n=Object(o.b)(e);return c(n,t)+10})(e,t):0,s=a?0:m(e,0,0,i);return l||s?s+l+10:0},h=(e,t="orig")=>{const n=["orig","736x","564x","474x","236x","170x"];let a=e.images[t];if(a)return a;{const i=n.indexOf(t);if(i>=0)for(let t=i+1;t<n.length;t+=1){const i=n[t];if(a=e.images[i],a)return a}}return e.images["236x"]};function g(e){const t=!!e.carousel_data,n=t&&0===e.carousel_data.index;let a=e.images;if(t){const{carousel_slots:t,index:n=0}=e.carousel_data;a=t&&t[n]&&t[n].images||a}if(e.embed&&"gif"===e.embed.type&&(!t||n))return e.embed.src;if(!!a){const e=a,t=Object.keys(e).map(t=>{const n=t.split("x")[0];return Number.isNaN(Number(n))?t:(e[n]=e[t],n)});t.sort();const n=t.pop();return e[n].url}return e.image_large_url||""}const f=(e,t)=>{if(!e||!e.images||!e.images["236x"])return 0;const n=e.images["236x"].height;let i=n<t?n:t,o=600;n>600&&!e.fullImage&&(o=500);const r=h(e,"orig");if(r){const e=Math.floor(r.height*a.e/r.width);i=e>o?o:e}return i}},b9Z9:function(e,t,n){var a=n("q1tI"),i=n.n(a),o=n("n6mq");function r({isHorizontalDesign:e}){return e?i.a.createElement(o.e,{height:"100%",width:"100%",display:"flex",direction:"row",position:"absolute",top:!0,left:!0},i.a.createElement(o.e,{opacity:.5,color:"midnight",height:"100%",width:"100%",flex:"grow"}),i.a.createElement(o.e,{color:"white",width:"2px",flex:"none"}),i.a.createElement(o.e,{opacity:.5,color:"olive",width:"100%",flex:"grow"}),i.a.createElement(o.e,{color:"white",width:"2px",flex:"none"}),i.a.createElement(o.e,{opacity:.5,color:"maroon",width:"100%",flex:"grow"})):i.a.createElement(o.e,{height:"100%",width:"100%",display:"flex",direction:"row",position:"absolute",top:!0,left:!0},i.a.createElement(o.e,{opacity:.5,color:"midnight",height:"100%",flex:"grow"}),i.a.createElement(o.e,{color:"white",width:"2px",flex:"none"}),i.a.createElement(o.e,{display:"flex",height:136,direction:"column",flex:"grow"},i.a.createElement(o.e,{opacity:.5,color:"olive",width:"100%",flex:"grow"}),i.a.createElement(o.e,{color:"white",height:"2px",flex:"none"}),i.a.createElement(o.e,{opacity:.5,color:"maroon",width:"100%",flex:"grow"})))}var l=n("Ye/N");function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c={__style:{background:"linear-gradient(0deg, rgba(0, 0, 0, 0.43) 0%, rgba(0,0,0,0) 60%)"}};class d extends a.PureComponent{constructor(...e){super(...e),s(this,"state",{isLoaded:[!1,!1,!1],isMounted:!1}),s(this,"getImageArray",()=>{const{userPins:e,showcase:t}=this.props;let n=[];return e&&0!==e.length?(t&&0!==t.length?t&&1===t.length?n=t.filter(e=>"board"===e.type)[0].images["550x"].map(e=>e.url):t&&(n=t.filter(e=>"board"===e.type).map(e=>e.image_cover_url)):n=e.map(e=>(e.images["136x136"]||e.images["236x"]||e.images["736x"]).url),n):n}),s(this,"getImage",(e,t)=>{const{isLoaded:n}=this.state,a={transition:"opacity 500ms",opacity:n[t]?1:0};return i.a.createElement(o.e,{dangerouslySetInlineStyle:{__style:a},color:"white",height:"100%",width:"100%"},!!e&&i.a.createElement(o.v,{naturalHeight:1,src:e,fit:"cover",alt:l.a._("user's pin","image of one of a user's pins","image of one of a user's pins"),naturalWidth:1,color:"lightGray",onLoad:()=>this.handleLoad(t)}))}),s(this,"handleLoad",e=>{const{isLoaded:t,isMounted:n}=this.state,a=[...t];a[e]=!0,n&&this.setState({isLoaded:a})})}componentDidMount(){this.setState({isMounted:!0}),this.getImageArray()}render(){const{isHorizontalDesign:e}=this.props,t=this.getImageArray();let n=null;return n=1===t.length?i.a.createElement(o.e,{height:"100%",display:"flex",direction:"row"},this.getImage(t[0],0)):2===t.length?i.a.createElement(o.e,{height:"100%",display:"flex",direction:"row"},this.getImage(t[0],0),i.a.createElement(o.e,{color:"white",width:"1px",flex:"none"}),this.getImage(t[1],1)):e?i.a.createElement(o.e,{height:"100%",width:"100%",display:"flex",direction:"row"},i.a.createElement(o.e,{height:"100%",width:"100%"},this.getImage(t[0],0)),i.a.createElement(o.e,{color:"white",width:"2px",flex:"none"}),i.a.createElement(o.e,{height:"100%",width:"100%"},this.getImage(t[1],1)),i.a.createElement(o.e,{color:"white",width:"2px",flex:"none"}),i.a.createElement(o.e,{height:"100%",width:"100%"},this.getImage(t[2],2))):i.a.createElement(o.e,{height:"100%",width:"100%",display:"flex",direction:"row"},i.a.createElement(o.e,{height:"100%",flex:"grow"},this.getImage(t[0],0)),i.a.createElement(o.e,{color:"white",width:"2px",flex:"none"}),i.a.createElement(o.e,{display:"flex",height:136,direction:"column",flex:"grow"},i.a.createElement(o.e,{width:"100%",flex:"grow"},this.getImage(t[1],1)),i.a.createElement(o.e,{color:"white",height:"2px",flex:"none"}),i.a.createElement(o.e,{width:"100%",flex:"grow"},this.getImage(t[2],2)))),i.a.createElement(o.e,{height:136,display:"flex",direction:"column"},i.a.createElement(o.e,{width:"100%",position:"relative",flex:"grow"},i.a.createElement(r,{isHorizontalDesign:e}),n,i.a.createElement(o.e,{dangerouslySetInlineStyle:c,height:"100%",width:"100%",position:"absolute",top:!0,left:!0})))}}var u=n("Cufx"),m=n("qD10"),p=n("U4JR");function h(e,t){Object(p.a)(101,{view:e,viewParameter:t,component:13406,element:11373})}var g=e=>{const{avatarUrl:t,isVerified:n,isHorizontalDesign:a,url:r,userFullName:l,viewParameter:s,viewType:c}=e,d=a?80:86;return i.a.createElement(o.e,{dangerouslySetInlineStyle:{__style:{border:"2px white solid",marginTop:a?-58:-64,marginLeft:a?-6:0,zIndex:1}},display:"flex",flex:"none",rounding:"circle"},i.a.createElement(o.e,{flex:"none",height:d,width:d},i.a.createElement(m.a,{onClick:h(c,s),to:r,stopPropagation:!0},i.a.createElement(u.a,{name:l,src:t,verified:n}))))},f=n("Zxas");function b({text:e,singleLineMaxCharacters:t,isBold:n,isHorizontalDesign:a,numLines:r}){const l=r*t,s=Object(f.a)(e,l);return n?i.a.createElement(o.V,{align:a?"left":"center",overflow:"normal",size:"md",weight:"bold"},s):i.a.createElement(o.V,{align:a?"left":"center",overflow:"normal",size:"md",weight:"normal",color:a?"darkGray":"gray"},s)}function _({description:e,domainUrl:t,isHorizontalDesign:n,userFullName:a}){const r=e||t,l={placeholder:{__style:{transition:"opacity 200ms",opacity:r?0:1}},subtitle:{__style:{transition:"opacity 200ms",opacity:r?1:0}}};return i.a.createElement(o.e,{position:"relative",width:"100%",marginTop:n?4:3,marginBottom:3,alignItems:n?"start":"center",display:"flex",direction:"column"},i.a.createElement(o.e,{height:18,width:"100%"},i.a.createElement(o.V,{align:n?"left":"center",truncate:!0,size:n?"lg":"md",weight:"bold"},a)),i.a.createElement(o.e,{marginTop:2,overflow:"hidden",position:"relative",width:"100%"},i.a.createElement(o.e,{alignItems:"center",dangerouslySetInlineStyle:l.placeholder,direction:"column",display:"flex",height:"100%",left:!0,position:"absolute",top:!0,width:"100%"},i.a.createElement(o.e,{color:"lightGray",rounding:"pill",width:180,flex:"grow"}),i.a.createElement(o.e,{height:6,flex:"none"}),i.a.createElement(o.e,{color:"lightGray",rounding:"pill",width:140,flex:"grow"})),n&&!!t&&i.a.createElement(o.e,{dangerouslySetInlineStyle:l.subtitle,width:"100%",height:"100%",marginTop:-1},i.a.createElement(b,{numLines:2,isBold:!0,isHorizontalDesign:n,singleLineMaxCharacters:36,text:t})),n&&!!e&&i.a.createElement(o.e,{dangerouslySetInlineStyle:l.subtitle,width:"100%",height:"100%",marginTop:2},i.a.createElement(b,{isHorizontalDesign:n,numLines:2,singleLineMaxCharacters:36,text:e})),!n&&!!r&&i.a.createElement(o.e,{dangerouslySetInlineStyle:l.subtitle,width:"100%",height:"100%"},i.a.createElement(b,{isHorizontalDesign:n,numLines:2,singleLineMaxCharacters:27,text:r}))))}var y=n("/MKj"),E=n("oRao"),w=n("vvax");function T({followText:e,followerCount:t,isHorizontalDesign:n,showFollowers:a,userFollowed:r}){return a?Object(w.b)(l.a._("{{ followCount }} {{ followText }}"),{followCount:i.a.createElement(o.e,{"data-test-id":"followCount",display:"inlineBlock",key:"followCount",marginEnd:1,opacity:r?void 0:.8},i.a.createElement(o.V,{color:r?"gray":"white",size:n?"sm":"md",align:"center",weight:"bold"},i.a.createElement(E.a,{value:t||0,shortform:!0,shortformMaximumFractionDigits:0}))),followText:i.a.createElement(o.e,{"data-test-id":"followText",display:"inlineBlock",key:"followText"},i.a.createElement(o.V,{weight:"bold",color:r?"darkGray":"white",size:n?"sm":"md",overflow:"normal",align:"center"},e))}):i.a.createElement(o.e,{"data-test-id":"followText",key:"followText"},i.a.createElement(o.V,{weight:"bold",color:r?"darkGray":"white",size:n?"sm":"md",overflow:"normal",align:"center"},e))}var v=n("CvCA"),O=n("nGHF"),S=n("ZVOf");var I=Object(y.connect)((e,{id:t})=>{const n=(e.users||{})[t];return{userFollowed:!!n&&n.explicitly_followed_by_me}},e=>({follow:t=>e(Object(S.a)(t)),unfollow:t=>e(Object(S.b)(t))}))((function({followerCount:e,isHorizontalDesign:t,showFollowerCount:n,userFollowed:a,follow:r,id:s,viewParameter:c,viewType:d,fullName:u,imageUrl:m,profileUrl:h}){const{showOneToast:g}=Object(O.b)(),f=a?l.a._("Following","User follow button","User follow button"):l.a._("Follow","User follow button","User follow button"),b=e=>Object(p.a)(e,{view:d,viewParameter:c,component:13406,element:11372});return i.a.createElement(o.e,{alignItems:"center",dangerouslySetInlineStyle:{__style:{marginTop:t?"-22px":0}},display:"flex",justifyContent:"center",position:"relative"},i.a.createElement(o.U,{onTap:()=>{a?(Object(S.b)(s),b(46)):(r(s),b(45),g(({onHide:e})=>i.a.createElement(v.a,{onHide:e,text:i.a.createElement(i.a.Fragment,null,i.a.createElement(o.V,{color:"white"},l.a._("Now following","text that comes before a board/user name in toast","text that comes before a board/user name in toast")),i.a.createElement(o.V,{color:"white",weight:"bold"},u)),href:h,imageUrl:m})))},rounding:"pill"},i.a.createElement(o.e,{alignItems:"center",color:a?"lightGray":"red",direction:"row",display:"flex",justifyContent:"center",paddingX:t?5:6,paddingY:t?3:4,rounding:"pill"},i.a.createElement(T,{followerCount:e,followText:f,isHorizontalDesign:t,showFollowers:n&&0!==e,userFollowed:a}))))}));function P({avatarUrl:e,description:t,domainUrl:n,followerCount:a,id:r,isCreator:l,isHorizontalDesign:s,isVerified:c,userFullName:d,username:u,viewParameter:m,viewType:p}){const h=function(e){return"/"+e}(u);return i.a.createElement(o.e,{alignItems:s?"start":"center",display:"flex",direction:"column",paddingX:s?5:6,paddingY:s?3:4,marginTop:2,width:"100%"},i.a.createElement(g,{avatarUrl:e,isHorizontalDesign:s,isVerified:c,url:h,userFullName:d,viewType:p,viewParameter:m}),s&&i.a.createElement(o.e,{position:"relative",width:"100%"},i.a.createElement(o.e,{display:"flex",marginTop:-2,marginEnd:-2,position:"absolute",right:!0,top:!0},i.a.createElement(I,{fullName:d,followerCount:a,id:r,imageUrl:e,isHorizontalDesign:s,profileUrl:h,showFollowerCount:l})),i.a.createElement(o.e,{width:"100%",display:"flex",left:!0,marginTop:1},i.a.createElement(_,{description:t,domainUrl:n,isHorizontalDesign:s,userFullName:d}))),!s&&i.a.createElement(o.e,{width:"100%"},i.a.createElement(_,{userFullName:d,domainUrl:n,description:t,isHorizontalDesign:s}),i.a.createElement(o.e,{width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},i.a.createElement(I,{followerCount:a,fullName:d,id:r,imageUrl:e,isHorizontalDesign:s,profileUrl:h,showFollowerCount:l}))))}var C=n("TiQD");const x=24;function R({anchor:e,children:t,isHorizontalDesign:n}){if(!e)return null;const a=n?320:236,{left:r,top:l,width:s,height:c}=e.getBoundingClientRect(),d=r+window.pageXOffset,u=l+window.pageYOffset,m=d+s+a+12>window.innerWidth,p={left:m?d:d+s,top:u+c/2},h={borderRadius:21,boxShadow:"0 9px 26px rgba(0, 0, 0, 0.4)",left:m?-12-a:12,top:-a/2-44},g={top:-12,left:-12,fill:"white"},f=m?"M0 0 L12 12 L0 24":"M24 0 L12 12 L24 24";return i.a.createElement(o.e,{position:"absolute",zIndex:C.a,dangerouslySetInlineStyle:{__style:p}},i.a.createElement(o.e,{position:"absolute",color:"white",dangerouslySetInlineStyle:{__style:h},width:a,overflow:"hidden"},t),i.a.createElement(o.e,{position:"absolute",dangerouslySetInlineStyle:{__style:g}},i.a.createElement("svg",{width:x,height:x},i.a.createElement("path",{d:f}))))}var k=n("eOdZ"),N=n("LT60"),D=n("joD6"),A=n("ANjH"),j=n("pLLR");function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class L extends a.PureComponent{constructor(e){super(e),B(this,"anchorRef",i.a.createRef()),B(this,"loadUser",()=>{const{username:e}=this.props,{isMounted:t}=this.state;e&&(k.a.create("UserResource",{username:e,field_set_key:"profile"}).callGet().then(e=>{t&&this.setState({detailedUser:e.resource_response.data})}),k.a.create("UserPinsResource",{username:e,page_size:3,field_set_key:"grid_item",isPrefetch:!1}).callGet().then(e=>{t&&this.setState({userPins:e.resource_response.data})}),k.a.create("ShowcaseResource",{username:e,page_size:2,isPrefetch:!1}).callGet().then(e=>{t&&this.setState({showcase:e.resource_response.data})}),t&&this.setState({isLoaded:!0}))}),B(this,"handleScroll",()=>{clearTimeout(this.openTimeout),this.state.isMounted&&(this.setState({isVisible:!1}),this.forceUpdate())}),B(this,"timeoutDismiss",()=>{this.dismissTimeout=setTimeout(()=>{this.state.isMounted&&(this.setState({isVisible:!1}),clearTimeout(this.openTimeout))},150)}),B(this,"handleDisplayCard",()=>{const{isDarkPromoter:e,pinId:t,requestContext:n,viewParameter:a}=this.props,{currentPinId:i,isLoaded:o,isMounted:r}=this.state;clearTimeout(this.openTimeout),clearTimeout(this.dismissTimeout),t&&i!==t&&this.forceUpdate(),t&&this.setState({currentPinId:t});const{group:l}=n.experiments.getWithActivation("web_avatar_hover_cards_v2");156!==a&&0!==a||e||!["enabled","enabled2_vertical","enabled2_horizontal"].includes(l)?r&&this.setState({isVisible:!1}):(o||this.loadUser(),this.openTimeout=setTimeout(()=>{r&&this.setState({isVisible:!0})},300))}),B(this,"handleHideCard",()=>{this.timeoutDismiss()}),this.state={currentPinId:e.pinId,detailedUser:null,isMounted:!1,isLoaded:!1,isVisible:!1,showcase:null,user:null,userPins:null}}componentDidMount(){this.setState({isMounted:!0}),window.addEventListener("scroll",this.handleScroll)}componentWillUnmount(){this.setState({isMounted:!1}),clearTimeout(this.openTimeout),clearTimeout(this.dismissTimeout),window.removeEventListener("scroll",this.handleScroll)}static getDerivedStateFromProps(e,t){const{user:n}=e,{detailedUser:a}=t,i={user:{}};return n&&(i.user=n),a&&(i.user={...i.user,...a}),i}render(){const{avatarSize:e,children:t,requestContext:n,username:a,viewer:r,viewParameter:l,viewType:s}=this.props,{isVisible:c,showcase:u,user:m,userPins:p}=this.state,{about:h,domain_url:g,follower_count:f,full_name:b,id:_,image_medium_url:y,show_creator_profile:E,verified_identity:w}=m||{},T=r.id===_,v=!!w&&w.verified,{group:O}=n.experiments.getWithoutActivation("web_avatar_hover_cards_v2"),S="enabled2_horizontal"===O;return i.a.createElement(o.e,{onMouseOver:this.handleDisplayCard,onFocus:this.handleDisplayCard,onMouseLeave:this.handleHideCard},i.a.createElement(o.e,{marginStart:-2,marginEnd:-2,paddingX:2,position:"relative"},i.a.createElement(o.e,{height:e,left:!0,marginStart:2,position:"absolute",ref:this.anchorRef,top:!0,width:e}),t),!T&&!!m&&!!a&&c&&i.a.createElement(o.e,null,i.a.createElement(N.a,null,i.a.createElement(o.x,null,i.a.createElement(R,{anchor:this.anchorRef.current,isHorizontalDesign:S},i.a.createElement(o.e,{color:"white",zIndex:C.a,onFocus:this.handleDisplayCard,onMouseOver:this.handleDisplayCard,onMouseLeave:this.handleHideCard,position:"relative",width:"100%"},i.a.createElement(o.e,{width:"100%"},i.a.createElement(d,{isHorizontalDesign:S,userPins:p,showcase:u}),i.a.createElement(P,{avatarUrl:y,description:h,domainUrl:g,followerCount:f,id:_,isCreator:E,isHorizontalDesign:S,isVerified:v,userFullName:b,username:a,viewParameter:l,viewType:s}))))))))}}t.a=Object(A.compose)(j.e,D.a)(L)},dKiF:function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return l}));const a=(e,t)=>e.length===t.length&&e.every((e,n)=>function(e,t){if("object"==typeof e&&"object"==typeof t){const n=Object.keys(e),a=Object.keys(t);return n.length===a.length&&n.every(n=>e[n]===t[n])}return e===t}(e,t[n])),i=(e,t)=>e.length===t.length&&e.every((e,n)=>e===t[n]),o=(e,t=i)=>n=>{const a=[];return function(...i){const o=this,r=a.find(e=>e.context===o&&t(e.args,i));if(r)return r.result;const l={context:o,args:i,result:n.apply(this,i)};return a.push(l),e&&a.length>e&&a.shift(),l.result}},r=o(1),l=o()},eqXv:function(e,t,n){n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return l}));var a=n("eOdZ");const i=()=>{};const o={complaint:function(e,t){a.a.create("PinFeedbackResource",e).callUpdate().then(()=>t())},followBoard:function(e,t){a.a.create("BoardFollowResource",e).callCreate().then(()=>t())},followPinner:function(e,t){a.a.create("UserFollowResource",e).callCreate().then(()=>t())},followTopic:function(e,t){a.a.create("InterestFollowResource",e).callCreate().then(()=>t())},newsHubPinHide:function(e,t){a.a.create("NewsHubPinFeedbackResource",e).callUpdate().then(()=>t())},promotedComplaint:function(e,t){a.a.create("PinFeedbackResource",e).callUpdate().then(()=>t())},relatedPinHide:function(e,t){a.a.create("RelatedPinFeedbackResource",e).callUpdate().then(()=>t())},reportPin:function(e,t){t()},unfollowBoard:function(e,t){a.a.create("BoardFollowResource",e).callDelete().then(()=>t())},unfollowPinner:function(e,t){a.a.create("UserFollowResource",e).callDelete().then(()=>t())},unfollowTopic:function(e,t){a.a.create("InterestFollowResource",e).callDelete().then(()=>t())},unrelatedSearchPin:function(e,t){a.a.create("SearchPinFeedbackResource",e).callUpdate().then(()=>t())}},r=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function l(e,t,n=i){const a=o[e];return a?a(t,n):n()}},fc1g:function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));const a=e=>({type:"MOST_RECENT_PIN",payload:{id:e}}),i=e=>({type:"MOST_RECENT_PIN_IMAGE",payload:{image_signature:e}})},g5OB:function(e,t,n){n.d(t,"a",(function(){return yt}));var a=n("q1tI"),i=n.n(a),o=n("jkxn"),r=n("rYoy"),l=n("gD/Z"),s=n("sztL"),c=n("zwad");function d(e,t){const{carousel_data:n,domain:a}=e;let i=a||"";return n&&n.id&&(i=function(e,t){const n=t||e&&e.index||0,a=e&&e.carousel_slots||[],i=a[n]&&a[n].link||"";return i&&c.a.parse(i).hostname||""}(n,t)),i.replace("www.","")}var u=n("Ye/N"),m=n("qD10"),p=n("kVqD"),h=n("0nTG"),g=n("Y8Sn"),f=n("n6mq");const b={container:{backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:18,height:"32px",maxWidth:"132px"},containerHovered:{backgroundColor:"rgba(255, 255, 255, 1.0)"},containerTruncated:{maxWidth:"87px"},text:{color:"#333333"}};function _({pin:e,sourceLinkStyle:t,surface:n,url:o}){const[r,c]=Object(a.useState)(!1),{id:_}=e,y=d(e),E=Object(h.f)(e)||{},{slotIndex:w}=Object(l.b)(),T=Object(p.a)(12,{grid_index:w,objectId:_,...Object(h.f)(e)||{}}),v=Object(p.a)(101,{element:162,objectId:_,...Object(h.f)(e)||{}}),O=Object(p.a)(8948,{click_type:"clickthrough",closeup_navigation_type:"click",grid_index:w,objectId:_,...Object(h.f)(e)||{}}),S=()=>{T(),v(),Object(g.d)()&&O()};return"icon-only"===t?i.a.createElement(m.a,{auxData:E,external:!0,onClick:S,pinId:_,surface:n,to:o},i.a.createElement(f.u,{accessibilityLabel:u.a._("link","Website url link","Website url link"),bgColor:"white",icon:"arrow-up-right",iconColor:"darkGray",size:"sm"})):i.a.createElement(f.e,{dangerouslySetInlineStyle:{__style:{...b.container,...r?b.containerHovered:{},..."truncated-text"===t?b.containerTruncated:{}}},"data-test-id":"pinrep-source-link",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),position:"relative"},i.a.createElement(s.a,{hovered:r,pin:e,slotIndex:w,viewType:1},i.a.createElement(m.a,{className:"GestaltTouchableFocus",external:!0,onClick:S,pinId:_,surface:n,style:{borderRadius:18,display:"block"},to:o},i.a.createElement(f.e,{alignItems:"baseline",dangerouslySetInlineStyle:{__style:b.text},display:"flex",justifyContent:"between"},i.a.createElement(f.e,{display:"flex",flex:"none",marginTop:3,marginBottom:3,marginStart:3},i.a.createElement(f.t,{accessibilityLabel:u.a._("link","Website url link","Website url link"),color:"darkGray",icon:"arrow-up-right",size:9})),i.a.createElement(f.e,{alignItems:"center",display:"flex",height:18,marginStart:2,marginEnd:3,overflow:"hidden"},i.a.createElement(f.V,{color:"darkGray",size:"md",weight:"bold",truncate:!0},y))))))}const y=Object(a.lazy)(()=>Promise.all([n.e(102),n.e(98),n.e(119),n.e("PinRepEditButtonCommon")]).then(n.bind(null,"jHGc"))),E=Object(a.lazy)(()=>Promise.resolve().then(n.bind(null,"Te6n"))),w=Object(a.lazy)(()=>n.e("PinRepSendShareLinkButtonCommon").then(n.bind(null,"GUPW")));var T=Object(a.memo)((function({actionBarEditBeforeShare:e,feedbackData:t,feedbackType:n,layout:a,onToggleFlyout:s,onToggleModal:c,pin:d,pinTitle:u,setForcePrimary:m,showEditButton:p,showOverflowMenu:h,showShareButton:g,sourceLinkStyle:b,surface:T}){var v;const{viewParameter:O,viewType:S}=Object(l.b)(),{carousel_data:I,id:P,tracked_link:C,link:x}=d,R=null!==(v=null!=C?C:x)&&void 0!==v?v:"",k=!!R&&Object(o.a)(i.a.createElement(_,{pin:d,sourceLinkStyle:b,surface:T,url:R})),N=g&&i.a.createElement(r.a,null,i.a.createElement(f.e,{"data-test-id":"send-share-link"},Object(o.a)(i.a.createElement(w,{pin:d,setForcePrimary:m})))),D=p&&i.a.createElement(r.a,null,i.a.createElement(f.e,{"data-test-id":"edit-button"},Object(o.a)(i.a.createElement(y,{carouselSlotCurrentIndex:I&&I.index,component:0,onToggleModal:s,pinId:P,style:{size:"sm"},view:S,viewParameter:O,useLegoStyles:!0}))));return"equally-spaced"===a?i.a.createElement(f.e,{display:"flex",justifyContent:"between",alignItems:"center",padding:3},i.a.createElement("div",{style:{flexBasis:32}},k),e?D:N,e?N:D):i.a.createElement(f.e,{alignItems:"center",display:"flex",padding:3},i.a.createElement(f.e,{flex:"shrink"},k),i.a.createElement(f.e,{alignItems:"center",display:"flex",flex:"none",marginStart:"auto"},i.a.createElement(f.I,{gap:1,justifyContent:"end"},e?D:N,h&&i.a.createElement(r.a,null,i.a.createElement(f.e,{"data-test-id":"overflow-menu-button"},Object(o.a)(i.a.createElement(E,{feedbackData:t,feedbackType:n,pin:d,pinTitle:u,setForcePrimary:m})))),e?N:D)))})),v=n("/MKj"),O=n("XSD5"),S=n("ZbwW"),I=n("U4JR");function P({direction:e,swipeHandler:t}){const n={left:u.a._("View Previous","Button to advance carousel to the previous image","Button to advance carousel to the previous image"),right:u.a._("View Next","Button to advance carousel to the next image","Button to advance carousel to the next image")};return i.a.createElement(f.e,{position:"absolute",bottom:!0,top:!0,left:"left"===e,right:"right"===e},i.a.createElement(f.U,{fullHeight:!0,fullWidth:!0,onTap:t},i.a.createElement(f.e,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",padding:2,width:"100%","data-test-id":"carousel-slider-"+e},i.a.createElement(f.t,{accessibilityLabel:n[e],color:"white",icon:{left:"arrow-back",right:"arrow-forward"}[e]}))))}var C=Object(v.connect)(null,(function(e){return{changeCarouselSlotIndex:(t,n)=>e(Object(O.a)(t,n))}}))(({pin:e,changeCarouselSlotIndex:t})=>{const{componentType:n,viewParameter:a,viewType:r}=Object(l.b)(),s=Object(S.a)(e);if(!s)return null;const{id:c=""}=e,{carousel_slots:d,index:u,id:m}=s;function p(i){return()=>{const o="left"===i?u-1:u+1;t(c,o),((t,i)=>{Object(I.a)(108,{objectId:c,component:n,view:r,viewParameter:a,eventData:{pinCarouselSlotEventData:{carouselSlotId:d[t]&&Number(d[t].id),carouselDataId:Number(m),carouselSlotIndex:t,toCarouselSlotIndex:i}},...Object(h.f)(e)||{}})})(u,o)}}return i.a.createElement(f.e,{height:"100%",position:"relative",width:"100%"},u>0&&Object(o.a)(i.a.createElement(P,{direction:"left",swipeHandler:p("left")})),u<d.length-1&&Object(o.a)(i.a.createElement(P,{direction:"right",swipeHandler:p("right")})))}),x=n("h9/w"),R=n("Cufx");function k({avatarUrl:e,attributionNameLink:t,name:n="",accessibilityLabel:a}){const o=i.a.createElement(f.e,{height:"32px",width:"32px"},i.a.createElement(R.a,{name:n,src:e,accessibilityLabel:a}));return t?i.a.createElement(m.a,{className:"underlineLink",to:t},o):o}function N({attributionNameLink:e,name:t,regularWeight:n}){const a=i.a.createElement(f.V,{size:"md",truncate:!0,weight:n?"normal":"bold"},t);return i.a.createElement(f.e,null,e?i.a.createElement(m.a,{className:"underlineLink",to:e},a):a)}function D({link:e,title:t,weight:n}){if(!t)return null;const a=i.a.createElement(f.V,{size:"md",truncate:!0,weight:n},t);return e?i.a.createElement(m.a,{className:"underlineLink",to:e},a):a}var A=n("b9Z9"),j=n("ynlw"),B=n("Zxas"),L=n("vvax"),M=n("fc1g");var V=Object(v.connect)(null,(function(e){return{setMostRecentPin:t=>{e(Object(M.a)(t))}}}))((function({attributionNameLink:e,attributionTitle:t,avatarUrl:n,isDarkPromoter:a,pin:o,name:r,setMostRecentPin:s,sponsorUrl:c,url:d}){const{viewParameter:h,viewType:g}=Object(l.b)(),{id:b,pinner:_}=o,{isPromoted:y}=Object(j.a)(o),E=_||o.promoter,w=Object(p.a)(101,{element:y?283:27,objectId:b}),T=d&&!e,v=i.a.createElement(f.e,{alignItems:"center",display:"flex",dangerouslySetInlineStyle:{__style:{marginLeft:"-3px",marginRight:"-3px"}}},i.a.createElement(f.e,{flex:"none",dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}}},i.a.createElement(A.a,{avatarSize:32,isDarkPromoter:a,pinId:b,user:E,username:E&&E.username,viewParameter:h,viewType:g},i.a.createElement(k,{attributionNameLink:e,avatarUrl:n,name:r,accessibilityLabel:""}))),i.a.createElement(f.e,{dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},flex:"grow",overflow:"hidden"},i.a.createElement(f.e,{dangerouslySetInlineStyle:{__style:{marginBottom:"2px"}}},i.a.createElement(N,{attributionNameLink:e,name:r,regularWeight:!t})),c?i.a.createElement(f.V,{size:"md",weight:"bold"},Object(L.b)(u.a._("Paid partnership with {{ name }}","pinrep.attribution.sponsoredPinTitle","Subtext of pinrep attribution when sponsored by a brand"),{name:i.a.createElement(D,{link:c,title:Object(B.a)(t,20),weight:"bold"})})):i.a.createElement(D,{title:t})));return T?i.a.createElement(m.a,{className:"underlineLink",onClick:()=>{s(b),w()},to:d},v):v})),U=n("Gx6I"),H=n("GsvW");var G=Object(v.connect)((e,t)=>({replyActivityItem:t.replyActivityId?e.activityItems[t.replyActivityId]:null}),e=>({toggleLike:(t,n,a)=>e(Object(U.a)(t,1,n,a))}))((function({replyActivityId:e,replyActivityItem:t,toggleLike:n}){const{content:o,created_at:r,reaction_by_me:l,type:s,user:c}=t||{},{text:d}=o||{},[m,p]=Object(a.useState)(!1);return e&&t?i.a.createElement(f.e,{marginTop:2,display:"flex",direction:"row",width:"100%"},i.a.createElement(f.e,{marginEnd:2,dangerouslySetInlineStyle:{__style:{borderLeftWidth:"2px",borderLeftStyle:"solid",borderLeftColor:"#efefef"}}}),i.a.createElement(f.e,{display:"flex",direction:"column",width:"100%"},i.a.createElement(f.U,{onMouseEnter:({event:e})=>{p(!0)},onMouseLeave:({event:e})=>{p(!1)},onTap:({event:t})=>{n(e,s,!!l)}},i.a.createElement(f.e,{display:"flex",direction:"row"},i.a.createElement(f.e,{maxWidth:124},i.a.createElement(f.V,{size:"md",weight:"bold"},Object(H.e)(c))),i.a.createElement(f.e,{marginStart:1},i.a.createElement(f.V,{size:"md",color:"gray"},Object(H.f)(r)))),i.a.createElement(f.e,{display:"flex",direction:"row"},i.a.createElement(f.e,{width:"100%"},i.a.createElement(f.e,{marginEnd:5,width:"100%"},i.a.createElement(f.V,{size:"md"},d))),i.a.createElement(f.e,{marginTop:-2,marginEnd:1,marginStart:2,minWidth:12},!!l&&i.a.createElement(f.t,{icon:"heart",accessibilityLabel:u.a._("Liked","Accessibility lable for like sent reaction icon to comments and replies under pin rep","Accessibility lable for like sent reaction icon to comments and replies under pin rep"),color:"red",size:12}),!l&&m&&i.a.createElement(f.t,{icon:"heart-outline",accessibilityLabel:u.a._("Like","Accessibility lable for send like reaction icon to comments and replies under pin rep","Accessibility lable for send like reaction icon to comments and replies under pin rep"),color:"darkGray",size:12})))))):null})),F=n("w70y");function z({commentActivityId:e,parentActivity:t,showReplies:n}){const o=Object(v.useSelector)(({activityItems:t})=>e?t[e]:null),{comment_count:r,content:{text:l},created_at:s,reaction_by_me:c,type:d,user:p}=o||{},[h,g]=Object(a.useState)(!1),b=Object(F.a)({name:"BoardActivityCommentFeedResource",options:{page_size:1,activityId:o&&o.id,parentType:o&&o.type,redux_normalize_feed:!0},allowStale:!1}),_=Object(v.useDispatch)(),y=n&&r?r-1:0,E=!b.isLoaded,w=!!b.isLoaded&&!!b.data&&b.data.length>0&&b.data[0].id,T=i.a.createElement(f.V,{size:"sm",weight:"bold"},Object(L.b)(u.a.ngettext("{{ moreRepliesCount }} more comment","{{ moreRepliesCount }} more comments",y,"Number of more comments indicator for board comments under pin cards","Number of more comments indicator for board comments under pin cards"),{moreRepliesCount:y}));return i.a.createElement(f.e,{display:"flex",direction:"row",marginTop:2,marginBottom:1},i.a.createElement(f.e,{minWidth:32,minHeight:32},i.a.createElement(R.a,{src:p.image_medium_url,name:p.username})),i.a.createElement(f.e,{display:"flex",direction:"column",marginStart:2,width:"100%"},i.a.createElement(f.U,{onMouseEnter:({event:e})=>{g(!0)},onMouseLeave:({event:e})=>{g(!1)},onTap:({event:t})=>{var n,a,i;e&&(n=e,a=d,i=!!c,_(Object(U.a)(n,1,a,i)))}},i.a.createElement(f.e,{display:"flex",direction:"row"},i.a.createElement(f.e,{maxWidth:130},i.a.createElement(f.V,{size:"md",weight:"bold"},Object(H.e)(p))),i.a.createElement(f.e,{marginStart:1},i.a.createElement(f.V,{size:"md",color:"gray"},Object(H.f)(s)))),i.a.createElement(f.e,{display:"flex",direction:"row"},i.a.createElement(f.e,{width:"100%",maxWidth:160},i.a.createElement(f.V,{size:"md"},l)),i.a.createElement(f.e,{marginTop:-2,marginEnd:1,marginStart:2,minWidth:12},!!c&&i.a.createElement(f.t,{icon:"heart",accessibilityLabel:u.a._("Liked","Accessibility lable for like sent reaction icon to comments and replies under pin rep","Accessibility lable for like sent reaction icon to comments and replies under pin rep"),color:"red",size:12}),!c&&h&&i.a.createElement(f.t,{icon:"heart-outline",accessibilityLabel:u.a._("Like","Accessibility lable for send like reaction icon to comments and replies under pin rep","Accessibility lable for send like reaction icon to comments and replies under pin rep"),color:"darkGray",size:12})))),y>0&&i.a.createElement(f.e,{marginTop:2,marginBottom:1},t&&t.pin?i.a.createElement(m.a,{to:`/pin/${t.pin.id}/`},T):T),n&&(E?i.a.createElement(f.e,{paddingX:1,marginTop:2,width:"100%",dangerouslySetInlineStyle:{__style:{borderLeft:"2px solid #efefef"}}},i.a.createElement(f.e,{color:"lightGray",width:"100%",height:48})):i.a.createElement(G,{replyActivityId:w||null}))))}var q=n("ExRq"),W=n("ANjH");const Y={background:"transparent",border:"0",display:"inline-block",fontSize:"14px",lineHeight:"17px",maxHeight:"34px",outline:"0",overflowX:"hidden",resize:"none",whiteSpace:"pre-wrap",width:"100%"},X=0,K=1,$=2;function Z(e,t){switch(t.type){case X:return{...e,commentValue:t.commentValue||""};case K:return{...e,inputRowsValue:t.inputRowsValue||1};case $:return{...e,commentValue:"",commentAdded:!0,inputRowsValue:1};default:return e}}var J=Object(v.connect)(({activityItems:e,groupBoardGridComments:t,viewer:n},{pin:{board_activity:a}})=>{const i=a&&a.id,o=i?e[i]:null;return{boardActivityComments:(i&&t[i]||[]).map(t=>e[t]),parentActivity:o,viewer:n}},e=>({createActivityItem:Object(W.bindActionCreators)(q.a,e)}))((function({boardActivityComments:e,createActivityItem:t,parentActivity:n,pin:o,viewer:r}){const[l,s]=Object(a.useReducer)(Z,{commentValue:"",commentAdded:false,inputRowsValue:1,showMoreComment:!!n&&n.comment_count>3});if(!r.isAuth||!e||0===e.length)return null;const c=l.commentValue.trim().length>0,d={color:c?"black":"#767676",...Y},p=e.length>0?e[0].id:null,h=e.length>1?e[1].id:null,g=e.length>2?e[2].id:null,b=e[0].comment_count>0,_=h&&e[1].comment_count>0&&!b,y=g&&!b&&!_,E=y?3:2,w=e.length<3?e.length:E,T=n?n.comment_count-w:0,v=i.a.createElement(f.V,{size:"sm",weight:"bold"},Object(L.b)(u.a.ngettext("{{ moreCommentsCount }} more comment","{{ moreCommentsCount }} more comments",T,"Number of more comments indicator for board comments under pin cards","Number of more comments indicator for board comments under pin cards"),{moreCommentsCount:T})),O=i.a.createElement(f.e,{marginStart:2},i.a.createElement(f.V,{size:"md",weight:"bold"},u.a._("View your comment","Text after user added comments under group board pin grid","Text after user added comments under group board pin grid"))),S=i.a.createElement(f.e,{display:"flex",direction:"column",width:"100%"},l.showMoreComment&&!!T&&i.a.createElement(f.e,{marginTop:2,marginBottom:1},n&&n.pin?i.a.createElement(m.a,{to:`/pin/${n.pin.id}/`},v):v),y&&i.a.createElement(z,{commentActivityId:g,parentActivity:n}),h&&i.a.createElement(z,{commentActivityId:h,parentActivity:n,showReplies:!!_}),i.a.createElement(z,{commentActivityId:p,parentActivity:n,showReplies:b}));return i.a.createElement(f.e,{display:"flex",direction:"column"},e.length>0&&S,i.a.createElement(f.e,{alignItems:"center",display:"flex",direction:"row",marginTop:2},i.a.createElement(f.e,{height:32,minWidth:32},i.a.createElement(R.a,{src:r.imageMediumUrl,name:r.username})),l.commentAdded&&(n&&n.pin?i.a.createElement(m.a,{to:`/pin/${n.pin.id}/`},O):O),!l.commentAdded&&i.a.createElement(a.Fragment,null,i.a.createElement(f.e,{color:"lightGray",width:"100%",alignItems:"center",display:"flex",marginStart:2,marginEnd:2,paddingX:2,paddingY:1,rounding:4},i.a.createElement("textarea",{maxLength:2e3,name:"commentTextBox",placeholder:u.a._("Add comment","Placeholder for comment text field under pin rep","Placeholder for comment text field under pin rep"),style:d,rows:l.inputRowsValue,value:l.commentValue,onChange:e=>{if(s({type:X,commentValue:String(e.target.value)}),e&&e.target){const t=e.target.rows;e.target.rows=1;const n=Math.floor(e.target.scrollHeight/17);n===t&&(e.target.rows=n),n>=2&&(e.target.rows=2,e.target.scrollTop=e.target.scrollHeight),s({type:K,inputRowsValue:n<2?n:2})}}})),c&&i.a.createElement(f.e,{width:32,height:32,rounding:"circle",color:"red"},i.a.createElement(f.u,{accessibilityLabel:u.a._("send","Accessibility label for send comment under pin rep","Accessibility label for send comment under pin rep"),bgColor:"transparent",icon:"send",iconColor:"white",size:"sm",onClick:()=>{if(!n)return;const e=JSON.stringify([]);t({imageSignatures:"",objectIds:[],parentId:n.id,parentType:n.type,text:l.commentValue,tags:e}),s({type:$})}})))))})),Q=n("rSLd");var ee=n("oRao"),te=n("T5j3"),ne=n("obIb"),ae=n.n(ne),ie=n("X/CP"),oe=n.n(ie),re=n("x/xQ"),le=n.n(re),se=n("jOPH"),ce=n.n(se),de=n("U5D8"),ue=n.n(de);const me={goodIdea:ae.a,love:le.a,thanks:ce.a,wow:ue.a,haha:oe.a},pe={7:"goodIdea",1:"love",13:"thanks",11:"wow",5:"haha"};var he=function({pinId:e,reactionCounts:t}){const n=t?Object(te.a)(t):null,a=t?Object(te.b)(t):0,o=!!n&&n.length>0&&n.map((e,t)=>{const n=me[pe[e]];return i.a.createElement(f.e,{key:t,dangerouslySetInlineStyle:{__style:{marginRight:2}}},i.a.createElement(f.e,{width:17,height:17,dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${n})`,backgroundPosiiton:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}}}))});return!!o&&i.a.createElement(m.a,{to:`/pin/${e}/`},i.a.createElement(f.e,{display:"flex",direction:"row",alignItems:"center",height:19,paddingY:3},i.a.createElement(f.e,{display:"flex",direction:"row"},o),i.a.createElement(f.e,{paddingX:1},i.a.createElement(f.V,{size:"md"},i.a.createElement(ee.a,{value:a,shortform:!0,shortformMaximumFractionDigits:1})))))},ge=n("4Utz"),fe=n("q7Wf");function be({feedbackType:e,pin:t}){const{pinner:n,source_interest:a}=t,{full_name:o,username:r}=n||{},{name:l}=a||{},s="topic"===e,c=!s&&"followed"===e,d=`/${r}/`,p=Object(fe.g)(l),h=`/search/pins/?q=${encodeURIComponent(p)}&rs=image_only_attribution`,g=s?h:d,b={topic:u.a._("From {topic}","attribution on pin rep","attribution on pin rep"),followed:u.a._("From {pinnerName}","attribution on pin rep","attribution on pin rep"),pfyBoard:u.a._("Picked for you","attribution on pin rep","attribution on pin rep"),pfy:u.a._("Picked for you","attribution on pin rep","attribution on pin rep")}[e];if(!b)return null;if(c||s){const e=0===b.indexOf("{"),t=s?l:o,n=e?b.slice(b.indexOf("}")+1):b.slice(0,b.indexOf("{"));return e?i.a.createElement(f.e,null,i.a.createElement(m.a,{to:g},i.a.createElement(f.V,{weight:"bold",inline:!0,size:"md",truncate:!0},t)),i.a.createElement(f.V,{inline:!0,size:"md"},n)):i.a.createElement(f.e,null,i.a.createElement(f.V,{inline:!0,size:"md"},n),i.a.createElement(m.a,{to:g},i.a.createElement(f.V,{color:"darkGray",weight:"bold",inline:!0,size:"md",truncate:!0},t)))}return i.a.createElement(f.e,null,i.a.createElement(ge.a,{pin:t},i.a.createElement(f.V,{color:"darkGray",overflow:"normal",size:"md",weight:"bold"},b)))}var _e=n("Te6n"),ye=n("EPem"),Ee=n("TOi3");function we({pin:e}){const{isStoryPin:t,isVideo:n}=Object(j.a)(e),a=function(e){const{aggregated_pin_data:t,creator_analytics:n}=e,{creator_analytics:a}=t||{},{isStoryPin:i}=Object(j.a)(e);return!n||!i&&a?a:n}(e),o=Object(ye.a)(n,t),r=n||t?null==a?void 0:a.all_time_realtime:null==a?void 0:a["30d_realtime"];return i.a.createElement(f.e,{display:"flex"},o.map(({align:e,displayText:t,field:n,iconType:a,iconSize:o=12,valueFormat:l})=>i.a.createElement(f.e,{alignItems:"center",column:4,display:"flex",justifyContent:e,key:n},i.a.createElement(f.e,{display:"inlineBlock",marginEnd:1},i.a.createElement(f.t,{accessibilityLabel:t,color:"darkGray",icon:a,size:o})),i.a.createElement(f.V,{inline:!0,size:"md"},i.a.createElement(Ee.a,{value:null==r?void 0:r[n],valueFormat:l})))))}var Te=n("h4v/");function ve(e){if(!window||!window.prefetchCompletion||!window.prefetchCompletion[e])return"0";const{downloadedAssets:t,totalAssets:n}=window.prefetchCompletion[e];return n?(t/n*100).toFixed(3).toString():"-1"}var Oe=n("4cpq");function Se({children:e,componentType:t,contextLogData:n,elementType:a,pin:o,surface:r,viewParameter:s,viewType:c}){const d=Object(l.b)(),{carousel_data:u,id:p,link:h,tracked_link:b}=o;let _,y=b||h,E="one-tap-desktop";if(u){const{carousel_slots:e=[],id:t,index:n}=u;e[n]&&e[n].link&&(y=e[n].link),_={carousel_slot_id:e[n]&&e[n].id,carousel_data_id:t,carousel_slot_index:n},E+="-carousel"}return i.a.createElement(f.e,{"data-test-id":"otpp"},i.a.createElement(Oe.a,{id:E},i.a.createElement(m.a,{auxData:_,external:!0,onClick:()=>{const e=Te.a.getInstance(),a=e.getViewFromContext();Object(I.a)(12,{...n,view:c||d.viewType,viewParameter:s||d.viewParameter,component:t||d.componentType,objectId:p,grid_index:d.slotIndex,pin_id:p,prefetch_percentage_complete:ve(h||"")}),Object(g.d)()&&Object(I.a)(8948,{click_type:"clickthrough",closeup_navigation_type:"click",view:c||d.viewType,viewParameter:s||d.viewParameter,...n,component:t||d.componentType,objectId:p,grid_index:d.slotIndex,pin_id:p,prefetch_percentage_complete:ve(h||"")}),Object(I.a)(13,{closeup_navigation_type:"web_closeup",objectId:p,component:t||d.componentType,view:3,...d.contextLogData,...n}),e.addViewToContext(a)},pinId:p,style:{cursor:"pointer",display:"block"},surface:r,to:y||""},e)))}var Ie=n("gC5q"),Pe=n("0SCs");function Ce(e){const{pin:t,surface:n}=e,{isOneTap:a,isVideo:o,isPromoted:r}=Object(j.a)(t),{anyEnabled:l,customActivate:s}=Object(Pe.b)("web_no_tap_tap");!a&&o&&r&&s();const c=a||o&&r&&l?Se:ge.a;return i.a.createElement(c,Object.assign({surface:a?n:void 0},Object(Ie.b)(e,["surface"])))}function xe({currentPrice:e,originalPrice:t,pin:n,surface:a}){const o=t&&t!==e;return i.a.createElement(Ce,{pin:n,surface:a},i.a.createElement(f.e,{display:"flex",direction:"row"},e&&i.a.createElement(f.V,{color:o?"blue":"darkGray",size:"md",weight:"bold"},e),o&&i.a.createElement(f.e,{dangerouslySetInlineStyle:{__style:{textDecoration:"line-through",textDecorationColor:"#767676"}},marginStart:1},i.a.createElement(f.V,{color:"gray",size:"md",weight:"bold"},t))))}var Re=n("N89m");function ke({pin:e,singleLineMaxLength:t,surface:n}){const a=Object(Re.a)(e),o=Object(B.a)(a,t);return i.a.createElement(Ce,{pin:e,surface:n},i.a.createElement(f.e,{display:"flex",direction:"row"},i.a.createElement(f.V,{color:"darkGray",overflow:"normal",size:"md",weight:"normal"},o)))}function Ne({numberOfLines:e=2,pin:t,pinTitle:n,singleLineMaxLength:a,surface:o}){const r=e*a,l=Object(B.a)(n,r);return i.a.createElement(Ce,{pin:t,surface:o},i.a.createElement(f.V,{color:"darkGray",overflow:"normal",size:"md",weight:"bold"},l))}var De=n("+tKw");function Ae({pin:e,showGroupBoardAvatar:t,singleLineMaxLength:n,userNote:a}){const{pinner:o}=e;if(!o)return null;const{full_name:r,image_small_url:l}=o,s=1.8*n,c=Object(B.a)(a,s);return i.a.createElement(Ce,{pin:e},i.a.createElement(f.e,{alignItems:"center",display:"flex"},!t&&i.a.createElement(f.e,{flex:"none",marginEnd:2},i.a.createElement(R.a,{name:r,size:"xs",src:l})),i.a.createElement(f.e,{"data-test-id":"PinRep-UserNote"},i.a.createElement(f.V,{overflow:"normal",size:"md"},i.a.createElement(De.a,{text:c,options:{hashtags:{source:"hashtag_closeup"}}})))))}var je=n("XLg/");const Be=Object(a.lazy)(()=>n.e("BoardActivityPinRepReactionsCommon").then(n.bind(null,"TbX8"))),Le={container:{padding:"8px 6px 16px"},groupBoardContainer:{padding:"8px 6px 8px"},productContainer:{padding:"12px 6px 16px"},imageOnlyAttribution:{hidden:{opacity:0,transition:`opacity ${je.a}ms ease`},visible:{opacity:1}}};var Me=Object(a.memo)((function({attributionType:e,blockClickEvents:t,contentType:n,feedbackData:l,feedbackType:s,hoverTransitionState:c,isDarkPromoter:d,pin:m,board:p,pinTitle:h,productOriginalPrice:g,productCurrentPrice:b,setForcePrimary:_,showBoardActivityComments:y,showBoardActivityReply:E,showCarouselEllipsis:w,showGroupBoardAvatar:T,showOverflowMenu:v,showNativeReactions:O,showPinStats:S,showSource:I,showTextContent:P,singleLineMaxLength:C,surface:x,titleLines:R,useLegoPadding:N,userNote:D}){const{board_activity:A,id:B,sponsor:L}=m,M=h||I,U=M||D,{anyEnabled:H,customActivate:G}=Object(Pe.b)("web_today_article_claimed_content_attribution","TodayArticleFeed"===x),{anyEnabled:F}=Object(Pe.a)("mweb_web_sponsored_pins",!!L),z=function(e,t,n={isEnabledTodayArticleClaimedContentAttrExperiment:!1,activateEnabledTodayArticleClaimedContentAttrExperiment:()=>{},isEnabledSponsoredPinExperiment:!1}){const{board:a,closeup_attribution:i,link_domain:o={},promoter:r,sponsor:l,native_creator:s}=e,{isEnabledTodayArticleClaimedContentAttrExperiment:c,activateEnabledTodayArticleClaimedContentAttrExperiment:d,isEnabledSponsoredPinExperiment:m}=n,{isPromoted:p}=Object(j.a)(e),{official_user:h}=o||{},g=e.pinner||{};let f="",b="",_="",y="",E="",w="";return p&&r?(f=r.image_medium_url||r.image_small_url,_=r.full_name,y=u.a._("Promoted by","indicating the username of the person who promoted the pin","indicating the username of the person who promoted the pin"),w=`/${r.username}/`):m&&l&&i?(f=i.image_medium_url||i.image_small_url,b=`/${i.username}/`,_=l.name,y=i.full_name,w=`/${i.username}/`,E=`/${l.username}/`):s?(f=s.image_medium_url||s.image_small_url,y=s.full_name,w=`/${s.username}/`):"show-for-claimed-content"===t?(d(),(null==h?void 0:h.is_primary_website_verified)&&c&&(f=h.image_medium_url||h.image_small_url,y=h.full_name,w=`/${h.username}/`)):(f=g.image_medium_url||g.image_small_url,b=`/${g.username}/`,y=g.full_name,w=a?a.url:""),{avatarUrl:f,attributionNameLink:b,attributionTitle:_,name:y,sponsorUrl:E,url:w}}(m,e,{isEnabledTodayArticleClaimedContentAttrExperiment:H,activateEnabledTodayArticleClaimedContentAttrExperiment:G,isEnabledSponsoredPinExperiment:F}),{avatarUrl:q,attributionNameLink:W,attributionTitle:Y,name:X,sponsorUrl:K,url:$}=z,Z=i.a.createElement(f.e,{dangerouslySetInlineStyle:{__style:p&&p.is_collaborative&&N?Le.groupBoardContainer:Le.container}},w&&i.a.createElement(f.e,{dangerouslySetInlineStyle:{__style:M||T||"none"!==e?{marginBottom:"6px"}:{}},display:"flex",justifyContent:"center"},i.a.createElement(Q.default,{pinId:B})),S&&i.a.createElement(f.e,{dangerouslySetInlineStyle:{__style:{marginBottom:"6px"}},flex:"grow",width:"100%"},i.a.createElement(we,{pin:m})),i.a.createElement(f.e,{display:"flex"},i.a.createElement(f.e,{flex:"grow"},P&&U&&i.a.createElement(f.e,{dangerouslySetInlineStyle:{__style:"none"!==e||T?{marginBottom:"6px"}:{}}},(g||b)&&i.a.createElement(f.e,{marginBottom:1},i.a.createElement(xe,{currentPrice:b,originalPrice:g,pin:m,surface:x})),i.a.createElement(Ne,{numberOfLines:R,pin:m,pinTitle:h,singleLineMaxLength:C,surface:x}),I&&i.a.createElement(ke,{pin:m,singleLineMaxLength:C,surface:x}),D&&i.a.createElement(f.e,{marginTop:M?1:0},i.a.createElement(Ae,{pin:m,showGroupBoardAvatar:T,singleLineMaxLength:C,userNote:D}))),i.a.createElement(f.e,{alignItems:"center",display:"flex"},i.a.createElement(f.e,{flex:"grow"},(()=>{switch(e){case"none":return null;case"image-only-credit":return i.a.createElement(f.e,{dangerouslySetInlineStyle:{__style:Le.imageOnlyAttribution["active"===c?"visible":"hidden"]}},i.a.createElement(be,{pin:m,feedbackType:s}));default:return Object.values(z).some(e=>Boolean(e))?i.a.createElement(V,{attributionNameLink:W,attributionTitle:Y,avatarUrl:q,isDarkPromoter:d,name:X,pin:m,sponsorUrl:K,url:$}):null}})()),v&&i.a.createElement(f.e,{flex:"none"},i.a.createElement(_e.default,{feedbackData:l,feedbackType:s,pin:m,pinTitle:h,setForcePrimary:_,transparentBackground:!0}))),O&&!!m.reaction_counts&&i.a.createElement(f.e,null,i.a.createElement(he,{pinId:m.id,reactionCounts:m.reaction_counts})),T&&i.a.createElement(f.e,{alignItems:"center",display:"flex",marginTop:1,marginBottom:1},i.a.createElement(k,{attributionNameLink:W,avatarUrl:q,name:X}),i.a.createElement(f.e,{marginStart:2,flex:"grow"},i.a.createElement(f.V,{size:"md"},X)),i.a.createElement(f.e,null,i.a.createElement(r.a,null,i.a.createElement(Be,{pinId:m.id,board:p,activityId:A&&A.id||m.id,showReply:E,canShowComments:!y})))))),y&&i.a.createElement(J,{pin:m})),ee=i.a.createElement(f.e,{dangerouslySetInlineStyle:{__style:Le.productContainer}},i.a.createElement(f.e,{display:"flex"},i.a.createElement(f.e,{flex:"grow"},U&&i.a.createElement(a.Fragment,null,(g||b)&&i.a.createElement(f.e,{marginBottom:1},i.a.createElement(xe,{currentPrice:b,originalPrice:g,pin:m,surface:x})),i.a.createElement(f.e,{marginBottom:1},i.a.createElement(Ne,{numberOfLines:R,pin:m,pinTitle:h,singleLineMaxLength:C,surface:x})),I&&i.a.createElement(ke,{pin:m,singleLineMaxLength:C,surface:x}))))),te="shopping"===n?ee:Z;return t?i.a.createElement("div",{style:{pointerEvents:"none"}},te):Object(o.a)(te)})),Ve=n("4+TC"),Ue=n("XCz/"),He=n("0S8y"),Ge=n("Vzit");const Fe=Object(a.lazy)(()=>Promise.all([n.e(102),n.e(98),n.e(119),n.e("PinRepEditButtonCommon")]).then(n.bind(null,"jHGc"))),ze=Object(a.lazy)(()=>Promise.all([n.e(102),n.e(98),n.e(119),n.e("PinPersistentOneClickSaveCommon")]).then(n.bind(null,"f6y4"))),qe=Object(a.lazy)(()=>Promise.all([n.e(102),n.e(98),n.e(119),n.e(145),n.e("PinSaveButtonCommon")]).then(n.bind(null,"rO08"))),We=Object(a.lazy)(()=>Promise.all([n.e(102),n.e(98),n.e(119),n.e(145),n.e("PinBetterSaveCommon")]).then(n.bind(null,"fEA9"))),Ye=Object(a.lazy)(()=>n.e("QuickSaveButtonCommon").then(n.bind(null,"iTUf"))),Xe=Object(a.lazy)(()=>n.e("BoardActivityPinRepLikeButtonCommon").then(n.bind(null,"nGh2"))),Ke=Object(a.lazy)(()=>n.e("PinPromoteButtonCommon").then(n.bind(null,"ATEG")));function $e({board:e,derivedSaveButtonOptions:t,forcePrimaryContent:n,onToggleFlyout:s,onToggleModal:c,pin:d,showEditButton:u,showLikeButton:m,supportsReactionBar:h}){const g=Object(v.useDispatch)(),[b,_]=Object(a.useState)(!1),{carousel_data:y,id:E,savedInfo:w}=d,T=Object(a.useRef)(!!w),O=Object(v.useSelector)(({experiences:e})=>Object(He.d)(e.eligibleExperiences)),{viewParameter:S,viewType:I}=Object(l.b)(),P=Object(p.a)(101,{element:0,objectId:E});let C=null;const x={onToggleModal:s,view:I,viewParameter:S,useLegoStyles:!0};if(!b)if(O&&["classic","controlled","inline"].includes(t.type)){const{renderPinSaveTooltip:e}=t;g(Object(Ge.h)(1000294,502450));const a=()=>{g(Object(Ge.a)(1000294,502450,!0))};C=i.a.createElement(r.a,null,Object(o.a)(i.a.createElement(Ye,{forcePrimaryContent:n,onComplete:a,pin:d,renderPinSaveTooltip:e,viewParameter:S})))}else if("classic"===t.type||"controlled"===t.type){const{renderPinSaveTooltip:e}=t;C=i.a.createElement(r.a,null,i.a.createElement(f.e,{"data-test-id":"pin-save-button",maxWidth:"100%"},Object(o.a)(i.a.createElement(qe,{onClickCallback:P,onToggleModal:c,oneTapSave:"controlled"===t.type?t:void 0,pin:d,renderPinSaveTooltip:e,renderSavedStatus:()=>!!w&&Object(o.a)(i.a.createElement(Ve.a,{isNewlySaved:!T.current,name:w.title,url:w.url})),variant:"lego",viewParameter:S}))))}else if("inline"===t.type){const e=d,{initialSelection:n,onSave:a,renderPinSaveTooltip:l}=t;C=i.a.createElement(r.a,null,i.a.createElement(f.e,{"data-test-id":"better-save"},Object(o.a)(i.a.createElement(We,{initialSelection:n,onSave:a,onToggleFlyout:s,onToggleModal:c,pin:e,renderPinSaveTooltip:l,renderSavedStatus:({savedInfo:e})=>e&&Object(o.a)(i.a.createElement(Ve.a,{isNewlySaved:!T.current,name:e.title,url:e.url})),useMasonryFlyout:!0,variant:"pin",viewParameter:S}))))}else"persistentOneClickSave"===t.type?C=i.a.createElement(r.a,null,i.a.createElement(f.e,{"data-test-id":"persistent-one-click-save"},Object(o.a)(i.a.createElement(ze,Object.assign({},x,{saveOptions:t,pin:d}))))):"promote"===t.type&&(C=i.a.createElement(f.e,{display:"flex",justifyContent:"end"},i.a.createElement(r.a,null,i.a.createElement(f.e,{"data-test-id":"pin-promote-button"},Object(o.a)(i.a.createElement(Ke,{pin:d}))))));let R=null;return u?R=i.a.createElement(r.a,null,Object(o.a)(i.a.createElement(f.e,{"data-test-id":"edit-button",display:"inlineBlock"},i.a.createElement(Fe,Object.assign({},x,{carouselSlotCurrentIndex:y&&y.index,component:0,pinId:E,style:{size:"sm"}}))))):m&&(R=i.a.createElement(r.a,null,i.a.createElement(f.e,{"data-test-id":"like-button"},i.a.createElement(Ue.a,{name:"group_boards_reactions",activate:!1},({anyEnabled:t,customActivate:n})=>Object(o.a)(i.a.createElement(Xe,{pin:d,board:e,activateReactionsExperiment:n,inReactionsExperiment:t,onShowReactionsBar:()=>_(!0),onHideReactionsBar:()=>_(!1),supportsReactionBar:h,useLegoStyles:!0})))))),i.a.createElement(f.e,{display:"flex",margin:3},R&&i.a.createElement(f.e,{flex:"grow",marginEnd:"auto"},R),C&&i.a.createElement(f.e,{marginStart:"auto",flex:"grow"},C))}var Ze=n("7wXf"),Je=n("VJm5"),Qe=n("3qdF"),et=n("qhFy"),tt=n("HOY+");const nt={__style:{boxShadow:"inset 0 0 0 2px black,  inset 0 0 0 4px white",transition:"all 300ms ease"}};function at({isSelected:e}){return i.a.createElement(f.e,{bottom:!0,left:!0,position:"absolute",right:!0,rounding:4,top:!0,dangerouslySetInlineStyle:e?nt:{}},i.a.createElement(f.e,{position:"absolute",bottom:!0,right:!0,padding:3},i.a.createElement(f.e,{alignItems:"center",color:e?"darkGray":"white",display:"flex",height:"24px",justifyContent:"center",rounding:2,width:"24px",dangerouslySetInlineStyle:{__style:{transition:"all 300ms ease"}}},i.a.createElement(f.t,{accessibilityLabel:u.a._("Pin is selected to be saved","SectionSuggestionPin.iconOnPin.selectedPin","accessibility label on an icon"),color:"white",icon:"check",size:12}))))}function it({autoplaySettingOff:e,blockClickEvents:t,fallbackColor:n,imageFit:o,isDenseView:r,isHovering:c,isSocialSeasonalBoard:d=!1,onError:u,onLoad:m,pin:p,pinImageCrop:h,resolution:g="default",rootMargin:b,selectionState:_,showCarousel:y,showPromotedVideos:E,surface:w}){const{contextLogData:T,slotIndex:v,viewParameter:O,viewType:S}=Object(l.b)(),{anyEnabled:I}=Object(Pe.c)("web_flashlight_shop_tab"),{id:P="",aggregated_pin_data:C,image_signature:x}=p,{pin_tags_chips:R}=C||{},{isVideo:k,isPromoted:N,isGif:D}=Object(j.a)(p),{cropHeight:A,cropWidth:B}=(e=>"string"==typeof e?{cropHeight:0,cropWidth:0}:{cropHeight:e.height,cropWidth:e.width})(h);let L=null;if(e||!k||!E&&N)if(y)L=i.a.createElement(f.e,{"data-test-id":"pinrep-carousel"},i.a.createElement(Je.a,{cropHeight:A,cropWidth:B,onError:u,onLoad:m,highResOnly:"high-res"===g,lowResOnly:"low-res"===g,pinId:P,showCarouselBadge:!1,isDenseView:r}));else{const e="backend"===h?function({images:e,image_crop:t}){const n=e&&e["236x"].height;if(t&&(0!==t.min_y||1!==t.max_y)){const{min_y:e,max_y:a}=t;return{marginTop:(e>0?-1*e*n:0)+"px",marginBottom:(a<1?Math.round(-1*(1-a)*n):0)+"px"}}return{}}(p):{};L=i.a.createElement(f.e,{dangerouslySetInlineStyle:{__style:e},"data-test-id":"pinrep-image",minHeight:55},i.a.createElement(et.b,{animateGif:D&&d,cropHeight:A,cropWidth:B,fallbackColor:n,imageFit:o,highResOnly:"high-res"===g,lowResOnly:"low-res"===g,mediumResOnly:"medium-res"===g,onLoad:m,onError:u,pin:p}))}else L=i.a.createElement(f.e,{"data-test-id":"pinrep-video",height:A||void 0},i.a.createElement(tt.a,{cropHeight:A,rootMargin:b,inAdsDesktopVideoExperiment:k&&E,pin:p,surface:w,onLoad:m,viewType:S,viewParameter:O,highResOnly:"high-res"===g,lowResOnly:"low-res"===g,onError:u,isExperimentalPinRep:!0}));const M=i.a.createElement(f.A,{wash:!0},i.a.createElement(s.a,{hovered:c,pin:p,slotIndex:v,viewType:1},L)),V=["selected-image-only","deselected-image-only"].includes(_),U="selected-image-only"===_;if(t)return i.a.createElement(a.Fragment,null,M,V&&i.a.createElement(at,{isSelected:U}),R&&i.a.createElement(f.e,{dangerouslySetInlineStyle:{__style:{marginTop:1}}},i.a.createElement(Qe.a,{pin:p,enableCloseupLink:!0})));const{commerce_data:H}=T||{},G=I||["RelatedProductsExploreTab","RelatedProductsFeed"].includes(w);return i.a.createElement(Ce,{contextLogData:{grid_index:v,image_signature:x,commerce_data:G?H:void 0},elementType:35,pin:p,surface:w},M,R&&i.a.createElement(f.e,{dangerouslySetInlineStyle:{__style:{marginTop:1}}},i.a.createElement(Qe.a,{pin:p,enableCloseupLink:!1})))}var ot=n("qWlA");var rt=n("CgR/").a.makeSendShareButton(({handleSendShareFlyoutButtonClick:e,viewType:t})=>i.a.createElement(f.f,{onClick:({event:t})=>{t&&t.stopPropagation&&t.stopPropagation(),Object(ot.a)(e)()},text:u.a._("Send","Send a pin","Send a pin"),color:"gray",accessibilityLabel:u.a._("Send","Accessible label to send a pin","Accessible label to send a pin")}));function lt(e){return e<160?"header-only":"none"}function st(e){const[t,n]=Object(a.useState)(e.current?lt(e.current.clientHeight||0):"none");return function(e,t){const n=Object(a.useRef)();Object(a.useEffect)(()=>{const a=e.current;if(!a)return;const i=n.current;i&&i.width===a.offsetWidth&&i.height===a.offsetHeight||(n.current={width:a.offsetWidth||0,height:a.offsetHeight||0},t&&t(n.current))}),n.current}(e,({height:e})=>{const a=lt(e);a!==t&&n(a)}),t}var ct=n("W5T3"),dt=n("I7CA"),ut=n("eqXv"),mt=n("tMjw");const pt={background:{base:{transition:"all 250ms",opacity:0},blurred:{backgroundPosition:"50% 50%",backgroundSize:"cover",borderRadius:mt.a,filter:"blur(10px)",opacity:1}},backdrop:{base:{transition:"all 250ms"},blurred:{backgroundColor:"rgba(0,0,0,0.6)"}},feedbackOverlayContainer:{base:{opacity:0,transition:"all 250ms"},visible:{opacity:1}},navigateLinkStyle:{color:"white",textDecorationColor:"white",cursor:"pointer"}},ht=["followed","related","search"],gt=["pfy","pfyBoard"];function ft({feedbackType:e,isHomefeedTunerVariantExp:t,pin:n}){const[o,r]=Object(a.useState)(!1),[l,s]=Object(a.useState)(!1);Object(a.useEffect)(()=>r(!0),[]);const c=()=>s(!0),{feedbackText:d,images:p,showFeedbackOverlay:h,undoAction:g,undoText:b}=n,_=p&&p["236x"].url,{image:y,subTitle:E,title:w,unfollow:T}=d,v=!ht.includes(e),O=gt.includes(e),S=()=>{Object(I.a)(101,{view:1,viewParameter:92,element:11347})};return i.a.createElement(f.e,{color:"transparent",dangerouslySetInlineStyle:{__style:{borderRadius:mt.a}},"data-test-id":"obscured-overlay",overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0},i.a.createElement(f.e,{dangerouslySetInlineStyle:{__style:{borderRadius:mt.a}},margin:-4,overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0},_&&i.a.createElement(dt.a,{additionalStyles:{...pt.background.base,...o?pt.background.blurred:{},backgroundImage:`url("${_}")`}}),i.a.createElement(dt.a,{additionalStyles:{...pt.backdrop.base,...pt.backdrop.blurred}})),i.a.createElement(f.e,{dangerouslySetInlineStyle:{__style:{...pt.feedbackOverlayContainer.base,...!h&&o?pt.feedbackOverlayContainer.visible:{}}},height:"100%",padding:4,position:"relative",width:"100%"},i.a.createElement(f.e,{height:"100%"},i.a.createElement(f.e,{"data-test-id":"PinFeedbackConfirmation",display:"flex",direction:"column",height:"100%",maxWidth:216},i.a.createElement(f.e,{marginBottom:2},i.a.createElement(f.s,{color:"white",size:"sm"},w)),i.a.createElement(f.e,{display:"flex",marginBottom:1},y&&i.a.createElement(f.e,{marginEnd:3},i.a.createElement(f.A,{width:y.width,height:y.height,rounding:2,wash:!0},i.a.createElement(f.v,{alt:E||"",fit:"cover",naturalHeight:1,naturalWidth:1,src:y.url||""}))),i.a.createElement(f.V,{color:"white",overflow:"normal"},E)),t?i.a.createElement(i.a.Fragment,null,i.a.createElement(f.e,null,i.a.createElement(f.U,{onTap:g},i.a.createElement(f.V,{color:"white",weight:"bold",overflow:"normal"},u.a._("Undo","Text on the button to navigate to undo hiding a pin","Text on the button to navigate to undo hiding a pin")))),i.a.createElement(f.e,{marginTop:"auto"},!g&&!l&&T&&!O&&i.a.createElement(f.f,{color:"white",onClick:()=>Object(ut.a)(T.action,T.actionOptions,c),text:u.a._("Unfollow","Text on the button to unfollow a specific board / user","Text on the button to unfollow a specific board / user")}),v&&i.a.createElement(m.a,{to:"/edit",onClick:S},i.a.createElement(f.f,{color:"white",text:u.a._("Tune your feed","Text on the button to navigate to homefeed control","Text on the button to navigate to homefeed control")})))):i.a.createElement(i.a.Fragment,null,i.a.createElement(f.e,null,v&&i.a.createElement(m.a,{className:"underlineLink",to:"/edit",onClick:S,style:pt.navigateLinkStyle},i.a.createElement(f.V,{color:"white",weight:"bold",overflow:"normal"},u.a._(" Tune your home feed","Text on the link to navigate to homefeed control","Text on the link to navigate to homefeed control")))),i.a.createElement(f.e,{marginTop:"auto"},!g&&!l&&T&&!O&&i.a.createElement(f.f,{color:"white",onClick:()=>Object(ut.a)(T.action,T.actionOptions,c),text:u.a._("Unfollow","Text on the button to unfollow a specific board / user","Text on the button to unfollow a specific board / user")}),g&&i.a.createElement(f.f,{color:"white",onClick:g,text:b||u.a._("Undo","Text on the button to undo hiding a pin","Text on the button to undo hiding a pin")})))))))}function bt(e){return"active"===e?"visible":"inactive"===e?"none":"hidden"}function _t(...e){return e.includes("visible")?"visible":e.includes("hidden")?"hidden":"none"}const yt=228;t.b=Object(a.memo)((function({actionBarProps:e,blockClickEvents:t,currentlyPlayingVideo:n,disableHover:o=!1,footerProps:r,forcePrimaryContentVisibility:s,impressionsDebuggerProps:c,onError:d,onLoad:u,obscuredPinOverlayProps:m,pin:p,pinVisualProps:h,presentationProps:g,primaryContentProps:b,selectionState:_,secondaryContentProps:y,showAccessoryContent:E,showActionBar:w,showFooter:v,showImpressionsDebugger:O,showSignalDebugger:S,showObscuredPinOverlay:I,showPrimaryAndSecondaryContent:P,surface:R}){const{savedInfo:k}=p,{viewType:N}=Object(l.b)(),[D,A]=Object(a.useState)(!1),j=Object(je.b)(D);let{isHovering:B,hoverTransitionState:L,handleMouseOver:M,handleMouseLeave:V}=function(){const[e,t]=Object(a.useState)(!1);return{isHovering:e,hoverTransitionState:Object(je.b)(e,0,je.a),handleMouseOver:Object(a.useCallback)(()=>t(!0),[t]),handleMouseLeave:Object(a.useCallback)(()=>t(!1),[t])}}();o&&(B=!1,L="inactive");const U=Object(je.b)(!!k),H=bt(U),G=bt(L),F=bt(L),z=bt(j),q=bt(U),W={primaryContentVisibility:_t(F,z,q),secondaryContentVisibility:(Y=_t(F,z,q),"none"===Y?"visible":"visible"===Y?"none":"hidden"),actionBarVisibility:_t(F,z),accessoryContentVisibility:"none",signalDebuggerV2ContentVisibility:"visible"};var Y;const X=e=>A(e),K=e=>A(e),$=e=>{A(e),e||V()};let Z=null;s&&(W.primaryContentVisibility="visible"),"none"!==W.primaryContentVisibility&&P&&(Z=i.a.createElement($e,Object.assign({pin:p,forcePrimaryContent:X,onToggleFlyout:K,onToggleModal:$},b)));let J=null;const Q=Object(a.useRef)(!0),ee=Q.current;Q.current=!1;const te=function(e,t){const{carousel_data:n}=e,{index:i}=n||{},[o,r]=Object(a.useState)(!n||t),l=Object(a.useRef)(i),s=Object(a.useRef)(null);if(n){const e=l.current;l.current=i,(i!==e||t)&&(s.current&&clearTimeout(s.current),r(!0),s.current=setTimeout(()=>{r(!1),s.current=null},4e3))}return Object(a.useEffect)(()=>()=>{s.current&&clearTimeout(s.current)},[]),o}(p,ee),ne=bt(Object(je.b)(te));W.secondaryContentVisibility=function(...e){return e.includes("none")?"none":e.includes("hidden")?"hidden":"visible"}(W.secondaryContentVisibility,ne),J=(y.allowShoppingPriceIndicator||y.shoppingLabelColor||"none"!==W.secondaryContentVisibility)&&P&&!n&&i.a.createElement(f.e,{margin:2},i.a.createElement(Ze.a,Object.assign({pin:p},y)));let ae=null;E&&(ae=i.a.createElement(C,{pin:p}),W.accessoryContentVisibility=bt(L)),h.isSocialSeasonalBoard&&(e.showShareButton=!1);const ie=w?i.a.createElement(T,Object.assign({onToggleFlyout:K,onToggleModal:$,pin:p,setForcePrimary:A,surface:R},e)):null;let oe=null;v&&(oe=i.a.createElement(Me,Object.assign({blockClickEvents:t,hoverTransitionState:"image-only-credit"===r.attributionType?L:null,pin:p,setForcePrimary:A,surface:R},r))),h.isSocialSeasonalBoard&&(oe=i.a.createElement(f.e,{"data-test-id":"social-seasonal-footer",marginTop:2,marginBottom:3,width:"100%"},i.a.createElement(f.e,{margin:"auto",width:yt},i.a.createElement(rt,{isFlyoutOpen:D,onFlyoutDismiss:()=>K(!D),onToggleFlyout:()=>K(!D),pinId:p.id,sendType:"pin",shownWithinMasonry:!0,viewType:N}))));const re=O&&i.a.createElement(ct.b,c),le=S&&p.debug_info_html&&i.a.createElement(f.e,{paddingY:1},i.a.createElement("pre",null,p.debug_info_html)),se=i.a.createElement(x.a,{pin:p}),ce=Object(a.useRef)();"header-only"===st(ce)&&(W.actionBarVisibility="none",W.accessoryContentVisibility="none");const de=I?i.a.createElement(ft,Object.assign({pin:p},m)):null;return i.a.createElement("div",{onMouseOver:M,onMouseLeave:V,"data-test-id":"pin","data-test-pin-id":p.id},i.a.createElement(mt.b,Object.assign({visualOverlayVisibility:G,savedOverlayVisibility:H,primaryContent:Z,primaryContentVisibility:W.primaryContentVisibility,secondaryContent:J,secondaryContentVisibility:W.secondaryContentVisibility,accessoryContent:ae,accessoryContentVisibility:W.accessoryContentVisibility,actionBar:ie,actionBarVisibility:W.actionBarVisibility,footer:oe,selectionState:_,debugContent:re,signalDebuggerV2Content:se,signalDebuggerV2ContentVisibility:W.signalDebuggerV2ContentVisibility,signalDebuggerContent:le,obscuredPinOverlay:de},g),i.a.createElement(f.e,{ref:ce},i.a.createElement(it,Object.assign({blockClickEvents:t,isHovering:B,onError:d,onLoad:u,pin:p,surface:R,selectionState:_},h)))))}))},"gD/Z":function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var a=n("1dBE");const{Provider:i,Consumer:o,useHook:r}=Object(a.c)("trackingParametersContext")},"h9/w":function(e,t,n){n.d(t,"a",(function(){return b}));var a=n("q1tI"),i=n.n(a),o=n("Ye/N"),r=n("CvCA"),l=n("n6mq");function s(e){const{onHide:t}=e,n=i.a.createElement(l.V,{color:"white"},o.a._("Thank you for helping improve signal detection on Pinterest!","pinRep.actionBar.signalDetector.toast","Toast text displayed when a user submits a signal for review"));return i.a.createElement(r.a,{onHide:t,text:n})}var c=n("eOdZ"),d=n("v/Q4"),u=n("nGHF");var m=function({anchor:e,onDismiss:t,pinId:n,signals:r}){const[m,p]=Object(a.useState)(0),h=Object(d.a)(),{showOneToast:g}=Object(u.b)();if(!h.isEmployee)return null;const f=r.map(({signal_message:e})=>({href:"#",text:e})),{background_color:b,icon_url:_,signal_id:y,signal_message:E}=r[m];return i.a.createElement(l.x,null,i.a.createElement(l.q,{anchor:e,idealDirection:"right",onDismiss:t,positionRelativeToAnchor:!1,size:"lg"},i.a.createElement(l.e,{padding:4,width:"100%"},r.length>1&&i.a.createElement(l.e,{overflow:"scrollX",padding:1,marginBottom:4},i.a.createElement(l.T,{activeTabIndex:m,onChange:({activeTabIndex:e,event:t})=>{t.preventDefault(),p(e)},size:"lg",tabs:f})),i.a.createElement(l.e,{display:"flex",alignItems:"center"},i.a.createElement(l.s,{size:"sm"},o.a._("Signal detected:","pinRep.actionBar.signalDetector.header","Header for signal detector flyout"))),i.a.createElement(l.e,{paddingY:3},i.a.createElement(l.I,{justifyContent:"center",alignItems:"center",gap:1},i.a.createElement(l.e,{height:40,overflow:"hidden",rounding:"circle",width:40},_?i.a.createElement(l.v,{alt:o.a._("Signal display","pinRep.actionBar.signalDetector.signalAsset","Asset to represent the signal detected"),color:"white",naturalHeight:1,naturalWidth:1,src:_}):i.a.createElement(l.e,{dangerouslySetInlineStyle:{__style:{backgroundColor:b}},height:40,width:40})),i.a.createElement(l.V,{size:"md"},E))),i.a.createElement(l.e,{marginBottom:3},i.a.createElement(l.V,{size:"md"},o.a._("If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.","pinRep.actionBar.signalDetector.instructions","Instructions to the user for how to handle inaccurate detection"))),i.a.createElement(l.I,{alignItems:"center",gap:1},i.a.createElement(l.f,{color:"red",size:"md",text:o.a._("Send for review","pinRep.actionBar.signalDetector.button.review","Button label for users to send the pin for review"),onClick:()=>{const e={pin_id:n,signal_id:y,user:h.id};c.a.create("SignalReviewRequestResource",e).callCreate(),t(),g(({onHide:e})=>i.a.createElement(s,{onHide:e}))}}),i.a.createElement(l.f,{color:"gray",size:"md",text:o.a._("Cancel","pinRep.actionBar.signalDetector.button.cancel","Button label for users to cancel"),onClick:t})))))},p=n("7pfs"),h=n("jkxn"),g=n("rYoy");function f({signals:e,pinId:t}){const{background_color:n,icon_url:o,signal_message:r}=e[0],[s,c]=Object(a.useState)(!1),d=Object(a.useRef)();return i.a.createElement(a.Fragment,null,i.a.createElement(g.a,null,i.a.createElement(l.e,{"data-test-id":"debug-signals-feedback-button"},Object(h.a)(i.a.createElement(p.a,null,({hovered:e,onMouseEnter:t,onMouseLeave:a})=>i.a.createElement(l.U,{onTap:()=>c(e=>!e),rounding:"pill",onMouseEnter:t,onMouseLeave:a},i.a.createElement(l.e,{color:e?"darkGray":"transparentDarkGray",rounding:"pill",display:"flex",alignItems:"center",padding:3,ref:d},i.a.createElement(l.e,{display:"flex",width:24,height:24,rounding:"circle",color:"white",marginEnd:1,justifyContent:"center",alignItems:"center"},i.a.createElement(l.e,{width:20,height:20,rounding:"circle",overflow:"hidden"},i.a.createElement(l.v,{alt:"",color:n,src:o,naturalHeight:1,naturalWidth:1}))),i.a.createElement(l.V,{color:"white",size:"md",weight:"bold"},r))))))),s&&d&&d.current&&i.a.createElement(m,{anchor:d.current,onDismiss:()=>c(!1),pinId:t,signals:e}))}function b({pin:e}){if(!Object(d.a)().isEmployee)return null;const{id:t,deb_ads:n,deb_content_quality:a,deb_inclusive_product:o,deb_shopping:r,deb_trust_and_safety:l}=e;return n?i.a.createElement(f,{pinId:t,signals:n}):a?i.a.createElement(f,{pinId:t,signals:a}):o?i.a.createElement(f,{pinId:t,signals:o}):r?i.a.createElement(f,{pinId:t,signals:r}):l?i.a.createElement(f,{pinId:t,signals:l}):null}},jCsw:function(e,t,n){function a(e,t){return e&&e[t]&&e[t].url}n.d(t,"a",(function(){return a}))},jOPH:function(e,t){e.exports="https://s.pinimg.com/webapp/style/images/thanks-62775475.svg"},jkxn:function(e,t,n){n.d(t,"a",(function(){return o}));var a=n("q1tI"),i=n.n(a);function o(e){return i.a.createElement("div",{"data-test-id":"pointer-events-wrapper",style:{pointerEvents:"auto"}},e)}},kVqD:function(e,t,n){n.d(t,"a",(function(){return r}));var a=n("q1tI"),i=n("U4JR"),o=n("gD/Z");function r(e,t){const{componentType:n,contextLogData:r,viewParameter:l,viewType:s}=Object(o.b)();return Object(a.useCallback)(()=>{Object(i.a)(e,{component:n,view:s,viewParameter:l,...r,...t||{}})},[t,n,r,e,l,s])}},obIb:function(e,t){e.exports="https://s.pinimg.com/webapp/style/images/goodIdea-b770896d.svg"},pSsd:function(e,t,n){n.d(t,"a",(function(){return a}));const a="favorited"},qUSw:function(e,t,n){function a(e,t){return{type:"UPDATE_ACTIVITY_ITEM_COMMENT_COUNT",payload:{increment:t,id:e}}}function i(e){return a(e,!1)}function o(e){return a(e,!0)}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}))},qhFy:function(e,t,n){n.d(t,"a",(function(){return u}));var a=n("q1tI"),i=n.n(a),o=n("VJm5"),r=n("TSYQ"),l=n.n(r),s=n("RwJG"),c=n("n6mq");function d({onError:e,onLoad:t,pin:n}){const{title:a="",dominant_color:o,images:r={}}=n,l=r["474x"].width>r["474x"].height?r["736x"]:r["474x"];return i.a.createElement(c.e,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingTop:"177.77777777777777%"}}},i.a.createElement(c.e,{position:"absolute",top:!0,left:!0,width:"100%",height:"100%",dangerouslySetInlineStyle:{__style:{zIndex:s.a.storyPinImage}}},i.a.createElement(c.v,{alt:a,color:o,naturalHeight:l.height,naturalWidth:l.width,onError:e,onLoad:t,src:l.url,fit:"cover"})))}const u=120;t.b=({cropHeight:e,cropWidth:t,fallbackColor:n,highResOnly:a,imageFit:r,lowResOnly:s,mediumResOnly:m,onError:p,onLoad:h,pin:g,saved:f=!1,animateGif:b})=>{const{carousel_data:_,description:y="",dominant_color:E,id:w,images:T}=g;if(_)return i.a.createElement(o.a,{onError:p,onLoad:h,highResOnly:a,lowResOnly:s,pinId:w});let v,O="",S=0,I=0;if(T){let e=T["236x"];a?e=T["736x"]||T.orig||T["474x"]||T["236x"]:m&&(e=T["474x"]||T.orig||T["236x"]),S=e.height,I=e.width,O=e.url,v=s||m||a?e.url+" 1x":[T["236x"].url+" 1x",T["474x"]&&T["474x"].url+" 2x",T["736x"]&&T["736x"].url+" 3x",T.orig&&T.orig.url+" 4x"].filter(Boolean).join(", ")}if(b){const e=Math.max(g.embed&&g.embed.width||0,236),t=Math.max(g.embed&&g.embed.height||0,236),n=g.embed?g.embed.src:"";n&&(S=t,I=e,O=n,v="")}return i.a.createElement(c.e,{minHeight:u,display:"flex",alignItems:"center"},i.a.createElement(c.e,{flex:"grow"},i.a.createElement("div",{className:l()({savedGradient:f})},g.story_pin_data_id?i.a.createElement(d,{pin:g,onError:p,onLoad:h}):i.a.createElement(c.e,{height:t?e:void 0,width:t||void 0},i.a.createElement(c.v,{alt:y,color:"dominant"===n?E:n,fit:r,naturalHeight:S,naturalWidth:I,onError:p,onLoad:h,src:O,srcSet:v})))))}},rSLd:function(e,t,n){n.r(t),n.d(t,"default",(function(){return m}));var a=n("q1tI"),i=n.n(a),o=n("/MKj"),r=n("XSD5"),l=n("ZbwW"),s=n("0nTG"),c=n("U4JR"),d=n("4cTg"),u=n("n6mq");function m({carouselData:e,carouselIndex:t,componentType:n,contextLogData:a,handleCarouselSwipe:m,isCloseup:p,isEditMode:h,pinId:g,isPdp:f,viewParameter:b,viewType:_,variant:y}){const E=Object(o.useSelector)(({pins:e})=>e[g],o.shallowEqual),w=e||Object(l.a)(E),T=Object(o.useDispatch)();if(!w)return null;const v=(e,t,i)=>{h||void 0===r.a||(e.preventDefault(),e.stopPropagation(),T(Object(r.a)(String(g),i))),void 0!==m&&m(i),((e,t,n,a,i,o,r,l,d,u)=>{if(!u){const{carousel_slots:u,id:m}=i;Object(c.a)(108,{...d,objectId:t,component:l,view:r,viewParameter:o,eventData:{pinCarouselSlotEventData:{carouselSlotId:u[n]&&Number(u[n].id),carouselDataId:Number(m),carouselSlotIndex:n,toCarouselSlotIndex:a}},...Object(s.f)(e)||{}})}})(E,g,t,i,w,b,_,n,a,h)},{carousel_slots:O=[],index:S}=w,I=void 0!==t?t:S,P="default"===y,C=P?"white":"#555",x=P?"rgba(255, 255, 255, 0.5)":"lightGray";return i.a.createElement(d.b.Consumer,null,({showCloseupContentRight:e,viewportSize:t})=>"sm"===t?null:i.a.createElement(u.e,{alignItems:"center","data-test-id":"carousel-ellipsis",display:"flex",justifyContent:p?"end":"center",paddingY:h?1:0},[...Array(O.length).keys()].map(e=>i.a.createElement(u.e,{key:g+e,paddingX:1},i.a.createElement(u.U,{accessibilityLabel:O[e].title,fullWidth:!1,onTap:({event:t})=>v(t,I,e),rounding:"circle"},i.a.createElement(u.e,{"data-test-id":"ellipsis-size",height:8,width:8,dangerouslySetInlineStyle:{__style:{backgroundColor:e===I?C:x}},rounding:"circle"}))))))}},"s+7V":function(e,t,n){var a=n("q1tI"),i=n.n(a),o=n("i8i4"),r=n.n(o);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s=new Map;let c=null;const d=e=>{e.forEach(e=>{const t=s.get(e.target);t&&t(e)})};t.a=e=>{class t extends a.Component{constructor(...e){super(...e),l(this,"seen",!1),l(this,"flushTimeout",null),l(this,"enter",e=>{const t=e.intersectionRatio>0||e.isIntersecting;this.seen=t,this.seen&&this.props.onVisibilityChanged(!0)}),l(this,"leave",()=>{const e=this._node;e&&(e=>s.has(e))(e)&&this.seen&&(this.props.onVisibilityChanged(!1),this.seen=!1)}),l(this,"observe",e=>{try{this._node=r.a.findDOMNode(this)}catch(a){return}if(!this._node)return;const{inAdsDesktopVideoExperiment:t}=this.props,n=this._node;((e,t="-64px 0px 0px 0px",n)=>{const a={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};c=c||new window.IntersectionObserver(d,a),s.set(e,n),c.observe(e)})(n,e,e=>{if(!s.has(n))return;const a=t?e.intersectionRatio>=.5:e.intersectionRatio>0||e.isIntersecting,i=this.props.trackFullVisible?e.intersectionRatio>=1:a,o=this.props.trackFullVisible?0===e.intersectionRatio:!i;!this.seen&&i?this.enter(e):this.seen&&o&&this.leave()})})}componentDidMount(){const{rootMargin:e}=this.props;this.observe(e)}componentWillUnmount(){const e=this._node;e&&(this.leave(),(e=>{c.unobserve(e),s.delete(e)})(e))}render(){return i.a.createElement(e,this.props)}}return l(t,"displayName",`WithVisibilityChanged(${e.displayName||e.name})`),t}},sztL:function(e,t,n){n.d(t,"a",(function(){return u}));var a=n("q1tI"),i=n.n(a),o=n("Nle8"),r=n("eOdZ"),l=n("0nTG"),s=n("U4JR"),c=n("Y8Sn"),d=n("7jH2");function u({children:e,hovered:t,pin:n,slotIndex:u,trafficSource:m,viewType:p}){const[h,g]=Object(a.useState)(),[f,b]=Object(a.useState)(),{id:_,tracked_link:y,link:E}=n,w=y||E||"",T=e=>{g(!0)},v=Object(d.d)(Object(d.p)({pin:n})),O=Object(a.useCallback)(()=>{((e,t,n)=>{const a={check_only:n,pin_id:e.id,url:t,client_tracking_params:Object(o.a)(e.id),aux_data:JSON.stringify({clickthrough_type:"rightClick",objectId:_,...u||{},...Object(l.f)(e)||{}})};return r.a.create("OffsiteLinkResource",a)})(n,w,!1).callGet({showError:!1}).then(e=>{e&&(Object(s.a)(12,{clickthrough_type:"rightClick",objectId:_,view:p,viewParameter:v,...u||{},...Object(l.f)(n)||{}}),Object(c.d)()&&Object(s.a)(8948,{click_type:"clickthrough",closeup_navigation_type:m&&Object(c.k)(m)?"deeplink":"click",clickthrough_type:"rightClick",view:p,objectId:_,viewParameter:v,...u||{},...Object(l.f)(n)||{}}))})}),S=()=>{h&&(O(),g(!1),window.removeEventListener(f,S,!1))};return Object(a.useEffect)(()=>{var e,t,n,a,i,o;void 0!==(null===(e=window)||void 0===e||null===(t=e.document)||void 0===t?void 0:t.hidden)?b("visibilitychange"):void 0!==(null===(n=window)||void 0===n||null===(a=n.document)||void 0===a?void 0:a.msHidden)?b("msvisibilitychange"):void 0!==(null===(i=window)||void 0===i||null===(o=i.document)||void 0===o?void 0:o.webkitHidden)&&b("webkitvisibilitychange")},[]),Object(a.useEffect)(()=>(h&&window&&window.addEventListener(f,S,!1),()=>window.removeEventListener(f,S)),[h,f]),Object(a.useEffect)(()=>(t&&window.addEventListener("contextmenu",T),()=>{window.removeEventListener("contextmenu",T)}),[t]),i.a.createElement(a.Fragment,null,e)}},tMjw:function(e,t,n){n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return h}));var a=n("q1tI"),i=n.n(a),o=n("I7CA"),r=n("vcEN"),l=n("Ye/N"),s=n("n6mq");const c="#000000",d="#ffffff";function u({selected:e=!1}){return i.a.createElement(s.e,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,dangerouslySetInlineStyle:{__style:{borderWidth:"3px",borderStyle:"solid",borderColor:e?c:d,borderRadius:m,boxShadow:"inset 0 0 0 3px #fff",zIndex:1}}},e?i.a.createElement(s.e,{position:"absolute",bottom:!0,right:!0,display:"flex",alignItems:"center",justifyContent:"center",margin:3,rounding:2,height:24,width:24,color:"darkGray"},i.a.createElement(s.t,{accessibilityLabel:l.a._("Check icon","pinRepSelectionBorder.checkIcon","Accessibility label for check icon on selected Pin"),icon:"check",color:"white",size:12})):i.a.createElement(s.e,{position:"absolute",top:!0,right:!0,margin:3},i.a.createElement(s.t,{accessibilityLabel:l.a._("Handle icon","pinRepSelectionBorder.handleIcon","Accessibility label for handle icon on an organizable Pin"),icon:"handle",color:"white",size:24})))}const m=16,p={wrapper:{borderRadius:m,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},promotedPinBorderTreatment:{background:"#EFEFEF",padding:4,borderRadius:20},primaryContentContainer:{marginBottom:"auto"},visualOverlay:{backgroundColor:"rgba(0, 0, 0, 0.1)"},savedOverlay:{backgroundColor:"rgba(0, 0, 0, 0.33)"}};function h({children:e,savedOverlayVisibility:t="none",visualOverlayVisibility:n="none",primaryContent:a,primaryContentVisibility:l="none",secondaryContent:c,secondaryContentVisibility:d="none",accessoryContent:m,accessoryContentVisibility:h="none",actionBar:g,actionBarVisibility:f="none",footer:b,selectionState:_="no-selection",debugContent:y,signalDebuggerContent:E,signalDebuggerV2Content:w,signalDebuggerV2ContentVisibility:T="none",obscuredPinOverlay:v,showNoPinBorderRadius:O,showPromotedPinBorderTreatment:S}){return i.a.createElement(s.e,{dangerouslySetInlineStyle:{__style:S?p.promotedPinBorderTreatment:{}}},i.a.createElement(s.e,{dangerouslySetInlineStyle:{__style:O?{}:p.wrapper},"data-test-id":"pinWrapper",overflow:"hidden",position:"relative"},["selected","deselected"].includes(_)&&i.a.createElement(u,{selected:"selected"===_}),i.a.createElement(s.e,{dangerouslySetInlineStyle:{__style:O?{}:p.wrapper},overflow:"hidden",position:"relative"},e,i.a.createElement(r.a,{visibility:n},i.a.createElement(o.a,{additionalStyles:p.visualOverlay})),i.a.createElement(r.a,{visibility:t},i.a.createElement(o.a,{additionalStyles:p.savedOverlay})),m&&i.a.createElement(r.a,{visibility:h},i.a.createElement(o.a,null,m)),c&&i.a.createElement(r.a,{visibility:d},i.a.createElement(o.a,null,c)),a&&i.a.createElement(r.a,{visibility:l},i.a.createElement(o.a,null,a)),w&&i.a.createElement(r.a,{visibility:T},i.a.createElement(o.a,null,i.a.createElement(s.e,{position:"absolute",left:!0,bottom:!0,marginBottom:12,marginStart:2},w))),g&&i.a.createElement(r.a,{visibility:f},i.a.createElement(o.a,null,i.a.createElement(s.e,{position:"absolute",left:!0,right:!0,bottom:!0},g))),y&&i.a.createElement(o.a,null,y),E),b,v&&i.a.createElement(s.e,null,v)))}},vpxy:function(e,t,n){var a=n("q1tI"),i=n.n(a),o=n("/MKj"),r=n("9WJf"),l=n("ynlw"),s=n("078/");function c({isGroupBoard:e,pin:t,surface:n}){const{buyable_product:a,carousel_data:i,grid_title:o,rich_summary:r,title:c}=t,{isOwnPin:d,isPromoted:u}=Object(l.a)(t);if(u){if(s.a.includes(n))return o||"";if(d&&!e&&!i&&"UserProfilePinGrid"!==n)return"";if(i){const{carousel_slots:e=[],index:t}=i;if(e[t]&&e[t].title)return e[t].title.trim()}const t=r&&"mobile application"!==r.type_name&&r.display_name,l=a&&a.title;return c||t||l||o||""}return o||""}const d=["EngagementDetails","OtherProfilePinGrid","UserProfilePinGrid"];var u=n("JW66");var m=n("QLqj"),p=n("XPo3"),h=n("mVz+");function g({hasCarouselData:e,isDenseView:t,isPromoted:n,isSocialSeasonalBoard:a,pinImageCrop:i,resolution:o="default",showPromotedVideos:r,surface:l}){let s="backend";"CloseupRelatedProducts"===l?s={height:h.a,width:h.b}:"TopicBestPinWide"===l?s={height:p.h,width:p.i}:"TopicBestPinNarrow"===l?s={height:p.b,width:p.c}:["ArticleProductsStory"].includes(l)||l&&["ShoppingSquareGridCrop","ShoppingSquareGridDomain","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProducts","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain"].includes(l)?s={height:h.o,width:h.p}:i&&(s=i);const c=["ShoppingSquareGridDomain","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProducts","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain"].includes(l);let d="none";"string"!=typeof s&&(d="cover",(c||"ShoppingSquareGridCrop"===l&&n)&&(d="contain"));const g=c?"transparent":"dominant",f=(e=>{if("undefined"==typeof window)return"";let t=0;const n=document.querySelector('[data-test-id="header"]');if(null!==n){const{height:e}=n.getBoundingClientRect();t+=e}switch(e){case"AuthHomefeed":const e=document.querySelector('[data-root-margin="more-ideas-tabs"]');if(null!==e){const{height:n}=e.getBoundingClientRect();t+=n}break;case"SearchItem":const n=document.querySelector('[data-root-margin="search-improvements-bar"]');if(null!==n){const{height:e}=n.getBoundingClientRect();t+=e}}return-1*t+"px 0px 0px 0px"})(l);return{autoplaySettingOff:"undefined"!=typeof window&&0===m.c.getItem(u.a.VIDEO_AUTOPLAY_LOCAL_STORAGE_KEY),fallbackColor:g,imageFit:d,isDenseView:t,isSocialSeasonalBoard:a,resolution:o,rootMargin:f,pinImageCrop:s,showCarousel:e&&!["ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(l),showPromotedVideos:r}}const f=["ShoppingCatalogsProductsMetadata"];var b=n("8A+h"),_=n("clxp");const y={BaseBoardPinGrid:"boardPinView",UserProfilePinGrid:"profilePinView"};var E=n("1Fta"),w=n("Ye/N"),T=n("vvax");var v=n("63p3");var O=n("Zygf");var S=n("v/Q4"),I=n("gC5q"),P=n("T5j3"),C=n("Y8Sn"),x=n("ENhS"),R=n("gD/Z"),k=n("N89m"),N=n("EPem");const D=["CloseupRelatedProducts","ConversationView","CreatorProfilePinGrid","ProductPinsFeed","UserProfilePinGrid"];function A({attributionOption:e,board:t,boardActivityOptions:n,contentType:a,feedbackData:i,feedbackType:o,hasCarouselData:r,isGroupBoard:s,isOwnBoard:d,pin:u,showBoardActivityComments:m,showImageOnly:p,showNativeReactions:h,surface:g,viewer:f}){const{isPromoted:b}=Object(l.a)(u),{promoter:_,unified_user_note:y}=u,E=function({attributionOption:e,feedbackType:t,isGroupBoard:n,pin:a,showImageOnly:i,surface:o}){const{is_downstream_promotion:r,native_creator:l,promoter:s,sponsor:c}=a;if("promoted"===t||s&&!r||c)return"default";if(D.includes(o))return"none";if(n)return"none";let d="default";return e&&("image-only"===e?d="image-only-credit":"hide"===e&&(d="none")),"followed"!==t||i?["IdeasHubSeasonalRow","TodayArticleFeed","ShoppingPackageItem"].includes(o)&&"hide"===e?d:"TodayArticleFeed"===o&&"show"===e?"show-for-claimed-content":l?"default":"none":d}({attributionOption:e,feedbackType:o,isGroupBoard:s,pin:u,showImageOnly:p,surface:g}),w=p?"":c({isGroupBoard:s,pin:u,surface:g}),T=!["ShoppingPackageItem","ShoppingSquareGridDomain","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(g)&&!b&&!p&&Boolean(Object(k.a)(u)),v="BaseBoardPinGrid"===g&&!b&&y?y.trim():null,O=b,S="shopping"===a,I=/ShoppingSquareGridRelatedProducts/.test(g);let P=2;b?P=3:(T||"none"!==E)&&(P=S||I?2:1);let C,x;if(S||b&&I){var R,A;const e=null===(R=u.rich_summary)||void 0===R||null===(A=R.products)||void 0===A?void 0:A[0],{offer_summary:t}=e||{};C=t?t.standard_price:void 0,x=t?t.price||t.max_price:void 0}const j=S||["ShoppingSquareGridCrop","ShoppingSquareGridDomain","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProducts","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain"].includes(g)?20:30;let B;B=s?25:"CloseupRelatedProducts"===g?23:j;return{attributionType:E,contentType:a,feedbackData:i,feedbackType:o,isDarkPromoter:!b&&!!_,pinTitle:w,productOriginalPrice:C,productCurrentPrice:x,showBoardActivityComments:m,showBoardActivityReply:"no-reply"!==n,showCarouselEllipsis:r,showGroupBoardAvatar:s,showOverflowMenu:O,showPinStats:Object(N.c)(u,f),showNativeReactions:h,showSource:T,showTextContent:"CreatorProfilePinGrid"!==g,singleLineMaxLength:B,titleLines:P,useLegoPadding:m,userNote:v,board:t}}var j=n("g5OB"),B=n("W5T3"),L=n("0SCs"),M=n("0S8y");const V=["ArticleProductsStory","BoardNoteSelectablePin","BulkEditMode","EngagementDetails","IdeasHubSeasonalRow","SectionSuggestedPins","TopicBestPinNarrow","TopicBestPinWide"],U=["BoardCreateUpsell","BoardNoteSelectablePin","BulkEditMode","EngagementDetails","SectionSuggestedPins"],H=["BoardCreateUpsell","BoardNoteSelectablePin","BulkEditMode","ConversationView","EngagementDetails","SectionSuggestedPins","ShoppingCatalogsProductsMetadata"];t.a=Object(o.connect)((function({boards:{isSocialSeasonalBoard:e=!1,content:t={}},groupBoardGridComments:n,pins:a},{pin:i,pinId:o}){const r=a[o]||i,l=r.board&&r.board.id,s=(l?t[""+l]:void 0)||r.board,{board_activity:c}=r;return{board:s,hasComments:!!(c&&c.id&&n&&n[c.id]&&n[c.id].length),isSocialSeasonalBoard:e,reduxPin:r}}),()=>({}))((function({blockClickEvents:e,attributionOption:t,board:n,boardActivityOptions:u,debugImpressionState:m,feedbackOptions:p,hasComments:h,imageOnlyOption:k="default",isSocialSeasonalBoard:N,pinImageCrop:D,reduxPin:G,resolution:F="default",saveButtonOptions:z,surface:q,trackingParameters:W,...Y}){const{collaborated_by_me:X,collaborator_count:K,is_collaborative:$}=n||{},{pinner:Z,showFeedback:J}=G,Q=Object(O.a)(G),ee=Object(S.a)(),{slotIndex:te,viewParameter:ne}=W,ae=Object(o.useSelector)(({ui:e})=>e.views),ie=Object(o.useSelector)(({ui:e})=>e),oe=ie.app?ie.app.videosAutoplaying:{organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},re=Object(C.j)(G.id,oe),le=function(e){const t=e.rich_metadata&&e.rich_metadata.products&&e.rich_metadata.products[0]&&e.rich_metadata.products[0].additional_images;return!!(t&&t.length>0)}(G),se=Object(v.a)(G)||le,ce=ee.isAuth&&ee.isEmployee,de=ee.isAuth&&(Object(M.c)({user:ee})||Object(M.e)({user:ee}))&&!ee.isPartner;let ue=de;"TodayArticleFeed"===q&&(ue=!1),"default"!==k&&(ue="image-only"===k),function(e){return s.c.includes(e)}(q)&&(ue=!1);let me=t;de&&!me&&(me="image-only");const pe=function({feedbackOptions:e,pin:t,viewParameter:n}){const{board:a,pinner:i}=t,{getFeedbackType:o}=Object(E.a)({i18n:w.a,interpolateNamedTemplate:T.b});return o({board:a,feedback:e,pin:t,pinner:i,viewParameter:n})}({feedbackOptions:p,pin:G,viewParameter:ne}),{data:he}=p||{},ge=K>0||$,fe=function(e,t){if("OtherProfilePinGrid"===t)return!0;const n=y[t];return!!n&&"dense"===e[n]}(ae,q),be=ge&&"BaseBoardPinGrid"===q,_e=Object(b.a)(ee,n),ye=Boolean(ee.isAuth&&Z&&Z.id===ee.id),Ee=X||ge&&_e,we=ee.isAuth&&ee.isPartner,Te=ee.isAuth&&ee.boardCount?ee.boardCount:0,{anyEnabled:ve}=Object(L.c)("web_better_save_after_fbc",Te>0),Oe=G.is_quick_promotable&&"ShoppingSquareGridHomefeedBoth"!==q,Se=Object(a.useMemo)(()=>function({board:e,inBetterSaveAfterFBCExp:t,isDenseView:n,isGroupBoard:a,isOwnBoard:i,isOwnPin:o,isQuickPromotable:l,isRemovable:c,saveButtonOptions:d,surface:u,viewer:m,viewerIsCollaborator:p}){const h=m.isAuth?m.boardCount:void 0;let g=d||function(e=0,t){return e<(t?1:2)?{type:"classic"}:{type:"inline"}}(h,t);l?g={type:"promote"}:(p||i||["OtherProfilePinGrid","UserProfilePinGrid"].includes(u))&&(g={type:"classic"}),(c||f.includes(u))&&(g={type:"none"});const b=i&&!a,_=e&&Object(r.a)({action:4,board:e})||o;return{board:e,derivedSaveButtonOptions:g,showEditButton:Boolean(b||"UserProfilePinGrid"===u&&_),showLikeButton:p&&a&&s.d.includes(u),supportsReactionBar:!n}}({inBetterSaveAfterFBCExp:ve,isDenseView:fe,isGroupBoard:be,isOwnBoard:_e,isOwnPin:ye,isQuickPromotable:Oe,isRemovable:Q,saveButtonOptions:z,surface:q,viewer:ee,viewerIsCollaborator:Ee,board:n}),[ve,be,_e,ye,Oe,Q,z,q,ee,n]),{isPromoted:Ie}=Object(l.a)(G),{anyEnabled:Pe,group:Ce}=Object(L.c)("web_shopping_grid_labels");let xe;Pe&&["ShoppingSquareGridCrop","ShoppingSquareGridDomain","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProducts","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain"].includes(q)&&!Ie&&(["enabled_popular_bestseller_colorful","enabled_popular_colorful","enabled_pwt","employees"].includes(Ce)?xe="pine":["enabled_popular_bestseller_neutral","enabled_popular_neutral"].includes(Ce)&&(xe="white"));const Re=Object(a.useMemo)(()=>function({allowProductCarousel:e=!1,shoppingLabelColor:t,surface:n}){return{allowProductCarousel:e,allowShoppingPriceIndicator:s.b.includes(n),shoppingLabelColor:t}}({allowProductCarousel:le,shoppingLabelColor:xe,surface:q}),[le,xe,q]),ke=se,Ne=Object(a.useMemo)(()=>function({board:e,feedbackData:t,feedbackType:n,isDenseView:a,isGroupBoard:i,isOwnBoard:o,pin:s,surface:u}){const m=Boolean(null==e?void 0:e.is_collaborative),{isOwnPin:p,isPromoted:h}=Object(l.a)(s),g=c({isGroupBoard:i,pin:s,surface:u}),f=e&&Object(r.a)({action:4,board:e})||p;let b="default";return a&&(b=i?"icon-only":"truncated-text"),{actionBarEditBeforeShare:m,feedbackData:t,feedbackType:n,layout:i&&a?"equally-spaced":"default",pinTitle:g,showEditButton:i&&f,showOverflowMenu:!(h||o||i||d.includes(u)),showShareButton:"CloseupRelatedProducts"!==u,sourceLinkStyle:b}}({board:n,feedbackData:he,feedbackType:pe,isDenseView:fe,isGroupBoard:be,isOwnBoard:_e,pin:G,surface:q}),[n,he,pe,fe,be,_e,G,q]),{anyEnabled:De}=Object(L.a)("web_deprecate_expanded_gb_comment_in_pin_grid",n&&n.is_collaborative),Ae=!(!(n&&n.is_collaborative&&"BaseBoardPinGrid"===q&&h)||De),je=!Ie&&["ShoppingCatalogsProductsMetadata","ShoppingSquareGridCrop","ShoppingSquareGridDomain","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridRelatedProductsMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain"].includes(q)?"shopping":"standard",Be=Object(P.c)(G),Le=Object(a.useMemo)(()=>A({attributionOption:me,board:n,boardActivityOptions:u,contentType:je,feedbackData:he,feedbackType:pe,hasCarouselData:se,isGroupBoard:be,isOwnBoard:_e,pin:G,showBoardActivityComments:Ae,showImageOnly:ue,showNativeReactions:Be,surface:q,viewer:ee}),[me,n,u,he,pe,se,be,_e,G,Ae,ue,q,ee]);let Me=Boolean(Le.pinTitle)||Le.contentType||Le.userNote||Le.showSource||"none"!==Le.attributionType||Le.showNativeReactions||Le.productCurrentPrice||Le.productOriginalPrice||Le.showPinStats||be;"BaseBoardPinGrid"===q&&_e&&we?Me=!0:V.includes(q)||fe||N?Me=!1:ye||"CreatorProfilePinGrid"!==q||(Me=!1);const Ve=Boolean(J),{anyEnabled:Ue,customActivate:He}=Object(L.b)("web_others_board_feed_ads_border");let Ge=!1;"BaseBoardPinGrid"===q&&Ie&&(Ge=Ue,He());const Fe={showNoPinBorderRadius:"TopicBestPinNarrow"===q||"TopicBestPinWide"===q,showPromotedPinBorderTreatment:Ge},{anyEnabled:ze}=Object(L.a)("hfp_homefeed_control_cta_variants"),qe=Ve?{feedbackType:pe,isHomefeedTunerVariantExp:ze}:void 0,{anyEnabled:We}=Object(L.c)("ads_desktop_video_ads"),Ye=D&&"string"!=typeof D?[D.height,D.width]:[D],Xe=Object(a.useMemo)(()=>g({hasCarouselData:se,isDenseView:fe,isPromoted:Ie,isSocialSeasonalBoard:N,pinImageCrop:D,resolution:F,showPromotedVideos:We,surface:q}),[se,fe,N,F,We,q,...Ye]),Ke=ce&&Object(B.a)(),$e=Object(a.useMemo)(()=>({debugImpressionState:m,slotIndex:te}),[m,te]);return i.a.createElement(_.a,{name:"PinRepConfiguration"},i.a.createElement(R.a,{value:W},i.a.createElement(x.a,{value:{surface:q}},i.a.createElement(j.b,Object.assign({actionBarProps:Ne,blockClickEvents:e,currentlyPlayingVideo:re,footerProps:Le,forcePrimaryContentVisibility:["HomefeedMoreIdeasTabs"].includes(q),impressionsDebuggerProps:$e,obscuredPinOverlayProps:qe,pin:G,pinVisualProps:Xe,presentationProps:Fe,primaryContentProps:Se,secondaryContentProps:Re,showAccessoryContent:ke,showActionBar:!H.includes(q),showFooter:Me,showImpressionsDebugger:Ke,showObscuredPinOverlay:Ve,showPrimaryAndSecondaryContent:!U.includes(q),showSignalDebugger:ce,surface:q},Object(I.b)(Y,["pinId"]))))))}))},wzxk:function(e,t,n){n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return s}));var a=n("9Hsp");const i=e=>"string"==typeof e?e:"",o=e=>e.story_pin_data&&e.story_pin_data.metadata&&e.story_pin_data.metadata.pin_title||e.title,r=e=>{const{grid_title:t}=e||{},{hasRichAttributionTitle:n,hasPlaceInfo:a}=(e=>{const{place_summary:t,rich_summary:n}=e||{},a=n&&"mobile application"!==n.type_name;return{hasRichSummary:a,hasRichAttributionTitle:a&&n.display_name,hasPlaceInfo:!!t}})(e),i=o(e);return t&&t.trim()?t.trim():n?(e=>{const{rich_summary:t}=e;let{apple_touch_icon_images:n,favicon_images:a}=t;return n=n||{},a=a||{},{faviconLink:n["50x"]||a["50x"]||n.orig||a.orig,siteName:t.site_name||e.domain,title:t.display_name}})(e).title:a?(e=>{const{place_summary:t}=e;return{faviconLink:t.source_icon,siteName:t.source_name||e.domain,title:t.name}})(e).title:e.rich_metadata&&e.rich_metadata.title?e.rich_metadata.title:e.story_pin_data_id&&i?i:null},l=e=>{const t=e.pin_join||{},n=t.visual_annotation||[],i=n.map(e=>(t.annotations_with_links||{})[e]||{name:e,url:""});let o="";const r=(e.rich_metadata||{}).description||"",l=e.closeup_unified_description||"",s=(e=>e.rich_summary&&e.rich_summary.display_name||e.place_summary&&e.place_summary.name||"")(e).toLocaleLowerCase().trim(),c=r.toLocaleLowerCase().trim(),d=l.toLocaleLowerCase().trim();return l&&l.length>3&&d!==s?o=l:r&&r.length>3&&c!==s&&(o=r),o&&(o=Object(a.a)(Object(a.b)(o,496)).trim()),{description:o,vaseAnnotations:n,annotationsWithLinks:i}},s=(e,t,n)=>{const a=i(e);let o=a;if(n){const e=n.seo_description;if(e){const n=e.toLowerCase(),r=i(t);n!==a.toLowerCase()&&n!==r.trim().toLowerCase()&&(o=e)}let r=n.visual_annotation;r&&(r=r.join(", "),o&&(o+=" "),o+=r)}return o}},"x/xQ":function(e,t){e.exports="https://s.pinimg.com/webapp/style/images/love-c31e0b8d.svg"}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/js/16-af37147f010ede3ac167.mjs.map