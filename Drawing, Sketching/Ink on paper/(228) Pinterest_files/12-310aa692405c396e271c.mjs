(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[12,"FacebookCommon","ScriptCommon"],{"/MAO":function(e,t,a){var n=a("q1tI"),i=a.n(n),r=a("/MKj"),o=a("Cufx"),s=a("TSYQ"),l=a.n(s),c=a("Ye/N"),d=a("n6mq");function u({handleFollowClick:e,isFollowing:t,isSelf:a}){const n=t?c.a._("Unfollow"):c.a._("Follow");return a?i.a.createElement(d.f,{inline:!0,disabled:!0,text:c.a._("That's you!","Text describing that the person's avatar is you","Text describing that the person's avatar is you")}):i.a.createElement(d.f,{color:t?"gray":"red",inline:!0,onClick:e,text:n})}var h=a("qD10"),m=a("ZVOf"),p=a("U4JR");t.a=Object(r.connect)(null,(function(e){return{follow:t=>e(Object(m.a)(t)),unfollow:t=>e(Object(m.b)(t))}}))((function({className:e,followedByMe:t=!1,follow:a,isSelf:r,logData:s,showName:c=!1,showFollow:m=!1,size:g="small",subtitle:f="",title:b,unfollow:E,user:S={},viewType:v="thumb"}){const[y,C]=Object(n.useState)(S.explicitly_followed_by_me||!1),{full_name:w,username:_}=S,k=S.image_key||S.image_medium_url||S.image_small_url;return i.a.createElement("div",{className:l()("Module","User","hasText","thumb",g,e)},i.a.createElement(d.e,{alignItems:"center",direction:"row",display:"flex",marginStart:-1,marginEnd:-1},i.a.createElement(d.e,{flex:"grow",paddingX:1},i.a.createElement(h.a,{className:"profileSource",to:`/${_}/`},i.a.createElement("div",{className:"thumbImageWrapper"},i.a.createElement(o.a,{name:w,src:k,size:"fit"})),b&&i.a.createElement("h3",{className:"title"},b),c&&i.a.createElement("h4",{className:"fullname"},w),f&&i.a.createElement("div",{className:"subtitle"},f))),m&&i.a.createElement(d.e,{paddingX:1},i.a.createElement(u,{handleFollowClick:()=>{y?(E(S.id),C(!1)):(a(S.id),C(!0)),s&&Object(p.a)(101,s)},isFollowing:y,isSelf:Boolean(r)}))))}))},"6tKR":function(e,t,a){a.r(t);var n=a("IUnB"),i=a.n(n);const r={ready:function(e,t){i.a.ready(e,t)},load:function(e,t,a){r.ready(e,()=>{0===t.lastIndexOf("//",0)&&(t=window.location.protocol+t),i()(t,a)})},done:function(e){i.a.done(e)}};t.default=r},"8vQR":function(e,t,a){a.d(t,"a",(function(){return d}));var n=a("q1tI"),i=a.n(n),r=a("Ye/N"),o=a("7w6Q"),s=a("eOdZ"),l=a("n6mq"),c=a("U4JR");function d(e){const{identifier:t,onHide:a}=e,n=()=>{s.a.create("ShareSuggestionsHideResource",{user_identifier:t}).callCreate().then(()=>{a(),(()=>{const{component:t,element:a}=e;Object(c.a)(101,{component:t,element:a}),o.a.increment("web_contacts.suggestions.hide",1,{surface:t})})()})};return i.a.createElement(l.u,{icon:"cancel",iconColor:"darkGray",onClick:({event:e})=>{e.stopPropagation(),n()},accessibilityLabel:r.a._("Remove contact","SendObject.SendObjectSuggestionItem","accessibility label for removing contact suggestion"),size:"xs"})}},"9Hsp":function(e,t,a){a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return o}));const n=/[\- _,.<>:;+=*&@~\/\|!]*$/,i=(e,t=80,a="â€¦")=>{let i;if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t])i=e.substring(0,t);else{const a=e.lastIndexOf(" ",t);i=e.substring(0,a)}return i=i.replace(n,""),i+a},r=/\s\s+/g,o=e=>e.replace(r," ")},"CgR/":function(e,t,a){a.d(t,"a",(function(){return m}));var n=a("q1tI"),i=a.n(n),r=a("qWlA"),o=a("geGc"),s=a("TqAR"),l=a("TiQD"),c=a("oVol"),d=a("U4JR"),u=a("n6mq");function h(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class m extends n.Component{constructor(...e){super(...e),h(this,"handleDismiss",()=>{const{onFlyoutDismiss:e}=this.props;e()}),h(this,"handleClick",Object(r.a)(e=>{(null==e?void 0:e.stopPropagation)&&e.stopPropagation(),this.toggle()})),h(this,"onHide",()=>{this.props.onClick(),this.handleDismiss()}),h(this,"flyoutProps",()=>{const{gridDescription:e,idealDirection:t,imageSrc:a,pinId:n,userId:r,board:l,sendType:d,fullName:u,profileUrl:h,viewParameter:m,viewType:p,onExternalSend:g,showCaret:f,todayArticle:b}=this.props;let E={description:e,id:n,imageUrl:a,name:"",type:c.a.PIN,url:`/pin/${n}/`},S=c.a.PIN;switch(d){case"user":E={description:e,id:r,imageUrl:a,name:u,type:c.a.PINNER,url:h},S=c.a.USER;break;case"board":E=l&&{description:l.description,id:l.id,imageUrl:l.imageUrl,name:l.name,type:c.a.BOARD,url:l.url},S=c.a.BOARD;break;case"today_article":E=b&&{description:b.subtitle||"",id:b.id,imageUrl:a,name:b.title,type:c.a.TODAY_ARTICLE,url:Object(s.i)(b)},S=c.a.TODAY_ARTICLE}const v={isFlyout:!0,onHide:this.onHide,onExternalSend:g,sendType:S,sharedObject:E,viewParameter:m,viewType:p};return{anchor:this.flyoutAnchor,idealDirection:t,onDismiss:this.handleDismiss,showCaret:f,children:i.a.createElement(o.default,v)}})}static makeSendShareButton(e){return t=>i.a.createElement(this,Object.assign({ref:t.shareButtonRef,Subject:e},t))}toggle(){const{onToggleFlyout:e,sendType:t,userId:a}=this.props;"user"===t&&Object(d.a)(101,{component:13675,element:1079,objectId:a,view:4,viewParameter:3107}),e()}render(){const{Subject:e,inModal:t,isFlyoutOpen:a,shownWithinMasonry:n}=this.props,{anchor:r,idealDirection:o,onDismiss:s,showCaret:c,children:d}=this.flyoutProps();return i.a.createElement("div",null,i.a.createElement(u.e,{ref:e=>{e&&(this.flyoutAnchor=e)}},i.a.createElement(e,Object.assign({handleSendShareFlyoutButtonClick:this.handleClick},this.props))),a&&(n?i.a.createElement(u.x,null,i.a.createElement(u.e,{zIndex:t?l.a:void 0,position:t?"absolute":void 0,top:!!t||void 0},i.a.createElement(u.q,{anchor:r,idealDirection:o,onDismiss:s,showCaret:c,size:"xl",positionRelativeToAnchor:!1},d))):i.a.createElement(u.q,{anchor:r,idealDirection:o,onDismiss:s,showCaret:c,size:"xl"},d)))}}h(m,"defaultProps",{idealDirection:"down",onClick:()=>{}})},ENhS:function(e,t,a){a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return o}));var n=a("1dBE");const{Provider:i,Consumer:r,useHook:o}=Object(n.c)("SurfaceContext",{surface:"Unknown"})},IUnB:function(e,t){var a="undefined"==typeof window?null:window.document,n=a?a.getElementsByTagName("head")[0]:null,i=/^https?:\/\//,r={},o={},s={},l="",c={},d=!1,u="DOMContentLoaded";function h(e,t){for(var a=0,n=e.length;a<n;++a)if(!t(e[a]))return d;return!0}function m(e,t){return h(e,(function(e){return!t(e)})),d}function p(e,t,a){e=e.push?e:[e];var n=t&&"function"==typeof t,d=n?t:a,u=n?e.join(""):t,f=e.length;function b(e){return e.call?e():r[e]}function E(){if(!--f){if(r[u]=1,d)d();for(var e in s)h(e.split("|"),b)&&!m(s[e],b)&&(s[e]=[])}}return setTimeout((function(){m(e,(function(e){return null===e?E():c[e]?(u&&(o[u]=1),2==c[e]&&E()):(c[e]=1,u&&(o[u]=1),void g(!i.test(e)&&l?l+e+".js":e,E))}))}),0),p}function g(e,t){var i=!1,r=function(e,t){i||("loaded"===e.readyState||"completed"===e.readyState?t():setTimeout((function(){r(e,t)}),100))},o=a.createElement("script"),s=o.onload=o.onerror=o.onreadystatechangeName=function(){i||(i=!0,o.readyState&&!/^c|loade/.test(o.readyState)||(o.onload=o.onreadystatechangeName=null,1,c[e]=2,t()))};r(o,s),o.async=1,o.src=e,n.insertBefore(o,n.firstChild)}a&&!a.readyState&&a.addEventListenerName&&(a.addEventListenerName(u,(function e(){a.removeEventListener(u,e,d),a.readyState="complete"}),d),a.readyState="loading"),p.get=g,p.order=function(e,t,a){!function n(){var i=e.shift();e.length?p(i,n):p(i,t,a)}()},p.path=function(e){l=e},p.ready=function(e,t,a){e=e.push?e:[e];var n,i=[];return!m(e,(function(e){r[e]||i.push(e)}))&&h(e,(function(e){return r[e]}))?t():(n=e.join("|"),s[n]||(s[n]=[]),s[n].push(t),a&&a(i)),p},p.done=function(e){p([null],e)},e.exports=p},SNfw:function(e,t,a){a.d(t,"a",(function(){return r}));var n=a("q1tI"),i=a.n(n);function r({size:e,iconColor:t,backgroundColor:a,grayscale:n=!1}){const r=t||(n?"#333333":"#8E8E8E"),o=a||"#EFEFEF";return i.a.createElement("svg",{width:e,height:e,viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},i.a.createElement("circle",{id:"Oval",fill:o,cx:"18",cy:"18",r:"18"}),i.a.createElement("g",{transform:"translate(9.000000, 12.000000)",fill:r,fillRule:"nonzero"},i.a.createElement("path",{d:"M16.7972727,2.052 L10.5905455,8.14909091 C10.152,8.57945455 9.576,8.79545455 9,8.79545455 C8.424,8.79545455 7.848,8.57945455 7.40863636,8.14909091 L1.20190909,2.052 C0.962181818,1.81636364 0.962181818,1.43427273 1.20190909,1.19863636 C1.44163636,0.963818182 1.83027273,0.963818182 2.07,1.19863636 L8.27672727,7.29572727 C8.67518182,7.68845455 9.324,7.68845455 9.72327273,7.29572727 L15.9291818,1.19863636 C16.1689091,0.963818182 16.5575455,0.963818182 16.7972727,1.19863636 C17.037,1.43427273 17.037,1.81636364 16.7972727,2.052 Z M0,11.4545455 L18,11.4545455 L18,0 L0,0 L0,11.4545455 Z"}))))}},UTsl:function(e,t,a){a.r(t);var n=a("xBNU"),i=a.n(n),r=a("eOdZ"),o=a("6tKR"),s=a("mBfy");let l=!1;const c={ensureInit(e,t=s.default,a="en_US"){o.default.load([],`//connect.facebook.net/${a}/sdk.js`,"fb"),o.default.ready("fb",()=>{this._fbCallback(e,t)}),window.fb_init=1},_fbCallback(e,t){const a=window.FB;a&&(l||(a.init({appId:i.a.FB_KEY,status:!0,version:"v2.2"}),FB.Event.subscribe("auth.statusChange",e=>{c.refreshAccessToken(t)}),l=!0,window.fb_init=2),e(a))},logIn(e,t){e&&(e.getUserID()?t(e):e.login(()=>{t(e)}))},refreshAccessToken(e){e.isAuthenticated()&&e.attributes.facebook_id&&!e.isLimitedLogin()&&c.ensureInit(e=>{if(e.getUserID()){const t=e.getAccessToken();if(t){r.a.create("UserSocialNetworkResource",{facebook_token:t}).callUpdate({showError:!1})}}},e)}};t.default=c},WM6B:function(e,t,a){var n=a("q1tI");class i extends n.Component{constructor(e){var t,a,i;super(e),i={manualTruncate:!1},(a="state")in(t=this)?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,this.ref=n.createRef()}componentDidMount(){const{maxHeightPx:e,shaveOptions:t={}}=this.props,n=this.ref&&this.ref.current;if(!n)return;const i=void 0===n.textContent?"innerText":"textContent",r=n[i];("boolean"!=typeof t.spaces||t.spaces?r.split(" "):r).length<2?this.setState({manualTruncate:!0}):a.e("ShaveLibrary").then(a.bind(null,"eh6K")).then(({default:a})=>{a(n,e,t)})}render(){const{maxWidthPx:e,maxHeightPx:t,inline:a=!1}=this.props,{manualTruncate:i}=this.state,r={maxWidth:e,maxHeight:t},o=a?{display:"inline",...r}:{...r};return i?n.createElement("div",{ref:this.ref,style:{...o,overflow:"hidden"}},this.props.children):n.createElement("div",{ref:this.ref,style:o},this.props.children)}}t.a=i},ZVOf:function(e,t,a){a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return l}));var n=a("eOdZ"),i=a("/X16");function r(e,t){return n.a.create("UserFollowResource",{user_id:e,aux_data:t?{pin_id:t}:void 0})}function o(e,t){return{type:i.a.USER_FOLLOW,payload:{id:e,value:t}}}function s(e,t=null){return a=>{r(e,t).callCreate().catch(()=>a(o(e,!1))),a(o(e,!0))}}function l(e,t=null){return a=>{r(e,t).callDelete().catch(()=>a(o(e,!0))),a(o(e,!1))}}},ZtJp:function(e,t,a){a.d(t,"a",(function(){return r}));var n=a("q1tI"),i=a.n(n);function r({size:e,iconColor:t,backgroundColor:a,grayscale:n=!1}){const r=t||(n?"#333333":"#8E8E8E"),o=a||"#EFEFEF";return i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 36 36",version:"1.1"},i.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},i.a.createElement("circle",{fill:o,cx:"18",cy:"18",r:"18"}),i.a.createElement("g",{id:"Icons/link",transform:"translate(9.000000, 9.000000)",fill:r,fillRule:"nonzero"},i.a.createElement("path",{d:"M15.75075,5.43075 L12.711,8.46975 L11.916,7.67475 L12.42,7.17075 C12.8595,6.732 12.8595,6.0195 12.42,5.58 C11.9805,5.14125 11.268,5.14125 10.82925,5.58 L10.326,6.084 L9.53025,5.289 L12.56925,2.25 L15.75075,5.43075 Z M8.46975,12.71175 L5.43075,15.75075 L2.24925,12.57 L5.289,9.53025 L6.08325,10.32525 L5.58,10.82925 C5.14125,11.26875 5.14125,11.9805 5.58,12.42 C6.01875,12.8595 6.732,12.85875 7.17075,12.42 L7.674,11.916 L8.46975,12.71175 Z M10.97925,0.65925 L7.9395,3.69825 C7.06125,4.5765 7.06125,6.00075 7.9395,6.87975 L8.73525,7.67475 L7.674,8.73525 L6.879,7.9395 C6.00075,7.06125 4.5765,7.06125 3.69825,7.9395 L0.65925,10.9785 C-0.21975,11.8575 -0.21975,13.28175 0.65925,14.16 L3.84,17.3415 C4.71825,18.21975 6.1425,18.21975 7.02075,17.3415 L10.0605,14.3025 C10.93875,13.4235 10.93875,11.99925 10.0605,11.121 L9.2655,10.32525 L10.326,9.2655 L11.121,10.0605 C11.99925,10.93875 13.4235,10.93875 14.30175,10.0605 L17.34075,7.0215 C18.21975,6.14325 18.21975,4.719 17.34075,3.84 L14.16,0.65925 C13.28175,-0.21975 11.8575,-0.21975 10.97925,0.65925 Z",id:"path-1"}))))}},geGc:function(e,t,a){a.r(t),a.d(t,"default",(function(){return Ee}));var n=a("q1tI"),i=a.n(n),r=a("/MKj"),o=a("Ye/N"),s=a("Cufx"),l=a("oVol"),c=a("n6mq");function d(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class u extends n.Component{constructor(...e){super(...e),d(this,"state",{textValue:this.props.initialTextValue||""}),d(this,"handleSendMessage",()=>{this.props.onSendMessage(this.props.recipient,this.state.textValue)}),d(this,"handleTextValueChange",({value:e})=>{this.setState({textValue:e})})}render(){const{isFlyout:e,onCancelDraft:t,viewerId:a}=this.props,n=this.props.recipient||{},r="conversation_share_suggestion"===n.type,l=r?(n.users||[]).filter(e=>e.id!==a):[];return i.a.createElement(c.e,{paddingX:4,width:360},i.a.createElement(c.e,{alignItems:"center",display:"flex",paddingY:4},i.a.createElement(c.e,{height:48,paddingX:1,width:56},r?i.a.createElement(c.r,{collaborators:l.map(e=>({name:e.full_name||e.first_name,src:e.image_large_url}))}):i.a.createElement(s.a,{name:n.full_name||n.email||" ",src:n.image_large_url})),i.a.createElement(c.e,{direction:"column",flex:"grow",marginStart:1},i.a.createElement(c.V,{weight:"bold"},r?l.map(e=>e.first_name||e.full_name).join(", "):n.full_name||n.email),i.a.createElement(c.V,{color:"gray",size:"sm"},r||n.username?n.username:o.a._("Invite by email","shareSheet.SendObjectDraft.inviteByEmailSubheader","Subheader shown when username is not avaible"))),e?i.a.createElement(c.u,{accessibilityLabel:o.a._("Cancel share to user","shareSheet.SendObjectDraft.cancelButton","Accessibility label for close button"),icon:"cancel",iconColor:"darkGray",onClick:t,size:"sm"}):null),i.a.createElement(c.e,null,i.a.createElement(c.e,null,i.a.createElement(c.W,{id:"sendObjectMessage",onChange:this.handleTextValueChange,placeholder:o.a._("Add a message","shareSheet.SendObjectDraft.textareaPlaceholder","Placeholder that tells user this is where they can add a messaage"),value:this.state.textValue||""})),i.a.createElement(c.e,{alignItems:"center",display:"flex",justifyContent:"center",paddingY:4},i.a.createElement(c.f,{color:"red",inline:!0,onClick:this.handleSendMessage,size:"lg",text:o.a._("Send","shareSheet.SendObjectDraft.sendButton","Button that sends out to email"),type:"submit"}))))}}var h=Object(r.connect)((function({viewer:e}){return{viewerId:e.isAuth?e.id:""}}),()=>({}))(u),m=a("xdpg");function p(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class g extends n.Component{constructor(...e){super(...e),p(this,"state",{textValue:this.props.initialTextValue||"",emailValue:""}),p(this,"handleSendEmail",(e,t)=>{if(e){const a={email:e,full_name:e,id:"",image_large_url:"",username:""};this.props.onSendMessage(a,t)}}),p(this,"handleTextValueChange",({value:e})=>{this.setState({textValue:e})}),p(this,"handleEmailValueChange",({value:e})=>{this.setState({emailValue:e})})}render(){const{isFlyout:e,onCancelDraft:t}=this.props;return i.a.createElement(c.e,{display:"flex",direction:"column",column:12,paddingX:4,width:360},i.a.createElement(c.e,{display:"flex",alignItems:"center",paddingY:4},i.a.createElement(c.e,{flex:"grow"},i.a.createElement(c.V,{weight:"bold"},o.a._("Send to","shareSheet.SendToEmail.label","Send to label"))),e?i.a.createElement(c.u,{accessibilityLabel:o.a._("Cancel share to user","accessibility label for close button","accessibility label for close button"),icon:"cancel",onClick:t,size:"sm"}):null),i.a.createElement(c.e,{display:"flex",direction:"column"},i.a.createElement(c.e,{paddingY:1,marginBottom:4},i.a.createElement(c.W,{id:"email",onChange:this.handleEmailValueChange,placeholder:o.a._("Enter email address","Email address to send to","Email address to send to"),value:this.state.emailValue||"",rows:1})),i.a.createElement(c.W,{id:"sendObjectMessage",onChange:this.handleTextValueChange,placeholder:o.a._("Add a message","shareSheet.SendToEmail.textareaPlaceholder","Placeholder that tells user this is where they can add a messaage"),value:this.state.textValue||""}),i.a.createElement(c.e,{paddingY:4,display:"flex",justifyContent:"center"},i.a.createElement(c.f,{inline:!0,size:"lg",color:"red",onClick:()=>this.handleSendEmail(this.state.emailValue||"",this.state.textValue||""),type:"submit",text:o.a._("Send","shareSheet.SendToEmail.sendButton","Button that sends out to email"),disabled:!Object(m.g)(this.state.emailValue)}))))}}var f=a("vvax");function b({email:e,isValid:t,onClick:a,showSendEmailText:n}){const r=t?o.a._("Click to send!","SendObject.sendToEmail.sendToSubheader","Subeader that indicates user to click in order to send an object"):o.a._("Keep typing!","SendObject.sendToEmail.sendToSubheader","Subeader that indicates user to keep typing until the email address is valid"),l=n?Object(f.b)(o.a._("Email {{ email }}","SendObject.sendToEmail.sendToHeader","Header that indicates user the email address typed in the search field"),{email:e}):Object(f.b)(o.a._("Invite {{ email }}","SendObject.sendToEmail.sendToHeader","Header that indicates user the search query typed in the search field"),{email:e});return i.a.createElement(c.e,{marginBottom:4},i.a.createElement(c.U,{onTap:()=>{t&&a()}},i.a.createElement(c.e,{display:"flex"},i.a.createElement(c.e,{height:48,width:48},i.a.createElement(s.a,{name:e})),i.a.createElement(c.e,{paddingX:3,display:"flex",justifyContent:"center",direction:"column"},i.a.createElement(c.V,{weight:"bold",size:"lg"},l),i.a.createElement(c.V,{size:"sm",color:"gray"},r)))))}var E=a("iS6d"),S=a("w1Xl"),v=a("8vQR"),y=a("4cpq");function C(e){const{shouldShowViewChat:t,isSent:a,onClickSend:n,onViewConversation:r}=e;return i.a.createElement(c.e,{display:"flex"},t?i.a.createElement(c.U,{mouseCursor:"pointer",onTap:({event:e})=>{e.stopPropagation(),r()}},i.a.createElement(c.e,{alignItems:"center","data-test-id":"sharesheet-viewchat-link",display:"flex"},i.a.createElement(c.V,{color:"darkGray",size:"md",truncate:!0,weight:"bold"},o.a._("View chat","SendObject.contactList.viewChatLink","View chat with last sent item")),i.a.createElement(c.e,{marginStart:1},i.a.createElement(c.t,{accessibilityLabel:o.a._("View chat forward icon","SendObject.contactList.viewChatLink","View chat with last sent item"),color:"darkGray",icon:"arrow-forward",size:14})))):i.a.createElement(y.a,{id:a?"sharesheet-viewchat-link":"sharesheet-send-button"},i.a.createElement(c.f,{color:a?"gray":"red",disabled:a,inline:!0,onClick:n,size:"lg",text:a?o.a._("Sent","SendObject.LEGOSendObjectTypeahead","Pin is sent to current contact"):o.a._("Send","SendObject.LEGOSendObjectTypeahead","Send pin to current contact")})))}var w=a("U4JR"),_=a("0SCs");function k(e){var t,a,o;const{item:l,textFieldValue:d,onSendMessage:u,onShowSendDraft:h,onViewConversation:m,sentHistory:p}=e,[g,f]=Object(n.useState)(!1),[b,y]=Object(n.useState)(!1),[k,j]=Object(n.useState)(!1),x=l.id||"string"==typeof l.email&&l.email||"",O=x in p,L=""!==d,I=null!==(t=p[x])&&void 0!==t?t:"",T=Object(r.useSelector)(e=>e.viewer.id||""),D="conversation_share_suggestion"===l.type,P=D?(l.users||[]).filter(e=>e.id!==T):[],F=l.debug_reason&&l.debug_reason.readable_reason;let B="";"string"!=typeof l.full_name||l.full_name.match(/^\s*$/)?"string"!=typeof l.email||l.email.match(/^\s*$/)||(B=l.email):B=l.full_name;const{anyEnabled:R,customActivate:A}=Object(_.b)("web_hide_contact_suggestions");return g?i.a.createElement(S.a,{identifier:null!==(a=l.id)&&void 0!==a?a:l.email,onUndoHide:()=>f(!1),component:13029,element:11918,isGroupChat:P.length>1}):i.a.createElement(c.e,{alignItems:"center","data-test-id":"sharesheet-contact-item",display:"flex",paddingY:2,position:"relative",width:"100%"},i.a.createElement(c.U,{mouseCursor:"pointer",onTap:({event:e})=>{e.stopPropagation(),h(l)}},i.a.createElement(c.i,{onMouseEnter:()=>{A(),y(!(L||k&&O))},onMouseLeave:()=>y(!1)},i.a.createElement(c.e,{alignItems:"center",display:"flex"},i.a.createElement(c.e,{height:48,width:48},D?i.a.createElement(c.r,{collaborators:P.map(e=>({name:e.full_name||e.first_name,src:e.image_medium_url}))}):i.a.createElement(s.a,{accessibilityLabel:"",name:B,src:l.image_medium_url})),i.a.createElement(c.e,{alignItems:"center",display:"flex",flex:"grow",height:"100%",width:"100%"},i.a.createElement(c.e,{alignItems:"center",dangerouslySetInlineStyle:{__style:{paddingLeft:8,paddingRight:16}},flex:"grow"},i.a.createElement(c.e,{marginBottom:1},i.a.createElement(c.V,{color:"darkGray",truncate:!0,weight:"bold"},D?P.map(e=>e.first_name||e.full_name).join(", "):B)),L&&F?i.a.createElement(c.V,{color:"gray",size:"sm"},F):"string"==typeof l.username&&i.a.createElement(c.V,{color:"gray",size:"sm"},l.username)),i.a.createElement(c.e,{flex:"none",display:"flex",justifyContent:"end",alignItems:"center"},R&&b&&i.a.createElement(c.e,{display:"flex",marginEnd:2},i.a.createElement(v.a,{identifier:null!==(o=l.id)&&void 0!==o?o:l.email,onHide:()=>f(!0),component:13029,element:11917})),i.a.createElement(C,{shouldShowViewChat:O,isSent:k,onClickSend:({event:t})=>{t.stopPropagation(),(()=>{var t;const{idx:a}=e,n=d?1044:1039;Object(w.a)(101,{component:13029,element:n,entered_query:d,result_index:a+1,rs:null===(t=l.debug_reason)||void 0===t?void 0:t.reason})})(),j(!0),u(l),y(!1)},onViewConversation:()=>m(I)})))))),i.a.createElement(E.a.Consumer,null,e=>{var t;return e?i.a.createElement(c.e,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none",backgroundColor:"rgba(255,255,255,0.5)"}},position:"absolute",right:!0,top:!0},i.a.createElement(c.s,{color:"blue",size:"sm"},null===(t=l.debug_reason)||void 0===t?void 0:t.reason)):null}))}var j=a("6vq5"),x=a("ANjH"),O=a("ZdHo"),L=a("fhk9");var I=Object(x.compose)(Object(j.a)({name:"ShareSuggestionsResource",key:"shareSuggestionsResource",options:{field_set_key:"default"}},{allowStale:!1}),Object(j.a)({name:"ShareSuggestionsTypeaheadResource",key:"shareSuggestionsTypeaheadResource",options:e=>({field_set_key:"default",term:e.value||"default"})},{allowStale:!1}))((function(e){const{onChange:t,onSendMessage:a,onShowSendDraft:s,onShowImportContacts:l,sentHistory:d,value:u,shareSuggestionsResource:{isLoaded:h},shareSuggestionsTypeaheadResource:{isLoaded:p},paddingX:g}=e,f=Object(r.useSelector)(e=>e.social.shareSuggestions[u]||[]);Object(n.useEffect)(()=>{if(!u&&h){const e=f.length>0?7511:7512;Object(w.a)(e,{component:56,view:70,viewParameter:256})}},[h]);const E=Object(r.useDispatch)(),S=t=>{const{isFlyout:a,onHide:n}=e;!a&&n&&n(),(e=>{E(Object(O.e)(e))})(t),E(L.a)},v=f.map((e,t)=>{const n=`${t}-${u?"search":"suggestion"}`,r={item:e,idx:t,onSendMessage:a,onShowSendDraft:s,onViewConversation:S,sentHistory:d,textFieldValue:u};return i.a.createElement(k,Object.assign({key:n},r))}),y=0===f.length&&(""===u&&!h||""!==u&&!p);return i.a.createElement(c.e,null,i.a.createElement(c.e,{display:"flex",paddingX:g,position:"relative"},i.a.createElement(c.e,{"data-test-id":"sharesheet-search-user",width:"100%"},i.a.createElement(c.K,{accessibilityLabel:o.a._("Search for a name or email","SendObject.searchbar.accesibilityLabel","accessible label"),id:"search",onChange:t,placeholder:o.a._("Name or email","SendObject.searchbar.placeholder","Placeholder text on search bar for searching contacts on sharesheet"),size:"lg",value:u}))),i.a.createElement(c.e,{dangerouslySetInlineStyle:{__style:{overflowY:"scroll",overflowX:"hidden",zIndex:1e3}},height:185,marginBottom:4,marginTop:2},i.a.createElement(c.e,{paddingX:g},i.a.createElement(c.e,{paddingY:y?2:0},i.a.createElement(c.O,{accessibilityLabel:o.a._("Loading Conversation Messages","SendObject.contactList.spinner","Spinner that indicates then the contact list is being loaded"),show:y})),i.a.createElement(c.e,null,v,u&&i.a.createElement(c.e,null,i.a.createElement(c.i,null,i.a.createElement(b,{email:u,isSend:!0,isValid:Object(m.g)(u),onClick:()=>s({email:u,full_name:u}),showSendEmailText:!1})),!y&&i.a.createElement(c.e,{width:"100%"},i.a.createElement(c.i,null,i.a.createElement(c.U,{onTap:l},i.a.createElement(c.e,{alignItems:"center",direction:"row",display:"flex"},i.a.createElement(c.e,{alignItems:"center",color:"lightGray",display:"flex",height:48,justifyContent:"center",rounding:"circle",width:48},i.a.createElement(c.t,{accessibilityLabel:"people",color:"darkGray",icon:"people",size:24})),i.a.createElement(c.e,{paddingX:3},i.a.createElement(c.V,{weight:"bold"},o.a._("Choose from contacts","SendObject.typeahead.contactHeader","Header that indicates user to choose from contact list"))))))))))))})),T=a("ZtJp"),D=a("WM6B");var P=({text:e})=>i.a.createElement(c.V,{align:"center",size:"sm"},i.a.createElement(D.a,{maxWidthPx:128,maxHeightPx:50},e));var F=({iconSize:e,marginEnd:t,children:a})=>i.a.createElement(c.e,{alignItems:"center",direction:"column",display:"flex",marginEnd:t?2:0,width:e+24},a);const B=()=>a.e("clipboardLibrary").then(a.t.bind(null,"sxGJ",7));var R=({onClick:e,iconColor:t,iconSize:a,backgroundColor:r,invitePath:s})=>{const[l,d]=Object(n.useState)(!1),u=Object(n.useRef)(null);return Object(n.useEffect)(()=>{B().then(({default:e})=>{e.isSupported()&&(e=>{if(!u.current||!B)return;new e(u.current,{text:()=>s}).on("error",e=>{throw new Error("<ShareSocialBar /> error: copy command failed")})})(e)})},[s]),i.a.createElement(F,{iconSize:a,marginEnd:!1},i.a.createElement(c.e,{ref:u},i.a.createElement(c.U,{onTap:()=>{e(),d(!0),setTimeout(()=>{d(!1)},3e3)}},i.a.createElement(c.e,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center"},i.a.createElement(T.a,{backgroundColor:r,iconColor:t,size:a}))),i.a.createElement(P,{text:l?o.a._("Link copied!","shareSheet.socialBar.copyLinkButton.LinkCopied","Notification link was copied to clipboard"):o.a._("Copy link","shareSheet.socialBar.copyLinkButton.CopyLink","Copy Pin URL to clipboard")})))},A=a("SNfw"),M=a("UTsl");function U({size:e=48,iconColor:t,backgroundColor:a,grayscale:n=!1}){const r=t||(n?"#333333":"#8E8E8E"),o=a||"#EFEFEF";return i.a.createElement("svg",{viewBox:`0 0 ${e} ${e}`,width:e,height:e,xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("g",{fill:"none",strokeWidth:"1",stroke:"none",fillRule:"evenodd"},i.a.createElement("circle",{fill:o,cx:"24",cy:"24",r:"24",stroke:"none"}),i.a.createElement("g",{transform:"translate(14.000000, 14.000000)",fill:r},i.a.createElement("circle",{cx:"10",cy:"10",r:"6"}),i.a.createElement("circle",{cx:"17",cy:"3",r:"2"}),i.a.createElement("circle",{cx:"17",cy:"17",r:"2"}),i.a.createElement("circle",{cx:"19",cy:"10",r:"1"}),i.a.createElement("circle",{cx:"10",cy:"19",r:"1"}),i.a.createElement("circle",{cx:"1",cy:"10",r:"1"}),i.a.createElement("circle",{cx:"10",cy:"1",r:"1"}),i.a.createElement("circle",{cx:"3",cy:"17",r:"2"}),i.a.createElement("circle",{cx:"3",cy:"3",r:"2"}))))}var N=a("v/Q4");function z({sharedObject:e,onCreatePincodeClick:t,iconColor:a,iconSize:n,backgroundColor:r}){const s=Object(N.a)();return t&&[l.a.BOARD,l.a.PINNER,l.a.USER].includes(e.type)&&s.isAuth&&(e.id===s.id||s.isEmployee)?i.a.createElement(F,{key:"pincode",iconSize:n,marginEnd:!0},i.a.createElement(c.U,{fullWidth:!1,onTap:t},i.a.createElement(U,{backgroundColor:r,iconColor:a,size:n})),i.a.createElement(P,{text:o.a._("Pincode","Share via pincode","Share via pincode")})):null}var V=a("zwad"),H=a("mBfy"),W=a("udob"),G=a("joD6");const q="#EFEFEF",X="#333333";function Y({size:e=48,grayscale:t=!1}){const a=t?X:"#FFFFFF",n=t?q:"#1877f2";return i.a.createElement("svg",{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${e} ${e}`,width:e,height:e},i.a.createElement("title",null,"f_logo_RGB-Blue_1024"),i.a.createElement("g",{id:"surface1"},i.a.createElement("path",{style:{fill:n,stroke:"transparent"},d:"M 48 24 C 48 10.746094 37.253906 0 24 0 C 10.746094 0 0 10.746094 0 24 C 0 35.980469 8.777344 45.90625 20.25 47.707031 L 20.25 30.9375 L 14.15625 30.9375 L 14.15625 24 L 20.25 24 L 20.25 18.710938 C 20.25 12.699219 23.832031 9.375 29.316406 9.375 C 31.941406 9.375 34.6875 9.84375 34.6875 9.84375 L 34.6875 15.75 L 31.660156 15.75 C 28.679688 15.75 27.75 17.601562 27.75 19.5 L 27.75 24 L 34.40625 24 L 33.34375 30.9375 L 27.75 30.9375 L 27.75 47.707031 C 39.222656 45.90625 48 35.980469 48 24 Z M 48 24 "}),i.a.createElement("path",{style:{fill:a,stroke:"transparent"},d:"M 33.34375 30.9375 L 34.40625 24 L 27.75 24 L 27.75 19.5 C 27.75 17.601562 28.679688 15.75 31.660156 15.75 L 34.6875 15.75 L 34.6875 9.84375 C 34.6875 9.84375 31.941406 9.375 29.316406 9.375 C 23.832031 9.375 20.25 12.699219 20.25 18.710938 L 20.25 24 L 14.15625 24 L 14.15625 30.9375 L 20.25 30.9375 L 20.25 47.707031 C 22.734375 48.097656 25.265625 48.097656 27.75 47.707031 L 27.75 30.9375 Z M 33.34375 30.9375 "})))}function Z({size:e=48,grayscale:t=!1}){const a=t?X:"#FFFFFF",n=t?q:"#0DC2FF";return i.a.createElement("svg",{viewBox:`0 0 ${e} ${e}`,width:e,height:e,fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("g",{id:"surface1"},i.a.createElement("path",{style:{fill:n,stroke:"transparent"},d:"M 48 24 C 48 37.253906 37.253906 48 24 48 C 10.746094 48 0 37.253906 0 24 C 0 10.746094 10.746094 0 24 0 C 37.253906 0 48 10.746094 48 24 Z M 48 24 "}),i.a.createElement("path",{style:{fill:a,stroke:"transparent"},d:"M 19.609375 36.660156 C 30.253906 36.660156 36.070312 27.839844 36.070312 20.195312 C 36.070312 19.945312 36.070312 19.691406 36.058594 19.453125 C 37.1875 18.636719 38.171875 17.617188 38.953125 16.453125 C 37.921875 16.90625 36.804688 17.21875 35.628906 17.363281 C 36.828125 16.644531 37.738281 15.515625 38.171875 14.160156 C 37.054688 14.820312 35.820312 15.300781 34.5 15.5625 C 33.445312 14.4375 31.945312 13.738281 30.277344 13.738281 C 27.085938 13.738281 24.492188 16.332031 24.492188 19.523438 C 24.492188 19.980469 24.539062 20.425781 24.648438 20.84375 C 19.835938 20.605469 15.574219 18.300781 12.71875 14.796875 C 12.226562 15.648438 11.941406 16.644531 11.941406 17.699219 C 11.941406 19.703125 12.960938 21.480469 14.519531 22.511719 C 13.570312 22.488281 12.683594 22.222656 11.902344 21.792969 C 11.902344 21.816406 11.902344 21.839844 11.902344 21.863281 C 11.902344 24.671875 13.894531 27 16.546875 27.539062 C 16.066406 27.671875 15.550781 27.742188 15.023438 27.742188 C 14.652344 27.742188 14.292969 27.707031 13.933594 27.636719 C 14.664062 29.941406 16.800781 31.609375 19.332031 31.65625 C 17.351562 33.203125 14.855469 34.128906 12.144531 34.128906 C 11.675781 34.128906 11.21875 34.105469 10.765625 34.042969 C 13.296875 35.699219 16.34375 36.660156 19.609375 36.660156 "})))}function $({size:e=48,grayscale:t=!1}){const a=t?X:"#FFFFFF",n=t?q:"#25d366";return i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${e} ${e}`,width:e,height:e,version:"1.1"},i.a.createElement("g",{id:"surface1"},i.a.createElement("path",{style:{fill:n,stroke:"transparent"},d:"M 48 24 C 48 37.253906 37.253906 48 24 48 C 10.746094 48 0 37.253906 0 24 C 0 10.746094 10.746094 0 24 0 C 37.253906 0 48 10.746094 48 24 Z M 48 24 "}),i.a.createElement("path",{style:{fill:a,stroke:"transparent"},d:"M 33.851562 13.910156 C 28.871094 9.039062 21.070312 8.566406 15.539062 12.800781 C 10.011719 17.039062 8.4375 24.695312 11.851562 30.769531 L 9.871094 38 L 17.28125 36 C 19.332031 37.148438 21.644531 37.757812 24 37.769531 C 31.730469 37.769531 38 31.503906 38 23.769531 C 38.019531 20.058594 36.542969 16.496094 33.910156 13.878906 M 24 35.410156 C 21.921875 35.410156 19.878906 34.851562 18.089844 33.789062 L 17.671875 33.539062 L 13.269531 34.699219 L 14.441406 30.410156 L 14.128906 30 C 11.304688 25.523438 11.863281 19.707031 15.484375 15.847656 C 19.109375 11.992188 24.886719 11.074219 29.527344 13.621094 C 34.167969 16.164062 36.5 21.523438 35.199219 26.652344 C 33.898438 31.785156 29.292969 35.386719 24 35.410156 M 30.371094 26.710938 C 30.019531 26.539062 28.300781 25.710938 27.980469 25.578125 C 27.660156 25.449219 27.429688 25.398438 27.199219 25.75 C 26.96875 26.101562 26.300781 26.890625 26.089844 27.121094 C 25.878906 27.351562 25.679688 27.378906 25.328125 27.210938 C 24.304688 26.792969 23.359375 26.203125 22.53125 25.46875 C 21.765625 24.765625 21.109375 23.953125 20.578125 23.058594 C 20.378906 22.710938 20.578125 22.519531 20.738281 22.339844 C 20.898438 22.160156 21.089844 21.929688 21.261719 21.730469 C 21.40625 21.554688 21.523438 21.359375 21.609375 21.148438 C 21.71875 20.960938 21.71875 20.730469 21.609375 20.539062 C 21.519531 20.359375 20.820312 18.640625 20.53125 17.941406 C 20.238281 17.238281 19.960938 17.351562 19.75 17.339844 L 19 17.339844 C 18.640625 17.351562 18.304688 17.511719 18.070312 17.78125 C 17.269531 18.53125 16.820312 19.589844 16.839844 20.691406 C 16.957031 22.007812 17.453125 23.261719 18.269531 24.300781 C 19.773438 26.554688 21.84375 28.375 24.269531 29.578125 C 24.921875 29.859375 25.589844 30.105469 26.269531 30.308594 C 26.980469 30.527344 27.734375 30.578125 28.46875 30.449219 C 29.453125 30.25 30.308594 29.648438 30.828125 28.789062 C 31.058594 28.269531 31.128906 27.691406 31.03125 27.128906 C 30.941406 26.988281 30.710938 26.898438 30.359375 26.71875 "})))}var K=a("nGHF");function Q(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const J=48,ee="#111111",te="#EFEFEF",ae={backgroundColor:"#ffffff",border:"none",padding:0};class ne extends n.Component{constructor(...e){super(...e),Q(this,"state",{invitePath:"",whatsappInviteData:null,inviteData:null,whatsappURL:"",whatsAppLogged:!1,copyLinkLogged:!1}),Q(this,"mounted",!1),Q(this,"logShareInviteLink",()=>{const{copyLinkLogged:e,inviteData:t}=this.state,a=this.getShareOptions(12);e||(W.a.logShareInvite(a,t),this.setState({copyLinkLogged:!0}))}),Q(this,"createShareInviteLink",()=>{const e=this.getShareOptions(12),{inviteData:t}=this.state;t||W.a.createShareInviteData(e).then(e=>{const t=e.invite_url;t?this.setState({invitePath:t,inviteData:e}):this.setState({inviteData:e})})}),Q(this,"selectText",e=>{e.target.select()})}componentDidMount(){this.mounted=!0,this.getWhatsAppURL(),this.createShareInviteLink()}componentWillUnmount(){this.mounted=!1}getShareOptions(e){const{sharedObject:t}=this.props;return{invite_category:3,invite_channel:e,object_type:t.type,object_id:t.id,name:t.name,description:t.description||"",path:t.url,picture:t.imageUrl}}getSendDisplayText(e){switch(e){case l.a.BOARD:return o.a._("Send this board","Sharesheet.ShareSocialBar","social media sharing board");case l.a.PIN:return o.a._("Send this Pin","Sharesheet.ShareSocialBar","social media sharing Pin");case l.a.PINNER:return o.a._("Send this profile","Sharesheet.ShareSocialBar","social media sharing pinner profile");default:return""}}getWhatsAppURL(){const e=this.getShareOptions(10);W.a.createShareInviteData(e).then(e=>{const t=e.message;if(t){const a=encodeURIComponent(t);this.setState({whatsappInviteData:e,whatsappURL:"https://web.whatsapp.com/send?text="+a})}else this.setState({whatsappURL:"https://web.whatsapp.com/send?text="+V.a.absolutify(this.props.sharedObject.url)})})}checkWritePermissions(){return!!H.default.isWriteBanned()}handleSocialShareClick(e){if(this.checkWritePermissions())return;let t=46;"facebook"===e?(this.openFacebookDialog(),t=257):"twitter"===e?(this.openTwitterDialog(),t=256):"messenger"===e?(this.openFbMessengerDialog(),t=950):"whatsapp"===e?(this.openWhatsAppDialog(),t=951):"pincode"===e?this.props.onCreatePincodeClick&&this.props.onCreatePincodeClick():"copylink"===e?(this.openShareUrlLink(),t=100):"email"===e&&(this.openEmailDialog(),t=258),this.props.onExternalSend&&this.props.onExternalSend(),Object(w.a)(101,{component:153,element:t})}openEmailDialog(){this.props.onEmailIconClick()}getFacebookSDK(e){M.default.ensureInit(t=>e(t))}openFacebookDialog(){this.getFacebookSDK(e=>{M.default.logIn(e,()=>{W.a.shareFacebookInvite(this.getShareOptions(5))})})}openFbMessengerDialog(){this.getFacebookSDK(e=>{M.default.logIn(e,()=>{W.a.shareFbMessengerInvite(this.getShareOptions(6))})})}openWhatsAppDialog(){const e=this.getShareOptions(10);this.state.whatsAppLogged||(W.a.logShareInvite(e,this.state.whatsappInviteData),this.setState({whatsAppLogged:!0}))}openShareUrlLink(){this.logShareInviteLink()}openTwitterDialog(){W.a.shareTwitterInvite(this.getShareOptions(9))}renderShareOptions(){const{sharedObject:e,onCreatePincodeClick:t}=this.props;return i.a.createElement(n.Fragment,null,i.a.createElement(c.e,{display:"flex",justifyContent:"around"},i.a.createElement(F,{iconSize:J,marginEnd:!0},i.a.createElement("button",{"aria-label":o.a._("Share on WhatsApp","sharesheet.shareSocialBar.ShareWhatsapp","Button that will share via WhatsApp"),onClick:()=>this.handleSocialShareClick("whatsapp"),style:ae,tabIndex:"-1"},i.a.createElement("a",{href:this.state.whatsappURL,rel:"noopener noreferrer",target:"_blank"},i.a.createElement($,{size:J}))),i.a.createElement(P,{text:o.a._("WhatsApp","sharesheet.shareSocialBar.ShareWhatsappLabel","WhatsApp button label")})),i.a.createElement(F,{iconSize:J,marginEnd:!0},i.a.createElement("button",{"aria-label":o.a._("Share on Facebook","sharesheet.shareSocialBar.ShareFacebook","Button that will share via Facebook"),onClick:()=>this.handleSocialShareClick("facebook"),style:ae},i.a.createElement(Y,{size:J})),i.a.createElement(P,{text:o.a._("Facebook","sharesheet.shareSocialBar.ShareFacebookLabel","Facebook button label")})),i.a.createElement(F,{iconSize:J,marginEnd:!0},i.a.createElement("button",{"aria-label":o.a._("Share on Twitter","sharesheet.shareSocialBar.ShareTwitter","Button that will share via Twitter"),onClick:()=>this.handleSocialShareClick("twitter"),style:ae},i.a.createElement(Z,{size:J})),i.a.createElement(P,{text:o.a._("Twitter","sharesheet.shareSocialBar.ShareTwitterLabel","Twitter button label")})),i.a.createElement(F,{iconSize:J,marginEnd:!1},this.renderEmail())),i.a.createElement(c.e,{display:"flex",paddingY:4},i.a.createElement(z,{backgroundColor:te,iconColor:ee,iconSize:J,onCreatePincodeClick:t,sharedObject:e}),i.a.createElement(R,{key:"copylink",backgroundColor:te,iconColor:ee,iconSize:J,invitePath:this.state.invitePath,onClick:()=>this.handleSocialShareClick("copylink")})))}renderEmail(){return i.a.createElement(F,{key:"email",iconSize:J,marginEnd:!1},i.a.createElement(c.e,{display:"inlineBlock"},i.a.createElement("button",{"aria-label":o.a._("Share on Email","sharesheet.shareSocialBar.ShareEmail","Button that will share via Email"),onClick:()=>this.handleSocialShareClick("email"),style:ae},i.a.createElement(A.a,{backgroundColor:te,iconColor:ee,size:J}))),i.a.createElement(P,{text:o.a._("Email","Share via email","Share via email")}))}render(){const{sharedObject:e,paddingX:t}=this.props;return i.a.createElement(c.e,{paddingX:t},i.a.createElement(c.e,{alignContent:"center",alignItems:"center",display:"flex",height:64,justifyContent:"center"},i.a.createElement(c.V,{size:"lg",weight:"bold"},this.getSendDisplayText(e.type))),i.a.createElement(c.e,{paddingX:2},this.renderShareOptions()))}}var ie=Object(x.compose)(G.a,K.c)(ne),re=a("7w6Q"),oe=a("eOdZ"),se=a("CvCA");function le(e){switch(e){case"AuthHomefeed":return 13;case"BaseBoardPinGrid":case"BoardActivityThreadItem":return 5;case"BoardMoreIdeasTabContent":return 23;case"ConversationView":return 19;case"FollowingFeedGrid":return 21;case"ProfilePromotablePinCard":return 1;case"RelatedPinGrid":case"RelatedProductsFeed":return 14;case"RelatedProductsExploreTab":return 4;case"ShoppingPackageItem":case"ShoppingSquareGridHomefeedBoth":case"ShoppingSquareGridPdp":case"ShoppingSquareGridRelatedProducts":case"ShoppingSquareGridRelatedProductsBoth":case"ProductPinsFeed":return 27;case"StoryPinFeedGrid":return 28;case"TodayArticleFeed":return 20;case"UserProfilePinGrid":default:return e}}var ce=a("ENhS");const de=(e,t)=>{const a={};return e.forEach(e=>{a[e]=t}),a};var ue=Object(r.connect)(null,e=>({createConversation:t=>e(Object(O.b)(t)),sendMessage:t=>e(t)}))((function(e){const[t,a]=Object(n.useState)(!1),[r,s]=Object(n.useState)(null),[l,d]=Object(n.useState)({}),[u,m]=Object(n.useState)(""),[p]=Object(n.useState)((e=>"today_article"===e?o.a._("Check out this article on Pinterest!","sendObject.initialTextValue.todayArticle","pre-populated share message when a user tries to send a Today Article"):"")(e.sendType)),{showOneToast:f}=Object(K.b)(),{surface:b}=Object(ce.b)(),E=(t,n)=>{a(!1),e.onMessageSent(),((t,a)=>{const{sharedObject:n}=e,i=n.id;re.a.increment("web.sharesheet.internal.send",1,{status:"success"}),Object(w.a)(180,{element:276,objectId:i,conversation_id:t,pin_id:a})})(t,n)},S=e=>{re.a.increment("web.sharesheet.internal.send",1,{status:"fail"});const t=e.message_detail||e.message;t&&f(({onHide:e})=>i.a.createElement(se.a,{color:"red",duration:5e3,onHide:e,text:t}))},v=async(t,a,n)=>{const{createConversation:i,sharedObject:r,sendType:o}=e,s=r.id,c={emails:a,user_ids:t,text:n,source:le(b)};c[o]=s;const u=oe.a.create("ConversationsResource",c);try{const e=await u.callCreate(),n=e&&e.resource_response.data;i(n),E(n.id,"pin"===o?s:null),t.length>0?d({...l,...de(t,n.id)}):d({...l,...de(a,n.id)})}catch(h){S(h)}},y=(t,a)=>{"conversation_share_suggestion"===t.type?((t,a,n)=>{const{sendMessage:i,sharedObject:r,sendType:o}=e;let s;switch(o){case"pin":s="pinId";break;case"board":s="boardId";break;case"did_it":s="didItId";break;case"user":case"pinner":s="userId"}const c=s?Object(O.g)(t,{text:a,[s]:r.id,source:le(b)}):void 0;c&&(i(c),c.getPromise().then(()=>{E(t,"pin"===o?r.id:null),d({...l,[t]:t})}).catch(e=>{S(e)}))})(t.id,a):"contact_share_suggestion"!==t.type&&"user_share_suggestion"!==t.type&&"user"!==t.type||!t.username?v([],[t.email],a):v([t.id],[],a),Object(w.a)(101,{component:56,element:276})},C=()=>{a(!1),s(null)},{onCreatePincodeClick:_,onShowImport:k,sendType:j,sharedObject:x,isFlyout:L,onHide:T,onExternalSend:D}=e,P="email"===r?i.a.createElement(g,{initialTextValue:p,isFlyout:L,objectId:x.id,objectType:j,onCancelDraft:C,onHide:T,onSendMessage:y}):i.a.createElement(h,{initialTextValue:p,isFlyout:L,objectId:x.id,objectType:j,onCancelDraft:C,onHide:T,onSendMessage:y,recipient:"object"==typeof r?r:void 0});return t?P:i.a.createElement(c.e,{color:"white"},i.a.createElement(ie,{onCreatePincodeClick:_,onEmailIconClick:()=>{a(!0),s("email")},onExternalSend:D,onHide:T,paddingX:4,sharedObject:x}),i.a.createElement(c.e,null,i.a.createElement(I,{isFlyout:L,onChange:({value:e})=>{m(e),Object(w.a)(4113,{component:13029,element:1043})},onHide:T,onSendMessage:y,onShowImportContacts:k,onShowSendDraft:e=>{a(!0),s(e)},paddingX:4,sentHistory:l,value:u})))})),he=a("TSYQ"),me=a.n(he),pe=a("+zF7");const ge=["facebook","google"];function fe(e){const t=me()("sendShare",e.network),a=(n=e.network,r=e.email,"facebook"===n?o.a._("Friends who are on Pinterest"):"google"===n&&r&&-1!==r.indexOf("@gmail")?r:null);var n,r;return i.a.createElement("a",{onClick:e.onClick,role:"button"},i.a.createElement("div",{className:t},i.a.createElement("em",{className:"icon"}),i.a.createElement("div",{className:"networkInfo"},i.a.createElement("h4",{className:"title"},function(e){return"facebook"===e?o.a._("Facebook"):"twitter"===e?o.a._("Twitter"):"google"===e?o.a._("Google"):o.a._("Other")}(e.network)),a?i.a.createElement("div",{className:"subtitle"},a):null)))}function be({onBack:e}){const t=Object(N.a)(),a=t.isAuth?t.email:null,n=ge.filter(e=>!t.isAuth||!1===t.socialNetwork[e].connected);return i.a.createElement("div",{className:"SocialConnectPanel sendShare"},i.a.createElement("div",{className:"header"},i.a.createElement("div",{className:"backNav"},i.a.createElement("a",{onClick:e,role:"button"},i.a.createElement("span",{className:"icon"}),i.a.createElement("span",{className:"label"},o.a._("Back")))),i.a.createElement("div",{className:"prompt"},o.a._("Upload contacts from..."))),i.a.createElement("ul",{className:"socialConnectOptions"},n.map(e=>i.a.createElement("li",{style:{borderLeft:"none"},key:e},i.a.createElement(fe,{email:a,network:e,onClick:()=>function(e){pe.a.instance().handleConnect(e,!0,{})}(e)})))))}function Ee({classNames:e="",isFlyout:t=!1,onCreatePincodeClick:a,onExternalSend:r,onHide:o,sendType:s,sharedObject:l,viewType:d,viewParameter:u}){const[h,m]=Object(n.useState)(!1),[p,g]=Object(n.useState)(!1);Object(n.useEffect)(()=>(Object(w.a)(7120,{objectId:l.id,view:d,viewParameter:u}),()=>{Object(w.a)(7121,{objectId:l.id,view:d,viewParameter:u});const e=p?7493:7492;Object(w.a)(e,{view:d,viewParameter:u})}),[]);const f=()=>{m(!0)},b=()=>{m(!1)},E=()=>{g(!0)};return h?(()=>{const e=t?"Module SendObjectBase sendShare":"";return i.a.createElement("div",{className:e},i.a.createElement(be,{onBack:b}))})():i.a.createElement(c.e,{overflow:"hidden"},i.a.createElement(ue,{isFlyout:t,onCreatePincodeClick:a,onHide:o,onShowImport:f,onMessageSent:E,onExternalSend:r,sendType:s,sharedObject:l}))}},oRao:function(e,t,a){var n=a("q1tI"),i=a.n(n),r=a("XRfM"),o=a("pLLR");t.a=({currency:e,maximumFractionDigits:t,minimumFractionDigits:a,shortform:n,shortformMaximumFractionDigits:s,formatStyle:l,uplimit:c,value:d})=>i.a.createElement(o.b,null,i=>Object(r.d)(i.locale||"en-US",d,{currency:e,maximum_fraction_digits:t,minimum_fraction_digits:a,shortform:n,shortform_maximum_fraction_digits:s,style:l,uplimit:c}))},oVol:function(e,t,a){a.d(t,"a",(function(){return n}));const n={BOARD:"board",PIN:"pin",DID_IT:"did_it",PINNER:"pinner",USER:"user",TODAY_ARTICLE:"today_article"}},qWlA:function(e,t,a){var n=a("zpPL"),i=a("+PUW");t.a=e=>{const t=n.a.instance&&n.a.instance.getState()||{viewer:{}};return!t.viewer.isAuth||t.viewer.isLimitedLogin?()=>n.a.instance.dispatch(i.b):e}},udob:function(e,t,a){var n=a("LqyK"),i=a("eOdZ"),r=a("4dcN"),o=a("zwad"),s=a("mBfy");const l={};l.open=function(e,t,a){const n=function(e,t){const a=window.screen.width,n=window.screen.height;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+e+",height="+t+",left="+Math.round((a-e)/2)+",top="+(n>t?Math.round((n-t)/2):0)}(t,a);window.open(e,void 0,n)},l.shrinkWrap=function(){!function(e){const t=document.documentElement;let a=t?t.scrollWidth-t.clientWidth:0,n=t?t.scrollHeight-t.clientHeight:0;e&&(a=Math.max(a,0),n=Math.max(n,0)),s.default.isAuthenticated()||(n=340),window.resizeBy(a,n)}(!1)};var c=l;const d={DIALOG_WIDTH:550,DIALOG_HEIGHT:420,openDialog(e){const t=e.ga_category||"share_twitter";r.a.trackEvent(t,"click");const a=d._getWindowUrl(e.tweet_path,e.tweet_text);c.open(a,d.DIALOG_WIDTH,d.DIALOG_HEIGHT)},_getWindowUrl:(e,t)=>o.a.appendQueryString("https://twitter.com/intent/tweet",{via:"pinterest",url:e?o.a.absolutify(e):void 0,text:t||void 0})};var u=d;const h={ObjectTypeToInviteObject:{pin:1,board:2,pinner:3,article:5,did_it:6,today_article:8},_convertToInviteObject(e){return this.ObjectTypeToInviteObject[e]||0},_logShareInvite(e,t){const a=this._convertToInviteObject(e.object_type),n=e.invite_channel,r=null==e.invite_category?3:e.invite_category,o=e.object_id;return i.a.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:r,invite_object:a,invite_channel:n},invite_code:t,object_id:o}).callCreate()},createAndLogShareInvite:e=>h.createShareInviteData(e).then(t=>(h._logShareInvite(e,t.invite_code),Promise.resolve(t)),e=>Promise.reject(e)),createShareInviteData(e){const t=this._convertToInviteObject(e.object_type),a=e.invite_channel,n=null==e.invite_category?3:e.invite_category,r=e.object_id;return i.a.create("CreateExternalInviteResource",{invite_type:{invite_category:n,invite_object:t,invite_channel:a},object_id:r}).callCreate().then(e=>Promise.resolve(e.resource_response.data),e=>Promise.reject(e))},logShareInvite(e,t){t&&h._logShareInvite(e,t.invite_code)},shareFacebookInvite:e=>h.createShareInviteData(e).then(t=>{const a=t.invite_url,i=t.invite_code;return a&&n.default.open({type:"share",object_type:e.object_type,object_id:e.object_id,name:e.name,caption:t.title,description:e.description,path:a,picture:e.picture,callback(t){t&&!t.error_message&&h._logShareInvite(e,i)}}),Promise.resolve(t)},e=>Promise.reject(e)),shareTwitterInvite(e){const t=this._convertToInviteObject(e.object_type);return h.createShareInviteData(e).then(a=>{const n=a.invite_url,i=a.invite_code;let r=e.description;return 6===t&&e.name&&(r=e.name),n&&u.openDialog({tweet_path:n,tweet_text:r}),h._logShareInvite(e,i),Promise.resolve(a)},e=>Promise.reject(e))},shareFbMessengerInvite:e=>h.createShareInviteData(e).then(t=>{const a=t.invite_url,i=t.invite_code;return a&&n.default.open({type:"send",object_type:e.object_type,object_id:e.object_id,name:e.name,caption:t.title,description:e.description,path:a,picture:e.picture,callback(t){t&&t.success&&h._logShareInvite(e,i)}}),Promise.resolve(t)},e=>Promise.reject(e))};t.a=h},w1Xl:function(e,t,a){a.d(t,"a",(function(){return d}));var n=a("q1tI"),i=a.n(n),r=a("Ye/N"),o=a("7w6Q"),s=a("eOdZ"),l=a("U4JR"),c=a("n6mq");function d(e){const{identifier:t,onUndoHide:a,isGroupChat:n}=e,d=async()=>{const n=s.a.create("ShareSuggestionsHideResource",{user_identifier:t});await n.callDelete(),a(),(()=>{const{component:t,element:a}=e;Object(l.a)(101,{component:t,element:a}),o.a.increment("web_contacts.suggestions.undo_hide",1,{surface:t})})()};return i.a.createElement(c.e,{paddingY:2},i.a.createElement(c.I,{gap:1},i.a.createElement(c.V,{inline:!0,color:"gray"},n?r.a._("Ok! We won't suggest this group again.","SendObject.SendObjectSuggestionItem.HideContactBanner","Warning message after user hide a contact"):r.a._("Ok! We won't suggest this contact again.","SendObject.SendObjectSuggestionItem.HideContactBanner","Warning message after user hide a contact")),i.a.createElement(c.f,{onClick:({event:e})=>{e.stopPropagation(),d()},text:r.a._("Undo","SendObject.SendObjectSuggestionItem.HideContactUndoButton","Undo button after user hide a contact"),size:"lg",type:"button",inline:!0})))}},yjg8:function(e,t,a){a.d(t,"e",(function(){return n})),a.d(t,"f",(function(){return i})),a.d(t,"b",(function(){return r})),a.d(t,"i",(function(){return o})),a.d(t,"a",(function(){return s})),a.d(t,"j",(function(){return l})),a.d(t,"c",(function(){return c})),a.d(t,"k",(function(){return d})),a.d(t,"n",(function(){return u})),a.d(t,"h",(function(){return h})),a.d(t,"g",(function(){return m})),a.d(t,"d",(function(){return p})),a.d(t,"m",(function(){return g})),a.d(t,"l",(function(){return f}));const n=236,i=2*n/3,r=24,o=2,s=125,l=16,c=14,d=16,u=e=>e||d,h=900,m=16,p=24,g=(e=!1,t=!1)=>e?t?m:12:p,f=(e,t,a,n,i=c)=>{const r=e+i;return`\n@media (min-width: ${t*r}px) and (max-width: ${(a+1)*r-1}px) {\n  ${n}\n}\n`}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/js/12-310aa692405c396e271c.mjs.map