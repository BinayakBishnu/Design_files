(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["www/[username]/[slug]-authdesktop",53,55,59,60,66,98,102,119,126,155,"BoardMoreIdeasTabContentCommon","CarouselCommon"],{"+4a+":function(e,t,n){n.d(t,"a",(function(){return r}));const r=488},"+HMQ":function(e,t,n){n.d(t,"a",(function(){return o}));var r=n("w70y");function o({board:{id:e,owner:t},children:n}){const{data:o,isLoaded:i}=Object(r.a)({name:"BoardInvitesResource",options:{board_id:e,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0}}),a=t.image_key||t.image_medium_url||t.image_small_url,s=[{name:t.full_name,src:a,href:`/${t.username}/`,isDim:!1}];return i&&o&&o.length>0&&o.forEach(e=>{s.push({name:e&&e.invited_user?e.invited_user.full_name:"",src:e&&e.invited_user?e.invited_user.image_medium_url:"",href:e&&e.invited_user?`/${e.invited_user.username}/`:"",isDim:e&&["new","contact_request_not_approved"].includes(e.status)})}),n(s)}},"+Un0":function(e,t,n){n.r(t),n.d(t,"MoreIdeasTabContent",(function(){return V})),n.d(t,"invalidateRecommendationResource",(function(){return G})),n.d(t,"BoardMoreIdeasTabContent",(function(){return $})),n.d(t,"BoardSectionMoreIdeasTabContent",(function(){return ee}));var r=n("q1tI"),o=n.n(r),i=n("/MKj"),a=n("zUcL"),s=n("Sihc"),c=n("1inl"),l=n("1YNZ"),u=n("Ye/N"),d=n("Pqnw"),h=(n("jiHH"),n("n6mq"));var p=function({accessibilityLabel:e,show:t}){return t?o.a.createElement(h.e,{display:"flex",justifyContent:"around",overflow:"hidden"},o.a.createElement("div",{className:"instant-spinner-icon"},o.a.createElement(h.t,{icon:"knoop",accessibilityLabel:e,size:40}))):o.a.createElement("div",null)},f=n("vvax");function m({boardName:e}){return o.a.createElement(h.e,{display:"flex",direction:"column",alignItems:"center",dangerouslySetInlineStyle:{__style:{paddingTop:108}}},o.a.createElement(h.e,{marginBottom:4},o.a.createElement(p,{show:!0,accessibilityLabel:u.a._("Loading")})),o.a.createElement(h.s,{size:"md"},u.a._("Board Created!","Message following board creation","Message following board creation")),o.a.createElement(h.s,{size:"md"},Object(f.b)(u.a._("Finding pins to add to {{boardName}}...","Message while more ideas for board loads","Message while more ideas for board loads"),{boardName:e})))}function g(e){const{collection:t,isRedirectExperimentReferrer:n,resource:r}=e,{data:i,isFetching:a}=r;return n&&!i&&"board"===t.type?o.a.createElement(m,{boardName:t.name}):o.a.createElement(h.O,{accessibilityLabel:u.a._("Loading Board More Ideas Feed","accessibility label for board more ideas tab loading spinner","accessibility label for board more ideas tab loading spinner"),show:a})}var b=n("R0ru");function y(e){const{hideHeader:t,name:n,onClick:r,url:i}=e;return o.a.createElement(h.e,{"data-test-id":"isHomeFeed",dangerouslySetInlineStyle:{__style:{paddingTop:t?25:60}},display:"flex",justifyContent:"center",padding:4},!t&&o.a.createElement(h.V,null,Object(f.b)(u.a._("More ideas for your board {{ boardLink }}","More ideas for your board","More ideas for your board"),{boardLink:o.a.createElement(h.z,{href:i,key:n,onClick:r,inline:!0},n)})))}var v=n("mmKv"),_=n("YGxj"),E=n("5Ai/"),S=n("82UD"),w=n("XCz/");function C(e){const{boardId:t,boardTitle:n,boardUrl:r,index:i,isHomefeed:a,moreIdeasSaveToolTipExperienceIds:s,oneTapSaveTarget:c,onSave:l,pin:u,showMoreIdeasSaveTooltip:d,viewParameter:h,viewType:p}=e;return o.a.createElement(E.a,{pin:u,onSave:l,target:c,eventContext:{viewType:p,viewParameter:h,element:10599}},({save:e,saved:c,savedInfo:l})=>o.a.createElement(w.a,{name:"more_ideas_homefeed_integration_web",activate:!1},({group:f})=>{const m=a&&(f.includes("employees")||f.includes("persistent_one_click_save")),g=d?e=>o.a.createElement(_.a,{anchor:e,boardTextOverride:m?n:void 0,experienceIds:s,idealDirection:"down",placementId:1000121,textOverflow:"normal",useMasonryFlyout:!0}):void 0;return o.a.createElement(S.a,{attributionOption:"hide",pin:u,pinId:u.id,pinImageCrop:"none",saveButtonOptions:m?{renderPinSaveTooltip:g,save:e,saved:c,savedInfo:{...l,boardId:t,pinId:u.id,title:n,url:r},type:"persistentOneClickSave"}:{type:"controlled",save:e,saved:c,renderPinSaveTooltip:g},surface:m?"HomefeedMoreIdeasTabs":"BoardMoreIdeasTabContent",trackingParameters:{slotIndex:i,viewParameter:h,viewType:p}})}))}var O=n("TSYQ"),I=n.n(O),x=n("U4JR");function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class k extends r.Component{constructor(...e){super(...e),D(this,"state",{hovered:!1}),D(this,"handleTouch",e=>()=>{const{onSelect:t}=this.props;Object(x.a)(101,{element:10444}),t(e)}),D(this,"handleHover",e=>()=>this.setState({hovered:e}))}render(){const{recommendation:e}=this.props,{hovered:t}=this.state;return o.a.createElement(h.e,{key:e.name,position:"relative",onMouseEnter:this.handleHover(!0),onMouseLeave:this.handleHover(!1)},o.a.createElement(h.U,{fullWidth:!1,onTap:this.handleTouch(e),rounding:2},o.a.createElement(h.e,{paddingY:1,alignItems:"center",display:"flex"},o.a.createElement(h.e,{paddingX:1},o.a.createElement(h.t,{accessibilityLabel:u.a._("Add section","Accessibility label for add icon","Accessibility label for add icon"),icon:"add",size:18})),o.a.createElement(h.e,{paddingX:1},o.a.createElement(h.V,{color:"gray",weight:"bold"},e.name)))),o.a.createElement("div",{className:I()("sectionHoverSurface",{hover:t})}))}}function T(e){const{recommendations:t}=e;return o.a.createElement(a.a,null,o.a.createElement(h.e,{paddingY:2},o.a.createElement(h.e,{paddingY:2},o.a.createElement(h.V,null,o.a.createElement("span",{className:"deprecatedTextSizeXL"},u.a._("Sections to try","title for section title recommendations on more ideas tab","title for section title recommendations on more ideas tab")))),o.a.createElement(h.e,{paddingY:2},o.a.createElement(h.e,{width:"100%",display:"flex",justifyContent:"start",alignItems:"center",wrap:!0},t.map(e=>o.a.createElement(h.e,{key:e.id,padding:2},o.a.createElement(k,{onSelect:this.handleSelectSectionRecommendation,recommendation:e})))))))}var M=n("q8wg"),j=n("CvCA"),P=n("2qKt"),B=n("Wrea"),A=n("ANjH"),R=n("yjg8"),L=n("dKiF"),N=n("Wer7"),F=n("6vq5"),z=n("nGHF");function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const U=e=>e.toLowerCase(),H=e=>"board"===e?1000121:1000122,K=Object(L.d)(e=>[501291,501082,...e===String(22)?[501151]:[]]);class V extends o.a.Component{constructor(...e){super(...e),q(this,"state",{sectionNameAddedMap:{}}),q(this,"handleClickLogging",e=>{Object(x.a)(101,{component:10599===e?0:void 0,element:e,view:this.viewType,viewParameter:this.viewParameter})}),q(this,"handleBoardLinkClick",()=>{this.handleClickLogging(11083)}),q(this,"handleSelectSectionRecommendation",({name:e})=>{const{collection:t,createSection:n,toastManagerContext:r}=this.props;if("board"!==t.type)return;const i=t;this.setState({sectionNameAddedMap:{...this.state.sectionNameAddedMap,[U(e)]:!0}},()=>{n(e).then(({slug:e})=>{r.showOneToast(({onHide:t})=>o.a.createElement(j.a,{duration:2e3,href:`${i.url}${e}/`,onHide:t,text:u.a._("Section added!","Toast for successfully creating a new board section","Toast for successfully creating a new board section")}))}),this.handleClickLogging(10444)})}),q(this,"handleSave",()=>{this.props.invalidateCollectionFeed(),this.handleClickLogging(10599)}),q(this,"renderGridItem",({data:e,itemIdx:t})=>{const{collection:n,eligibleSaveToolTipExperience:r,isHomefeed:i,viewerIsOwnerOrCollaborator:a}=this.props,s="board_section"===n.type?n.board.url:n.url;if("story"===e.type)return o.a.createElement(v.a,{slot:t,storyId:e.id,viewType:this.viewType,viewParameter:this.viewParameter});const c=e,l="board_section"===n.type?n.board.id:n.id,u=0===t&&r;return a?o.a.createElement(C,{boardId:l,boardTitle:this.boardTitle,boardUrl:s,index:t,isHomefeed:!!i,moreIdeasSaveToolTipExperienceIds:this.moreIdeasSaveToolTipExperienceIds,oneTapSaveTarget:this.oneTapSaveTarget,onSave:this.handleSave,pin:c,showMoreIdeasSaveTooltip:u,viewParameter:this.viewParameter,viewType:this.viewType}):o.a.createElement(S.a,{attributionOption:"hide",pin:c,pinId:c.id,pinImageCrop:"none",saveButtonOptions:{type:"inline",onSave:this.handleSave},surface:"BoardMoreIdeasTabContent",trackingParameters:{slotIndex:t,viewParameter:this.viewParameter,viewType:this.viewType}})})}componentDidMount(){const{collection:e,disableBadging:t}=this.props;"board"===e.type&&t(e.id)}get boardTitle(){const{collection:e}=this.props;return"board_section"===e.type?e.title:e.name}get moreIdeasSaveToolTipExperienceIds(){const{ideasReferrer:e}=this.props;return K(e)}get viewParameter(){const{collection:e}=this.props;return"board"===e.type?3173:3174}get viewType(){const{collection:e,isHomefeed:t}=this.props;return t?1:"board"===e.type?5:164}get oneTapSaveTarget(){const{collection:e}=this.props;if("board"===e.type)return{board:e};const t=e;return{board:t.board,boardSection:t}}get isRedirectExperimentReferrer(){const{ideasReferrer:e}=this.props;return e===String(22)}render(){const{collection:e,hideHeader:t,isHomefeed:n,reducePadding:r,resource:i,scrollContainer:s}=this.props,{fetchMore:c,isAtEnd:d,isFetching:p,isLoaded:f,data:m}=i,{sectionNameAddedMap:v}=this.state,{sectionNamesStory:_,items:E}=(m||[]).reduce(({sectionNamesStory:e,items:t},n)=>("story"===n.type&&"section_title_recommendations"===n.story_type?e=n:("pin"===n.type||"story"===n.type&&"homefeed_board_tab_banner"!==n.story_type)&&(t=t.concat(n)),{sectionNamesStory:e,items:t}),{sectionNamesStory:void 0,items:[]}),S=_?(w=_,w.objects.reduce((e,t)=>e.concat("board_section_name_recommendation"===t.type?[t]:[]),[])).filter(({name:e})=>!v[U(e)]):[];var w;const C=(E||[]).length>0&&this.isRedirectExperimentReferrer;return o.a.createElement(M.a,{component:13204},o.a.createElement(h.e,{paddingY:r?0:2},!!n&&"board"===e.type&&o.a.createElement(y,{hideHeader:!!t,name:e.name,onClick:this.handleBoardLinkClick,url:e.url}),S.length>0&&o.a.createElement(T,{recommendations:S}),(E||[]).length>0&&o.a.createElement(h.e,{paddingY:2},_&&o.a.createElement(a.a,null,o.a.createElement(h.e,{paddingY:2},o.a.createElement(h.V,null,o.a.createElement("span",{className:"deprecatedTextSizeXL"},u.a._("Pins you might like","title for pin recommendations on more ideas tab","title for pin recommendations on more ideas tab"))))),C&&o.a.createElement(a.a,null,o.a.createElement(h.e,{marginBottom:4},o.a.createElement(h.V,null,u.a._("Based on your board’s title, we think you’ll love these Pins","title for pin recommendations on more ideas tab","title for pin recommendations on more ideas tab")))),o.a.createElement(h.e,{paddingY:r?0:2},o.a.createElement(b.default,{columnWidth:R.e,comp:this.renderGridItem,gutterWidth:24,isAtEnd:d,isFetching:p,isLoaded:f,items:E,loadItems:c,scrollContainer:s||void 0,virtualize:!0}))),o.a.createElement(h.e,{paddingY:t?5:0},o.a.createElement(g,{collection:e,isRedirectExperimentReferrer:this.isRedirectExperimentReferrer,resource:i})),o.a.createElement(l.a,{placementId:H(e.type)})))}}const W={name:"BoardContentRecommendationResource",options:({collection:e,forceBackendExperiments:t,from_news_id:n,ideasReferrer:r})=>{return{type:e.type,id:e.id,force_experiments:t&&(o=t,JSON.stringify(o.trim().split(",").reduce((e,t)=>{const[n,r]=t.split(":");return n&&r?{...e,[n]:r}:e},{}))),__track__from_news_id:n,__track__referrer:r};var o},key:"resource"},G=e=>Object(N.f)(W.name,W.options(e)),Y=(e,t)=>{const{ideasReferrer:n}=t,{experiences:r}=e;return{eligibleSaveToolTipExperience:r&&r.eligibleExperiences&&r.eligibleExperiences[1000121]&&K(n).includes(r.eligibleExperiences[1000121].experience_id)}},J=(e,t)=>({createSection:n=>e(Object(s.a)({boardId:"board"===t.collection.type?t.collection.id:t.collection.board.id,name:n,nameSource:"RECOMMENDATION"})).catch(e=>{c.a.showError(e&&e.message||u.a._("Failed to create section","Error message for failed to create a section","Error message for failed to create a section"))}),disableBadging:t=>{e(Object(B.b)(t))},invalidateCollectionFeed:()=>e(Object(d.a)("board"===t.collection.type?"boardPins":"sectionPins",t.collection.id))});function X(e){return Object(A.compose)(Object(i.connect)(Y,J),Object(P.a)(H(e),e=>({["board"===e.collection.type?"board_id":"section_id"]:e.collection.id})),Object(F.a)(W),z.c)}const Q=X("board")(V);Q.displayName="BoardMoreIdeasTabContent";const $=Q,Z=X("board_section")(V);Z.displayName="BoardSectionMoreIdeasTabContent";const ee=Z;t.default=$},"+ip3":function(e,t,n){n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return p}));var r=n("q1tI"),o=n.n(r),i=n("/MKj"),a=n("qWlA"),s=n("Ye/N"),c=n("qD10"),l=n("yjg8"),u=n("U4JR"),d=n("n6mq");const h="AddPinRep";function p({ctaText:e,handleClick:t,height:n,iconSize:r,textSize:h}){const p=Object(i.useSelector)(e=>e.viewer);return o.a.createElement(d.e,null,o.a.createElement(c.a,{onClick:Object(a.a)(()=>{t&&t(),p.isPartner&&Object(u.a)(101,{component:0,element:10643})}),to:"/pin-builder/"},o.a.createElement(d.i,null,o.a.createElement(d.e,{alignItems:"center",color:"lightGray",display:"flex",fit:!0,height:n||l.e,justifyContent:"center",rounding:2,width:n||void 0},o.a.createElement(d.e,{color:"white",height:r||40,rounding:"circle",width:r||40},o.a.createElement(d.t,{accessibilityLabel:"",color:"red",icon:"add-circle",inline:!0,size:r||40}))),o.a.createElement(d.e,{padding:2},o.a.createElement(d.V,{color:"gray",size:h||"lg",weight:"bold"},e||s.a._("Create Pin","label to open create pin modal","label to open create pin modal"))))))}},"+jF9":function(e,t,n){var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n("pYMm"),i=n("fOPN"),a=n("LTlA"),s={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};t.default=function(e,t){void 0===e&&(e=s);var n=t.payload;switch(t.type){case o.BEGIN_DRAG:return r({},e,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case o.PUBLISH_DRAG_SOURCE:return r({},e,{isSourcePublic:!0});case o.HOVER:return r({},e,{targetIds:n.targetIds});case i.REMOVE_TARGET:return-1===e.targetIds.indexOf(n.targetId)?e:r({},e,{targetIds:a.without(e.targetIds,n.targetId)});case o.DROP:return r({},e,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case o.END_DRAG:return r({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}},"+k3R":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r]}},"+lzj":function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return c}));var r=n("vzKb"),o=n("3/Bf");const i={cumulativeLayoutShiftScore:0,firstInputDelay:null,longTaskDurations:[],largestContentfulPaint:null},a=()=>{i.longTaskDurations=[]},s=()=>i,c=async()=>{const e=({name:e,value:t,isFinal:n})=>{n&&("CLS"===e?Object(o.e)(e,100*t):Object(o.e)(e,t))};Object(r.a)({entryTypes:["longtask"]},e=>{e.getEntries().map(e=>i.longTaskDurations.push(e.duration))},()=>a()),Object(r.a)({type:"first-input",buffered:!0},(e,t)=>{const n=e.getEntries()[0];n&&n.startTime&&n.processingStart&&(i.firstInputDelay={startTime:n.startTime,endTime:n.processingStart}),t.disconnect()},()=>{i.firstInputDelay=null}),Object(r.a)({type:"largest-contentful-paint",buffered:!0},e=>{const t=e.getEntries(),n=t[t.length-1];n&&(i.largestContentfulPaint=n.renderTime||n.loadTime||null)}),Object(r.a)({type:"layout-shift",buffered:!0},e=>{e.getEntries().forEach(e=>{e.hadRecentInput||(i.cumulativeLayoutShiftScore+=e.value)})});try{const{getCLS:t,getFID:r,getLCP:o}=await n.e(476).then(n.bind(null,"w6Sm"));r(e),o(e,!0),t(e,!0)}catch(t){}}},"+nTX":function(e,t,n){n.d(t,"a",(function(){return s}));var r=n("q1tI"),o=n.n(r),i=n("bxss"),a=n("n6mq");function s({anchor:e,children:t,idealDirection:n,onDismiss:r,paddingX:s,paddingY:c}){return o.a.createElement(a.e,{dangerouslySetInlineStyle:{__style:{zIndex:1e3}},display:"flex",flex:"grow"},o.a.createElement(i.a,{anchor:e,idealDirection:null!=n?n:"down",onDismiss:r,positionRelativeToAnchor:!0,size:"lg"},o.a.createElement(a.e,{direction:"column",display:"flex",flex:"grow",paddingX:null!=s?s:2,paddingY:c,role:"list"},t)))}},"+qOO":function(e,t,n){n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var r=n("4dcN"),o=n("eOdZ");function i(e){return o.a.create("BoardFollowResource",{board_id:e})}function a(e,t){return{type:"BOARD_FOLLOW",payload:{boardId:e,value:t}}}function s(e){const t="board-follow";return n=>{i(e).callCreate().then(()=>{r.a.trackEvent(t,"success")}).catch(()=>{r.a.trackEvent(t,"error"),n(a(e,!1))}),n(a(e,!0))}}function c(e){const t="board-unfollow";return n=>{i(e).callDelete().then(()=>{r.a.trackEvent(t,"success")}).catch(()=>{r.a.trackEvent(t,"error"),n(a(e,!0))}),n(a(e,!1))}}},"+wrf":function(e,t,n){var r=n("q1tI"),o=n.n(r),i=n("/MKj"),a=n("ViqK"),s=n("Ye/N"),c=n("v/Q4"),l=n("xdpg"),u=n("n6mq");function d({actionsDisabled:e,invite:t,isDim:n,onApprove:r,onDelete:i}){const d=Object(c.a)(),{access:h,status:p,invited_by_user:f,invited_user:m}=t,g=d.isAuth&&m.id===d.id,b=d.isAuth&&f.id===d.id,y=m.id===f.id,v="accepted"===p,_=h.includes("approve"),E=h.includes("delete"),S=s.a._("Approve","[button] approve another pinner's request to join the board as a collaborator","[button] approve another pinner's request to join the board as a collaborator"),w=((e,t,n)=>e?s.a._("Leave","[button] for a collaborator to leave a group board","[button] for a collaborator to leave a group board"):t&&!n?s.a._("Decline","[button] decline another pinner's request to join board as a collaborator","[button] decline another pinner's request to join board as a collaborator"):s.a._("Remove","[button] remove a collaborator from the board]","[button] remove a collaborator from the board]"))(g,y,v),C=E&&!_,O=E&&_,I=`/${m.username}/`;return o.a.createElement(u.e,null,o.a.createElement(a.a,{imageUrl:m.image_medium_url||"",name:m.full_name,title:m.full_name,subtitle:((e,n,r)=>{const o=t.invited_by_user.full_name;return e?s.a._("That's you","subtext for current user who requested to join this board","subtext for current user who requested to join this board"):n?s.a._("Invited by you","subtext for a pending collaborator who was invited by the current viewer","subtext for a pending collaborator who was invited by the current viewer"):r?s.a._("Requested to join","The subtext that identifies a pending collaborator has personally requested to join the board","The subtext that identifies a pending collaborator has personally requested to join the board"):Object(l.c)(s.a._("Invited by {{ user_full_name }}","The subtext that identifies a pending collaborator who was invited to collaborate on the board","The subtext that identifies a pending collaborator who was invited to collaborate on the board"),{user_full_name:o})})(g,b,y),linkURL:I,isDim:void 0!==n?n:!v,accessory:C&&o.a.createElement(u.f,{inline:!0,disabled:e,onClick:i,text:w,size:"lg"})}),O&&o.a.createElement(u.e,{paddingX:3,marginStart:12,display:"flex",justifyContent:"end"},o.a.createElement(u.e,{paddingX:1,flex:"grow",width:"50%"},o.a.createElement(u.f,{disabled:e,onClick:i,text:w,size:"lg"})),o.a.createElement(u.e,{paddingX:1,flex:"grow",width:"50%"},o.a.createElement(u.f,{color:"red",disabled:e,onClick:r,text:S,size:"lg"}))))}var h=n("4dcN"),p=n("CvCA"),f=n("ANjH"),m=n("L2iP"),g=n("ZE2w"),b=n("TiQD"),y=n("vvax");function v(e){const{onCancel:t,onRemove:n,useGestaltModal:r}=e,i=s.a._("Are you sure you want to leave this group board and remove it from your profile?"),a=r?u.E:b.b;return o.a.createElement(a,{accessibilityModalLabel:s.a._("Leave board?"),heading:s.a._("Leave board?"),onDismiss:t,size:"sm",footer:o.a.createElement(u.e,{display:"flex",justifyContent:"end"},o.a.createElement(u.e,{paddingX:1},o.a.createElement(u.f,{inline:!0,onClick:t,text:s.a._("Cancel")})),o.a.createElement(u.e,{paddingX:1},o.a.createElement(u.f,{color:"red",inline:!0,onClick:n,text:s.a._("Leave")})))},o.a.createElement(u.e,{padding:5},o.a.createElement(u.V,null,i)))}class _ extends r.Component{constructor(...e){var t,n,r;super(...e),r={shouldBlock:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}getBlockDescription(e,t){return"declineRequest"===e?t?Object(y.b)(s.a._("This will decline {{ invited_user_first_name }} from joining this board and block them from subsequent collaboration requests.","decline another pinner's request to join board as a collaborator and block them","decline another pinner's request to join board as a collaborator and block them"),{invited_user_first_name:t}):s.a._("This will decline this person from joining this board and block them from subsequent collaboration requests.","message that explains consequences of declining a request to join board as a collaborator","message that explains consequences of declining a request to join board as a collaborator"):t?Object(y.b)(s.a._("This will remove {{ invited_user_first_name }}, people {{ invited_user_first_name }} invited, and all their Pins."),{invited_user_first_name:t}):s.a._("This will remove this person, people they invited, and all their Pins.","message that explains consequences of removing a collaborator","message that explains consequences of removing a collaborator")}render(){const{removeType:e,firstName:t,fullName:n,onCancel:i,onRemove:a,onRemoveAndBlock:c,useGestaltModal:l}=this.props,d="declineRequest"===e?Object(y.b)(s.a._("Decline {{ invited_user_name }}?","[button] to decline a pinner's request to join a board as a collaborator","[button] to decline a pinner's request to join a board as a collaborator"),{invited_user_name:n}).join(""):Object(y.b)(s.a._("Remove {{ invited_user_name }}?","[button] to remove a pinner as a collaborator from a group board","[button] to remove a pinner as a collaborator from a group board"),{invited_user_name:n}).join(""),h=s.a._("This will keep them from saving Pins to this board. You can also:","decline another pinner's request to join board as collaborator. Ending fragment preceeds checkbox for blocking the user.","decline another pinner's request to join board as collaborator. Ending fragment preceeds checkbox for blocking the user."),p=this.getBlockDescription(e,t),f=this.state.shouldBlock?s.a._("Block","block another pinner after denying their request to collaborate on a board","block another pinner after denying their request to collaborate on a board"):s.a._("Remove","decline another pinner's request to collaborate on a board","decline another pinner's request to collaborate on a board"),m=o.a.createElement(r.Fragment,null,o.a.createElement(u.e,{padding:5},o.a.createElement(u.V,null,h)),o.a.createElement(u.o,null),o.a.createElement(u.e,{padding:5,display:"flex"},o.a.createElement(u.e,{paddingX:1},o.a.createElement(u.j,{checked:this.state.shouldBlock,id:"banUser",name:"ban",onChange:()=>this.setState({shouldBlock:!this.state.shouldBlock})})),o.a.createElement(u.e,{paddingX:1},o.a.createElement(u.w,{htmlFor:"banUser"},o.a.createElement(u.V,{weight:"bold"},Object(y.b)(s.a._("Block {{ name }}"),{name:t||""})),o.a.createElement(u.V,{size:"md"},p))))),g=l?u.E:b.b;return o.a.createElement(g,{accessibilityModalLabel:d,heading:d,onDismiss:i,size:"sm",footer:o.a.createElement(u.e,{display:"flex",justifyContent:"end",marginStart:-1,marginEnd:-1},o.a.createElement(u.e,{paddingX:1},o.a.createElement(u.f,{inline:!0,onClick:i,text:s.a._("Cancel")})),o.a.createElement(u.e,{paddingX:1},o.a.createElement(u.f,{color:"red",inline:!0,onClick:this.state.shouldBlock?c:a,text:f})))},m)}}var E=n("nGHF");function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class w extends o.a.Component{constructor(...e){super(...e),S(this,"state",{currentModal:null,loading:!1}),S(this,"showRemoveSuccessToast",()=>{const{toastManagerContext:e}=this.props,t=s.a._("Collaborator removed","BoardCollabInviteCellContainer.toast","Toast for removing a collaborator from a board");e.showOneToast(({onHide:e})=>o.a.createElement(p.a,{color:"darkGray",duration:3e3,onHide:e,text:t}))}),S(this,"onDelete",()=>{const{onModalOpen:e}=this.props;e&&e(),this.setState({currentModal:"delete"})}),S(this,"onApprove",()=>{const{approveBoardCollabInvite:e,onInviteDidUpdate:t}=this.props;this.setState({loading:!0}),e().then(t).finally(()=>{this.setState({loading:!1})})}),S(this,"deleteBoardInvite",(e=!1)=>{const{deleteBoardCollabInvite:t,onBoardLeave:n,onInviteDidUpdate:r}=this.props,o=this.isViewerInvitedUser,i=o?"collaborator_decline_invite":"collaborator_delete_invite";h.a.trackEvent(i,"click"),this.setState({currentModal:null,loading:!0}),t(o,e).then(()=>{h.a.trackEvent(i,"success"),r(),this.showRemoveSuccessToast(),o&&n()}).catch(()=>{h.a.trackEvent(i,"error")}).finally(()=>{this.setState({loading:!1})})}),S(this,"handleDeleteBoardInvite",()=>{this.deleteBoardInvite(!1)}),S(this,"handleDeleteBoardInviteAndBan",()=>{this.deleteBoardInvite(!0)}),S(this,"handleHideModal",()=>{this.setState({currentModal:null})})}get isViewerInvitedUser(){const{viewer:e,invite:{invited_user:t}}=this.props;return e.isAuth&&e.id===t.id}get isRequestToJoin(){const{invite:{invited_user:e,invited_by_user:t}}=this.props;return e.id===t.id}renderCurrentModal(){const{invite:{invited_user:e},useGestaltModal:t=!1}=this.props,{currentModal:n}=this.state;return"delete"===n?this.isViewerInvitedUser?o.a.createElement("div",{style:{position:"absolute",zIndex:m.h+1}},o.a.createElement(v,{onCancel:this.handleHideModal,onRemove:this.handleDeleteBoardInvite,useGestaltModal:t})):o.a.createElement("div",{style:{position:"absolute",zIndex:m.h+1}},o.a.createElement(_,{removeType:this.isRequestToJoin?"declineRequest":"removeCollaborator",firstName:e.first_name,fullName:e.full_name,onCancel:this.handleHideModal,onRemove:this.handleDeleteBoardInvite,onRemoveAndBlock:this.handleDeleteBoardInviteAndBan,useGestaltModal:t})):null}render(){const{invite:e,isDim:t}=this.props,{loading:n}=this.state;return o.a.createElement(u.e,null,o.a.createElement(d,{invite:e,isDim:t&&"accepted"!==e.status,onDelete:this.onDelete,onApprove:this.onApprove,actionsDisabled:n}),this.renderCurrentModal())}}t.a=Object(f.compose)(Object(i.connect)(({viewer:e})=>({viewer:e}),(e,t)=>{const{invite:n,invite:{invited_user:{id:r},board:{id:o}}}=t;return{approveBoardCollabInvite:()=>e(Object(g.a)(o,r)),deleteBoardCollabInvite:(t,r)=>e(Object(g.b)(n,t,r))}}),E.c)(w)},"/5qN":function(e,t,n){n.d(t,"a",(function(){return b}));var r=n("q1tI"),o=n.n(r),i=n("Ye/N"),a=n("rYoy"),s=n("CvCA"),c=n("nGHF"),l=n("n6mq");const u=Object(r.lazy)(()=>n.e("ReactCopyToClipboardLibrary").then(n.t.bind(null,"P5Jw",7)));function d({linkURL:e,onDidFocus:t,onDidClickCopyButton:n}){const{showOneToast:r}=Object(c.b)(),d=i.a._("Copy link","[button] copy a URL link shown, to paste in another place","[button] copy a URL link shown, to paste in another place");return o.a.createElement(l.e,{display:"flex",alignItems:"center",paddingX:4},o.a.createElement(l.e,{flex:"grow",marginEnd:2},o.a.createElement(l.X,{id:"copylinkurl",onChange:()=>{},onFocus:t,size:"lg",type:"url",value:e})),o.a.createElement(a.a,{fallback:o.a.createElement(l.f,{inline:!0,text:d,disabled:!0})},o.a.createElement(u,{text:e,onCopy:(e,t)=>{t&&r(({onHide:e})=>o.a.createElement(s.a,{onHide:e,text:i.a._("Link copied to clipboard!","toast message to confirm if users copied the url successfully","toast message to confirm if users copied the url successfully")})),n()}},o.a.createElement(l.f,{inline:!0,text:d,size:"lg"}))))}var h=n("mvLR"),p=n("oVol"),f=n("U4JR"),m=n("udob");const g=e=>({invite_category:4,invite_channel:12,object_type:p.a.BOARD,object_id:e});function b({boardId:e}){const[t,n]=Object(r.useState)(!1),[i,a]=Object(r.useState)(null);Object(r.useEffect)(()=>{if(!i){const t=g(e),{cancel:n,promise:r}=Object(h.a)(m.a.createShareInviteData(t));return r.then(e=>a(e)),()=>{n()}}},[]);const s=i?i.invite_url:"...",c=()=>{null===i||t||(n(!0),m.a.logShareInvite(g(e),i))};return o.a.createElement(d,{linkURL:s,onDidClickCopyButton:()=>{Object(f.a)(101,(e=>({component:13305,element:10921,objectId:e,view:5,viewParameter:3059}))(e)),c()},onDidFocus:c})}},"/5zs":function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var r=n("QLaP"),o=n.n(r);class i{constructor(e,t){o()(e,"You must pass a requestContext to check an Experiment"),o()(t,"You must pass the name of the experiment to check"),this.requestContext=e,this.experimentName=t.toLowerCase()}_isSeoExperiment(){return this.experimentName.startsWith("seo_")}_getGroup(e){return this.requestContext.isBot?this._isSeoExperiment()&&this.requestContext.seoExperiments.v2GetSEOGroup(this.experimentName)||"":this._isSeoExperiment()?e?"":this.requestContext.seoExperiments.v2GetSEOGroup(this.experimentName)||"":e?this.requestContext.experiments.v2ActivateExperiment(this.experimentName)||"":this.requestContext.experiments.v2GetGroup(this.experimentName)||""}}class a extends i{getGroup(e=!1){return this._getGroup(e)}}class s extends i{_isTreatment(e){return e.startsWith("enabled")||e.startsWith("employee")}enabled(){return this._isTreatment(this._getGroup(!0))}enabledWithNoActivation(){return this._isTreatment(this._getGroup(!1))}}},"/9aa":function(e,t,n){var r=n("NykK"),o=n("ExA7");e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},"/EQv":function(e,t,n){e.exports={getPunctuation:function(){return"[.,+*?$|#{}()'\\^\\-\\[\\]\\\\\\/!@%\"~=<>_:;・、。〈-】〔-〟：-？！-／［-｀｛-･⸮؟٪-٬؛،؍﴾﴿᠁।၊။‐-‧‰-⁞¡-±´-¸º»¿]"}}},"/Ecc":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("bVT4");t.isFirefox=r.memoize((function(){return/firefox/i.test(navigator.userAgent)})),t.isSafari=r.memoize((function(){return Boolean(window.safari)}))},"/WHw":function(e,t,n){n.d(t,"a",(function(){return E}));var r=n("q1tI"),o=n.n(r),i=n("/MKj"),a=n("JW66"),s=n("Ye/N"),c=n("joD6"),l=n("oN2T"),u=n("5FNA"),d=n("VwDf"),h=n("Wer7"),p=n("U4JR"),f=n("vvax"),m=n("ANjH"),g=n("c50B");function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){var t,n;return n=t=class extends r.Component{constructor(...e){super(...e),b(this,"state",{boardDates:[],createBoardError:null,inputName:this.props.prefilledName||"",nameValidators:[Object(g.o)({message:s.a._("Don't forget to name your board!")}),Object(g.j)({max:a.a.MAX_CHARS_FOR_BOARD_TITLE,maxErrorString:Object(f.b)(s.a._("Please enter no more than {{ maxLength }} characters.","Validation error when a user input is too long","Validation error when a user input is too long"),{maxLength:a.a.MAX_CHARS_FOR_BOARD_TITLE}).join("")})],nameValidatorErrors:[],privacy:this.props.isAdAccountOwner?a.a.BoardPrivacy.PUBLIC:a.a.BoardPrivacy.PROTECTED,saving:!1}),b(this,"handleChangeName",(e,t)=>{const n=Object(g.r)(this.state.nameValidators,e);this.setState({inputName:e,nameValidatorErrors:n,createBoardError:null},()=>{t&&this.handleCreate()})}),b(this,"handleChangePrivacy",()=>{const e=this.state.privacy===a.a.BoardPrivacy.SECRET?a.a.BoardPrivacy.PUBLIC:a.a.BoardPrivacy.SECRET;this.setState({privacy:e})}),b(this,"handleChangeDate",e=>{this.setState({boardDates:e})}),b(this,"handleCreate",()=>{const{boardDates:e,inputName:t,privacy:n}=this.state,{createBoard:r,invalidateResource:o,onCreate:i,isAdAccountOwner:a,advertiser_id:c}=this.props;let l,u;e&&e.length>0&&(e.length>1?(l=Object(d.b)(e[0]),u=Object(d.b)(e[1])):u=Object(d.b)(e[0]));const h={event_start_date:l,event_date:u,privacy:n,name:t,...!a&&c?{advertiser_id:c}:{}};this.setState({saving:!0,createBoardError:null}),r(h).then(e=>{this.setState({saving:!1}),i(e),h.event_date&&Object(p.a)(8623,{view:415,objectId:e.id})}).catch(e=>{let t=s.a._("Uh oh! Something went wrong.");if(e.message){const{message:n,message_detail:r}=e;t=r?`${n} ${r}`:n}else"string"==typeof e&&(t=e);this.setState({saving:!1,createBoardError:t})}),o(n)})}render(){const{createBoard:t,invalidateResource:n,...r}=this.props;return o.a.createElement(e,Object.assign({onBoardCreate:this.handleCreate,onChangeBoardDate:this.handleChangeDate,onChangeBoardName:this.handleChangeName,onChangeBoardPrivacy:this.handleChangePrivacy},r,this.state))}},b(t,"displayName",`WithBoardCreatePane(${e.displayName||e.name})`),n}function v(e){const{advertiser:t,viewer:n}=e,r=!t||n.isAuth&&t.owner_user_id===n.id,o=t&&t.id;return{isAdAccountOwner:r,...o?{advertiser_id:o}:{}}}function _(e,t){return{invalidateResource:n=>{e(Object(h.f)("BoardsResource",Object(u.a)(t.viewer.username,n===a.a.BoardPrivacy.SECRET)))},createBoard:n=>e(Object(l.g)(n,{isFBC:0===t.viewer.boardCount}))}}function E(e){return Object(m.compose)(c.a,Object(i.connect)(v,_),y)(e)}},"/ZYE":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("q1tI"),o=n("493B");t.useMonitorOutput=function(e,t,n){var i=o.useCollector(e,t,n),a=i[0],s=i[1];return r.useEffect((function(){var t=e.getHandlerId();if(null!=t)return e.subscribeToStateChange(s,{handlerIds:[t]})}),[e,s]),a}},"/acK":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("q1tI"),o=n("SFi7"),i=n("2S0S");t.useDragDropManager=function(){var e=r.useContext(o.context).dragDropManager;return i(null!=e,"Expected drag drop context"),e}},"/mzO":function(e,t,n){n.d(t,"a",(function(){return s}));var r=n("q1tI"),o=n.n(r),i=n("Ye/N"),a=n("n6mq");function s({commentsDisabled:e,onCommentChange:t,onPhotoChange:n,photosDisabled:r,isManagedView:s,isNoTitle:c}){const l=s?6:c?0:3;return o.a.createElement(a.e,null,!c&&o.a.createElement(a.o,null),o.a.createElement(a.e,{mdDisplay:"flex",justifyContent:"between",paddingX:s?0:4,paddingY:l},!s&&!c&&o.a.createElement(a.e,{column:12,mdColumn:3,paddingY:2},o.a.createElement(a.V,{size:"md"},i.a._("Comment and Photo Permissions"))),o.a.createElement(a.e,{column:12,mdColumn:s?12:8},o.a.createElement(a.e,{paddingY:1,display:"flex",alignItems:"center"},o.a.createElement(a.R,{onChange:t,id:"CommentSwitch",switched:!e}),o.a.createElement(a.e,{paddingX:2},o.a.createElement(a.w,{htmlFor:"CommentSwitch"},o.a.createElement(a.V,{size:"md"},i.a._("Allow people to comment","Label for toggling comments on a pin in pin edit form","Label for toggling comments on a pin in pin edit form"))))),o.a.createElement(a.e,{paddingY:1,alignItems:"center",display:"flex"},o.a.createElement(a.R,{onChange:n,id:"PhotoSwitch",switched:!r}),o.a.createElement(a.e,{paddingX:2},o.a.createElement(a.w,{htmlFor:"PhotoSwitch"},o.a.createElement(a.V,{size:"md"},i.a._("Allow people to upload photos","Label for toggling photos on a pin in pin edit form","Label for toggling photos on a pin in pin edit form"))))))))}},"/y+l":function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n("8uQm"),i=n("JL7T"),a=n("dyxW"),s=n("U84a"),c=n("yxyD"),l=n("mFyV"),u=function(e,t){return{key:e.getKey(),text:e.getText(),type:e.getType(),depth:e.getDepth(),inlineStyleRanges:c(e),entityRanges:s(e,t),data:e.getData().toObject()}},d=function(e,t,n,a){if(e instanceof o)n.push(u(e,t));else{e instanceof i||l(!1);var s=e.getParentKey(),c=a[e.getKey()]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){r(e,t,n[t])}))}return e}({},u(e,t),{children:[]});s?a[s].children.push(c):n.push(c)}};e.exports=function(e){var t={entityMap:{},blocks:[]};return t=function(e,t){var n=t.entityMap,r=[],o={},i={},s=0;return e.getBlockMap().forEach((function(e){e.findEntityRanges((function(e){return null!==e.getEntity()}),(function(t){var r=e.getEntityAt(t),o=a.stringify(r);i[o]||(i[o]=r,n[o]="".concat(s),s++)})),d(e,n,r,o)})),{blocks:r,entityMap:n}}(e,t),t=function(e,t){var n=t.blocks,r=t.entityMap,o={};return Object.keys(r).forEach((function(t,n){var r=e.getEntity(a.unstringify(t));o[n]={type:r.getType(),mutability:r.getMutability(),data:r.getData()}})),{blocks:n,entityMap:o}}(e,t)}},"/y0H":function(e,t,n){e.exports={getRemovalRange:function(e,t,n,r,o){var i=n.split(" ");i=i.map((function(e,t){if("forward"===o){if(t>0)return" "+e}else if(t<i.length-1)return e+" ";return e}));for(var a,s=r,c=null,l=null,u=0;u<i.length;u++){if(e<(a=s+i[u].length)&&s<t)null!==c||(c=s),l=a;else if(null!==c)break;s=a}var d=r+n.length,h=c===r,p=l===d;return(!h&&p||h&&!p)&&("forward"===o?l!==d&&l++:c!==r&&c--),{start:c,end:l}}}},"/ySb":function(e,t,n){n.r(t);var r=n("q1tI"),o=n.n(r),i=n("/MKj"),a=n("xKh6"),s=n("5b7f"),c=n("ANjH"),l=n("ZdPf"),u=n("G8fK"),d=n("juW8"),h=n("RNo4"),p=n("JiWI"),f=n("U4JR"),m=n("joD6"),g=n("P79d"),b=n("qWlA"),y=n("LWPz"),v=n("yJZD"),_=n("+HMQ"),E=n("fNcP"),S=n("a0OY"),w=n("1inl"),C=n("Bn+j"),O=n("1YNZ"),I=n("6j0b"),x=n("Ye/N"),D=n("MhBu"),k=n("4TDQ"),T=n("4KhW"),M=n("VqlB"),j=n("MOLB"),P=n("eOdZ"),B=n("4uqU"),A=n("WG9s"),R=n("lnQP"),L=n("DzJC"),N=n.n(L),F=n("n6mq");function z({buttonText:e,componentType:t,handleButtonClick:n}){const[i,a]=Object(r.useState)(!1),[s,c]=Object(r.useState)(),l=Object(r.useRef)(),u=N()(()=>{l.current&&c(l.current.getBoundingClientRect().y)},100);return Object(r.useEffect)(()=>(window.addEventListener("scroll",u),()=>window.removeEventListener("scroll",u))),Object(r.useEffect)(()=>{var e,n;const r=(null===(e=window)||void 0===e?void 0:e.innerHeight)||(null===(n=document.body)||void 0===n?void 0:n.clientHeight);!i&&s<r&&(a(!0),Object(f.a)(13,{element:11681,component:t,view:5,viewParameter:3380}))},[s]),o.a.createElement(F.e,{marginTop:5,ref:l},o.a.createElement(F.f,{onClick:n,size:"lg",text:e}))}function q({componentType:e,elementType:t,title:n}){const[i,a]=Object(r.useState)(!1),[s,c]=Object(r.useState)(),l=Object(r.useRef)(),u=N()(()=>{l.current&&c(l.current.getBoundingClientRect().y)},100);return Object(r.useEffect)(()=>(window.addEventListener("scroll",u),()=>window.removeEventListener("scroll",u))),Object(r.useEffect)(()=>{var n,r;const o=(null===(n=window)||void 0===n?void 0:n.innerHeight)||(null===(r=document.body)||void 0===r?void 0:r.clientHeight);!i&&s<o&&(a(!0),Object(f.a)(13,{component:e,element:t,view:5,viewParameter:3380}))},[s]),o.a.createElement(F.e,{marginTop:11,marginBottom:5,ref:l},o.a.createElement(F.s,{size:"md"},n))}var U=n("82UD"),H=n("yjg8"),K=n("J8Pj");const V=()=>{};function W({buttonText:e,componentType:t,handleButtonClick:n,pins:r,storyType:i,title:a}){return o.a.createElement(F.e,{alignItems:"center",display:"flex",direction:"column",justifyContent:"center"},a&&o.a.createElement(q,{componentType:t,title:a}),o.a.createElement(F.B,{columnWidth:H.e,comp:({data:e,itemIdx:n})=>o.a.createElement(F.e,{height:K.c,margin:K.a,width:H.e},o.a.createElement(U.a,{imageOnlyOption:"default",pin:e,pinId:e.id,resolution:"default",surface:"ShoppingSquareGridRelatedProductsBoth",trackingParameters:{componentType:t,contextLogData:{story_type:i},slotIndex:n,viewType:5,viewParameter:3380}})),gutterWidth:16,items:r,loadItems:V,scrollContainer:()=>window}),e&&o.a.createElement(z,{buttonText:e,componentType:t,handleButtonClick:n}))}var G=n("gYog"),Y=n("EC67");var J=Object(Y.k)((function(e){const{story:t,slotIndex:n}=e,{action:r={},id:i,objects:a=[],story_type:s,title:c}=t||{};if("board_shop_your_board_story_type"===s)return null;if("board_shop_related_products_header"===s)return(null==c?void 0:c.format)?o.a.createElement(F.e,{alignItems:"center",direction:"column",display:"flex",marginTop:3},o.a.createElement(q,{componentType:13527,elementType:11680,title:c.format})):null;const l="board_shop_saved_products"===s?13526:13573;return o.a.createElement(G.a,{componentType:l,impressionType:"Story",loggingId:i,slotIndex:n,viewParameter:3380,viewType:5},o.a.createElement(W,{buttonText:null==r?void 0:r.text,componentType:l,handleButtonClick:()=>{const{history:t}=e;(null==r?void 0:r.url)&&(t.push(r.url),Object(f.a)(101,{element:11681,component:l,view:5,viewParameter:3380}))},pins:a,storyType:s,title:null==c?void 0:c.format}))})),X=n("lUXN"),Q=n("rsy7"),$=n("240h"),Z=n("qLDv");function ee({boardId:e,shopFeedResource:t}){const[n,i]=Object(r.useState)(!1),[a,s]=Object(r.useState)(),c=Object(r.useRef)();Object(r.useEffect)(()=>{Object(f.a)(13,{objectId:e,view:5,viewParameter:3380})},[]);const l=N()(()=>{c.current&&s(c.current.getBoundingClientRect().y)},100);Object(r.useEffect)(()=>(window.addEventListener("scroll",l),()=>window.removeEventListener("scroll",l))),Object(r.useEffect)(()=>{var e,t;const r=(null===(e=window)||void 0===e?void 0:e.innerHeight)||(null===(t=document.body)||void 0===t?void 0:t.clientHeight);!n&&a<r&&(Object(f.a)(13,{component:13527,view:5,viewParameter:3380}),i(!0))},[a]);const{data:u,fetchMore:d,isAtEnd:h,isFetching:p}=t||{};if(0===(null==u?void 0:u.length)&&p)return o.a.createElement(F.e,{display:"flex",justifyContent:"center",width:"100%"},o.a.createElement(F.O,{accessibilityLabel:x.a._("Loading shopping results","board.shopTab.results","Accessibility label for loading shopping results"),show:!0}));return o.a.createElement($.a,{fetchMore:d,isAtEnd:h,isFetching:p,items:u,loadingLabel:x.a._("Loading shopping results","board.shopTab.results","Accessibility label for loading shopping results"),marginBottom:12,renderItem:({item:e,itemIdx:t})=>"pin"===e.type?o.a.createElement(X.a,{name:"web_shopping_grid_labels",activate:!1,key:e.id},({customActivate:r,group:i})=>(Object(Q.a)(e).length>0&&r&&(Z.e.includes(i)||i.startsWith("control"))&&r(),o.a.createElement(F.e,{height:K.c,key:e.id,margin:K.a,width:K.e,ref:n?void 0:c},o.a.createElement(U.a,{pin:e,pinId:e.id,surface:"ShoppingSquareGridRelatedProductsBoth",trackingParameters:{componentType:13527,slotIndex:t,viewType:5,viewParameter:3380}})))):o.a.createElement(F.e,{width:"100%",key:e.id},o.a.createElement(J,{story:e}))})}var te=n("8A+h"),ne=n("qUzp"),re=n("v/Q4"),oe=n("+Un0"),ie=n("MD/U");function ae(e){const{board:t,tabKey:n}=e,r=Object(re.a)();switch(n){case ie.d.Default:case ie.d.Pins:const{currentModal:n,currentView:i,handleBoardOrganizeClick:a,handleBulkEditPinClick:s,handleContentViewChange:c,handleMoveSelectedPinsToSection:l,handleShowEditSectionModal:u,handleShowMergeSectionsConfirmationModal:h,handleSinglePinDelete:p,inBoardOrganizationMode:f,inSectionOrganizationMode:m,inSelectAll:g,isPinGridSorted:b,isSeasonal:y,sectionlessPinCount:v,selectedPinIds:_}=e,E=g?v-_.length:_.length;return n===d.a.jumpstartBoard?null:o.a.createElement(R.a,{actions:{onBoardOrganizeClick:a},board:t,bulkEditSelectedPins:_,currentView:i,displayActionBar:!!y,enableReordering:Object(ne.a)({board:t,viewer:r}),inBoardOrganizationMode:f,inSectionOrganizationMode:m,inSelectAll:g,isOwnBoard:Object(te.a)(r,t),isPinGridSorted:b,oneTapMovePinsHandler:{moveToSection:l,numberOfSelectedPins:E},onBulkEditPinClick:s,onContentViewChange:c,onPinDelete:p,onShowEditSectionModal:u,onShowMergeSectionsConfirmationModal:h,viewParameter:Object(I.a)({board:t,viewer:r})});case ie.d.MoreIdeas:const{forceBackendExperiments:S,fromNewsId:w,ideasReferrer:C}=e;return o.a.createElement(oe.BoardMoreIdeasTabContent,{collection:t,from_news_id:w,forceBackendExperiments:S,ideasReferrer:C,reducePadding:!0,viewerIsOwnerOrCollaborator:Object(ne.a)({board:t,viewer:r})});case ie.d.Shop:const{shoppingFeedModularizedResource:O}=e;return o.a.createElement(ee,{boardId:t.id,shopFeedResource:O});default:return null}}var se=n("q8wg"),ce=n("CvCA"),le=n("QBTH"),ue=n("Scz5"),de=n("VmTC"),he=n("bbVO"),pe=n("2qKt"),fe=n("vxan"),me=n("vVEi"),ge=n("KFEb"),be=n("5FNA"),ye=n("vvax"),ve=n("Wer7"),_e=n("Wrea"),Ee=n("JW66"),Se=n("6vq5"),we=n("C0mq"),Ce=n("sxkF"),Oe=n("nGHF"),Ie=n("oN2T");function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class De extends o.a.Component{constructor(...e){super(...e),xe(this,"state",{archiveStatusChanged:!1,boardSection:null,currentModal:this.props.initialModalType||null,groupPinsData:null,inBoardOrganizationMode:!1,inSectionOrganizationMode:!1,inSelectAll:!1,mergeConfirmationModalProps:null,selectedPinIds:[],shouldRefreshBoardOnUnmount:!1,tabKey:this.props.selectedTab||ie.d.Default,currentView:Object(Ce.b)(this.props.viewer,this.props.board)||"custom"}),xe(this,"mounted",!1),xe(this,"boardHeaderRef",Object(r.createRef)()),xe(this,"handleFollowersClick",()=>{this.setState({currentModal:d.a.followers})}),xe(this,"handleClearModal",()=>{this.setState({currentModal:null,mergeConfirmationModalProps:null})}),xe(this,"handleSelectAll",()=>{this.setState({inSelectAll:!0,selectedPinIds:[]})}),xe(this,"handleDeselectAll",()=>{this.setState({inSelectAll:!1,selectedPinIds:[]})}),xe(this,"handleShowGroupPins",(e,t)=>{this.setState({currentModal:d.a.groupPins,groupPinsData:{clusterId:e,suggestedSectionName:t}})}),xe(this,"handleShowBoardArchiveConfirmation",()=>{this.setState({currentModal:d.a.boardArchiveConfirmation})}),xe(this,"handleBoardEditClick",()=>{Object(f.a)(101,{element:10845,component:13216,view:5,viewParameter:3069}),this.setState({currentModal:d.a.boardEdit})}),xe(this,"handleBoardArchiveChange",()=>{const{dispatch:e,refreshBoardData:t}=this.props;t(),e(Object(Ie.i)())}),xe(this,"routeToViewerProfilePage",()=>{const{history:e,viewer:t}=this.props,n=t.isAuth?"/"+t.username:"/";e.replace(n)}),xe(this,"handleBoardDelete",()=>{this.routeToViewerProfilePage()}),xe(this,"handleBoardLeave",e=>{const{dispatch:t}=this.props;t(Object(Ie.i)()),this.routeToViewerProfilePage()}),xe(this,"handleBoardSectionChange",()=>{this.setState({boardSection:null,currentModal:null})}),xe(this,"handleCopyPinsToBoard",e=>{const{inSelectAll:t,selectedPinIds:n}=this.state;if(t)return;P.a.create("BulkEditResource",{board_id:e,pin_ids:n}).callCreate();const r=n.length;this.setState({inBoardOrganizationMode:!1,inSelectAll:!1,selectedPinIds:[]},()=>{this.showBulkEditCompleteToast(Ee.a.BulkAction.COPY,r)})}),xe(this,"handleContentViewChange",e=>{this.setState({currentView:e})}),xe(this,"handleDeletePins",()=>{const{board:e,dispatch:t}=this.props,{selectedPinIds:n,inSelectAll:r}=this.state,o=n.length,i=r?"BulkEditSelectAllResource":"BulkEditResource",a=r?{board_id:e.id,pin_ids:n}:{pin_ids:n};P.a.create(i,a).callDelete(),this.setState({inBoardOrganizationMode:!1,inSelectAll:!1,selectedPinIds:[],shouldRefreshBoardOnUnmount:!0},()=>{this.showBulkEditCompleteToast(Ee.a.BulkAction.DELETE,o),setTimeout(()=>{t(Object(_e.f)(e.id)),t(Object(D.a)({feedId:e.id,feedType:ge.a.BOARD_PINS,inverseSelection:r,itemIds:n,itemType:"pin"}))},1e3)})}),xe(this,"showBulkEditCompleteToast",(e,t)=>{const{toastManagerContext:n}=this.props;let r;r=e===Ee.a.BulkAction.DELETE?1===t?x.a._("Got it! Hang tight while we delete this Pin...","Toast message for bulk pins delete.","Toast message for bulk pins delete."):x.a._("Got it! Hang tight while we delete all those Pins...","Toast message for bulk pins delete.","Toast message for bulk pins delete."):1===t?x.a._("Got it! Hang tight while we copy this Pin...","Toast message for bulk pins copy.","Toast message for bulk pins copy."):x.a._("Got it! Hang tight while we copy all those Pins...","Toast message for bulk pins copy.","Toast message for bulk pins copy."),n.showOneToast(({onHide:e})=>o.a.createElement(ce.a,{duration:3e3,onHide:e,text:r}))}),xe(this,"completeMoveAction",()=>{this.setState({currentModal:null,inBoardOrganizationMode:!1,inSectionOrganizationMode:!1,inSelectAll:!1,selectedPinIds:[],shouldRefreshBoardOnUnmount:!0})}),xe(this,"handleMoveSelectedPinsToSection",e=>{const{board:t,dispatch:n,toastManagerContext:r,makeCancelablePromise:i}=this.props,{inSelectAll:a,selectedPinIds:s}=this.state;i(n(Object(M.a)({inverseSelection:a,selectedPinIds:s,source:{boardId:t.id,sectionId:null},target:{boardId:t.id,sectionId:e.id}}))).then(()=>{this.setState({inSelectAll:!1,selectedPinIds:[],shouldRefreshBoardOnUnmount:!0});const n=a?x.a._("Got it! Hang tight while we move all those Pins...","Toast message for bulk pins move.","Toast message for bulk pins move."):Object(ye.b)(x.a._("Moved to {{sectionName}}","Toast for successfully moving pins to a section within a board","Toast for successfully moving pins to a section within a board"),{sectionName:e.title}).join("");r.showOneToast(({onHide:r})=>o.a.createElement(ce.a,{duration:3e3,href:a?"":`${t.url}${e.slug}`,imageUrl:" ",onHide:r,text:n}))}).catch(({isCanceled:e})=>{e||w.a.showError(x.a._("Failed to move selected Pins to the section","Error message for moving selected Pins to the selected section","Error message for moving selected Pins to the selected section"))})}),xe(this,"handleShowBulkEditBoardPicker",e=>{const{selectedPinIds:t,inSelectAll:n}=this.state;n||t.length>0?e===Ee.a.BulkAction.DELETE?this.setState({currentModal:d.a.bulkDelete}):e===Ee.a.BulkAction.MOVE?this.setState({currentModal:d.a.moveSection}):this.setState({currentModal:d.a.bulkCopy}):e===Ee.a.BulkAction.MOVE?w.a.showError(x.a._("Select the Pins you want to move.")):e===Ee.a.BulkAction.COPY?w.a.showError(x.a._("Select the Pins you want to copy.")):e===Ee.a.BulkAction.DELETE&&w.a.showError(x.a._("Select the Pins you want to delete."))}),xe(this,"handleShowEditSectionModal",Object(b.a)(e=>{this.setState({currentModal:d.a.editSection,boardSection:e})})),xe(this,"handleShowMergeSectionsConfirmationModal",Object(b.a)((e,t)=>{this.setState({currentModal:d.a.sectionMergeConfirm,mergeConfirmationModalProps:{source:e,target:t,onConfirm:this.handleMergeSections}})})),xe(this,"handleCreateSection",Object(b.a)(e=>{this.setState({currentModal:null,inBoardOrganizationMode:!1,inSectionOrganizationMode:!1,inSelectAll:!1,selectedPinIds:[],shouldRefreshBoardOnUnmount:!0}),this.showCreateSectionSuccessToast(e)})),xe(this,"showCreateSectionSuccessToast",e=>{const{board:t,toastManagerContext:n}=this.props;n.showOneToast(({onHide:n})=>o.a.createElement(B.a,{boardUrl:t.url,onHide:n,slug:e.slug}))}),xe(this,"handleMergeSections",Object(b.a)(()=>{const{board:e,dispatch:t,showBlockingActionToast:n}=this.props,{mergeConfirmationModalProps:r}=this.state;if(!r)return;this.setState({currentModal:null,mergeConfirmationModalProps:null});const{source:o,target:i}=r;Object(f.a)(7173,{objectId:o.id,merge_flow:"dnd"}),t(Object(k.a)(e.id,o.id,i.id)).then(()=>{n({actionType:"merge",board:e,section:i})}).catch(e=>{w.a.showError(e.message||x.a._("Failed to merge sections","Error message when failed to merge sections","Error message when failed to merge sections"))})})),xe(this,"handleShowMoveSectionModal",()=>{this.state.selectedPinIds.length>0?this.setState({currentModal:d.a.moveSection}):w.a.showError(x.a._("Select the Pins you want to move to a section."))}),xe(this,"handleBoardOrganizeClick",e=>{this.setState({inBoardOrganizationMode:e,inSectionOrganizationMode:!1,inSelectAll:!1,selectedPinIds:[]})}),xe(this,"handleSectionOrganizeClick",Object(b.a)(e=>{this.setState({inSectionOrganizationMode:e,inBoardOrganizationMode:!1,selectedPinIds:[]})})),xe(this,"handleBulkEditPinClick",e=>{const{sectionlessPinCount:t}=this.props,{selectedPinIds:n,inSelectAll:r}=this.state,o=n.includes(e)?n.filter(t=>t!==e):[...n,e];r&&o.length===t?this.setState({inSelectAll:!1,selectedPinIds:[]}):this.setState({selectedPinIds:o})}),xe(this,"handleCollaboratorInviteClick",()=>this.setState({currentModal:d.a.collaboratorsAndPermissions})),xe(this,"handleSinglePinDelete",()=>{this.setState({shouldRefreshBoardOnUnmount:!0})}),xe(this,"handleTabChange",({activeTabIndex:e,event:t})=>{const{board:n,showShopFeed:r,viewer:o}=this.props;t.preventDefault(),r&&1===e&&Object(f.a)(101,{element:11688,component:13184,view:5,viewParameter:Object(I.a)({board:n,viewer:o})}),this.switchToTab(this.tabs[e]||this.tabs[0])}),xe(this,"handleShowCollabAndPermissionsModal",()=>this.setState({currentModal:d.a.collaboratorsAndPermissions})),xe(this,"switchToTab",({key:e,href:t,elementId:n})=>{const{board:r,dispatch:o,forceBackendExperiments:i,history:a,viewer:s}=this.props,{shouldRefreshBoardOnUnmount:c,tabKey:l}=this.state;e!==l&&(c&&o(Object(Ie.c)(r.id,"pin_count")),e===ie.d.MoreIdeas&&o(Object(oe.invalidateRecommendationResource)({collection:r,forceBackendExperiments:i})),this.setState({shouldRefreshBoardOnUnmount:!1,tabKey:e}),a.push(t),n&&Object(f.a)(101,{element:n,objectId:r.id,view:5,viewParameter:Object(I.a)({board:r,viewer:s})}))}),xe(this,"handleCreatePinClick",Object(b.a)(()=>{const{board:e,history:t}=this.props;Object(le.a)(),t.push({pathname:"/pin-builder/",state:{board:e}})})),xe(this,"handleOpenSendBoardFlyout",Object(b.a)(()=>{Object(he.a)()})),xe(this,"handleShowCreatePincodeModal",Object(b.a)(()=>{Object(ue.a)(),this.setState({currentModal:d.a.pincode})})),xe(this,"handleShowSimpleSectionCreate",Object(b.a)(()=>{Object(de.a)(),this.setState({currentModal:d.a.simpleCreateSection})})),xe(this,"handleShowDateModal",Object(b.a)(()=>{this.setState({currentModal:d.a.addOrEditDate})})),xe(this,"isPinGridSorted",()=>"custom"!==this.state.currentView)}componentDidMount(){this.mounted=!0;const{board:e,boardIsEligibleForMoreIdeasTab:t,history:n,selectedTab:r}=this.props;r!==ie.d.MoreIdeas||t||n.replace(e.url)}componentDidUpdate(e){e.board.archived_by_me_at!==this.props.board.archived_by_me_at&&this.setState({archiveStatusChanged:!0})}componentWillUnmount(){const{board:e,dispatch:t,viewer:n}=this.props,{archiveStatusChanged:r,shouldRefreshBoardOnUnmount:o}=this.state;o&&t(Object(Ie.c)(e.id,"pin_count")),r&&(t(Object(ve.f)("BoardsResource",Object(be.a)(n.isAuth?n.username:"","secret"===e.privacy))),t(Object(ve.f)("BoardArchiveResource"))),this.mounted=!1}get isSeasonal(){const{isSocialSeasonalBoard:e,socialHeaderBgImage:t,socialHeaderBgColor:n,textIconColor:r}=this.props;return e&&t&&n&&r}get tabs(){const{board:e,boardIsEligibleForMoreIdeasTab:t,showShopFeed:n}=this.props,{tabKey:r}=this.state,{id:i,has_fresh_more_ideas_tab:a,url:s}=e,c=[];if(c.push({elementId:10609,href:s,key:ie.d.Default,showOrganizeButton:!0,title:x.a._("Pins")}),n&&c.push({href:s+"shop/",key:ie.d.Shop,title:x.a._("Shop","board.boardTab.shop","Tab title on the board page to see product Pins")}),t){const e={elementId:10610,href:s+"more_ideas/?ideas_referrer=1",key:ie.d.MoreIdeas,title:o.a.createElement(T.a,{hasFreshContent:a,tabIsActive:r===ie.d.MoreIdeas,type:"board",boardId:i,onTooltipClickComplete:()=>this.switchToTab(e)})};c.push(e)}return c}render(){var e;const{board:t,forceBackendExperiments:n,from_news_id:r,ideasReferrer:i,sectionlessPinCount:a,shoppingFeedModularizedResource:s,viewer:c,socialHeaderBgImage:l,socialHeaderBgColor:u,textIconColor:d,userBlocked:h,showPulsar:p}=this.props,{boardSection:f,groupPinsData:m,inBoardOrganizationMode:b,inSelectAll:w,mergeConfirmationModalProps:x,selectedPinIds:D,tabKey:k}=this.state,{access:T,pin_count:M}=t,P=this.tabs,B=w?a-D.length:D.length,R=T&&T.includes("write")?_.a:v.a;return o.a.createElement(se.a,{view:5,viewParameter:Object(I.a)({board:t,viewer:c}),objectId:t.id},o.a.createElement("div",{className:"boardPageContentWrapper"},!this.isSeasonal&&b&&o.a.createElement(j.a,{board:t,inSelectAll:w,onDeselectAll:this.handleDeselectAll,onDone:()=>this.handleBoardOrganizeClick(!1),onSelectAll:this.handleSelectAll,onShowBulkEditBoardPicker:this.handleShowBulkEditBoardPicker,selectedPinCount:B,selectedPinIds:D}),o.a.createElement(F.e,{"data-test-id":"board-header",ref:this.boardHeaderRef},this.isSeasonal?o.a.createElement(A.a,{board:t,socialHeaderBgImage:l,socialHeaderBgColor:u,textIconColor:d||"white",showSendButton:!0}):o.a.createElement(R,{board:t},e=>o.a.createElement(S.a,{board:t,collaborators:e,handleShowCollabAndPermissionsModal:this.handleShowCollabAndPermissionsModal,handleShowDateModal:this.handleShowDateModal,onFollowersClick:this.handleFollowersClick,showPulsar:p,userBlocked:!!h}))),!this.isSeasonal&&o.a.createElement(g.a,{board:t,handleAddSection:this.handleShowSimpleSectionCreate,handleBoardEdit:this.handleBoardEditClick,handleCreatePin:this.handleCreatePinClick,handleCreatePincode:this.handleShowCreatePincodeModal,handleOpenSendBoardFlyout:this.handleOpenSendBoardFlyout,handleOrganizeClick:()=>this.handleBoardOrganizeClick(!0),handleShowDateModal:this.handleShowDateModal,handleTabChange:this.handleTabChange,headerHeight:null===(e=this.boardHeaderRef.current)||void 0===e?void 0:e.offsetHeight,shouldStick:!b,showDensitySelector:M>=ie.a,showOrganize:M>=ie.b&&!b,showTabs:P.length>1,surface:"board",tabKey:k,tabs:P}),o.a.createElement(y.a,{boardId:t.id,handleShowArchiveConfirmation:this.handleShowBoardArchiveConfirmation,handleShowGroupPinsModal:this.handleShowGroupPins}),o.a.createElement(ae,{board:t,currentModal:this.state.currentModal,currentView:this.state.currentView,forceBackendExperiments:n,fromNewsId:r,handleBoardOrganizeClick:this.handleBoardOrganizeClick,handleBulkEditPinClick:this.handleBulkEditPinClick,handleContentViewChange:this.handleContentViewChange,handleMoveSelectedPinsToSection:this.handleMoveSelectedPinsToSection,handleShowEditSectionModal:this.handleShowEditSectionModal,handleShowMergeSectionsConfirmationModal:this.handleShowMergeSectionsConfirmationModal,handleSinglePinDelete:this.handleSinglePinDelete,ideasReferrer:i,inBoardOrganizationMode:this.state.inBoardOrganizationMode,inSectionOrganizationMode:this.state.inSectionOrganizationMode,inSelectAll:w,isPinGridSorted:this.isPinGridSorted(),isSeasonal:!!this.isSeasonal,sectionlessPinCount:a,selectedPinIds:D,tabKey:k,shoppingFeedModularizedResource:s}),this.state.currentModal&&o.a.createElement(E.a,{actions:{completeCreateSectionAction:this.handleCreateSection,completeMoveAction:this.completeMoveAction,onBoardArchiveChange:this.handleBoardArchiveChange,onBoardDelete:this.handleBoardDelete,onBoardLeave:this.handleBoardLeave,onBoardSectionDelete:this.handleBoardSectionChange,onBoardSectionSave:this.handleBoardSectionChange,onCopyPinsToBoard:this.handleCopyPinsToBoard,onDeletePins:this.handleDeletePins,onCollaboratorInviteClick:this.handleCollaboratorInviteClick},board:t,boardSection:f,bulkEditSelectedPins:D,currentModal:this.state.currentModal,groupPinsData:m,inSelectAll:w,mergeConfirmationModalProps:x,onClearModal:this.handleClearModal}),o.a.createElement(C.a,{placementId:18}),o.a.createElement(O.a,{placementId:18})))}}const ke=Object(c.compose)(Object(i.connect)(({boards:{content:e={},isSocialSeasonalBoard:t=!1,socialHeaderBgImage:n="",socialHeaderBgColor:r="",textIconColor:o="white"},viewer:i},{boardId:a})=>{const s=e[a];return{board:s,sectionlessPinCount:s&&s.sectionless_pin_count||0,isSocialSeasonalBoard:t,socialHeaderBgImage:n,socialHeaderBgColor:r,textIconColor:o,viewer:i}},(function(e){return{dispatch:e}})),Object(pe.a)(18,(e,t)=>({email_id:e.emailId,board_id:e.boardId,pin_count:e.sectionlessPinCount})),Oe.c,we.a,fe.a,me.d)(e=>e.board?o.a.createElement(De,e):null),Te=Object(Se.a)({name:"ShoppingFeedModularizedResource",key:"shoppingFeedModularizedResource",options:({boardId:e})=>({board_id:e,field_set_key:"shopping_grid_item"})})(ke);var Me=n("w70y");function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Pe extends r.PureComponent{constructor(...e){super(...e),je(this,"state",{isSeasonalBoardChecked:!1,hasLoggedShopTabView:!1}),je(this,"handleDispatchSocialBoard",()=>{this.setState({isSeasonalBoardChecked:!0})}),je(this,"setShopTabView",()=>this.setState({hasLoggedShopTabView:!0}))}componentDidMount(){const{locationToErrorMap:e,history:t,location:n,dispatch:r}=this.props;Object(a.a)();const o=`/${n.pathname.split("/")[1]}/`;e[n.pathname]&&(r(Object(u.a)(o,e[n.pathname])),t.replace(o))}componentDidUpdate(e){const{location:t,dispatch:n,history:r,boardResource:{data:o,error:i},userMetadata:a}=this.props,{hasLoggedShopTabView:c,isSeasonalBoardChecked:l}=this.state,d=o&&o.id;if(o&&d&&p.a[d]&&(l||(n(Object(Ie.k)(d,"auth")),this.handleDispatchSocialBoard())),o){const{should_show_shop_feed:e}=o||{};e&&!c&&(this.setShopTabView(),Object(f.a)(13,{element:11688,view:5}))}if(i&&404===i.http_status){const e=`/${t.pathname.split("/")[1]}/`;n(Object(u.a)(t.pathname,i)),n(Object(u.a)(e,i)),r.replace(e)}Object(s.a)(a)}componentWillUnmount(){const{dispatch:e}=this.props;e(Object(Ie.f)())}render(){const{boardResource:{data:e,refreshData:t},location:n,selectedTab:o}=this.props;if(!e)return null;const i=n.state&&n.state.newBoard,a=Object(l.d)(e.sensitivity);let s=ke;const c=e.should_show_shop_feed;c&&(s=Te);const u=Object(h.k)(n.search);return r.createElement(s,{boardId:e.id,boardIsEligibleForMoreIdeasTab:e.should_show_more_ideas,forceBackendExperiments:u.forceBackendExperiments,ideasReferrer:u.ideas_referrer,from_news_id:u.from_news_id,initialModalType:i&&!a&&e.should_show_more_ideas?d.a.jumpstartBoard:null,refreshBoardData:t,selectedTab:o,showPulsar:Boolean(u.showPulsar),showShopFeed:Boolean(c),userBlocked:e.owner.blocked_by_me})}}var Be=Object(c.compose)(Object(i.connect)((function({ui:e}){return{locationToErrorMap:e.mainComponent.locationToErrorMap}})),Y.k,m.a,Object(Me.b)({name:"UserMetadataResource",key:"userMetadata",options:e=>({user:{id:e.viewer.username}}),allowStale:!1}))(Pe),Ae=n("Q59z"),Re=n("RGZK"),Le=n("QLWx");function Ne({board:e}){Object(Le.a)(e);const t=Object(Me.a)({name:"ShoppingFeedModularizedResource",options:{field_set_key:"shopping_grid_item",board_id:e.id}});return o.a.createElement(r.Fragment,null,o.a.createElement(Re.a,{url:e.url,headerText:x.a._("Shop","ShopBoardToolPage.Heading","Title of shop board tool page")}),o.a.createElement(ee,{boardId:e.id,shopFeedResource:t}))}var Fe=n("ypm9");var ze=Object(we.a)((function({boardResource:{data:e,refreshData:t},match:n}){const r=null==e?void 0:e.id,a=Object(i.useSelector)(e=>r&&(e.boards.content||{})[r])||null,{search:s,state:c}=Object(Y.h)();if(Object(Fe.a)(),!a)return o.a.createElement(F.O,{accessibilityLabel:x.a._("Loading Board page","ExperimentalBoardPageContainer.Spinner","Accessibility label on loading spinner"),show:!0});const u=null==c?void 0:c.newBoard,p=Object(l.d)(null==e?void 0:e.sensitivity),f=u&&!p&&(null==e?void 0:e.should_show_more_ideas)?d.a.jumpstartBoard:null,m="/:username/:slug/shop"===n.path,g=Object(h.k)(s);return m?o.a.createElement(Ne,{board:a}):o.a.createElement(Ae.a,{board:a,initialModalType:f,refreshBoardData:t,showPulsar:Boolean(g.showPulsar)})})),qe=n("FF6m"),Ue=n("XCz/"),He=n("75Er");t.default=Object(c.compose)(Object(qe.a)({name:"BoardPage",resourceDependencies:(e,t)=>[{name:"BoardResource",key:"boardResource",options:{username:t.username,slug:t.slug,field_set_key:"detailed"}}]}),Y.k)((function({match:{params:{username:e,slug:t},path:n}}){const r=Object(re.a)(),i=r.isAuth&&r.username===e;Object(He.b)({view_type:5,view_parameter:i?3069:3070});const a=Object(Me.a)({name:"BoardResource",options:{username:e,slug:unescape(t||""),field_set_key:"detailed"}});let s="default";return n.includes("/pins")?s="pins":n.includes("/shop")?s="shop":n.includes("/more_ideas")&&(s="moreIdeas"),o.a.createElement(Ue.a,{name:"web_board_tools"},({anyEnabled:e})=>e?o.a.createElement(ze,{boardResource:a}):o.a.createElement(Be,{boardResource:a,selectedTab:s}))}))},"078/":function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return a}));const r=["AuthHomefeed","CloseupRelatedProducts","FollowingFeedGrid","RelatedPinGrid","RelatedProductsFeed","SearchItem"],o=["ArticleProductsStory","CloseupRelatedProducts","ProductPinsFeed","RelatedProductsFeed","ShoppingPackageItem","STLProductsFeed","RelatedProductsFeed","ShoppingSquareGridRelatedProducts","UserProfilePinGrid"],i=[...o,"ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridDomain","ShoppingSquareGridRelatedProductsMetadata","ProductPinsFeed","ShoppingSquareGridCrop","ShoppingCatalogsProductsMetadata"],a=["BaseBoardPinGrid"]},"0BOE":function(e,t,n){n.d(t,"a",(function(){return i}));const r={á:"a",à:"a",â:"a",ä:"a",ã:"a",å:"a",æ:"a",ç:"c",é:"e",è:"e",ê:"e",ë:"e",í:"i",ì:"i",î:"i",ï:"i",ñ:"n",ó:"o",ò:"o",ô:"o",ö:"o",õ:"o",ø:"o",œ:"o",ß:"s",ú:"u",ù:"u",û:"u",ü:"u"},o=e=>{if(!e)return"";let t="";for(let n=0;n<e.length;n+=1)t+=r[e.charAt(n)]||e.charAt(n);return t},i=(e,t,n="name")=>{const r=t.toLowerCase();return e.filter(e=>((e,t)=>{const n=t.split(" "),r=e.split(" ");let i=0;for(let a=0;a<r.length;a+=1)(o(r[a]).includes(n[i])||r[a].includes(n[i]))&&(i+=1);return i===n.length})(e[n].toLowerCase(),r))}},"0IKU":function(e,t,n){var r=n("mFyV"),o=n("OLzA");e.exports=function(e){var t=e.editorContainer;return t||r(!1),o(t.firstChild)||r(!1),t.firstChild}},"0NP8":function(e,t,n){n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var r=n("q1tI"),o=n.n(r),i=n("Ye/N"),a=n("oRao"),s=n("n6mq");const c=({bold:e=!1,count:t,shortform:n=!1,size:r="md",text:i})=>o.a.createElement(s.e,null,o.a.createElement(s.V,{align:"center",size:r,color:"darkGray",weight:e?"bold":"normal"},o.a.createElement(a.a,{value:t,shortform:n})," ",i)),l=({bold:e,count:t,onClick:n,shortform:r,size:a})=>o.a.createElement(s.e,null,o.a.createElement(s.U,{onTap:n},o.a.createElement(c,{bold:e,count:t,shortform:r,size:a,text:i.a.ngettext("follower","followers",t,"label for n follower(s)","label for n follower(s)")}))),u=({count:e,size:t})=>{const n=i.a.ngettext("Pin","Pins",e,"label for n board section(s)","label for n board section(s)");return o.a.createElement(s.e,null,o.a.createElement(s.V,{inline:!0,size:t,color:"darkGray"},!!e&&o.a.createElement(a.a,{value:e})||"0"," ",n))}},"0RQb":function(e,t,n){var r=n("3sOJ");e.exports=function(e){var t=e.getSelection(),n=t.getEndKey(),o=e.getCurrentContent().getBlockForKey(n).getLength();return r.set(e,{selection:t.merge({anchorKey:n,anchorOffset:o,focusKey:n,focusOffset:o,isBackward:!1}),forceSelection:!0})}},"0Rm8":function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n("q1tI");const o=n("NwjN").a;function i({children:e}){return e(Object(r.useContext)(o))}function a(){return Object(r.useContext)(o)}},"0S8y":function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return c}));var r=n("fAMq");function o(e){const t={},n=e.trim();n.length>0&&(t.full_name=n);const r=n.split(/ (.+)/);return""===r[0]&&r.shift(),r.length>0&&(t.first_name=r[0]||""),r.length>1&&(t.last_name=r[1]||""),t}function i({user:e,days:t=28}){if(!e||!e.createdAt)return!1;const n=new Date(e.createdAt),o=Object(r.h)(-t,n),i=new Date;return!Object(r.g)(i,o)}function a({user:e,days:t=28}){if(!e.resurrectionInfo)return!1;const n=e.resurrectionInfo.resurrectionDate,o=new Date,i=n?new Date(n):o,a=Object(r.c)(i,t);return Object(r.g)(a,o)}function s(e){return e&&e[1000069]&&500417===e[1000069].experience_id}function c(e){var t;return 502450===(null==e||null===(t=e[1000294])||void 0===t?void 0:t.experience_id)}},"0SCs":function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s}));var r=n("l61J"),o=n("pLLR");function i(e,t=!0){const{experiments:n}=Object(o.d)(),{group:i,anyEnabled:a}=Object(r.a)(e,{activate:!0,activateExperiment:e=>{n.v2ActivateExperiment(e)},group:n.v2GetGroup(e)||"",userIsEligible:t});return{group:i,anyEnabled:a}}function a(e,t=!0){const{experiments:n}=Object(o.d)(),{group:i,anyEnabled:a}=Object(r.a)(e,{activate:!1,activateExperiment:()=>{},group:n.v2GetGroup(e)||"",userIsEligible:t});return{group:i,anyEnabled:a}}function s(e,t=!0){const{experiments:n}=Object(o.d)();return Object(r.a)(e,{activate:!1,activateExperiment:e=>{n.v2ActivateExperiment(e)},group:n.v2GetGroup(e)||"",userIsEligible:t})}},"0TRD":function(e,t,n){e.exports={BOLD:{fontWeight:"bold"},CODE:{fontFamily:"monospace",wordWrap:"break-word"},ITALIC:{fontStyle:"italic"},STRIKETHROUGH:{textDecoration:"line-through"},UNDERLINE:{textDecoration:"underline"}}},"0ZL5":function(e,t,n){var r=n("q1tI"),o=n.n(r),i=n("c4Fo"),a=n("B2N+"),s=n("L2iP"),c=n("n6mq");const l=s.h-1,u=new c.p(l),d={1:"up",2:"right",3:"down",4:"left"};t.a=({anchors:e={},children:t,idealDirection:n,onCompleteByAnchor:s,placementId:h,positionRelativeToAnchor:p=!0,useMasonryFlyout:f=!1})=>{const[m,g]=Object(r.useState)(!1);return o.a.createElement(c.e,{position:p?"relative":void 0},o.a.Children.only(t),o.a.createElement(i.a,{placementId:h,predicate:t=>{const{display_data:n}=t;if(2===(null==n?void 0:n.component_type)){const{anchors_by_platform:t}=n;if(null==t?void 0:t.web){const{anchor:n,placement:r}=t.web;return r===h&&n in e}}return!1}},({complete:t,dismiss:r,display_data:i})=>{var h;const{anchors_by_platform:b={},button_text:y,button_uri:v,display_type:_,flyout_direction:E,scroll_to_dismiss:S,text:w}=i,C=null===(h=b.web)||void 0===h?void 0:h.anchor,O=e[C];if(!O)return null;const{FLYOUT:I,PULSAR:x}={FLYOUT:1,PULSAR:2},D={};if(_===x&&!p){const e=O.getClientRects();(null==e?void 0:e.length)>0&&(D.top=e[0].top,D.left=e[0].left,D.width=e[0].width,D.height=e[0].height)}const k=({children:e})=>f?o.a.createElement(c.x,{zIndex:u},e):o.a.createElement(c.e,{position:"absolute",top:!0,left:!0,zIndex:u,dangerouslySetInlineStyle:{__style:D}},e);S&&!m&&(window.addEventListener("scroll",(function e(){window.removeEventListener("scroll",e),g(!1),r()})),g(!0));const T=d[E],M=v&&(v.startsWith("https://")||v.startsWith("http://")),j=(s||{})[C],P=()=>{t(),j&&j()};return o.a.createElement(o.a.Fragment,null,_===x&&o.a.createElement(k,null,o.a.createElement(a.a,{anchor:O,onTouch:P,zIndex:l})),_===I&&o.a.createElement(k,null,o.a.createElement(c.q,{anchor:O,color:"blue",idealDirection:T||n||"down",onDismiss:r,positionRelativeToAnchor:!f&&p,shouldFocus:!1,showCaret:!0,size:"md"},o.a.createElement(c.e,{padding:4,width:"220px"},o.a.createElement(c.V,{align:"center",color:"white",weight:"bold"},w),y?o.a.createElement(c.e,{display:"flex",justifyContent:"center",marginTop:4},o.a.createElement(c.e,{column:8},o.a.createElement(c.f,{color:"white",href:v,onClick:P,role:"link",size:"md",target:M?"blank":null,text:y}))):null))))}))}},"0rqM":function(e,t,n){n.d(t,"a",(function(){return c}));var r=n("q1tI"),o=n.n(r),i=n("Ye/N"),a=n("TiQD"),s=n("n6mq");function c({cancelButtonLabel:e,confirmButtonLabel:t,heading:n,message:r,onCancel:c,onConfirm:l}){const u=n||i.a._("Are you sure?"),d=e||i.a._("Cancel");return o.a.createElement(a.b,{accessibilityModalLabel:u,footer:o.a.createElement(s.e,{marginEnd:-1,marginStart:-1},o.a.createElement(s.e,{"data-test-id":"cancel-button",padding:1},o.a.createElement(s.f,{onClick:c,size:"lg",text:d})),o.a.createElement(s.e,{"data-test-id":"confirm-button",padding:1},o.a.createElement(s.f,{color:"red",onClick:l,size:"lg",text:t}))),heading:u,onDismiss:c,role:"alertdialog"},o.a.createElement(s.e,{padding:4},o.a.createElement(s.V,null,r)))}},"0yL5":function(e,t,n){n.d(t,"a",(function(){return c}));var r=n("q1tI"),o=n.n(r),i=n("E2hd"),a=n("+nTX"),s=n("n6mq");function c({children:e,icon:t,label:n}){const c=Object(r.useRef)(null),[l,u]=Object(r.useState)(!1),d=()=>u(!1);return o.a.createElement(r.Fragment,null,o.a.createElement(s.e,{ref:c},o.a.createElement(i.a,{accessibilityLabel:n,icon:t,onClick:()=>u(!l),selected:l})),l&&o.a.createElement(a.a,{anchor:c.current,onDismiss:d},e({handleClose:d})))}},"158f":function(e,t,n){var r=n("4pIB"),o=n("mFyV");var i=r.isBrowser("Chrome")?function(e){for(var t=e.cloneRange(),n=[],r=e.endContainer;null!=r;r=r.parentNode){var i=r===e.commonAncestorContainer;i?t.setStart(e.startContainer,e.startOffset):t.setStart(t.endContainer,0);var a,s=Array.from(t.getClientRects());if(n.push(s),i)return n.reverse(),(a=[]).concat.apply(a,n);t.setEndBefore(r)}o(!1)}:function(e){return Array.from(e.getClientRects())};e.exports=i},"16Al":function(e,t,n){var r=n("WbBG");function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},"16ai":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("q1tI"),a=(r=i)&&r.__esModule?r:{default:r};var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.searchPortalRef=function(e){n.searchPortal=e},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){this.props.store.register(this.props.offsetKey),this.props.store.setIsOpened(!0),this.updatePortalClientRect(this.props),this.props.setEditorState(this.props.getEditorState())}},{key:"componentWillReceiveProps",value:function(e){this.updatePortalClientRect(e)}},{key:"componentWillUnmount",value:function(){this.props.store.unregister(this.props.offsetKey),this.props.store.setIsOpened(!1)}},{key:"updatePortalClientRect",value:function(e){var t=this;this.props.store.updatePortalClientRect(e.offsetKey,(function(){return t.searchPortal.getBoundingClientRect()}))}},{key:"render",value:function(){return a.default.createElement("span",{className:this.key,ref:this.searchPortalRef},this.props.children)}}]),t}(i.Component);t.default=s},"17x9":function(e,t,n){e.exports=n("16Al")()},"1IOU":function(e,t,n){String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return(void 0===t||t>this.length)&&(t=this.length),this.substring(t-e.length,t)===e})},"1Jbx":function(e,t,n){var r=n("4pIB"),o=n("h/2P"),i=n("JI+E"),a=n("jH4x"),s=n("YDMw"),c=n("e/Ok"),l=n("cmQj"),u=n("Y/kH"),d=n("pg4M"),h=n("jyDg"),p=n("C9ER"),f=n("kDkJ"),m=n("WJOU"),g=r.isBrowser("Chrome"),b=r.isBrowser("Firefox"),y=g||b?m:function(e){},v={onBeforeInput:o,onBlur:i,onCompositionStart:a,onCopy:s,onCut:c,onDragOver:l,onDragStart:u,onFocus:d,onInput:h,onKeyDown:p,onPaste:f,onSelect:m,onMouseUp:y,onKeyUp:y};e.exports=v},"1RGD":function(e,t,n){n.d(t,"a",(function(){return c}));var r=n("q1tI"),o=n.n(r),i=n("Ye/N"),a=n("vvax"),s=n("n6mq");function c({header:e,onUpdate:t,value:n}){const[c,l]=Object(r.useState)(n?String(Math.floor(Number.parseInt(n,10)/60)):"0"),[u,d]=Object(r.useState)(n?String(Number.parseInt(n,10)%60):"0"),h=(e,n)=>{t(String(Number.parseInt(n,10)+60*Number.parseInt(e,10)))},p=[];for(let r=0;r<=9;r+=1)p.push({value:String(r),label:Object(a.b)(i.a.ngettext("{{ hours }} hour","{{ hours }} hours",r,"storyboard.detailsList.recipe","Option for number of hours a story pin recipe will take"),{hours:r}).join("")});const f=[];for(let r=0;r<60;r+=1)f.push({value:String(r),label:Object(a.b)(i.a.ngettext("{{ minutes }} minute","{{ minutes }} minutes",r,"storyboard.detailsList.recipe","Option for number of minutes a story pin recipe will take"),{minutes:r}).join("")});return o.a.createElement(s.e,{width:"100%",display:"flex",alignItems:"end"},o.a.createElement(s.e,{width:"50%",marginEnd:2},o.a.createElement(s.M,{size:"lg",id:"hours",name:"hours",label:e,placeholder:i.a._("Hours","storyboard.detailsList.recipe","Placeholder caption for hours input in story pin recipe cooktime"),value:c,options:p,onChange:({value:e})=>{Number.isNaN(e)||(l(e),h(e,u))}})),o.a.createElement(s.e,{width:"50%",marginStart:2},o.a.createElement(s.M,{size:"lg",id:"minutes",name:"minutes",placeholder:i.a._("Minutes","storyboard.detailsList.recipe","Placeholder caption for minutes input in story pin recipe cooktime"),value:u,options:f,onChange:({value:e})=>{Number.isNaN(e)||(d(e),h(c,e))}})))}},"1YNZ":function(e,t,n){var r=n("q1tI"),o=n.n(r),i=n("c4Fo"),a=n("CvCA"),s=n("U4JR");var c=e=>o.a.createElement(i.a,{experienceIds:e.experienceIds,placementId:e.placementId,type:10},({complete:t,dismiss:n,display_data:r})=>{const i=r.link||e.linkUrl;return o.a.createElement(a.a,{duration:r.duration,href:i,text:r.text,onClick:()=>{t(),e.onClick&&e.onClick(),e.shouldLogClicks&&e.shouldLogClicks&&Object(s.a)(101,{objectId:e.objectId,component:e.thriftComponentType,element:e.thriftElementType})},onHide:()=>{e.onHide(),e.completionOnDismissal?t():n()}})}),l=n("nGHF");function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d=2e3;class h extends r.Component{constructor(...e){super(...e),u(this,"componentDidMount",()=>{const{delay:e=d}=this.props;this.experienceToastsTimeout=window.setTimeout(()=>this.triggerEducationToasts(),e)})}componentWillUnmount(){window.clearTimeout(this.experienceToastsTimeout)}triggerEducationToasts(){const{toastManagerContext:e,completionOnDismissal:t,placementId:n,experienceIds:r}=this.props;e.showOneToast(({onHide:e})=>o.a.createElement(c,{experienceIds:r,completionOnDismissal:t,onHide:e,placementId:n,shouldLogClicks:!1}))}render(){return null}}u(h,"defaultProps",{completionOnDismissal:!1});t.a=Object(l.c)(h)},"1qq2":function(e,t,n){var r;function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n("lFJn"),s=n("8uQm"),c=n("JL7T"),l=n("rAV9"),u=n("TzU/"),d=n("mbKr"),h=n("pXmp"),p=n("rJY1"),f=n("xocI"),m=n("cwFY"),g=n("zVay"),b=g.List,y=g.Map,v=g.OrderedSet,_=n("7/2Y"),E=n("aB02"),S=n("OLzA"),w=n("GMIm"),C=m("draft_tree_data_support"),O=new RegExp("\r","g"),I=new RegExp("\n","g"),x=new RegExp("^\n","g"),D=new RegExp("&nbsp;","g"),k=new RegExp("&#13;?","g"),T=new RegExp("&#8203;?","g"),M=["bold","bolder","500","600","700","800","900"],j=["light","lighter","normal","100","200","300","400"],P=["className","href","rel","target","title"],B=["alt","className","height","src","width"],A=(i(r={},h("public/DraftStyleDefault/depth0"),0),i(r,h("public/DraftStyleDefault/depth1"),1),i(r,h("public/DraftStyleDefault/depth2"),2),i(r,h("public/DraftStyleDefault/depth3"),3),i(r,h("public/DraftStyleDefault/depth4"),4),r),R=y({b:"BOLD",code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",i:"ITALIC",s:"STRIKETHROUGH",strike:"STRIKETHROUGH",strong:"BOLD",u:"UNDERLINE",mark:"HIGHLIGHT"}),L=function(e){var t={};return e.mapKeys((function(e,n){var r=[n.element];void 0!==n.aliasedElements&&r.push.apply(r,n.aliasedElements),r.forEach((function(n){void 0===t[n]?t[n]=e:"string"==typeof t[n]?t[n]=[t[n],e]:t[n].push(e)}))})),y(t)},N=function(e){if(S(e)&&e.style.fontFamily.includes("monospace"))return"CODE";return null},F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object.keys(A).some((function(n){e.classList.contains(n)&&(t=A[n])})),t},z=function(e){if(!_(e))return!1;var t=e;return!(!t.href||"http:"!==t.protocol&&"https:"!==t.protocol&&"mailto:"!==t.protocol&&"tel:"!==t.protocol)},q=function(e){if(!w(e))return!1;var t=e;return!(!t.attributes.getNamedItem("src")||!t.attributes.getNamedItem("src").value)},U=function(e,t){if(!S(e))return t;var n=e,r=n.style.fontWeight,o=n.style.fontStyle,i=n.style.textDecoration;return t.withMutations((function(e){M.indexOf(r)>=0?e.add("BOLD"):j.indexOf(r)>=0&&e.remove("BOLD"),"italic"===o?e.add("ITALIC"):"normal"===o&&e.remove("ITALIC"),"underline"===i&&e.add("UNDERLINE"),"line-through"===i&&e.add("STRIKETHROUGH"),"none"===i&&(e.remove("UNDERLINE"),e.remove("STRIKETHROUGH"))}))},H=function(e){return"ul"===e||"ol"===e},K=function(){function e(e,t){i(this,"characterList",b()),i(this,"currentBlockType","unstyled"),i(this,"currentDepth",0),i(this,"currentEntity",null),i(this,"currentText",""),i(this,"wrapper",null),i(this,"blockConfigs",[]),i(this,"contentBlocks",[]),i(this,"entityMap",u),i(this,"blockTypeMap",void 0),i(this,"disambiguate",void 0),this.clear(),this.blockTypeMap=e,this.disambiguate=t}var t=e.prototype;return t.clear=function(){this.characterList=b(),this.blockConfigs=[],this.currentBlockType="unstyled",this.currentDepth=0,this.currentEntity=null,this.currentText="",this.entityMap=u,this.wrapper=null,this.contentBlocks=[]},t.addDOMNode=function(e){var t;return this.contentBlocks=[],this.currentDepth=0,(t=this.blockConfigs).push.apply(t,this._toBlockConfigs([e],v())),this._trimCurrentText(),""!==this.currentText&&this.blockConfigs.push(this._makeBlockConfig()),this},t.getContentBlocks=function(){return 0===this.contentBlocks.length&&(C?this._toContentBlocks(this.blockConfigs):this._toFlatContentBlocks(this.blockConfigs)),{contentBlocks:this.contentBlocks,entityMap:this.entityMap}},t._makeBlockConfig=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.key||p(),n=o({key:t,type:this.currentBlockType,text:this.currentText,characterList:this.characterList,depth:this.currentDepth,parent:null,children:b(),prevSibling:null,nextSibling:null,childConfigs:[]},e);return this.characterList=b(),this.currentBlockType="unstyled",this.currentText="",n},t._toBlockConfigs=function(e,t){for(var n=[],r=0;r<e.length;r++){var o=e[r],i=o.nodeName.toLowerCase();if("body"===i||H(i)){this._trimCurrentText(),""!==this.currentText&&n.push(this._makeBlockConfig());var a=this.currentDepth,s=this.wrapper;H(i)&&(this.wrapper=i,H(s)&&this.currentDepth++),n.push.apply(n,this._toBlockConfigs(Array.from(o.childNodes),t)),this.currentDepth=a,this.wrapper=s}else{var c=this.blockTypeMap.get(i);if(void 0===c)if("#text"!==i)if("br"!==i)if(q(o))this._addImgNode(o,t);else if(z(o))this._addAnchorNode(o,n,t);else{var l=t;R.has(i)&&(l=l.add(R.get(i))),l=U(o,l);var u=N(o);null!=u&&(l=l.add(u)),n.push.apply(n,this._toBlockConfigs(Array.from(o.childNodes),l))}else this._addBreakNode(o,t);else this._addTextNode(o,t);else{this._trimCurrentText(),""!==this.currentText&&n.push(this._makeBlockConfig());var d=this.currentDepth,h=this.wrapper;if(this.wrapper="pre"===i?"pre":this.wrapper,"string"!=typeof c&&(c=this.disambiguate(i,this.wrapper)||c[0]||"unstyled"),!C&&S(o)&&("unordered-list-item"===c||"ordered-list-item"===c)){var f=o;this.currentDepth=F(f,this.currentDepth)}var m=p(),g=this._toBlockConfigs(Array.from(o.childNodes),t);this._trimCurrentText(),n.push(this._makeBlockConfig({key:m,childConfigs:g,type:c})),this.currentDepth=d,this.wrapper=h}}}return n},t._appendText=function(e,t){var n;this.currentText+=e;var r=a.create({style:t,entity:this.currentEntity});this.characterList=(n=this.characterList).push.apply(n,Array(e.length).fill(r))},t._trimCurrentText=function(){var e=this.currentText.length,t=e-this.currentText.trimLeft().length,n=this.currentText.trimRight().length,r=this.characterList.findEntry((function(e){return null!==e.getEntity()}));(t=void 0!==r?Math.min(t,r[0]):t)>(n=void 0!==(r=this.characterList.reverse().findEntry((function(e){return null!==e.getEntity()})))?Math.max(n,e-r[0]):n)?(this.currentText="",this.characterList=b()):(this.currentText=this.currentText.slice(t,n),this.characterList=this.characterList.slice(t,n))},t._addTextNode=function(e,t){var n=e.textContent;""===n.trim()&&"pre"!==this.wrapper&&(n=" "),"pre"!==this.wrapper&&(n=(n=n.replace(x,"")).replace(I," ")),this._appendText(n,t)},t._addBreakNode=function(e,t){E(e)&&this._appendText("\n",t)},t._addImgNode=function(e,t){if(w(e)){var n=e,r={};B.forEach((function(e){var t=n.getAttribute(e);t&&(r[e]=t)})),this.currentEntity=this.entityMap.__create("IMAGE","IMMUTABLE",r),m("draftjs_fix_paste_for_img")?"presentation"!==n.getAttribute("role")&&this._appendText("📷",t):this._appendText("📷",t),this.currentEntity=null}},t._addAnchorNode=function(e,t,n){if(_(e)){var r=e,o={};P.forEach((function(e){var t=r.getAttribute(e);t&&(o[e]=t)})),o.url=new d(r.href).toString(),this.currentEntity=this.entityMap.__create("LINK","MUTABLE",o||{}),t.push.apply(t,this._toBlockConfigs(Array.from(e.childNodes),n)),this.currentEntity=null}},t._toContentBlocks=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.length-1,r=0;r<=n;r++){var i=e[r];i.parent=t,i.prevSibling=r>0?e[r-1].key:null,i.nextSibling=r<n?e[r+1].key:null,i.children=b(i.childConfigs.map((function(e){return e.key}))),this.contentBlocks.push(new c(o({},i))),this._toContentBlocks(i.childConfigs,i.key)}},t._hoistContainersInBlockConfigs=function(e){var t=this;return b(e).flatMap((function(e){return"unstyled"!==e.type||""!==e.text?[e]:t._hoistContainersInBlockConfigs(e.childConfigs)}))},t._toFlatContentBlocks=function(e){var t=this;this._hoistContainersInBlockConfigs(e).forEach((function(e){var n=t._extractTextFromBlockConfigs(e.childConfigs),r=n.text,i=n.characterList;t.contentBlocks.push(new s(o({},e,{text:e.text+r,characterList:e.characterList.concat(i)})))}))},t._extractTextFromBlockConfigs=function(e){for(var t=e.length-1,n="",r=b(),o=0;o<=t;o++){var i=e[o];n+=i.text,r=r.concat(i.characterList),""!==n&&"unstyled"!==i.type&&(n+="\n",r=r.push(r.last()));var a=this._extractTextFromBlockConfigs(i.childConfigs);n+=a.text,r=r.concat(a.characterList)}return{text:n,characterList:r}},e}();e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l,r=t(e=e.trim().replace(O,"").replace(D," ").replace(k,"").replace(T,""));if(!r)return null;var o=L(n),i=function(e,t){return"li"===e?"ol"===t?"ordered-list-item":"unordered-list-item":null};return new K(o,i).addDOMNode(r).getContentBlocks()}},"1tpI":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.isDisposed=!1}return e.prototype.getDisposable=function(){return this.current},e.prototype.setDisposable=function(e){var t=this.isDisposed;if(!t){var n=this.current;this.current=e,n&&n.dispose()}t&&e&&e.dispose()},e.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var e=this.current;this.current=void 0,e&&e.dispose()}},e}();t.SerialDisposable=r},"240h":function(e,t,n){n.d(t,"a",(function(){return s}));var r=n("q1tI"),o=n.n(r),i=n("J8Pj"),a=n("n6mq");function s({fetchMore:e,isAtEnd:t,isFetching:n,items:r,loadingLabel:s,marginBottom:c,renderItem:l}){return o.a.createElement(a.e,{display:"flex",direction:"row",justifyContent:"center",marginBottom:c,wrap:!0},o.a.createElement(a.J,{isAtEnd:t,isFetching:n,fetchMore:e}),(r||[]).map((e,t)=>l({item:e,itemIdx:t})),Array.apply(0,Array(12)).map((e,t)=>o.a.createElement(a.e,{width:i.e,margin:i.a,key:t})),o.a.createElement(a.e,{display:"flex",justifyContent:"center",width:"100%"},o.a.createElement(a.O,{accessibilityLabel:s,show:n})))}},"2S0S":function(e,t,n){e.exports=function(e,t,n,r,o,i,a,s){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,i,a,s],u=0;(c=new Error(t.replace(/%s/g,(function(){return l[u++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},"2WXK":function(e,t,n){var r=n("q1tI");let o=null,i=!1,a=0;const s=()=>{o&&clearTimeout(o),i=!0,o=setTimeout(()=>{i=!1},100)};t.a=()=>{const[e,t]=Object(r.useState)(!1),n=Object(r.useRef)(null);Object(r.useEffect)(()=>(0===a&&window.addEventListener("scroll",s),a+=1,()=>{n.current&&clearTimeout(n.current),a-=1,a||window.removeEventListener("scroll",s)}),[]);const o=e=>{n.current&&clearTimeout(n.current),n.current=e&&i?setTimeout(()=>o(!0),100):setTimeout(()=>{t(e)},32)};return{isHovering:e,hoverHandlers:Object(r.useRef)({onMouseOver:()=>o(!0),onMouseLeave:()=>o(!1)}).current}}},"2mql":function(e,t,n){var r=n("r36Y"),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return r.isMemo(e)?a:s[e.$$typeof]||o}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var l=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(f){var o=p(n);o&&o!==f&&e(t,o,r)}var a=u(n);d&&(a=a.concat(d(n)));for(var s=c(t),m=c(n),g=0;g<a.length;++g){var b=a[g];if(!(i[b]||r&&r[b]||m&&m[b]||s&&s[b])){var y=h(n,b);try{l(t,b,y)}catch(v){}}}return t}return t}},"2qKt":function(e,t,n){var r=n("q1tI"),o=n.n(r),i=n("/MKj"),a=(n("17x9"),n("/5zs")),s=n("Vzit"),c=n("vh5K"),l=n("pLLR"),u=n("ANjH");function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h={shouldUsePlacedExperience:!0,dispatchMountActionDuringSSR:!1};t.a=(e,t={},n)=>r=>{const p=function(e){return t=>({experience:t.experiences.eligibleExperiences[e]})}(e);n=Object.assign({},h,n);const f=function(e,t,n=!0,r=!0,i){var l,u;return u=l=class extends o.a.Component{constructor(e){super(e),d(this,"state",{extraContext:void 0}),d(this,"setExtraContextState",e=>this.setState({extraContext:e}))}componentDidMount(){this.dispatchPlacementMount(!1)}UNSAFE_componentWillUpdate(n,r){const{dispatch:o,experience:i,requestContext:l}=n,u=new a.b(l,"web_bypass_eligible_experience_v2").enabledWithNoActivation();let d=t;if(u&&"function"==typeof t){const i=t(this.props,this.state);d=t(n,r.extraContext||{}),JSON.stringify(i)!==JSON.stringify(d)&&o(Object(s.c)(e,d,u))}else{if("function"==typeof t){const e=r.extraContext||{};d=t(n,e)}if(!Object(c.e)(i)&&"function"==typeof t&&d&&Object.keys(d).length){const n=t(this.props,this.state);JSON.stringify(n)!==JSON.stringify(d)&&o(Object(s.c)(e,d))}}!i||this.props.experience&&i.id===this.props.experience.id||o(Object(s.i)(e,d))}componentWillUnmount(){const{dispatch:t}=this.props;t(Object(s.k)(e))}dispatchPlacementMount(n){const{dispatch:r,requestContext:o}=this.props;let i={};i="function"==typeof t?t(this.props,this.state):Object.assign({},t);const c=!n&&new a.b(o,"web_bypass_eligible_experience_v2").enabled();r(Object(s.j)(e,i,n,c))}render(){const{experience:e}=this.props;return o.a.createElement(i,Object.assign({},this.props,{setPlacementExtraContext:this.setExtraContextState,experience:Object(c.e)(e)?e:null}))}},d(l,"displayName",`withPlacement(${i.displayName||i.name||"Component"})`),u}(e,t,n.shouldUsePlacedExperience,n.dispatchMountActionDuringSSR,r);return Object(u.compose)(l.e,Object(i.connect)(p))(f)}},"2r8n":function(e,t,n){n.d(t,"a",(function(){return a}));var r=n("Hz/G");function o({density:e,surface:t}){Object(r.a)({boardDensity:e,component:"board"===t?13183:13187,surface:"board",viewType:"board"===t?5:164})}var i=n("Ye/N");function a({handleClose:e,selectedDensity:t,surface:n}){return{items:[{isSelected:"regular"===t,onClick:()=>{e(),o({density:"regular",surface:n})},text:i.a._("Default","BoardHeader.ActionBar.DensityOption-Default","Clickable text to set board view density to default mode")},{isSelected:"dense"===t,onClick:()=>{e(),o({density:"dense",surface:n})},text:i.a._("Compact","BoardHeader.ActionBar.DensityOption-Compact","Clickable text to set board view density to compact mode")}],label:i.a._("View options","BoardHeader.ActionBar.ViewOptions","List of board view options")}}},"3Br+":function(e,t,n){var r=n("3sOJ"),o=n("y5P+"),i=n("kWjT"),a=n("8d//");e.exports=function(e){var t=a(e,(function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=t.getAnchorKey(),a=t.getAnchorOffset(),s=n.getBlockForKey(r).getText()[a-1];return i(e,s?o.getUTF16Length(s,0):1)}),"backward");if(t===e.getCurrentContent())return e;var n=e.getSelection();return r.push(e,t.set("selectionBefore",n),n.isCollapsed()?"backspace-character":"remove-range")}},"3R0Q":function(e,t,n){t.a=e=>{const t={};e.forEach(({label:e,timestamp:n})=>{t[e]=(t[e]||[]).concat([n])});const n={};return Object.keys(t).forEach(e=>{(t[e]||[]).forEach((t,r)=>{n[r?`${e}_${r+1}`:e]=t})}),n}},"3T4d":function(e,t,n){var r=n("WYM/"),o=n("EHEE");function i(e){return null==e?e:String(e)}e.exports=function(e,t){var n;if(window.getComputedStyle&&(n=window.getComputedStyle(e,null)))return i(n.getPropertyValue(o(t)));if(document.defaultView&&document.defaultView.getComputedStyle){if(n=document.defaultView.getComputedStyle(e,null))return i(n.getPropertyValue(o(t)));if("display"===t)return"none"}return e.currentStyle?i("float"===t?e.currentStyle.cssFloat||e.currentStyle.styleFloat:e.currentStyle[r(t)]):i(e.style&&e.style[r(t)])}},"3j7w":function(e,t,n){n.d(t,"a",(function(){return i}));var r=n("q1tI"),o=n.n(r);class i extends o.a.PureComponent{constructor(...e){var t,n,r;super(...e),r=()=>{const{isAtEnd:e,isFetching:t,fetchMore:n,scrollBuffer:r,scrollHeight:o,scrollTop:i}=this.props;e||t||i+r>o&&n()},(n="check")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}componentDidMount(){setTimeout(this.check)}componentDidUpdate(){this.check()}render(){return null}}},"3oMh":function(e,t,n){n.d(t,"a",(function(){return u}));var r=n("q1tI"),o=n.n(r),i=n("Ye/N"),a=n("fevN"),s=n("oVol"),c=n("n6mq");function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends o.a.Component{constructor(...e){super(...e),l(this,"state",{flyoutOpen:!1}),l(this,"toggleFlyout",()=>{this.state.flyoutOpen||this.props.onOpen(),this.setState(e=>({flyoutOpen:!e.flyoutOpen}))})}render(){const{board:e,bgColor:t="white",children:n,iconColor:r="gray",onCreatePincode:l}=this.props,{flyoutOpen:u}=this.state,d={description:e.description,id:e.id,imageUrl:e.image_cover_url,name:e.name,type:s.a.BOARD,url:e.url},h=n&&n({active:u,onClick:this.toggleFlyout})||o.a.createElement(c.u,{accessibilityLabel:i.a._("Send Board","Accessible label for button to send board","Accessible label for button to send board"),onClick:this.toggleFlyout,icon:"share",size:"lg",bgColor:t,iconColor:r});return o.a.createElement(o.a.Fragment,null,o.a.createElement(c.e,{ref:e=>{this.anchor=e}},h),this.state.flyoutOpen&&o.a.createElement(c.x,null,o.a.createElement(c.q,{anchor:this.anchor,idealDirection:"down",onDismiss:this.toggleFlyout,size:"xl",positionRelativeToAnchor:!1},o.a.createElement(a.a,{classNames:"SendBoard",isFlyout:!0,onCreatePincodeClick:l?()=>{this.toggleFlyout(),l()}:void 0,onHide:this.toggleFlyout,sendType:s.a.BOARD,sharedObject:d}))))}}},"3qQZ":function(e,t,n){},"3sOJ":function(e,t,n){function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n("L0q3"),a=n("LpQA"),s=n("VSmT"),c=n("hMpd"),l=n("zVay"),u=l.OrderedSet,d=l.Record,h=l.Stack,p=l.OrderedMap,f=l.List,m=d({allowUndo:!0,currentContent:null,decorator:null,directionMap:null,forceSelection:!1,inCompositionMode:!1,inlineStyleOverride:null,lastChangeType:null,nativelyRenderedContent:null,redoStack:h(),selection:null,treeMap:null,undoStack:h()}),g=function(){t.createEmpty=function(e){return t.createWithContent(a.createFromText(""),e)},t.createWithContent=function(e,n){if(0===e.getBlockMap().count())return t.createEmpty(n);var r=e.getBlockMap().first().getKey();return t.create({currentContent:e,undoStack:h(),redoStack:h(),decorator:n||null,selection:c.createEmpty(r)})},t.create=function(e){var n=e.currentContent,o=r({},e,{treeMap:y(n,e.decorator),directionMap:s.getDirectionMap(n)});return new t(new m(o))},t.fromJS=function(e){return new t(new m(r({},e,{directionMap:null!=e.directionMap?p(e.directionMap):e.directionMap,inlineStyleOverride:null!=e.inlineStyleOverride?u(e.inlineStyleOverride):e.inlineStyleOverride,nativelyRenderedContent:null!=e.nativelyRenderedContent?a.fromJS(e.nativelyRenderedContent):e.nativelyRenderedContent,redoStack:null!=e.redoStack?h(e.redoStack.map((function(e){return a.fromJS(e)}))):e.redoStack,selection:null!=e.selection?new c(e.selection):e.selection,treeMap:null!=e.treeMap?p(e.treeMap).map((function(e){return f(e).map((function(e){return i.fromJS(e)}))})):e.treeMap,undoStack:null!=e.undoStack?h(e.undoStack.map((function(e){return a.fromJS(e)}))):e.undoStack,currentContent:a.fromJS(e.currentContent)})))},t.set=function(e,n){return new t(e.getImmutable().withMutations((function(t){var r=t.get("decorator"),o=r;null===n.decorator?o=null:n.decorator&&(o=n.decorator);var a=n.currentContent||e.getCurrentContent();if(o!==r){var s,c=t.get("treeMap");return s=o&&r?function(e,t,n,r,o){return n.merge(t.toSeq().filter((function(t){return r.getDecorations(t,e)!==o.getDecorations(t,e)})).map((function(t){return i.generate(e,t,r)})))}(a,a.getBlockMap(),c,o,r):y(a,o),void t.merge({decorator:o,treeMap:s,nativelyRenderedContent:null})}a!==e.getCurrentContent()&&t.set("treeMap",function(e,t,n,r){var o=e.getCurrentContent().set("entityMap",n),a=o.getBlockMap();return e.getImmutable().get("treeMap").merge(t.toSeq().filter((function(e,t){return e!==a.get(t)})).map((function(e){return i.generate(o,e,r)})))}(e,a.getBlockMap(),a.getEntityMap(),o)),t.merge(n)})))};var e=t.prototype;function t(e){o(this,"_immutable",void 0),this._immutable=e}return e.toJS=function(){return this.getImmutable().toJS()},e.getAllowUndo=function(){return this.getImmutable().get("allowUndo")},e.getCurrentContent=function(){return this.getImmutable().get("currentContent")},e.getUndoStack=function(){return this.getImmutable().get("undoStack")},e.getRedoStack=function(){return this.getImmutable().get("redoStack")},e.getSelection=function(){return this.getImmutable().get("selection")},e.getDecorator=function(){return this.getImmutable().get("decorator")},e.isInCompositionMode=function(){return this.getImmutable().get("inCompositionMode")},e.mustForceSelection=function(){return this.getImmutable().get("forceSelection")},e.getNativelyRenderedContent=function(){return this.getImmutable().get("nativelyRenderedContent")},e.getLastChangeType=function(){return this.getImmutable().get("lastChangeType")},e.getInlineStyleOverride=function(){return this.getImmutable().get("inlineStyleOverride")},t.setInlineStyleOverride=function(e,n){return t.set(e,{inlineStyleOverride:n})},e.getCurrentInlineStyle=function(){var e=this.getInlineStyleOverride();if(null!=e)return e;var t=this.getCurrentContent(),n=this.getSelection();return n.isCollapsed()?function(e,t){var n=t.getStartKey(),r=t.getStartOffset(),o=e.getBlockForKey(n);if(r>0)return o.getInlineStyleAt(r-1);if(o.getLength())return o.getInlineStyleAt(0);return _(e,n)}(t,n):function(e,t){var n=t.getStartKey(),r=t.getStartOffset(),o=e.getBlockForKey(n);if(r<o.getLength())return o.getInlineStyleAt(r);if(r>0)return o.getInlineStyleAt(r-1);return _(e,n)}(t,n)},e.getBlockTree=function(e){return this.getImmutable().getIn(["treeMap",e])},e.isSelectionAtStartOfContent=function(){var e=this.getCurrentContent().getBlockMap().first().getKey();return this.getSelection().hasEdgeWithin(e,0,0)},e.isSelectionAtEndOfContent=function(){var e=this.getCurrentContent().getBlockMap().last(),t=e.getLength();return this.getSelection().hasEdgeWithin(e.getKey(),t,t)},e.getDirectionMap=function(){return this.getImmutable().get("directionMap")},t.acceptSelection=function(e,t){return b(e,t,!1)},t.forceSelection=function(e,t){return t.getHasFocus()||(t=t.set("hasFocus",!0)),b(e,t,!0)},t.moveSelectionToEnd=function(e){var n=e.getCurrentContent().getLastBlock(),r=n.getKey(),o=n.getLength();return t.acceptSelection(e,new c({anchorKey:r,anchorOffset:o,focusKey:r,focusOffset:o,isBackward:!1}))},t.moveFocusToEnd=function(e){var n=t.moveSelectionToEnd(e);return t.forceSelection(n,n.getSelection())},t.push=function(e,n,r){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e.getCurrentContent()===n)return e;var i=s.getDirectionMap(n,e.getDirectionMap());if(!e.getAllowUndo())return t.set(e,{currentContent:n,directionMap:i,lastChangeType:r,selection:n.getSelectionAfter(),forceSelection:o,inlineStyleOverride:null});var a=e.getSelection(),c=e.getCurrentContent(),l=e.getUndoStack(),u=n;a!==c.getSelectionAfter()||v(e,r)?(l=l.push(c),u=u.set("selectionBefore",a)):"insert-characters"!==r&&"backspace-character"!==r&&"delete-character"!==r||(u=u.set("selectionBefore",c.getSelectionBefore()));var d=e.getInlineStyleOverride(),p=["adjust-depth","change-block-type","split-block"];-1===p.indexOf(r)&&(d=null);var f={currentContent:u,directionMap:i,undoStack:l,redoStack:h(),lastChangeType:r,selection:n.getSelectionAfter(),forceSelection:o,inlineStyleOverride:d};return t.set(e,f)},t.undo=function(e){if(!e.getAllowUndo())return e;var n=e.getUndoStack(),r=n.peek();if(!r)return e;var o=e.getCurrentContent(),i=s.getDirectionMap(r,e.getDirectionMap());return t.set(e,{currentContent:r,directionMap:i,undoStack:n.shift(),redoStack:e.getRedoStack().push(o),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"undo",nativelyRenderedContent:null,selection:o.getSelectionBefore()})},t.redo=function(e){if(!e.getAllowUndo())return e;var n=e.getRedoStack(),r=n.peek();if(!r)return e;var o=e.getCurrentContent(),i=s.getDirectionMap(r,e.getDirectionMap());return t.set(e,{currentContent:r,directionMap:i,undoStack:e.getUndoStack().push(o),redoStack:n.shift(),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"redo",nativelyRenderedContent:null,selection:r.getSelectionAfter()})},e.getImmutable=function(){return this._immutable},t}();function b(e,t,n){return g.set(e,{selection:t,forceSelection:n,nativelyRenderedContent:null,inlineStyleOverride:null})}function y(e,t){return e.getBlockMap().map((function(n){return i.generate(e,n,t)})).toOrderedMap()}function v(e,t){return t!==e.getLastChangeType()||"insert-characters"!==t&&"backspace-character"!==t&&"delete-character"!==t}function _(e,t){var n=e.getBlockMap().reverse().skipUntil((function(e,n){return n===t})).skip(1).skipUntil((function(e,t){return e.getLength()})).first();return n?n.getInlineStyleAt(n.getLength()-1):u()}e.exports=g},"3z7j":function(e,t,n){n.d(t,"a",(function(){return o}));var r=n("Wer7");function o(e,t){return n=>n(Object(r.a)("BoardSectionResource",{field_set_key:t||"board_page",section_id:e}))}},"44Ds":function(e,t,n){var r=n("e4Nc");function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},"493B":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("Gytx"),o=n("q1tI");t.useCollector=function(e,t,n){var i=o.useState((function(){return t(e)})),a=i[0],s=i[1],c=o.useCallback((function(){var o=t(e);r(a,o)||(s(o),n&&n())}),[a,e,n]);return[a,c]}},"4KhW":function(e,t,n){n.d(t,"a",(function(){return l}));var r=n("q1tI"),o=n.n(r),i=n("YGxj"),a=n("Ye/N"),s=n("n6mq");const c={__style:{zIndex:1}};class l extends o.a.Component{constructor(...e){var t,n,r;super(...e),t=this,n="moreIdeasTabRef",r=o.a.createRef(),n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}render(){const{hasFreshContent:e,tabIsActive:t,type:n,onTooltipClickComplete:r}=this.props,l="board"===n?18:1000102,u="board"===n?[500993,500774]:[500778],d="board"===n?a.a._("More ideas",'Tab title on a board page for the "more ideas" view','Tab title on a board page for the "more ideas" view'):a.a._("More ideas",'Tab title on a board section page for the "more ideas" view','Tab title on a board section page for the "more ideas" view'),h="board"===n?"down":"up";return o.a.createElement(s.e,{position:"relative",dangerouslySetInlineStyle:c},o.a.createElement(s.e,{ref:this.moreIdeasTabRef},o.a.createElement(s.e,{alignItems:"center",display:"flex"},o.a.createElement(s.e,null,d),e&&o.a.createElement(s.e,{paddingX:2,height:12,width:12},o.a.createElement(s.e,{color:"red",height:10,rounding:"circle",width:10})))),!t&&o.a.createElement(i.a,{anchor:this.moreIdeasTabRef.current,experienceIds:u,idealDirection:h,placementId:l,onClickComplete:r}))}}},"4TDQ":function(e,t,n){n.d(t,"a",(function(){return l}));var r=n("3z7j"),o=n("Pqnw"),i=n("eOdZ"),a=n("KFEb"),s=n("Wer7"),c=n("Pv/+");function l(e,t,n){return l=>i.a.create("BoardSectionsMergeResource",{source_section_id:t,target_section_id:n}).callUpdate({showError:!1}).then(i=>Promise.all([l(Object(c.b)(e,t)),l(Object(s.f)("BoardSectionsRepinResource",{board_id:e})),l(Object(r.a)(n)),l(Object(o.a)(a.a.SECTION_PINS,n))]).then(()=>i))}},"4XrY":function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n("4pIB"),i=n("kc9Y"),a=n("WaGC"),s=n("zVay"),c=n("mFyV"),l=n("qysv"),u=s.Map,d={subtree:!0,characterData:!0,childList:!0,characterDataOldValue:!1,attributes:!1},h=o.isBrowser("IE <= 11"),p=function(){function e(e){var t=this;r(this,"observer",void 0),r(this,"container",void 0),r(this,"mutations",void 0),r(this,"onCharData",void 0),this.container=e,this.mutations=u();var n=a(e);n.MutationObserver&&!h?this.observer=new n.MutationObserver((function(e){return t.registerMutations(e)})):this.onCharData=function(e){e.target instanceof Node||c(!1),t.registerMutation({type:"characterData",target:e.target})}}var t=e.prototype;return t.start=function(){this.observer?this.observer.observe(this.container,d):this.container.addEventListener("DOMCharacterDataModified",this.onCharData)},t.stopAndFlushMutations=function(){var e=this.observer;e?(this.registerMutations(e.takeRecords()),e.disconnect()):this.container.removeEventListener("DOMCharacterDataModified",this.onCharData);var t=this.mutations;return this.mutations=u(),t},t.registerMutations=function(e){for(var t=0;t<e.length;t++)this.registerMutation(e[t])},t.getMutationTextContent=function(e){var t=e.type,n=e.target,r=e.removedNodes;if("characterData"===t){if(""!==n.textContent)return h?n.textContent.replace("\n",""):n.textContent}else if("childList"===t){if(r&&r.length)return"";if(""!==n.textContent)return n.textContent}return null},t.registerMutation=function(e){var t=this.getMutationTextContent(e);if(null!=t){var n=l(i(e.target));this.mutations=this.mutations.set(n,t)}},e}();e.exports=p},"4pIB":function(e,t,n){var r=n("Tavy"),o=n("f+ew"),i=n("o2GA"),a=n("VLkl");function s(e,t,n,r){if(e===n)return!0;if(!n.startsWith(e))return!1;var i=n.slice(e.length);return!!t&&(i=r?r(i):i,o.contains(i,t))}function c(e){return"Windows"===r.platformName?e.replace(/^\s*NT/,""):e}var l={isBrowser:function(e){return s(r.browserName,r.browserFullVersion,e)},isBrowserArchitecture:function(e){return s(r.browserArchitecture,null,e)},isDevice:function(e){return s(r.deviceName,null,e)},isEngine:function(e){return s(r.engineName,r.engineVersion,e)},isPlatform:function(e){return s(r.platformName,r.platformFullVersion,e,c)},isPlatformArchitecture:function(e){return s(r.platformArchitecture,null,e)}};e.exports=i(l,a)},"4uTw":function(e,t,n){var r=n("Z0cm"),o=n("9ggG"),i=n("GNiM"),a=n("dt0z");e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(a(e))}},"4uqU":function(e,t,n){n.d(t,"a",(function(){return s}));var r=n("q1tI"),o=n.n(r),i=n("Ye/N"),a=n("CvCA");function s(e){const{boardUrl:t,onHide:n,slug:r}=e;return o.a.createElement(a.a,{duration:2e3,href:`${t}${r}`,onHide:n,text:i.a._("Section added!","Toast for successfully creating a new board section","Toast for successfully creating a new board section")})}},"4vzw":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=n.getRegistry(),o=r.addSource(e,t);return[o,function(){return r.removeSource(o)}]}},"54t5":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("fOPN"),o=n("HNpt"),i=n("U4W0"),a=n("uCRx"),s=n("QLaP"),c=n("IEa/");function l(e){switch(e[0]){case"S":return i.HandlerRole.SOURCE;case"T":return i.HandlerRole.TARGET;default:s(!1,"Cannot parse handler ID: "+e)}}function u(e,t){var n=e.entries(),r=!1;do{var o=n.next(),i=o.done;if(o.value[1]===t)return!0;r=i}while(!r);return!1}var d=function(){function e(e){this.store=e,this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null}return e.prototype.addSource=function(e,t){a.validateType(e),a.validateSourceContract(t);var n=this.addHandler(i.HandlerRole.SOURCE,e,t);return this.store.dispatch(r.addSource(n)),n},e.prototype.addTarget=function(e,t){a.validateType(e,!0),a.validateTargetContract(t);var n=this.addHandler(i.HandlerRole.TARGET,e,t);return this.store.dispatch(r.addTarget(n)),n},e.prototype.containsHandler=function(e){return u(this.dragSources,e)||u(this.dropTargets,e)},e.prototype.getSource=function(e,t){return void 0===t&&(t=!1),s(this.isSourceId(e),"Expected a valid source ID."),t&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)},e.prototype.getTarget=function(e){return s(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)},e.prototype.getSourceType=function(e){return s(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)},e.prototype.getTargetType=function(e){return s(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)},e.prototype.isSourceId=function(e){return l(e)===i.HandlerRole.SOURCE},e.prototype.isTargetId=function(e){return l(e)===i.HandlerRole.TARGET},e.prototype.removeSource=function(e){var t=this;s(this.getSource(e),"Expected an existing source."),this.store.dispatch(r.removeSource(e)),c((function(){t.dragSources.delete(e),t.types.delete(e)}))},e.prototype.removeTarget=function(e){s(this.getTarget(e),"Expected an existing target."),this.store.dispatch(r.removeTarget(e)),this.dropTargets.delete(e),this.types.delete(e)},e.prototype.pinSource=function(e){var t=this.getSource(e);s(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t},e.prototype.unpinSource=function(){s(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null},e.prototype.addHandler=function(e,t,n){var r=function(e){var t=o.default().toString();switch(e){case i.HandlerRole.SOURCE:return"S"+t;case i.HandlerRole.TARGET:return"T"+t;default:throw new Error("Unknown Handler Role: "+e)}}(e);return this.types.set(r,t),e===i.HandlerRole.SOURCE?this.dragSources.set(r,n):e===i.HandlerRole.TARGET&&this.dropTargets.set(r,n),r},e}();t.default=d},"5ARb":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("MCs0"),o=(n("QWfI"),n("2S0S")),i=["canDrag","beginDrag","isDragging","endDrag"],a=["beginDrag"],s=function(){function e(e,t,n){var r=this;this.spec=e,this.monitor=t,this.ref=n,this.props=null,this.beginDrag=function(){if(r.props)return r.spec.beginDrag(r.props,r.monitor,r.ref.current)}}return e.prototype.receiveProps=function(e){this.props=e},e.prototype.canDrag=function(){return!!this.props&&(!this.spec.canDrag||this.spec.canDrag(this.props,this.monitor))},e.prototype.isDragging=function(e,t){return!!this.props&&(this.spec.isDragging?this.spec.isDragging(this.props,this.monitor):t===e.getSourceId())},e.prototype.endDrag=function(){this.props&&this.spec.endDrag&&this.spec.endDrag(this.props,this.monitor,r.getDecoratedComponent(this.ref))},e}();t.default=function(e){return Object.keys(e).forEach((function(t){o(i.indexOf(t)>-1,'Expected the drag source specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',i.join(", "),t),o("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",t,t,e[t])})),a.forEach((function(t){o("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",t,t,e[t])})),function(t,n){return new s(e,t,n)}}},"5Ai/":function(e,t,n){var r=n("q1tI"),o=n.n(r),i=n("/MKj"),a=n("1inl"),s=n("ajUs"),c=n("Ye/N"),l=n("uVIr"),u=n("eOdZ"),d=n("vxan"),h=n("Wrea"),p=n("ANjH"),f=n("KFEb"),m=n("TN0d"),g=n("vvax"),b=n("6G9P"),y=n("NjDU"),v=n("C0mq"),_=n("oN2T"),E=n("e0nq");function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class w extends o.a.PureComponent{constructor(...e){super(...e),S(this,"state",{step:"unsaved"}),S(this,"deletePin",e=>u.a.create("PinResource",{id:e}).callDelete()),S(this,"repin",()=>{const{location:e,pin:t,target:{board:n,boardSection:r},eventContext:o,previousHistory:i}=this.props,a=Object(s.a)(t,e,i)||t.tracking_params+"-0",c=!t.id&&t.image_url?Object(b.b)(t.image_url,t.link):"",l=r&&r.id,d={board_id:n.id||"",clientTrackingParams:a,description:t.description||"",image_base64:t.image_base64,link:t.link,image_url:c,is_buyable_pin:!1,is_removable:t.promoted_is_removable,media_upload_id:t.media_upload_id,pin_id:t.id||"",section:l,title:t.title||"",eventContext:o};return u.a.create("RepinResource",d).callCreate({showError:!1})}),S(this,"handleSave",()=>{const{onSave:e,makeCancelablePromise:t}=this.props,{step:n}=this.state;if("unsaving"===n)return void this.setState({step:"saving"});this.setState({step:"saving"});t(this.repin().then(({resource_response:{data:e}})=>this.shouldCompleteSave(e))).then(e).catch(({isCanceled:e})=>{if(!e){const{target:{board:e,boardSection:t}}=this.props;a.a.showError(t?Object(g.b)(c.a._("Failed to save the Pin to {{sectionName}}","Error message when failed to save to a section within a board","Error message when failed to save to a section within a board"),{sectionName:t.title}).join(""):Object(g.b)(c.a._("Failed to save the Pin to {{boardName}}","Error message when failed to save to a board","Error message when failed to save to a board"),{boardName:e.name}).join(""))}})}),S(this,"shouldCompleteSave",e=>{const{pin:t,dispatch:n,target:{board:r,boardSection:o}}=this.props,{step:i}=this.state,a=o&&o.id,s={pinId:t.id,boardId:r.id,sectionId:a,title:t.title||""};if("saving"===i){m.b.publish("currentUser","pinCreated",e),m.b.publish(e.board.id,"pinCreated",{pin:e}),n(Object(_.d)(r)),n(Object(l.a)({feedId:a||r.id,feedType:a?f.a.SECTION_PINS:f.a.BOARD_PINS,itemIds:[t.id],itemType:"pin"}));const{image_url:i,images:c}=t,u=i||c["236x"]&&c["236x"].url||"";return!o&&r.image_cover_url||(r.image_cover_url=u,n(Object(_.e)({},r))),n(Object(E.a)({...s,localPinId:e.id})),n(Object(h.d)({boardId:r.id,sectionId:o?o.id:void 0,increment:1})),n(Object(y.b)({userId:e.pinner.id,increment:1})),this.setState({step:"saved"}),e}"unsaving"===i&&this.handleUnsave(e.id)}),S(this,"handleUnsave",e=>{const{step:t}=this.state,{savedInfo:n}=this.props;if("saving"===t)return void this.setState({step:"unsaving"});const r=n&&n.localPinId||e;r&&(this.setState({step:"unsaving"}),this.deletePin(r).then(()=>this.shouldCompleteUnsave(r)))}),S(this,"shouldCompleteUnsave",e=>{const{pin:t,savedInfo:n,target:{board:r,boardSection:o},dispatch:i,onDelete:a,viewerId:s}=this.props,{step:c}=this.state;"unsaving"===c&&(n&&(i(Object(E.d)({pinId:t.id})),i(Object(h.d)({boardId:r.id,sectionId:o?o.id:void 0,increment:-1})),i(Object(y.b)({userId:s,increment:-1})),m.b.publish(r.id,"pinDeleted",e),m.b.publish(e,"pinDeleted"),a&&a()),this.setState({step:"unsaved"})),"saving"===c&&this.handleSave()})}render(){const{children:e,savedInfo:t}=this.props,{step:n}=this.state;return e({save:this.handleSave,saved:"saved"===n||"saving"===n||!(!t||!t.localPinId),savedInfo:t,unsave:this.handleUnsave})}}t.a=Object(p.compose)(Object(i.connect)((e,{pin:{id:t}})=>({previousHistory:e.history.previous,savedInfo:e.pins[t]&&e.pins[t].savedInfo,viewerId:e.viewer.id})),d.a,v.a)(w)},"5FNA":function(e,t,n){n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var r=n("qtKf"),o=n("Pqnw"),i=n("Wer7");const a=["alphabetical","last_pinned_to","oldest","newest","group_boards_at_top","custom"],s={name:"BoardsResource",key:"boardsResource",options:({boardOrder:e,filterStories:t,mixPublicSecret:n,username:r})=>({privacy_filter:"all",sort:e||"last_pinned_to",field_set_key:"profile_grid_item",filter_stories:t,username:r,page_size:25,group_by:n?"mix_public_private":"visibility",include_archived:!0,redux_normalize_feed:!0})},c=(e,t,n)=>({privacy_filter:t?"secret":"public",sort:n||"last_pinned_to",field_set_key:"profile_grid_item",username:e}),l=e=>a.reduce((t,n)=>{const a=[Object(o.a)("profileBoards",Object(r.c)(e,n))];return[!0,!1].forEach(t=>{[!0,!1].forEach(r=>{a.push(Object(i.f)(s.name,s.options({username:e,boardOrder:n,mixPublicSecret:t,filterStories:r})))})}),t.concat(a)},[])},"5RSi":function(e,t,n){var r=n("Iq8E"),o=n("qysv");e.exports=function(e,t,n,i,a){var s=o(e.getSelection());if(!t||!i)return s;var c=r.decode(t),l=c.blockKey,u=e.getBlockTree(l),d=u&&u.getIn([c.decoratorKey,"leaves",c.leafKey]),h=r.decode(i),p=h.blockKey,f=e.getBlockTree(p),m=f&&f.getIn([h.decoratorKey,"leaves",h.leafKey]);if(!d||!m)return s;var g=d.get("start"),b=m.get("start"),y=d?g+n:null,v=m?b+a:null;if(s.getAnchorKey()===l&&s.getAnchorOffset()===y&&s.getFocusKey()===p&&s.getFocusOffset()===v)return s;var _=!1;if(l===p){var E=d.get("end"),S=m.get("end");_=b===g&&S===E?a<n:b<g}else{_=e.getCurrentContent().getBlockMap().keySeq().skipUntil((function(e){return e===l||e===p})).first()===p}return s.merge({anchorKey:l,anchorOffset:y,focusKey:p,focusOffset:v,isBackward:_})}},"5S2N":function(e,t,n){var r=n("q1tI"),o=n.n(r),i=n("/MKj"),a=n("9WJf"),s=n("BkRI"),c=n.n(s),l=n("/mzO"),u=n("JW66"),d=n("eOdZ"),h=n("5FNA"),p=n("Wer7");var f=n("Sihc"),m=n("Y+p1"),g=n.n(m),b=n("Ye/N"),y=n("TiQD"),v=n("GBVV"),_=n("4cpq"),E=n("CvCA"),S=n("nGHF"),w=n("n6mq");function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class O extends o.a.PureComponent{constructor(...e){super(...e),C(this,"state",{deleting:!1}),C(this,"unmounted",!1),C(this,"handleConfirm",()=>{if(this.state.deleting)return;const{onDeletePin:e}=this.props;this.setState({deleting:!0}),e().then(()=>this.handleDeleteDidComplete()).catch(e=>this.handleDeleteDidComplete(e))}),C(this,"handleDeleteDidComplete",e=>{const{toastManagerContext:t}=this.props;this.unmounted||this.setState({deleting:!1}),e||t.showToast(({onHide:e})=>o.a.createElement(E.a,{onHide:e,text:b.a._("Pin deleted!","User deleted their pin","User deleted their pin")}))})}componentWillUnmount(){this.unmounted=!0}render(){const{onDismiss:e}=this.props,{deleting:t}=this.state;return o.a.createElement(y.b,{heading:b.a._("Are you sure?","Confirm the user wants to delete the pin","Confirm the user wants to delete the pin"),accessibilityModalLabel:b.a._("Are you sure you want to delete this pin?","Accessible label to confirm the user wants to delete the pin","Accessible label to confirm the user wants to delete the pin"),size:"sm",onDismiss:e,footer:o.a.createElement(w.e,{display:"flex",justifyContent:"end",marginStart:-1,marginEnd:-1},o.a.createElement(w.e,{paddingX:1},o.a.createElement(w.f,{onClick:e,text:b.a._("Cancel")})),o.a.createElement(w.e,{paddingX:1},o.a.createElement(_.a,{id:"confirm-delete-pin"},o.a.createElement(v.b,{color:"red",onClick:this.handleConfirm,text:b.a._("Delete Pin"),submitting:t}))))},o.a.createElement(w.e,{padding:4},o.a.createElement(w.V,null,b.a._("Once you delete a Pin, you can't undo it!"))))}}const I=Object(S.c)(O);I.displayName="DeletePinConfirmation";var x=I,D=n("V711");function k({board:e={},canEdit:t,onBoardChange:n,onBoardCreate:r}){return o.a.createElement(w.e,{mdDisplay:"flex",justifyContent:"between",paddingX:4,paddingY:3},o.a.createElement(w.e,{column:12,mdColumn:3,paddingY:2},o.a.createElement(w.w,{htmlFor:"BoardPicker"},o.a.createElement(w.V,{size:"md"},b.a._("Board")))),t?o.a.createElement(w.e,{column:12,mdColumn:8},o.a.createElement(D.a,{id:"BoardPicker",board:e,onBoardChosen:n,onBoardCreate:r})):e.name&&o.a.createElement(w.e,{column:12,mdColumn:8,paddingY:2},o.a.createElement(w.V,{size:"md",weight:"bold"},e.name)))}var T=n("TSYQ"),M=n.n(T),j=n("JKZO"),P=n("Q7uW"),B=n("/5zs"),A=n("U4JR"),R=n("pLLR");function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class N extends o.a.Component{constructor(...e){super(...e),L(this,"state",{focused:!1}),L(this,"suggestionAnchorRef",o.a.createRef()),L(this,"setRef",e=>this.textAreaRef=e),L(this,"handleBlur",e=>{this.setState({focused:!1});const{onBlur:t}=this.props;t&&t(e)}),L(this,"handleFocus",e=>{this.setState({focused:!0});const{onFocus:t}=this.props;t&&t(e)}),L(this,"handleChange",({text:e,mentions:t})=>{this.props.onDescriptionChange({value:e,userMentionTags:t})})}render(){const{canAddUserMentionTags:e,canEdit:t,description:n,errorMessage:r,initialMentions:i,label:a,placeholder:s,onDescriptionChange:c,requestContext:l}=this.props,{focused:u}=this.state,d=new B.b(l,"cp_mention_web").enabled();return o.a.createElement(o.a.Fragment,null,o.a.createElement(w.o,null),o.a.createElement(w.e,{mdDisplay:"flex",justifyContent:"between",paddingX:4,paddingY:3},o.a.createElement(w.e,{column:12,mdColumn:3,paddingY:2},o.a.createElement(w.w,{htmlFor:"DescriptionField"},o.a.createElement(w.V,{size:"md"},a))),t?o.a.createElement(w.e,{column:12,mdColumn:8},o.a.createElement(w.e,null,d&&e?o.a.createElement("div",{className:M()("DescriptionField",{DescriptionField__error:!!r,DescriptionField__focus:u}),id:"DescriptionField",ref:this.suggestionAnchorRef,role:"textbox"},o.a.createElement(j.a,{onAddMention:()=>{Object(A.a)(8905,{element:116,tag_type:1})},initialMentions:i,initialText:n,onBlur:this.handleBlur,onChange:this.handleChange,onFocus:this.handleFocus,onSearchMentionCancel:()=>{Object(A.a)(8908,{element:116,tag_type:1})},onSuggestionsPopoverOpen:()=>{Object(A.a)(8907,{element:116,tag_type:1})},maxSuggestions:4,placeholder:s})):o.a.createElement(w.W,{id:"DescriptionField",placeholder:s,value:n,onChange:({value:e})=>{c({value:e,userMentionTags:[]})},hasError:(r||"").length>0})),!!r&&o.a.createElement(w.e,{justifyContent:"center"},o.a.createElement(P.a,{errorMessage:r,htmlFor:"pin-edit-description"}))):o.a.createElement(w.e,{column:12,mdColumn:8,paddingY:2},o.a.createElement(w.V,{size:"md",weight:"bold"},n))))}}var F=Object(R.e)(N),z=n("VJm5"),q=n("rSLd"),U=n("xOLo");function H({isCarousel:e,onMouseEnter:t,onMouseLeave:n,shouldShowCarouselSliders:r,onCarouselSlide:i,currentIndex:a,carouselData:s,pinId:c,description:l,image:u={}}){return o.a.createElement(w.e,{paddingX:4,paddingY:3,justifyContent:"center",direction:"column"},e&&(()=>{const e=s&&s.carousel_slots&&s.carousel_slots.length||1;return e>=2&&o.a.createElement(w.e,{direction:"row",padding:2},o.a.createElement(w.w,{htmlFor:"CardsIndex"},o.a.createElement(w.V,{size:"md"},a+1,"/",e)))})(),o.a.createElement(w.A,{width:236},o.a.createElement(w.e,{onMouseEnter:t,onMouseLeave:n},o.a.createElement(w.A,{rounding:2,wash:!0},e&&r&&o.a.createElement(w.e,{width:"100%",height:"100%",display:"inlineBlock",position:"absolute",dangerouslySetInlineStyle:{__style:{zIndex:10,background:"rgba(0, 0, 0, 0.3)"}}},o.a.createElement(U.default,{handleCarouselSwipe:i,carouselIndex:a,carouselData:s,pinId:c,isEditMode:!0})),e?o.a.createElement(z.a,{carouselIndex:a,isCloseup:!1,carouselData:s,pinId:c,isEditMode:!0}):o.a.createElement(w.v,{alt:l,color:"#efefef",naturalHeight:u.height,src:u.url,naturalWidth:u.width})),e&&o.a.createElement(q.default,{carouselIndex:a,carouselData:s,pinId:c,handleCarouselSwipe:i,isEditMode:!0,variant:"legacy"}))))}function K({apiErrorMessage:e,shouldShowGenericUpdateError:t,onClickDeleteButton:n,disableDelete:r,onHide:i,shouldDisableSave:a,triggerBoardAndSectionCreate:s}){return o.a.createElement(w.e,{display:"flex",justifyContent:"between",marginStart:-1,marginEnd:-1},o.a.createElement(_.a,{id:"delete-pin-button"},o.a.createElement(w.f,{text:b.a._("Delete","EditPinModal.EditPinFooter.Delete","delete pin"),onClick:n,disabled:r})),t&&o.a.createElement(w.e,{display:"flex",marginStart:2,marginTop:2,justifyContent:"center"},o.a.createElement(P.a,{errorMessage:e||b.a._("Sorry! There was an error editing your Pin.","EditPinModal.EditPinFooter.ErrorMessageToast","Toast for pin edit error"),htmlFor:"pin-edit-generic-error"})),o.a.createElement(w.e,{display:"flex",justifyContent:"between",marginStart:-2,marginEnd:-2},o.a.createElement(w.e,{paddingX:2},o.a.createElement(w.f,{text:b.a._("Cancel","EditPinModal.EditPinFooter.Cancel","cancel changes"),onClick:i})),o.a.createElement(w.e,{paddingX:2,"data-test-id":"edit-pin-save"},o.a.createElement(w.f,{text:b.a._("Save","EditPinModal.EditPinFooter.Save","save changes"),color:"red",onClick:s,disabled:a}))))}var V=n("NXrh");function W({board:e,canEdit:t,currentSection:n,onSectionChange:r,onSectionCreate:i,sectionId:a,sectionName:s}){const c=(null==e?void 0:e.id)?V.b:V.a;return o.a.createElement(w.e,{mdDisplay:"flex",justifyContent:"between",paddingX:4,paddingY:3},o.a.createElement(w.e,{column:12,mdColumn:3,paddingY:3},o.a.createElement(w.w,{htmlFor:"SectionPicker"},o.a.createElement(w.V,{size:"md"},b.a._("Section","label for editing a Pin's board section","label for editing a Pin's board section")))),t&&e?o.a.createElement(w.e,{column:12,mdColumn:8},o.a.createElement(c,{board:e,onSectionChange:r,selectedSectionId:a,selectedSectionName:s,onSectionCreate:i})):o.a.createElement(w.e,{column:12,mdColumn:8,paddingY:2},o.a.createElement(w.V,{size:"md",weight:"bold"},n&&!(e||{}).is_collaborative?n.title:b.a._("No section","default dropdown option for selecting a board section on pin edit","default dropdown option for selecting a board section on pin edit"))))}var G=n("8Enz"),Y=n("kT2/"),J=n("6HHy"),X=n("1RGD");function Q({keyValueBlocks:e,listBlocks:t,onUpdateKeyValueBlock:n,onUpdateListBlocks:i,templateType:a}){return o.a.createElement(w.e,null,1===a&&o.a.createElement(r.Fragment,null,o.a.createElement(w.e,{key:"cooktime",paddingY:2},o.a.createElement(w.V,{size:"md"},b.a._("Cook time","editModal.editStoryPinModal.details.cookTime","Label for cook time detail")),o.a.createElement(w.e,{paddingY:2},o.a.createElement(X.a,{onUpdate:e=>n(0,e),value:e[0]||null}))),o.a.createElement(w.e,{key:"servingSize",paddingY:2},o.a.createElement(w.V,{size:"md"},b.a._("Servings","editModal.editStoryPinModal.details.servings","Label for serving size detail")),o.a.createElement(w.e,{paddingY:2},o.a.createElement(J.a,{showLabel:!1,onUpdate:e=>n(1,e),value:e[1]||null})))),2===a&&o.a.createElement(w.e,{key:"difficulty",paddingY:2},o.a.createElement(w.V,{size:"md"},b.a._("Difficulty","editModal.editStoryPinModal.details.difficulty","Label for difficulty level detail")),o.a.createElement(w.e,{paddingY:2},o.a.createElement(G.a,{showLabel:!1,onUpdate:e=>n(2,e),value:e[2]||null}))),o.a.createElement(w.e,{paddingY:2},o.a.createElement(w.V,{size:"md"},(()=>{switch(a){case 1:return b.a._("Ingredients","editModal.editStoryPinModal.listHeading","Heading for an ingredients list");case 2:return b.a._("Supplies","editModal.editStoryPinModal.listHeading","Heading for a supplies list");default:return b.a._("What they'll need","editModal.editStoryPinModal.listHeading","Heading for a generic list")}})()),o.a.createElement(w.e,{paddingY:2},o.a.createElement(Y.a,{listBlocks:t,onUpdate:i}))))}var $=n("lUXN"),Z=n("fAMq"),ee=n("Joxa");var te=n("vvax"),ne=n("MNxV");var re=Object(i.connect)(()=>({}),e=>({completeResourceFetch:t=>e(Object(p.b)("PinResource",{field_set_key:"detailed",id:t.id},t)),invalidatePin:t=>e(Object(p.f)("PinResource",{field_set_key:"detailed",id:t}))}))((function({apiErrorMessage:e,board:t,completeResourceFetch:n,commentsDisabled:i,description:a,disableDelete:s,invalidatePin:c,isLoadingPin:u,isProcessing:h,onChangeBoard:p,onChangeComment:f,onChangePhoto:m,onChangeSection:g,onClickBoardCreate:v,onClickDeleteButton:_,onClickEditPages:E,onClickSectionCreate:S,onHide:C,photosDisabled:O,pinResource:I,sectionId:x,sectionName:k,title:T,triggerBoardAndSectionCreate:M}){var j,B;const A=null!==(j=I.data)&&void 0!==j?j:{},R=A.story_pin_data,L=null!==(B=A.images&&A.images["474x"])&&void 0!==B?B:{},[N,F]=Object(r.useState)(!1),[z,q]=Object(r.useState)(null),[U,H]=Object(r.useState)(!1),[K,W]=Object(r.useState)({}),[G,Y]=Object(r.useState)([]);Object(r.useEffect)(()=>{const e=(null==R?void 0:R.metadata.basics)||null;if(e){const t=Object(ee.b)(e);W(t.keyValueBlocks||{}),Y(t.listBlocks||[])}},[R]),Object(r.useEffect)(()=>{e&&q(e)},[e]);const J=(e,t)=>{W({...K,[e]:t}),F(!0)},X=e=>{Y(e),F(!0)},re=A.created_at?new Date(A.created_at):null,oe=re&&Object(Z.c)(re,14),ie=!!oe&&new Date<oe,ae=G.length>0||Object.keys(K).length>0,se=Object(te.b)(b.a._("Edit details and add, delete, or reorder pages up to {{ numDays }} days after your Story Pin is published. Edit the board and engagement settings any time.","editModal.editStoryPinModal.editTimeInformation","Let the user know how the edit settings are limited"),{numDays:14});return o.a.createElement(y.b,{accessibilityModalLabel:b.a._("Edit your previously saved pin","editModal.editStoryPinModal.accessibilityLabel","Accessible label for edit previously saved story pin modal"),footer:o.a.createElement(w.e,{display:"flex",justifyContent:"between"},o.a.createElement(w.e,{"data-test-id":"delete-pin-button"},o.a.createElement(w.f,{color:"white",disabled:s,onClick:_,size:"lg",text:b.a._("Delete","editModal.editStoryPinModal.deleteButton","Delete button for previously saved story pin")})),!!z&&o.a.createElement(w.e,{display:"flex",justifyContent:"center"},o.a.createElement(P.a,{errorMessage:z,htmlFor:"pin-edit-generic-error"})),o.a.createElement(w.e,{display:"flex",justifyContent:"between",marginEnd:-1,marginStart:-1},o.a.createElement(w.e,{paddingX:1},o.a.createElement(w.f,{onClick:C,size:"lg",text:b.a._("Cancel","editModal.editStoryPinModal.cancelButton","Cancel button to not save edits to previously saved story pin")})),o.a.createElement(w.e,{"data-test-id":"edit-pin-save",paddingX:1},o.a.createElement(w.f,{color:"red",onClick:()=>{if(N&&R){H(!0);const e=Object(ee.c)({keyValueBlocks:K,listBlocks:G}),t=function(e){return{metadata:{basics:e.metadata.basics?Object(ee.a)(e.metadata.basics):void 0,diy_data:e.metadata.diy_data,pin_image_signature:e.metadata.pin_image_signature,pin_title:e.metadata.pin_title,recipe_data:e.metadata.recipe_data,template_type:e.metadata.template_type},pages:(t=e.pages,t.map(e=>{var t;const n=e.blocks.map(e=>{switch(e.type){case"story_pin_paragraph_block":return{block_style:e.block_style,style:e.style,text:e.text,type:0};case"story_pin_heading_block":return{block_style:e.block_style,level:e.level,style:e.style,text:e.text,type:1};case"story_pin_image_block":return{block_style:e.block_style,image_signature:e.image_signature,tracking_id:e.tracking_id,type:2};case"story_pin_video_block":return{block_style:e.block_style,tracking_id:e.tracking_id,type:3,video_signature:e.video_signature};default:return null}}).filter(Boolean);return n.length>0?{blocks:n,layout:e.layout,style:(null===(t=e.style)||void 0===t?void 0:t.background_color)?{background_color:e.style.background_color}:void 0}:null}).filter(Boolean))};var t}(R),r={...t,metadata:{...t.metadata,basics:e}},o={pin_id:A.id,story_pin:JSON.stringify(r)};d.a.create("StoryPinEditResource",o).callUpdate().then(e=>{const{resource_response:t}=e;c(A.id),n(t.data),M()}).catch(e=>{q(e.message),H(!1)})}else M()},size:"lg",text:b.a._("Done","editModal.editStoryPinModal.doneButton","Done button to save edits to previously saved story pin")})))),heading:b.a._("Edit Pin","editModal.editStoryPinModal.heading","Edit a previously saved story pin"),onDismiss:C,size:"md"},u||!I.isLoaded||U||h?o.a.createElement(w.e,{paddingX:12,paddingY:9},o.a.createElement(w.O,{accessibilityLabel:b.a._("Loading edit information","editPinModal.editStoryPinModal.spinner","Accessible label for the edit pin loading icon"),show:!0})):o.a.createElement(w.e,{overflow:"hidden"},o.a.createElement(w.e,{marginEnd:-4,marginStart:-4},o.a.createElement($.a,{name:"web_story_pin_limit_edits"},({anyEnabled:e})=>{var n;return o.a.createElement(w.e,{display:"flex",minHeight:300,overflow:"hidden",paddingX:8},o.a.createElement(w.e,{alignItems:"center",direction:"column",display:"flex",flex:"shrink",paddingX:4},o.a.createElement(w.A,{wash:!0,rounding:4,width:120},o.a.createElement(w.v,{alt:a,color:"#efefef",naturalHeight:L.height,naturalWidth:L.width,src:L.url}),o.a.createElement(w.e,{position:"absolute",left:!0,top:!0,padding:2},o.a.createElement(w.e,{alignItems:"center",color:"lightGray",display:"flex",justifyContent:"center",opacity:.8,padding:2,rounding:"pill"},o.a.createElement(w.t,{accessibilityLabel:b.a._("Story Pin icon","editModal.editStoryPinModal.storyPinIndicator","Story Pin icon indicator"),color:"darkGray",icon:"story-pin",size:12}),o.a.createElement(w.e,{marginStart:1},o.a.createElement(w.V,{size:"md",weight:"bold"},null===(n=A.story_pin_data)||void 0===n?void 0:n.page_count))))),ie||!e?o.a.createElement(w.e,{"data-test-id":"edit-pages-button",paddingY:2},o.a.createElement(w.f,{inline:!0,onClick:E,text:b.a._("Edit Pages","editModal.editStoryPinModal.editPagesButton","Edit pages label for story pin creation entry point")})):null),o.a.createElement(w.e,{direction:"column",display:"flex",flex:"grow",paddingX:4},o.a.createElement(w.e,{marginBottom:-2,marginTop:-2},o.a.createElement(w.e,{maxHeight:500,overflow:"auto",paddingX:1},o.a.createElement(w.e,{maxWidth:504},e&&oe&&o.a.createElement(w.e,{paddingY:2},ie?o.a.createElement(o.a.Fragment,null,o.a.createElement(w.V,{size:"md"},Object(te.b)(b.a._("Edit until {{ editDate }}","editModal.editStoryPinModal.lastEditableDate","Let user know the last date this Pin can be edited on"),{editDate:o.a.createElement(ne.b,{dateFormatType:ne.a.NUMERIC,key:"noEditsTwoWeeksAfter-"+A.created_at,useUTC:!1,value:oe})})),o.a.createElement(w.e,{paddingY:2},o.a.createElement(w.V,{color:"gray",size:"md"},se))):o.a.createElement(w.V,{color:"gray",size:"md"},se)),o.a.createElement(w.e,{paddingY:2},o.a.createElement(w.V,{size:"md"},b.a._("Title","editModal.editStoryPinModal.titleLabel","Label for form input where users will input the title of their pin")),o.a.createElement(w.e,{paddingY:2},o.a.createElement(w.e,{alignItems:"center",color:"lightGray",display:"flex",justifyContent:"between",padding:4,rounding:4},o.a.createElement(w.V,{color:"gray",truncate:!0},T||""),o.a.createElement(w.t,{accessibilityLabel:b.a._("Lock","editModal.editStoryPinModal.lockIcon.accessibilityLabel","Label for the lock icon to show that editing a story pin title is locked"),color:"darkGray",icon:"lock"})))),o.a.createElement(w.e,{paddingY:2},o.a.createElement(w.V,{size:"md"},b.a._("Board","editModal.editStoryPinModal.boardLabel","Label for dropdown where users will choose their board")),o.a.createElement(w.e,{paddingY:2},o.a.createElement(D.a,{board:t,id:"BoardPicker",isStoryPin:!0,onBoardChosen:p,onBoardCreate:v}))),o.a.createElement(w.e,{paddingY:2},o.a.createElement(w.V,{size:"md"},b.a._("Section","editModal.editStoryPinModal.sectionLabel","Label for dropdown where users will choose their section")),o.a.createElement(w.e,{paddingY:2},(null==t?void 0:t.id)&&o.a.createElement(V.b,{isStoryPin:!0,board:t,onSectionChange:g,onSectionCreate:S,selectedSectionId:x,selectedSectionName:k}))),e&&ae&&ie&&o.a.createElement(Q,{keyValueBlocks:K,listBlocks:G,onUpdateKeyValueBlock:J,onUpdateListBlocks:X,templateType:null==R?void 0:R.metadata.template_type}),A.can_delete_did_it_and_comments&&o.a.createElement(w.e,{paddingY:2},o.a.createElement(w.V,{size:"md"},b.a._("Comments and Photos Permissions","editModal.editStoryPinModal.commentsAndPhotosPermissionsLabel","Label for dropdown where users can toggle off permissions for comments and photos")),o.a.createElement(w.e,{paddingY:2},o.a.createElement(l.a,{isNoTitle:!0,commentsDisabled:i,onCommentChange:f,onPhotoChange:m,photosDisabled:O}))))))))}))))}));function oe({canEdit:e,onTitleChange:t,title:n,errorMessage:r}){return o.a.createElement(o.a.Fragment,null,o.a.createElement(w.o,null),o.a.createElement(w.e,{mdDisplay:"flex",justifyContent:"between",paddingX:4,paddingY:3},o.a.createElement(w.e,{column:12,mdColumn:3,paddingY:2},o.a.createElement(w.w,{htmlFor:"TitleField"},o.a.createElement(w.V,{size:"md"},b.a._("Title","Label for editing title of pin","Label for editing title of pin")))),o.a.createElement(w.e,{column:12,mdColumn:8},e?o.a.createElement(o.a.Fragment,null,o.a.createElement(w.e,null,o.a.createElement(w.X,{hasError:(r||"").length>0,id:"TitleField",onChange:t,size:"lg",value:n})),!!r&&o.a.createElement(w.e,{justifyContent:"center"},o.a.createElement(P.a,{errorMessage:r,htmlFor:"pin-edit-title"}))):o.a.createElement(w.e,{column:12,mdColumn:8,paddingY:2},o.a.createElement(w.V,{size:"md",weight:"bold"},n)))))}function ie({onChangeWebsite:e,link:t,errorMessage:n}){return o.a.createElement(o.a.Fragment,null,o.a.createElement(w.o,null),o.a.createElement(w.e,{mdDisplay:"flex",justifyContent:"between",paddingX:4,paddingY:3},o.a.createElement(w.e,{column:12,mdColumn:3,paddingY:2},o.a.createElement(w.w,{htmlFor:"WebsiteField"},o.a.createElement(w.V,{size:"md"},b.a._("Website")))),o.a.createElement(w.e,{column:12,mdColumn:8},o.a.createElement(w.e,null,o.a.createElement(w.X,{hasError:(n||"").length>0,id:"WebsiteField",onChange:e,size:"lg",value:t})),!!n&&o.a.createElement(w.e,{justifyContent:"center"},o.a.createElement(P.a,{errorMessage:n,htmlFor:"pin-edit-website"})))))}var ae=n("TN0d"),se=n("NqRL"),ce=n("Wrea"),le=n("ZVWG"),ue=n("OSge"),de=n("NjDU"),he=n("6vq5"),pe=n("C0mq"),fe=n("eIuQ"),me=n("ANjH"),ge=n("guDk"),be=n("c50B"),ye=n("VqlB");function ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _e(e){return Boolean(e&&e.trim().length)}function Ee(e,t){const n=_e(e),r=_e(t);return(n||r)&&e!==t}class Se extends r.Component{constructor(...e){super(...e),ve(this,"state",{board:this.props.pinResource.data&&this.props.pinResource.data.board||null,commentsDisabled:this.props.pinResource.data&&this.props.pinResource.data.comments_disabled||!1,description:this.props.pinResource.data&&this.props.pinResource.data.description.trim()||"",apiErrorMessage:null,link:this.props.pinResource.data&&this.props.pinResource.data.link||"",photosDisabled:this.props.pinResource.data&&this.props.pinResource.data.did_it_disabled||!1,sectionId:this.props.pinResource.data&&this.props.pinResource.data.section&&this.props.pinResource.data.section.id||null,sectionName:this.props.pinResource.data&&this.props.pinResource.data.section&&this.props.pinResource.data.section.title||null,showDeleteConfirmation:!1,carousel_data:this.props.pinResource.data&&this.props.pinResource.data.carousel_data||null,title:this.props.pinResource.data&&this.props.pinResource.data.title||"",userNote:this.props.pinResource.data&&this.props.pinResource.data.unified_user_note&&this.props.pinResource.data.unified_user_note.trim()||"",isLoadingPin:!this.props.pinResource.isLoaded,isProcessing:!1,currentIndex:void 0!==this.props.carouselSlotCurrentIndex?this.props.carouselSlotCurrentIndex:this.props.pinResource.data&&this.props.pinResource.data.carousel_data&&this.props.pinResource.data.carousel_data.index||0,shouldApplyTextToAll:!1,shouldDisableSave:!1,shouldShowCarouselSliders:!1,shouldShowValidationTitleError:!1,shouldShowValidationDescriptionError:!1,shouldShowValidationLinkFormatError:!1,shouldShowGenericUpdateError:!1,shouldShowValidationUserMentionTagsError:!1,userMentionTags:this.props.pinResource.data&&this.props.pinResource.data.user_mention_tags||[]}),ve(this,"onClickDeleteButton",()=>this.setState({showDeleteConfirmation:!0})),ve(this,"onHideConfirmation",()=>this.setState({showDeleteConfirmation:!1})),ve(this,"updateCarouselSlotIndex",()=>{const{carouselSlotCurrentIndex:e}=this.props;this.setState({currentIndex:void 0!==e?e:this.props.pinResource.data&&this.props.pinResource.data.carousel_data&&this.props.pinResource.data.carousel_data.index||0})}),ve(this,"handleBoardChange",e=>{const{board:{id:t}}=this.state;e.id!==t&&this.setState({board:e,sectionId:null,sectionName:null})}),ve(this,"createBoard",e=>{const{board:t}=this.state;if(!t.id&&t.name&&e){const{dispatch:n}=this.props;n(function(e,t){const n={name:e,privacy:u.a.BoardPrivacy.PUBLIC};return e=>d.a.create("BoardResource",n).callCreate().then(n=>{const r=n.resource_response.data;return e(t.username&&Object(p.f)("BoardsResource",Object(h.a)(t.username,!1))),r})}(t.name,e)).then(e=>{if(this._isMounted){const{sectionId:t,sectionName:n}=this.state;!t&&n?(this.setState({board:e}),this.createSection()):(this.handleBoardChange(e),this.handleSave())}})}}),ve(this,"handleBoardCreateClick",e=>{if(!e)return;const t={name:e,privacy:u.a.BoardPrivacy.PUBLIC,access:"write"};this.setState({board:t,sectionId:null,sectionName:null})}),ve(this,"createSection",()=>{const{board:e,sectionName:t}=this.state;if(!t)return;if(!e.id)return void this.createBoard();const n={boardId:e.id,name:t},{dispatch:r}=this.props;r(Object(f.a)(n)).then(e=>{this._isMounted&&(this.setState({sectionId:e&&e.id||null,sectionName:e&&e.title||null}),this.handleSave())}).catch(e=>{const t=Object(ge.b)(e);e&&Object(ge.b)(e)&&this.showErrorToast(Object(ge.a)(e)||e.message),this.setState({shouldShowGenericUpdateError:!t,apiErrorMessage:t?e.message:null})})}),ve(this,"handleSectionCreateClick",e=>{if(0===e.length)return;const{board:t}=this.state;t&&this.setState({sectionId:null,sectionName:e})}),ve(this,"handleSectionChange",e=>this.setState({sectionId:e&&e.id||null,sectionName:e&&e.title||null,shouldShowGenericUpdateError:!1})),ve(this,"handleDeletePin",()=>{const{pinResource:{data:e},pinId:t,onDelete:n,onHide:r,changeBoardPinCount:o,changeUserPinCount:i,advertiser_id:a}=this.props,s={...a?{advertiser_id:a}:{},id:t};return d.a.create("PinResource",s).callDelete().then(()=>{if(this._isMounted){if(!e)return;const{board:{id:a},pinner:{id:s},section:c}=e;o({boardId:a,sectionId:c&&c.id||void 0,increment:-1}),i({userId:s,increment:-1}),ae.a.instance.publish(a,"pinDeleted",t),ae.a.instance.publish(s,"pinDeleted"),ae.a.instance.publish(t,"pinDeleted"),r(),n&&n()}})}),ve(this,"sanitizeCarouselData",e=>{let{carousel_data:t}=this.state;if(e&&(t=e),t){const{carousel_slots:e}=t;if(e){const t={carousel_slots:[]};return e.forEach(e=>{const n={};n.description=e.details||"",n.title=e.title||"",n.link=e.link||"",t.carousel_slots.push(n)}),t}}return null}),ve(this,"triggerBoardAndSectionCreate",e=>()=>{const{board:t,sectionId:n,sectionName:r}=this.state;t&&!t.id&&t.name?this.createBoard(e):!n&&r?this.createSection():this.handleSave()}),ve(this,"logPinEditEvent",(e,t,n,r,o)=>{const i={},{pinId:a,view:s,viewParameter:c}=this.props,{userMentionTags:l}=this.state;if(i.objectId=a,i.num_user_mention_tags=l.length,e&&(i.board_was_modified=!0),!e&&t&&(i.board_section_was_modified=!0),n){const{description:e}=this.state,{description:t}=o;i.original_pin_description=t,i.edited_pin_description=e}if(r){const{carousel_data:e}=this.state,{carousel_data:t}=o;i.original_carousel_data=JSON.stringify(this.sanitizeCarouselData(t)),i.edited_carousel_data=JSON.stringify(this.sanitizeCarouselData(e))}Object(A.a)(2,{component:208,view:s,viewParameter:c,...i})}),ve(this,"handleSave",()=>{this.setState({apiErrorMessage:null,isProcessing:!0});const{advertiser_id:e,pinId:t,pinResource:{data:n},invalidatePinResource:r,completeResourceFetch:o,onHide:i}=this.props;if(!n)return;const{board:a,comments_disabled:s,did_it_disabled:c,title:l,description:u,link:h,section:p,carousel_data:f}=n,{carousel_data:m,shouldShowValidationLinkFormatError:b}=this.state;let y;if(m){const e=this.sanitizeCarouselData();e&&(y=JSON.stringify(e))}const{board:v,commentsDisabled:_,currentIndex:E,photosDisabled:S,title:w,description:C,sectionId:O,carousel_data:I,userMentionTags:x}=this.state,D=v||a,k=b?h:this.state.link,T={board_id:D.id,board_section_id:O,carousel_data_json:y,description:C,disable_comments:_,disable_did_it:S,id:t,link:k,title:w,user_mention_tags:JSON.stringify(x),...e?{advertiser_id:e}:{}},M=p&&p.id||null,j=D.id,P=a.id,B=P!==j,A=(Boolean(M)||Boolean(O))&&M!==O,R=Ee(l,w),L=Ee(u,C),N=Ee(h,k),F=Boolean(I)&&Boolean(f)&&!g()(I,f);B||A||R||L||N||F||(s!==_||c!==S)?d.a.create("PinResource",T).callUpdate().then(({resource_response:e})=>{if(this._isMounted){const{changeBoardPinCount:t,onSubmit:a,pinId:s,pinMoved:c}=this.props;(B||A)&&j&&P&&(c({selectedPinIds:[s],source:{boardId:P,sectionId:M},target:{boardId:j,sectionId:O}}),t({boardId:j,sectionId:O||void 0,increment:1}),t({boardId:P,sectionId:M||void 0,increment:-1})),a&&j&&D.url&&a({boardId:j,title:D.name,sectionId:O,url:D.url}),i(),r(s);const{data:l}=e;l.carousel_data&&(l.carousel_data.index=E),o(l),this.logPinEditEvent(B,A,L,F,n)}}).catch(e=>{const t=Object(ge.b)(e);t&&this.showErrorToast(Object(ge.a)(e)||e.message);const{shouldShowValidationTitleError:n,shouldShowValidationDescriptionError:r,shouldShowValidationLinkFormatError:o}=this.state;this.setState({isProcessing:!1,shouldShowGenericUpdateError:!(t||n||r||o)})}):(i(),r(t)),this.setState({isProcessing:!1})}),ve(this,"handleTextChanges",(e,t)=>{const{carousel_data:n}=this.state;if(!n)return;const r=c()(n),{carousel_slots:o=[]}=r,{currentIndex:i,shouldApplyTextToAll:a,description:s,link:l,title:u}=this.state,d=this.valueIsValidForType(e,t);switch(a?o.forEach(n=>n[t]=e):o[i]&&(o[i][t]=e),t){case"details":const t=0===i?e:s;this.setState({description:t,carousel_data:r||null,shouldShowValidationDescriptionError:!d,shouldShowGenericUpdateError:!1});break;case"link":const n=0===i?e:l;this.setState({link:n,carousel_data:r||null,shouldShowValidationLinkFormatError:!d,shouldShowGenericUpdateError:!1});break;case"title":const o=0===i?e:u;this.setState({title:o,carousel_data:r||null,shouldShowValidationTitleError:!d,shouldShowGenericUpdateError:!1})}}),ve(this,"handleDescriptionChange",({value:e,userMentionTags:t})=>{const n=this.valueIsValidForType(e,"description"),r=this.valueIsValidForType(t,"userMentionTags");t.length<this.state.userMentionTags.length&&Object(A.a)(8906,{element:116,tag_type:1}),this.setState({description:e,userMentionTags:t,userNote:e,shouldShowValidationDescriptionError:!n,shouldShowValidationUserMentionTagsError:!r,shouldShowGenericUpdateError:!1})}),ve(this,"handleCarouselDetailsChange",({value:e})=>{this.handleTextChanges(e,"details")}),ve(this,"handleTitleChange",({value:e})=>{const t=this.valueIsValidForType(e,"title");this.setState({title:e,shouldShowValidationTitleError:!t,shouldShowGenericUpdateError:!1})}),ve(this,"handleCarouselTitleChange",({value:e})=>{this.handleTextChanges(e,"title")}),ve(this,"valueIsValidForType",(e,t)=>{switch(t){case"details":case"description":return e.length<=500;case"link":return e.length>=0&&0===Object(be.r)([Object(be.q)({message:b.a._("Not a valid url.","Validation error for an improperly formated url","Validation error for an improperly formated url")})],e).length;case"title":return e.length<=100;case"userMentionTags":return e.length<=5;default:return!0}}),ve(this,"handleWebsiteChange",({value:e})=>{const t=this.valueIsValidForType(e,"link");this.setState({link:e,shouldDisableSave:!t,shouldShowValidationLinkFormatError:!t,shouldShowGenericUpdateError:!1})}),ve(this,"handleCarouselWebsiteChange",({value:e})=>{this.handleTextChanges(e,"link")}),ve(this,"handleCommentChange",e=>this.setState({commentsDisabled:!e.value})),ve(this,"handlePhotoChange",e=>this.setState({photosDisabled:!e.value})),ve(this,"handleShouldApplyToAll",e=>{if(e){const{currentIndex:t,carousel_data:n}=this.state;if(!n)return;const r=c()(n),{carousel_slots:o}=r,{details:i,link:a,title:s}=o[t];o.forEach(e=>{e.details=i,e.title=s,e.link=a}),this.setState({carousel_data:r,shouldApplyTextToAll:e})}else this.setState({shouldApplyTextToAll:e})}),ve(this,"handleCarouselSlider",e=>{const{carousel_data:t}=this.state,n=t&&t.carousel_slots&&t.carousel_slots.length||1;e>=0&&e<n&&this.setState({currentIndex:e})}),ve(this,"handleClickStoryPinPages",()=>{const{pinResource:{data:e},history:t}=this.props;e&&t.push(`/story-pin-builder/${e.id}/edit`)}),ve(this,"handleMouseEnter",()=>{this.setState({shouldShowCarouselSliders:!0})}),ve(this,"handleMouseLeave",()=>{this.setState({shouldShowCarouselSliders:!1})})}componentDidMount(){this._isMounted=!0,this.updateCarouselSlotIndex()}componentDidUpdate(e){const{pinResource:{data:t,isLoaded:n},carouselSlotCurrentIndex:r}=this.props;t&&n!==e.pinResource.isLoaded&&this.setState({board:t.board,commentsDisabled:t.comments_disabled,description:t.description&&t.description.trim(),isLoadingPin:!1,link:t.link,photosDisabled:t.did_it_disabled,sectionId:(t.section||{}).id,sectionName:(t.section||{}).title,title:t.title,userNote:t.unified_user_note,carousel_data:t.carousel_data,currentIndex:void 0!==r?r:t.carousel_data&&t.carousel_data.index||0,shouldApplyTextToAll:!1,userMentionTags:t.user_mention_tags||[]})}componentWillUnmount(){this._isMounted=!1}showErrorToast(e){this.props.toastManagerContext.showOneToast(({onHide:t})=>o.a.createElement(E.a,{color:"red",duration:5e3,onHide:t,text:e}))}getCurrentUserId(e){const{adminModeInfo:t,advertiserOwnerUserId:n}=this.props;return t&&t.version===se.a?n:e.isAuth?e.id:""}render(){const{disableDelete:e,onHide:t,pinResource:n,pinId:r,requestContext:i,adminModeInfo:s,viewer:c}=this.props,{apiErrorMessage:u,board:d,commentsDisabled:h,description:p,link:f,photosDisabled:m,sectionId:g,sectionName:v,showDeleteConfirmation:_,title:E,userNote:S,isLoadingPin:C,isProcessing:O,carousel_data:I,shouldApplyTextToAll:D,currentIndex:T,shouldDisableSave:M,shouldShowCarouselSliders:j,shouldShowValidationTitleError:P,shouldShowValidationDescriptionError:A,shouldShowValidationLinkFormatError:R,shouldShowGenericUpdateError:L,shouldShowValidationUserMentionTagsError:N,userMentionTags:z}=this.state;if(_)return o.a.createElement(x,{onDeletePin:this.handleDeletePin,onDismiss:this.onHideConfirmation});const q=n.data||{},U=!!(I&&I.carousel_slots&&I.carousel_slots.length>1),V=I&&I.carousel_slots&&I.carousel_slots.length>0&&I.carousel_slots[T]||{},{details:G="",link:Y="",title:J=""}=V,X=(null==s?void 0:s.version)===se.a&&!(null==s?void 0:s.writeMode),Q=!!(q&&q.story_pin_data_id&&q.story_pin_data),$=q&&(q.access||[]).includes("write")||this.props.canEdit||!!d&&Object(a.a)({action:4,board:d}),Z=e=>{const t=this.getCurrentUserId(e),n=this.props.canEdit&&this.props.advertiserOwnerUserId?this.props.advertiserOwnerUserId:t;return $&&!q.is_repin&&!X&&!(q.aggregated_pin_data&&q.aggregated_pin_data.is_shop_the_look)&&!Q&&(U||!I)&&(q.native_creator&&q.native_creator.id===n||U&&q.pinner&&q.pinner.id===n||q.link_domain&&q.link_domain.official_user&&q.link_domain.official_user.id===n||!!q.domain&&q.pinner&&q.pinner.id===n&&q.pinner.domain_url&&q.pinner.domain_url.includes(q.domain))},ee=e=>!Z(e),te=q&&q.images&&q.images["474x"]||{},ne=new B.b(i,"web_story_pin_creator").enabledWithNoActivation(),ae=q.story_pin_data&&q.story_pin_data.metadata&&q.story_pin_data.metadata.version?Object(le.a)(q.story_pin_data.metadata.version,ue.c):null,ce=null!=ae&&ae>=0,de=!!q.story_pin_data&&!!q.story_pin_data.metadata&&!!q.story_pin_data.metadata.is_editable&&q.native_creator&&q.native_creator.id===this.getCurrentUserId(c);if(Q&&ne&&ce&&de)return o.a.createElement(re,{apiErrorMessage:u,board:d,commentsDisabled:h,description:p,disableDelete:e,isLoadingPin:C,isProcessing:O,onChangeBoard:this.handleBoardChange,onChangeComment:this.handleCommentChange,onChangePhoto:this.handlePhotoChange,onChangeSection:this.handleSectionChange,onClickBoardCreate:this.handleBoardCreateClick,onClickDeleteButton:this.onClickDeleteButton,onClickEditPages:this.handleClickStoryPinPages,onClickSectionCreate:this.handleSectionCreateClick,onHide:t,photosDisabled:m,pinResource:n,sectionId:g,sectionName:v,title:E,triggerBoardAndSectionCreate:this.triggerBoardAndSectionCreate(c)});const he=ee(c)?null:o.a.createElement(oe,{canEdit:$,onTitleChange:U?this.handleCarouselTitleChange:this.handleTitleChange,title:U?J:E,errorMessage:P?Object(fe.b)(U):""}),pe=$||c.isAuth&&(q.pinner||{}).id===c.id?o.a.createElement(F,{canAddUserMentionTags:!ee(c),canEdit:$,description:(e=>U?G:ee(e)?S:p)(c)||"",errorMessage:(e=>A?(e=>ee(e)?Object(fe.e)(U):Object(fe.a)(U))(e):N?Object(fe.d)(U):"")(c),initialMentions:z,label:ee(c)?b.a._("Note","Label for editing user note","Label for editing user note"):b.a._("Description","Label for editing description","Label for editing description"),placeholder:ee(c)?b.a._("Write a note about this Pin...","Placeholder for editing user note","Placeholder for editing user note"):b.a._("Tell us about this Pin...","Placeholder for editing description","Placeholder for editing description"),onDescriptionChange:U?this.handleCarouselDetailsChange:this.handleDescriptionChange}):null,me=Z(c)?o.a.createElement(ie,{link:U?Y:f,onChangeWebsite:U?this.handleCarouselWebsiteChange:this.handleWebsiteChange,errorMessage:R?Object(fe.c)(U):""}):null,ge=U?o.a.createElement(w.e,{display:"flex",justifyContent:"end",paddingX:4,paddingY:3,alignItems:"end"},o.a.createElement(w.e,{paddingY:2},o.a.createElement(w.w,{htmlFor:"applyTextToAll"},o.a.createElement(w.V,null,b.a._("Apply text to all","Apply title, description, link to all cards","Apply title, description, link to all cards")))),o.a.createElement(w.e,{paddingX:2,paddingY:2},o.a.createElement(w.R,{onChange:e=>this.handleShouldApplyToAll(e.value),id:"applyTextToAll",switched:D}))):null,be=q.can_delete_did_it_and_comments?o.a.createElement(l.a,{commentsDisabled:h,onCommentChange:this.handleCommentChange,onPhotoChange:this.handlePhotoChange,photosDisabled:m}):null;return o.a.createElement(y.b,{heading:b.a._("Edit this Pin","EditPinModal.ModalHeading.EditThisPin","Edit a previously saved pin"),accessibilityModalLabel:b.a._("Edit your previously saved pin","EditPinModal.ModalHeading.AccessibleLabel","Accessible label for edit previously saved pin modal"),size:"lg",onDismiss:t,footer:o.a.createElement(K,{apiErrorMessage:u,shouldShowGenericUpdateError:L,onClickDeleteButton:this.onClickDeleteButton,disableDelete:e,onHide:t,shouldDisableSave:M,triggerBoardAndSectionCreate:this.triggerBoardAndSectionCreate(c)})},C||!n.isLoaded||O?o.a.createElement(w.e,{display:"flex",alignItems:"center",justifyContent:"center"},o.a.createElement(w.O,{accessibilityLabel:b.a._("loading","EditPinModal.LoadingPin.Spinner","Accessible label for the edit pin loading icon"),show:!0})):o.a.createElement(w.e,{display:"flex",justifyContent:"between",minHeight:350,paddingX:4},o.a.createElement(w.e,{column:12,mdColumn:9},o.a.createElement(k,{board:d||q.board,canEdit:$,onBoardChange:this.handleBoardChange,onBoardCreate:this.handleBoardCreateClick}),o.a.createElement(W,{board:d||q.board,canEdit:$,onSectionCreate:this.handleSectionCreateClick,onSectionChange:this.handleSectionChange,sectionId:g,sectionName:v,currentSection:q.section}),he,pe,me,ge,be),o.a.createElement(H,{isCarousel:U,shouldShowCarouselSliders:j,onCarouselSlide:this.handleCarouselSlider,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,currentIndex:this.state.currentIndex,carouselData:this.state.carousel_data,pinId:r,description:p,image:te})))}}const we=(e,t)=>({field_set_key:"detailed",id:e,preserve_component_state:t});t.a=Object(me.compose)(pe.a,Object(he.a)({key:"pinResource",name:"PinResource",options:e=>we(e.pinId,!0)}),R.e,S.c,Object(i.connect)((function(e,t){const{advertiser:n,viewer:r}=e;return r.isAuth&&n?{advertiser_id:n.id,...n.owner_user_id!==r.id?{advertiserOwnerUserId:n.owner_user_id,adminModeInfo:n.admin_mode_info}:{},viewer:r}:{viewer:r}}),e=>({invalidatePinResource:t=>e(Object(p.f)("PinResource",we(t,!0))),changeBoardPinCount:t=>e(Object(ce.d)(t)),changeUserPinCount:t=>e(Object(de.b)(t)),completeResourceFetch:t=>e(Object(p.b)("PinResource",we(t.id,!1),t)),pinMoved:Object(me.bindActionCreators)(ye.b,e)})))(Se)},"5Wuq":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n("kGJw"),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(e,t,n){var r=t?new RegExp((0,i.default)(e)+"("+n+"|\\s){0,}","g"):new RegExp("(\\s|^)"+(0,i.default)(e)+n,"g");return function(e,t){!function(e,t,n){var r=t.getText();t.findEntityRanges((function(e){return!e.getEntity()}),(function(t,o){for(var i=r.slice(t,o),a=void 0,s=void 0,c=e.lastIndex;null!==(a=e.exec(i))&&e.lastIndex!==c;)c=e.lastIndex,s=t+a.index,n(s,s+a[0].length)}))}(r,e,t)}}},"5b7f":function(e,t,n){n.d(t,"a",(function(){return i}));var r=n("zpPL"),o=n("t3tn");function i(e){const t=r.a.instance;if(t&&""===t.getState().ui.views.boardPinView&&e&&e.data){const{profile_pin_rep_view_type:n}=e.data;n?t.dispatch(Object(o.a)(n)):t.dispatch(Object(o.a)("regular"))}}},"5uyJ":function(e,t,n){n.d(t,"a",(function(){return r}));const r={V_HLSV4:"V_HLSV4",V_720P:"V_720P"}},"6A0I":function(e,t,n){var r=n("q1tI"),o=n.n(r),i=n("/MKj"),a=n("JW66"),s=n("Sihc"),c=n("Ye/N"),l=n("GBVV"),u=n("n6mq");function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends o.a.Component{constructor(e){super(e),d(this,"onCreateSection",()=>{const{board:e,dispatch:t,completeCreateSectionAction:n,pinImport:r}=this.props;return this.setState({isSaving:!0}),t(Object(s.a)({boardId:e.id,name:this.state.inputName.trim(),pinImport:r})).then(e=>{this.setState({isSaving:!1}),n(e)}).catch(e=>{this.setState({createError:e.message_detail||e.message,isSaving:!1})})}),d(this,"handleKeyDown",({event:e,value:t})=>{const{createError:n,inputName:r}=this.state;[a.a.KeyCode.ENTER,a.a.KeyCode.NUMPAD_ENTER].includes(e.which)&&!n&&r.trim()&&this.onCreateSection()}),d(this,"handleChangeName",({value:e})=>{this.setState({createError:null,inputName:e})}),d(this,"handleInputRef",e=>{this.setState({inputRef:e})}),this.state={createError:null,inputName:e.initialName||"",inputRef:null,isSaving:!1}}componentDidUpdate(e,t){const{createError:n,inputRef:r}=this.state;!r||t.inputRef&&!n||r.focus()}render(){const{onClearModal:e,showTitle:t,positionRelative:n}=this.props,{createError:r,inputName:i,isSaving:a}=this.state,s=!!i.trim()&&!r;return o.a.createElement(u.e,{display:"flex",direction:"column",color:"white",flex:"grow",top:!0,bottom:!0,right:!0,position:n?"relative":"absolute",rounding:2,width:"100%",dangerouslySetInlineStyle:{__style:{borderLeft:"1px solid #f5f5f5"}}},t&&o.a.createElement(u.e,{marginTop:3,paddingX:6,paddingY:3},o.a.createElement(u.s,{size:"sm"},c.a._("Add section","Title in the add section modal","Title in the add section modal"))),o.a.createElement(u.e,{padding:3},o.a.createElement(u.e,{marginBottom:2},o.a.createElement(u.w,{htmlFor:"sectionEditName"},o.a.createElement(u.V,{size:"md",color:r?"red":"gray"},c.a._("Name","Board section name","Board section name")))),o.a.createElement(u.e,null,o.a.createElement(u.e,{ref:this.handleInputRef},o.a.createElement(u.X,{errorMessage:r||"",id:"sectionEditName",name:"sectionName",onChange:this.handleChangeName,onKeyDown:this.handleKeyDown,placeholder:c.a._('Like "Lighting"',"Placeholder for board section name","Placeholder for board section name"),size:"lg",type:"text",value:i})))),o.a.createElement(u.o,null),o.a.createElement(u.e,{display:"flex",flex:"grow"}),o.a.createElement(u.o,null),o.a.createElement(u.e,{padding:6},o.a.createElement(u.e,{display:"flex",justifyContent:"between"},o.a.createElement(u.f,{onClick:e,text:c.a._("Cancel","cancel section add","cancel section add"),inline:!0}),o.a.createElement(l.b,{disabled:!s||a,onClick:this.onCreateSection,submitting:a,text:c.a._("Add","add a new section","add a new section")}))))}}t.a=Object(i.connect)()(h)},"6G9P":function(e,t,n){n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var r=n("q1tI"),o=n.n(r),i=(n("JW66"),n("Ye/N")),a=n("xdpg"),s=n("n6mq");const c=(e,t)=>{if(!t)return e;const n=new RegExp(/http(s?):/);if(!n.test(e)){const r=n.exec(t);if(r&&r.length){e=r[0]+e}}return e},l=(e,t)=>t?Object(a.c)(i.a._("Saved to {{sectionName}} in {{boardName}}","Toast for successfully saving to a section within a board","Toast for successfully saving to a section within a board"),{sectionName:t.title,boardName:e}):o.a.createElement(o.a.Fragment,null,o.a.createElement(s.V,{color:"white"},i.a._("Saved to")),o.a.createElement(s.V,{color:"white",weight:"bold"},e))},"6HHy":function(e,t,n){n.d(t,"a",(function(){return c}));var r=n("q1tI"),o=n.n(r),i=n("Ye/N"),a=n("vvax"),s=n("n6mq");function c({onUpdate:e,showLabel:t=!0,value:n}){const r=[];for(let o=1;o<=50;o+=1)r.push({value:String(o),label:Object(a.b)(i.a.ngettext("{{ servings }} serving","{{ servings }} servings",o,"storyboard.detailsList.field.servings","Option for number of servings a story pin recipe will provide"),{servings:o}).join("")});return o.a.createElement(s.e,{width:"100%",display:"flex"},o.a.createElement(s.e,{width:"100%",position:"relative"},o.a.createElement(s.M,{size:"lg",id:"servings",name:"servings",label:t?i.a._("Servings","storyboard.detailsList.field.servings","Header title for serving count entry for story pin recipe"):void 0,placeholder:i.a._("Pick a serving size","storyboard.detailsList.recipe","Placeholder caption for servings count input in story pin recipe"),value:n,options:r,onChange:({value:t})=>{Number.isNaN(t)||e(t)}})))}},"6SCp":function(e,t,n){n.d(t,"a",(function(){return o}));function r(e){return"most_reactions"===e?"most_reactions":"default"}function o(e,t,n){const{owner:o,should_show_board_activity:i}=e,a=o.id===t.id;let s="react_grid_pin";return t.isPartner&&a&&i?s="partner_react_grid_pin_with_board_activity":t.isPartner&&a?s="partner_react_grid_pin":i&&(s="react_grid_pin_with_board_activity"),{board_id:e.id,board_url:e.url,field_set_key:s,filter_section_pins:!0,sort:r(n),layout:e.layout,page_size:25,redux_normalize_feed:!0}}},"6j0b":function(e,t,n){n.d(t,"a",(function(){return o}));var r=n("8A+h");function o({board:e,viewer:t}){return Object(r.a)(t,e)?3069:3070}},"6tyx":function(e,t,n){(function(t){var r=n("MgzW");function o(){return(o=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var l=n("rAV9"),u=n("0TRD"),d=n("jl1W"),h=n("Idtq"),p=n("ISR0"),f=n("1Jbx"),m=n("ubb0"),g=n("Hdlu"),b=n("m75S"),y=n("3sOJ"),v=n("q1tI"),_=n("sOsl"),E=n("bU3v"),S=n("4pIB"),w=n("pXmp"),C=n("rJY1"),O=n("AyB5"),I=n("GXbk"),x=n("cwFY"),D=n("mFyV"),k=n("OLzA"),T=n("qysv"),M=S.isBrowser("IE"),j=!M,P={edit:f,composite:d,drag:p,cut:null,render:null},B=!1,A=function(e){function t(){return e.apply(this,arguments)||this}c(t,e);var n=t.prototype;return n.render=function(){return null},n.componentDidMount=function(){this._update()},n.componentDidUpdate=function(){this._update()},n._update=function(){var e=this.props.editor;e._latestEditorState=this.props.editorState,e._blockSelectEvents=!0},t}(v.Component),R=function(e){function n(t){var n;return s(a(n=e.call(this,t)||this),"_blockSelectEvents",void 0),s(a(n),"_clipboard",void 0),s(a(n),"_handler",void 0),s(a(n),"_dragCount",void 0),s(a(n),"_internalDrag",void 0),s(a(n),"_editorKey",void 0),s(a(n),"_placeholderAccessibilityID",void 0),s(a(n),"_latestEditorState",void 0),s(a(n),"_latestCommittedEditorState",void 0),s(a(n),"_pendingStateFromBeforeInput",void 0),s(a(n),"_onBeforeInput",void 0),s(a(n),"_onBlur",void 0),s(a(n),"_onCharacterData",void 0),s(a(n),"_onCompositionEnd",void 0),s(a(n),"_onCompositionStart",void 0),s(a(n),"_onCopy",void 0),s(a(n),"_onCut",void 0),s(a(n),"_onDragEnd",void 0),s(a(n),"_onDragOver",void 0),s(a(n),"_onDragStart",void 0),s(a(n),"_onDrop",void 0),s(a(n),"_onInput",void 0),s(a(n),"_onFocus",void 0),s(a(n),"_onKeyDown",void 0),s(a(n),"_onKeyPress",void 0),s(a(n),"_onKeyUp",void 0),s(a(n),"_onMouseDown",void 0),s(a(n),"_onMouseUp",void 0),s(a(n),"_onPaste",void 0),s(a(n),"_onSelect",void 0),s(a(n),"editor",void 0),s(a(n),"editorContainer",void 0),s(a(n),"focus",void 0),s(a(n),"blur",void 0),s(a(n),"setMode",void 0),s(a(n),"exitCurrentMode",void 0),s(a(n),"restoreEditorDOM",void 0),s(a(n),"setClipboard",void 0),s(a(n),"getClipboard",void 0),s(a(n),"getEditorKey",void 0),s(a(n),"update",void 0),s(a(n),"onDragEnter",void 0),s(a(n),"onDragLeave",void 0),s(a(n),"_handleEditorContainerRef",(function(e){n.editorContainer=e,n.editor=null!==e?e.firstChild:null})),s(a(n),"focus",(function(e){var t=n.props.editorState,r=t.getSelection().getHasFocus(),o=n.editor;if(o){var i=E.getScrollParent(o),a=e||I(i),s=a.x,c=a.y;k(o)||D(!1),o.focus(),i===window?window.scrollTo(s,c):_.setTop(i,c),r||n.update(y.forceSelection(t,t.getSelection()))}})),s(a(n),"blur",(function(){var e=n.editor;e&&(k(e)||D(!1),e.blur())})),s(a(n),"setMode",(function(e){var t=n.props,r=t.onPaste,o=t.onCut,a=t.onCopy,s=i({},P.edit);r&&(s.onPaste=r),o&&(s.onCut=o),a&&(s.onCopy=a);var c=i({},P,{edit:s});n._handler=c[e]})),s(a(n),"exitCurrentMode",(function(){n.setMode("edit")})),s(a(n),"restoreEditorDOM",(function(e){n.setState({contentsKey:n.state.contentsKey+1},(function(){n.focus(e)}))})),s(a(n),"setClipboard",(function(e){n._clipboard=e})),s(a(n),"getClipboard",(function(){return n._clipboard})),s(a(n),"update",(function(e){n._latestEditorState=e,n.props.onChange(e)})),s(a(n),"onDragEnter",(function(){n._dragCount++})),s(a(n),"onDragLeave",(function(){n._dragCount--,0===n._dragCount&&n.exitCurrentMode()})),n._blockSelectEvents=!1,n._clipboard=null,n._handler=null,n._dragCount=0,n._editorKey=t.editorKey||C(),n._placeholderAccessibilityID="placeholder-"+n._editorKey,n._latestEditorState=t.editorState,n._latestCommittedEditorState=t.editorState,n._onBeforeInput=n._buildHandler("onBeforeInput"),n._onBlur=n._buildHandler("onBlur"),n._onCharacterData=n._buildHandler("onCharacterData"),n._onCompositionEnd=n._buildHandler("onCompositionEnd"),n._onCompositionStart=n._buildHandler("onCompositionStart"),n._onCopy=n._buildHandler("onCopy"),n._onCut=n._buildHandler("onCut"),n._onDragEnd=n._buildHandler("onDragEnd"),n._onDragOver=n._buildHandler("onDragOver"),n._onDragStart=n._buildHandler("onDragStart"),n._onDrop=n._buildHandler("onDrop"),n._onInput=n._buildHandler("onInput"),n._onFocus=n._buildHandler("onFocus"),n._onKeyDown=n._buildHandler("onKeyDown"),n._onKeyPress=n._buildHandler("onKeyPress"),n._onKeyUp=n._buildHandler("onKeyUp"),n._onMouseDown=n._buildHandler("onMouseDown"),n._onMouseUp=n._buildHandler("onMouseUp"),n._onPaste=n._buildHandler("onPaste"),n._onSelect=n._buildHandler("onSelect"),n.getEditorKey=function(){return n._editorKey},n.state={contentsKey:0},n}c(n,e);var r=n.prototype;return r._buildHandler=function(e){var t=this;return function(n){if(!t.props.readOnly){var r=t._handler&&t._handler[e];r&&(m?m((function(){return r(t,n)})):r(t,n))}}},r._showPlaceholder=function(){return!!this.props.placeholder&&!this.props.editorState.isInCompositionMode()&&!this.props.editorState.getCurrentContent().hasText()},r._renderPlaceholder=function(){if(this._showPlaceholder()){var e={text:T(this.props.placeholder),editorState:this.props.editorState,textAlignment:this.props.textAlignment,accessibilityID:this._placeholderAccessibilityID};return v.createElement(g,e)}return null},r.render=function(){var e=this.props,t=e.blockRenderMap,n=e.blockRendererFn,r=e.blockStyleFn,a=e.customStyleFn,s=e.customStyleMap,c=e.editorState,l=e.preventScroll,d=e.readOnly,p=e.textAlignment,f=e.textDirectionality,m=w({"DraftEditor/root":!0,"DraftEditor/alignLeft":"left"===p,"DraftEditor/alignRight":"right"===p,"DraftEditor/alignCenter":"center"===p}),g=this.props.role||"textbox",b="combobox"===g?!!this.props.ariaExpanded:null,y={blockRenderMap:t,blockRendererFn:n,blockStyleFn:r,customStyleMap:i({},u,s),customStyleFn:a,editorKey:this._editorKey,editorState:c,preventScroll:l,textDirectionality:f};return v.createElement("div",{className:m},this._renderPlaceholder(),v.createElement("div",{className:w("DraftEditor/editorContainer"),ref:this._handleEditorContainerRef},v.createElement("div",{"aria-activedescendant":d?null:this.props.ariaActiveDescendantID,"aria-autocomplete":d?null:this.props.ariaAutoComplete,"aria-controls":d?null:this.props.ariaControls,"aria-describedby":this.props.ariaDescribedBy||this._placeholderAccessibilityID,"aria-expanded":d?null:b,"aria-label":this.props.ariaLabel,"aria-labelledby":this.props.ariaLabelledBy,"aria-multiline":this.props.ariaMultiline,"aria-owns":d?null:this.props.ariaOwneeID,autoCapitalize:this.props.autoCapitalize,autoComplete:this.props.autoComplete,autoCorrect:this.props.autoCorrect,className:w({notranslate:!d,"public/DraftEditor/content":!0}),contentEditable:!d,"data-testid":this.props.webDriverTestID,onBeforeInput:this._onBeforeInput,onBlur:this._onBlur,onCompositionEnd:this._onCompositionEnd,onCompositionStart:this._onCompositionStart,onCopy:this._onCopy,onCut:this._onCut,onDragEnd:this._onDragEnd,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this._onDragOver,onDragStart:this._onDragStart,onDrop:this._onDrop,onFocus:this._onFocus,onInput:this._onInput,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onMouseUp:this._onMouseUp,onPaste:this._onPaste,onSelect:this._onSelect,ref:this.props.editorRef,role:d?null:g,spellCheck:j&&this.props.spellCheck,style:{outline:"none",userSelect:"text",WebkitUserSelect:"text",whiteSpace:"pre-wrap",wordWrap:"break-word"},suppressContentEditableWarning:!0,tabIndex:this.props.tabIndex},v.createElement(A,{editor:this,editorState:c}),v.createElement(h,o({},y,{key:"contents"+this.state.contentsKey})))))},r.componentDidMount=function(){this._blockSelectEvents=!1,!B&&x("draft_ods_enabled")&&(B=!0,b.initODS()),this.setMode("edit"),M&&(this.editor?this.editor.ownerDocument.execCommand("AutoUrlDetect",!1,!1):t.execCommand("AutoUrlDetect",!1,!1))},r.componentDidUpdate=function(){this._blockSelectEvents=!1,this._latestEditorState=this.props.editorState,this._latestCommittedEditorState=this.props.editorState},n}(v.Component);s(R,"defaultProps",{blockRenderMap:l,blockRendererFn:function(){return null},blockStyleFn:function(){return""},keyBindingFn:O,readOnly:!1,spellCheck:!1,stripPastedStyles:!1}),e.exports=R}).call(this,n("yLpj"))},"6vq5":function(e,t,n){n.d(t,"a",(function(){return p}));var r=n("q1tI"),o=n.n(r),i=n("/MKj"),a=n("7w6Q"),s=(n("17x9"),n("T+ZI")),c=n("aK+E"),l=n("Wer7");function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e={},t){return Object(c.a)("function"==typeof e?e(t):e)}function h(e={},t){return"function"==typeof e?e(t):e}function p(e,t={}){const n=e.key;function r(t){const r={};let o,i,c,l,u={fetching:r,data:r};const h={};function p(r,s,u){r&&(o=r),s&&(i=s),u&&(c=u);let d=t;return o&&o.dispatch||(d=(...n)=>{var r,o,i;const s=null==n||null===(r=n[0])||void 0===r?void 0:r.type;return("RESOURCE_FETCH"===s||"RESOURCE_PREFETCH_READ"===s||"RESOURCE_FETCH_MORE"===s)&&(null==n||null===(o=n[0])||void 0===o||null===(i=o.payload)||void 0===i?void 0:i.name)===e.name||a.a.increment("webapp.withResource.access-dispatch",.1,{dispatchArgs:JSON.stringify(n),resource:e.name,key:e.key,level:"warn"}),t(...n)},d.originalDispatch=t),l={...o,dispatch:d,[n]:i,...c},l}return function({resources:t,history:n},i){const{fetching:c,data:f}=t,m=!(o&&Object(s.a)(o,i)),g=!(c===u.fetching&&f===u.data);if(!m&&!g&&l)return l;const b=d(e.options,i);if(m&&!g&&l)return p(i);const y=c[e.name]||r,v=u.fetching[e.name]||r,_=f[e.name]||r,E=u.data[e.name]||r;h[e.name]||(0===Object.keys(_).length?a.a.increment("webapp.withResource.no-cache",.05,{resource:e.name,cache_size:0,level:"warn",v:2,xFoundKeys:null,xExpectedKey:b}):b in _?a.a.increment("webapp.withResource.cache-hit",.05,{resource:e.name,cache_size:Object.keys(_).length,level:"success",v:2}):a.a.increment("webapp.withResource.populated-cache-miss",.05,{resource:e.name,cache_size:Object.keys(_).length,level:"error",v:2,xFoundKeys:JSON.stringify(Object.keys(_)),xExpectedKey:b})),h[e.name]=!0;const S=y!==v||_!==E||y[b]!==v[b]||_[b]!==E[b];if(!m&&!S&&l)return l;if(m&&!S&&l)return p(i);u={fetching:c,data:f};const{data:w,error:C,nextBookmark:O,isPrefetch:I,prefetchHasBeenRead:x}=_[b]||{},D=Boolean(y[b]),k=Boolean(_[b]);return p(i,{data:w,error:C,isAtEnd:k&&!D&&"-end-"===O,isFetching:D,isLoaded:k,nextBookmark:O,isPrefetch:I,prefetchHasBeenRead:x},{__internal_history:n})}}return function(a){class s extends o.a.Component{constructor(...n){super(...n),u(this,"state",{isRefreshing:!1}),u(this,"optionsKey",d(e.options,this.props)),u(this,"fetchDisabled",e=>!!t.dangerouslyDisableFetch&&t.dangerouslyDisableFetch(e||this.props)),u(this,"loadData",n=>{this.fetchDisabled(n)||n.dispatch(Object(l.a)(e.name,h(e.options,n),t.headers))}),u(this,"fetchMore",()=>{const{dispatch:n}=this.props;this.fetchDisabled()||n(Object(l.d)(e.name,h(e.options,this.props),t.headers))}),u(this,"refreshData",()=>{this.fetchDisabled()||(this.loadData(this.props),this.setState({isRefreshing:!0}))})}UNSAFE_componentWillMount(){const{dispatch:r,enabledRouteRefreshOverride:o,__internal_history:i,[n]:a}=this.props;if(!a)return;const s="UserHomefeedResource"===e.name&&void 0!==o?o:t.enabledRouteRefresh;a.isLoaded&&s&&i.current&&"POP"!==i.current.action&&!this.fetchDisabled()?this.setState({isRefreshing:!0}):a.isLoaded&&i.current&&"POP"!==i.current.action&&t.acceptPrefetch&&a.isPrefetch&&!a.prefetchHasBeenRead&&!this.fetchDisabled()&&r(Object(l.h)(e.name,h(e.options,this.props)))}componentDidMount(){const{[n]:e}=this.props,{isRefreshing:r}=this.state;!1!==t.allowStale&&e.isLoaded&&!r||this.loadData(this.props)}UNSAFE_componentWillReceiveProps(t){const{[n]:r}=this.props,{isRefreshing:o}=this.state,i=d(e.options,t);i!==this.optionsKey&&(this.loadData(t),this.optionsKey=i),o&&r.data!==t[n].data&&this.setState({isRefreshing:!1})}render(){const{[n]:e}=this.props,{isRefreshing:t}=this.state;e.fetchMore=this.fetchMore,e.refreshData=this.refreshData,e.isRefreshing=t;const{__internal_history:r,...i}=this.props;return o.a.createElement(a,i)}}return u(s,"WrappedComponent",a),u(s,"displayName",`WithResource[${e.name}](${a.displayName||a.name||""})`),Object(i.connectAdvanced)(r)(s)}}},"7/2Y":function(e,t,n){var r=n("GyOf");e.exports=function(e){return!(!e||!e.ownerDocument)&&(r(e)&&"A"===e.nodeName)}},"75Er":function(e,t,n){n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return u}));var r=n("q1tI"),o=n.n(r),i=n("+NLT"),a=n("m2Wt"),s=n("h4v/");function c(e,t){Object(r.useEffect)(()=>{if(e){const t=a.a.fromPlainObject(e);t.setEventType(13),t.setRequestIdentifier(i.a.initialPageContext.PAGE_LOAD_REQUEST_IDENTIFIER),s.a.getInstance().addEvent(t)}},[t])}function l(e,t){return function(n){function r(r){return c(e(r),t?t(r):void 0),o.a.createElement(n,r)}return r.displayName=`withViewLog(${n.displayName||n.name||""})`,r}}function u(e){const{children:t,log:n}=e;return c(n),t||null}},"79tv":function(e,t,n){n.d(t,"a",(function(){return o}));var r=n("0SCs");function o(e){const{anyEnabled:t}=Object(r.c)("web_board_tools");return t?e+"_tools/more-ideas/":e+"more_ideas/"}},"7IEp":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("q1tI"),i=s(o),a=s(n("N1c7"));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMouseUp=function(){n.mouseDown&&(n.props.onMentionSelect(n.props.mention),n.mouseDown=!1)},n.onMouseDown=function(e){e.preventDefault(),n.mouseDown=!0},n.onMouseEnter=function(){n.props.onMentionFocus(n.props.index)},n.mouseDown=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidUpdate",value:function(){this.mouseDown=!1}},{key:"render",value:function(){var e=this.props,t=e.theme,n=void 0===t?{}:t,r=e.mention,o=e.searchValue,a=e.isFocused,s=e.id,c=a?n.mentionSuggestionsEntryFocused:n.mentionSuggestionsEntry,l=this.props.entryComponent;return i.default.createElement(l,{className:c,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onMouseEnter:this.onMouseEnter,role:"option",id:s,"aria-selected":a?"true":null,theme:n,mention:r,isFocused:a,searchValue:o})}}]),t}(o.Component);c.propTypes={entryComponent:a.default.any.isRequired,searchValue:a.default.string,onMentionSelect:a.default.func},t.default=c},"7Nlx":function(e,t,n){e.exports=function(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}},"7Pus":function(e,t,n){},"7asU":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)return function(e){return e};if(1===t.length)return t[0];var r=t[t.length-1];return function(){for(var e=r.apply(void 0,arguments),n=t.length-2;n>=0;n-=1){var o=t[n];e=o(e)}return e}}},"7nh8":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.INIT_COORDS="dnd-core/INIT_COORDS",t.BEGIN_DRAG="dnd-core/BEGIN_DRAG",t.PUBLISH_DRAG_SOURCE="dnd-core/PUBLISH_DRAG_SOURCE",t.HOVER="dnd-core/HOVER",t.DROP="dnd-core/DROP",t.END_DRAG="dnd-core/END_DRAG"},"7pfs":function(e,t,n){n.d(t,"a",(function(){return o}));var r=n("q1tI");function o({children:e}){const[t,n]=Object(r.useState)(!1),[o,i]=Object(r.useState)(!1),[a,s]=Object(r.useState)(!1);return e({active:t,focused:o,hovered:a,onBlur:()=>{i(!1),n(!1)},onFocus:()=>i(!0),onMouseDown:()=>n(!0),onMouseEnter:()=>s(!0),onMouseLeave:()=>{s(!1),n(!1)},onMouseUp:()=>n(!1)})}},"81KI":function(e,t,n){var r=n("zVay"),o=n("Zf/v"),i=n("mFyV"),a=r.Repeat;e.exports=function(e,t,n,r){t.isCollapsed()||i(!1);var s=null;if(null!=n&&(s=n.length),null==s||0===s)return e;var c=e.getBlockMap(),l=t.getStartKey(),u=t.getStartOffset(),d=c.get(l),h=d.getText(),p=d.merge({text:h.slice(0,u)+n+h.slice(u,d.getLength()),characterList:o(d.getCharacterList(),a(r,s).toList(),u)}),f=u+s;return e.merge({blockMap:c.set(l,p),selectionAfter:t.merge({anchorOffset:f,focusOffset:f})})}},"82UD":function(e,t,n){var r=n("q1tI"),o=n.n(r),i=n("/MKj"),a=n("ajUs"),s=n("ou9u"),c=n("gYog"),l=n("hFNL"),u=n("qD10"),d=n("yKES"),h=n("5uyJ"),p=n("n6mq");const f={overlay:{__style:{backgroundColor:"#000"}}};function m(e){const{pin:{id:t,images:n,title:r,videos:i,video_status_message:a}}=e,s=a||{},c=n&&n["236x"],l=i&&i.video_list[h.a.V_HLSV4],{duration:m}=l||{};return o.a.createElement(o.a.Fragment,null,o.a.createElement(p.i,null,o.a.createElement(u.a,{to:"/pin/"+t},o.a.createElement(p.e,{overflow:"hidden",position:"relative",rounding:2},c&&o.a.createElement(p.v,{alt:r||"",color:"lightGray",naturalHeight:c.height,naturalWidth:c.width,src:c.url}),!!m&&o.a.createElement(p.e,{padding:2,position:"absolute",bottom:!0,left:!0,display:"flex"},o.a.createElement(d.a,{duration:m})),o.a.createElement(p.e,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.4,dangerouslySetInlineStyle:f.overlay}),o.a.createElement(p.e,{position:"absolute",top:!0,left:!0,padding:5,width:"100%"},o.a.createElement(p.s,{color:"white",overflow:"normal",size:"sm"},s.title),o.a.createElement(p.e,{marginTop:4},o.a.createElement(p.V,{color:"white",size:"md",overflow:"normal"},s.subtitle)))),o.a.createElement(p.e,{display:"flex",alignItems:"start",justifyContent:"between",marginTop:1,paddingX:1},o.a.createElement(p.e,{flex:"grow"},r&&o.a.createElement(p.e,{paddingY:1},o.a.createElement(p.V,{inline:!0,size:"md",weight:"bold"},r)))))))}var g=n("Y8Sn"),b=n("vpxy"),y=n("0nTG");t.a=Object(i.connect)((function({pins:e},{pin:t,pinId:n}){return{reduxPin:e[n]||t}}),()=>({}))((function({reduxPin:e,trackingParameters:t,...n}){const u=Object(i.useSelector)(({location:e})=>e),d=Object(a.a)(e,u),h=Object(s.a)(e),p=!!(h&&h.url&&h.height&&h.width)||void 0,f=h&&e.videos?e.videos.id:void 0,[v,_]=Object(r.useState)(!1),E=Object(r.useCallback)(()=>_(!0),[]),S=Object(r.useCallback)(()=>_(!1),[]),{componentType:w,contextLogData:C,impressionAuxFields:O,slotIndex:I,viewData:x,viewParameter:D,viewType:k}=t;return o.a.createElement(c.a,{componentType:w,contextLogData:{..."undefined"!=typeof window?{pwa_type:Object(l.b)(window)}:{},...C,...Object(y.f)(e,C)},impressionAuxFields:{...O||{},isNativeVideoAndWatchable:p,videoIdStr:f,clientTrackingParams:d||(e.tracking_params||"")+"-0",imageURL:e.images&&e.images["236x"].url,richTypes:Object(y.e)(e)},impressionType:"Pin",isPaused:!v,loggingId:e.id,slotIndex:I,viewData:x,viewParameter:D,viewType:k},Object(g.g)(e)?o.a.createElement(m,{pin:e}):o.a.createElement(b.a,Object.assign({},n,{debugImpressionState:v?"started":"paused",onError:S,onLoad:E,pin:e,trackingParameters:{componentType:w,contextLogData:C,slotIndex:I,viewParameter:D,viewType:k}})))}))},"83bQ":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("v83y");t.default=function(e){return r.EditorState.createWithContent(r.ContentState.createFromText(e))}},"84lc":function(e,t,n){var r=n("zVay").List,o=function(){function e(e){var t,n,r;r=void 0,(n="_decorators")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,this._decorators=e.slice()}var t=e.prototype;return t.getDecorations=function(e,t){var n=Array(e.getText().length).fill(null);return this._decorators.forEach((function(r,o){var i=0;(0,r.strategy)(e,(function(e,t){(function(e,t,n){for(var r=t;r<n;r++)if(null!=e[r])return!1;return!0})(n,e,t)&&(!function(e,t,n,r){for(var o=t;o<n;o++)e[o]=r}(n,e,t,o+"."+i),i++)}),t)})),r(n)},t.getComponentForKey=function(e){var t=parseInt(e.split(".")[0],10);return this._decorators[t].component},t.getPropsForKey=function(e){var t=parseInt(e.split(".")[0],10);return this._decorators[t].props},e}();e.exports=o},"88U9":function(e,t,n){n.d(t,"a",(function(){return r}));function r(e,t){const n=t.length>3;return{limitedCollaborators:t.slice(0,n?2:3),overflowNumber:n?e-3+1:0}}},"8BbR":function(e,t,n){n.d(t,"a",(function(){return l}));var r=n("q1tI"),o=n.n(r),i=n("Ye/N"),a=n("xdpg"),s=n("n6mq");function c({pinCount:e,height:t,size:n}){const r=Object(a.i)(i.a._("+{{ pinCount }}","+N count overlay on pin selections","+N count overlay on pin selections"),{pinCount:e});return o.a.createElement(s.e,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0,0,0,.2)"}},display:"flex",justifyContent:"center",height:t},"sm"===n?o.a.createElement(s.V,{color:"white",size:"md",weight:"bold"},r):o.a.createElement(s.s,{color:"white",size:"md"},r))}function l({additionalPinCount:e,additionalPinCountSize:t="lg",pin:n,width:r,height:i,rounded:a}){return o.a.createElement(s.A,{height:i,width:r,rounding:a?4:0,wash:!0},n&&o.a.createElement(s.v,{alt:n.description,color:n.dominantColor,fit:"cover",naturalHeight:i,naturalWidth:r,src:n.imageUrl},!!e&&o.a.createElement(c,{pinCount:e,height:i,size:t})))}},"8Enz":function(e,t,n){n.d(t,"a",(function(){return s}));var r=n("q1tI"),o=n.n(r),i=n("Ye/N"),a=n("n6mq");function s({onUpdate:e,showLabel:t=!0,value:n}){const r=[{label:i.a._("Easy","storyboard.detailsList.field.difficulty","Easy difficulty rating for story pin"),value:String(1)},{label:i.a._("Intermediate","storyboard.detailsList.field.difficulty","Medium difficulty rating for story pin"),value:String(2)},{label:i.a._("Expert","storyboard.detailsList.field.difficulty","Hard difficulty rating for story pin"),value:String(3)},{label:i.a._("Not applicable","storyboard.detailsList.field.difficulty","Difficulty rating does not apply for story pin"),value:String(0)}];return o.a.createElement(a.e,{width:"100%",display:"flex"},o.a.createElement(a.e,{width:"100%"},o.a.createElement(a.M,{size:"lg",id:"servings",name:"servings",label:t?i.a._("Difficulty","storyboard.detailsList.field.difficulty","Header title for difficulty rating entry for story pin"):void 0,placeholder:i.a._("Pick a difficulty rating","storyboard.detailsList.field","Placeholder caption for difficulty rating input in story pin"),value:n,options:r,onChange:({value:t})=>{Number.isNaN(t)||e(t)}})))}},"8Mj5":function(e,t,n){n.d(t,"a",(function(){return b}));var r=n("q1tI"),o=n.n(r),i=n("n6mq");function a({children:e}){return o.a.createElement(i.e,{dangerouslySetInlineStyle:{__style:{boxShadow:"0 0 0 1px #fff"}},rounding:"circle"},e)}var s=n("Ye/N");function c({onClick:e,overlap:t,size:n}){return o.a.createElement(i.e,{marginStart:t},o.a.createElement(a,null,o.a.createElement(i.u,{accessibilityLabel:s.a._("Add","facePile.addButton","Accessibility label for button to add a collaborator"),bgColor:"lightGray",icon:"add",iconColor:"darkGray",onClick:e,size:n})))}function l({style:e}){return o.a.createElement(i.e,{bottom:!0,dangerouslySetInlineStyle:{__style:e||{}},left:!0,position:"absolute",right:!0,rounding:"pill",top:!0})}function u({children:e,hovered:t}){return o.a.createElement(i.e,{position:"relative"},o.a.createElement(l,{style:t?{zIndex:1,backgroundColor:"rgba(0,0,0,0.06)"}:null}),e)}function d({addButtonRef:e,hovered:t,overlap:n}){return o.a.createElement(i.e,{dangerouslySetInlineStyle:{__style:{zIndex:1}},key:"addIcon"},o.a.createElement(i.e,{marginStart:n},o.a.createElement(u,{hovered:t},o.a.createElement(a,null,o.a.createElement(i.e,{alignItems:"center",color:"lightGray",display:"flex",height:48,justifyContent:"center",ref:e,rounding:"circle",width:48},o.a.createElement(i.t,{accessibilityLabel:s.a._("Add","ui.Facepile","Accessibility label on icon"),icon:"add",color:"darkGray",size:20}))))))}const h={xs:24,sm:32,md:40,lg:48,xl:56};function p({count:e,size:t}){const n=h[t];return o.a.createElement(a,null,o.a.createElement(i.e,{alignItems:"center",color:"lightGray",display:"flex",height:n,justifyContent:"center",position:"relative",rounding:"circle",width:n},o.a.createElement(i.V,{size:"lg",weight:"bold"},e>99?"99+":e)))}var f=n("7pfs"),m=n("Cufx");function g({isDim:e,name:t,size:n,src:r}){const a=h[n];return o.a.createElement(i.e,{color:"white",height:a,width:a,rounding:"circle"},o.a.createElement(i.e,{dangerouslySetInlineStyle:{__style:{opacity:e?.5:1}}},o.a.createElement(m.a,{name:t,outline:!0,src:r})))}function b({addButtonRef:e,additionalCount:t,faces:n,faceSize:r,onAddClick:a,onClick:s,oneClickTargetFacepile:l,overlap:h,pileRef:m,showAddButton:b}){const y=({apply:e,children:t})=>o.a.createElement(i.e,{marginStart:e?h:void 0},t);return o.a.createElement(f.a,null,({hovered:f,onMouseEnter:v,onMouseLeave:_})=>{const E=n.map(({isDim:e,key:t,name:n,src:i},a)=>o.a.createElement(y,{apply:0!==a,key:"face-"+a},o.a.createElement(u,{hovered:f&&!!s},o.a.createElement(g,{key:null!=t?t:n,isDim:e,name:n,size:r,src:i}))));t&&E.push(o.a.createElement(i.e,{dangerouslySetInlineStyle:{__style:{zIndex:1}},key:"additionalCount"},o.a.createElement(y,{apply:!0},o.a.createElement(u,{hovered:f&&!!s},o.a.createElement(p,{count:t,size:r}))))),l&&b&&E.push(o.a.createElement(d,{addButtonRef:e,hovered:f&&!!s,overlap:h}));const S=s?o.a.createElement(i.U,{ref:m,onTap:s,rounding:"pill"},o.a.createElement(i.e,{alignItems:"center",display:"flex"},E)):E;return o.a.createElement(i.e,{alignItems:"center",display:"flex",onMouseEnter:v,onMouseLeave:_},S,!l&&b&&a&&o.a.createElement(i.e,{dangerouslySetInlineStyle:{__style:{zIndex:2}},ref:e},o.a.createElement(c,{onClick:a,overlap:h,size:r})))})}},"8cMa":function(e,t,n){var r=n("q1tI"),o=n.n(r),i=n("Ye/N"),a=n("n6mq");t.a=function({type:e}){const t={group:{accessibilityLabel:i.a._("group board","Board picker group board icon","Board picker group board icon"),icon:"people"},protected:{accessibilityLabel:i.a._("protected board","Board picker protected board icon","Board picker protected board icon"),icon:"protect"},secret:{accessibilityLabel:i.a._("secret board","Board picker secret board icon","Board picker secret board icon"),icon:"lock"},sections:{accessibilityLabel:i.a._("board with sections","Board picker board with sections icon","Board picker board with sections icon"),icon:"arrow-forward"},sectionsInline:{accessibilityLabel:i.a._("board with sections","Board picker board with sections icon","Board picker board with sections icon"),icon:"arrow-down"}}[e];return o.a.createElement(a.e,{marginStart:1},o.a.createElement(a.e,{marginStart:2},"sections"===e||"sectionsInline"===e?o.a.createElement(a.t,{accessibilityLabel:t.accessibilityLabel,icon:t.icon,size:"12",color:"darkGray"}):o.a.createElement(a.t,{accessibilityLabel:t.accessibilityLabel,icon:t.icon,size:16,color:"darkGray"})))}},"8d//":function(e,t,n){var r=n("fyOY"),o=n("cwFY")("draft_tree_data_support");e.exports=function(e,t,n){var i=e.getSelection(),a=e.getCurrentContent(),s=i,c=i.getAnchorKey(),l=i.getFocusKey(),u=a.getBlockForKey(c);if(o&&"forward"===n&&c!==l)return a;if(i.isCollapsed()){if("forward"===n){if(e.isSelectionAtEndOfContent())return a;if(o)if(i.getAnchorOffset()===a.getBlockForKey(c).getLength()){var d=a.getBlockForKey(u.nextSibling);if(!d||0===d.getLength())return a}}else if(e.isSelectionAtStartOfContent())return a;if((s=t(e))===i)return a}return r.removeRange(a,s,n)}},"8uQm":function(e,t,n){var r=n("lFJn"),o=n("Taje"),i=n("zVay"),a=i.List,s=i.Map,c=i.OrderedSet,l=i.Record,u=i.Repeat,d=c(),h=l({key:"",type:"unstyled",text:"",characterList:a(),depth:0,data:s()}),p=function(e){var t,n;function i(t){return e.call(this,function(e){if(!e)return e;var t=e.characterList,n=e.text;return n&&!t&&(e.characterList=a(u(r.EMPTY,n.length))),e}(t))||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=i.prototype;return s.getKey=function(){return this.get("key")},s.getType=function(){return this.get("type")},s.getText=function(){return this.get("text")},s.getCharacterList=function(){return this.get("characterList")},s.getLength=function(){return this.getText().length},s.getDepth=function(){return this.get("depth")},s.getData=function(){return this.get("data")},s.getInlineStyleAt=function(e){var t=this.getCharacterList().get(e);return t?t.getStyle():d},s.getEntityAt=function(e){var t=this.getCharacterList().get(e);return t?t.getEntity():null},s.findStyleRanges=function(e,t){o(this.getCharacterList(),f,e,t)},s.findEntityRanges=function(e,t){o(this.getCharacterList(),m,e,t)},i}(h);function f(e,t){return e.getStyle()===t.getStyle()}function m(e,t){return e.getEntity()===t.getEntity()}e.exports=p},"9EBm":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("+k3R"),o=n("slCJ"),i=n("4vzw"),a=n("5ARb"),s=n("nrB0"),c=n("nwWm"),l=n("E3gc"),u=n("QWfI"),d=n("2S0S");t.default=function(e,t,n,h){void 0===h&&(h={}),r.default("DragSource","type, spec, collect[, options]",e,t,n,h);var p=e;"function"!=typeof e&&(d(l.default(e),'Expected "type" provided as the first argument to DragSource to be a string, or a function that returns a string given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',e),p=function(){return e}),d(u.isPlainObject(t),'Expected "spec" provided as the second argument to DragSource to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',t);var f=a.default(t);return d("function"==typeof n,'Expected "collect" provided as the third argument to DragSource to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',n),d(u.isPlainObject(h),'Expected "options" provided as the fourth argument to DragSource to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',n),function(e){return o.default({containerDisplayName:"DragSource",createHandler:f,registerHandler:i.default,createConnector:function(e){return new c.default(e)},createMonitor:function(e){return new s.default(e)},DecoratedComponent:e,getType:p,collect:n,options:h})}}},"9Nap":function(e,t,n){var r=n("/9aa");e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},"9QW3":function(e,t,n){n.d(t,"a",(function(){return a}));const r={row:0,section:0},o={row:-1,section:-1},i=()=>{};class a{constructor(e){this.index=Object.assign({},r),this.sections=e,this.updateCallback=i,this.selectItem=i}getIndex(){return this.index}isAtStart(){const{row:e,section:t}=this.index;return 0===e&&0===t}isAtEnd(){const{row:e,section:t}=this.index,n=this.sections[t]||[];return this.sections.length===t+1&&n.length===e+1}next(){if(this.isAtEnd())return;const{row:e,section:t}=this.index;e===o.row&&t===o.section?this.index=Object.assign({},r):this.sections[t].length>e+1?this.index.row+=1:(this.index.section+=1,this.index.row=0),this.updateCallback(!0)}prev(){if(this.isAtStart())return;const{row:e,section:t}=this.index;if(e===o.row&&t===o.section)this.index=Object.assign({},r);else if(e>0)this.index.row-=1;else{const e=this.index.section-1;this.index={section:e,row:this.sections[e].length-1}}this.updateCallback(!0)}select(){const{row:e,section:t}=this.index;this.selectItem((this.sections[t]||[])[e])}setInactive(){this.index=Object.assign({},o),this.updateCallback()}setSelectItem(e){this.selectItem=e}setUpdateCallback(e){this.updateCallback=e}updateIndex(e){this.index=e,this.updateCallback()}}},"9X5u":function(e,t,n){n("q1tI");var r=n("P9b8"),o=(n("rg+c"),n("aUfZ")),i=n("ANjH");t.a=e=>t=>Object(i.compose)(o.a,Object(r.DropTarget)(e,{},(e,t)=>({connectDropTarget:e.dropTarget(),isDragWithinBounds:t.isOver()})))(t)},"9b+k":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getDataFromDataTransfer=function(e,t,n){var r=t.reduce((function(t,n){return t||e.getData(n)}),"");return null!=r?r:n}},"9ggG":function(e,t,n){var r=n("Z0cm"),o=n("/9aa"),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||(a.test(e)||!i.test(e)||null!=t&&e in Object(t))}},"9ip6":function(e,t,n){n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));function r(e,t){return e.itemIndex===t.itemIndex&&e.regionWithinItem===t.regionWithinItem}function o({hoverRelativePosition:{positionRelativeToCenter:{x:e},boundingBox:{width:t}},centerEnabled:n}){const r=n?.5*t:0;return Math.abs(e)<r/2?"center":e<0?"left":"right"}function i({hoverLocation:{itemIndex:e,regionWithinItem:t},sourceIndex:n}){if("center"===t||e===n)return e;const r="left"===t;return e<n===r?e:r?e-1:e+1}},"9qGe":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n=e.toLowerCase(),r=t.filter((function(e){return!n||e.name.toLowerCase().indexOf(n)>-1})),o=r.length<5?r.length:5;return r.slice(0,o)}},A0Lk:function(e,t,n){!function(){function t(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function n(e){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(e)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function r(e,t){e.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function o(e){var t=e.a.offsetWidth,n=t+100;return e.f.style.width=n+"px",e.c.scrollLeft=n,e.b.scrollLeft=e.b.scrollWidth+100,e.g!==t&&(e.g=t,!0)}function i(e,n){function r(){var e=i;o(e)&&e.a.parentNode&&n(e.g)}var i=e;t(e.b,r),t(e.c,r),o(e)}function a(e,t){var n=t||{};this.family=e,this.style=n.style||"normal",this.weight=n.weight||"normal",this.stretch=n.stretch||"normal"}var s=null,c=null,l=null,u=null;function d(){return null===u&&(u=!!document.fonts),u}function h(){if(null===l){var e=document.createElement("div");try{e.style.font="condensed 100px sans-serif"}catch(t){}l=""!==e.style.font}return l}function p(e,t){return[e.style,e.weight,h()?e.stretch:"","100px",t].join(" ")}a.prototype.load=function(e,t){var o=this,a=e||"BESbswy",l=0,u=t||3e3,h=(new Date).getTime();return new Promise((function(e,t){if(d()&&!function(){if(null===c)if(d()&&/Apple/.test(window.navigator.vendor)){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);c=!!e&&603>parseInt(e[1],10)}else c=!1;return c}()){var f=new Promise((function(e,t){!function n(){(new Date).getTime()-h>=u?t(Error(u+"ms timeout exceeded")):document.fonts.load(p(o,'"'+o.family+'"'),a).then((function(t){1<=t.length?e():setTimeout(n,25)}),t)}()})),m=new Promise((function(e,t){l=setTimeout((function(){t(Error(u+"ms timeout exceeded"))}),u)}));Promise.race([m,f]).then((function(){clearTimeout(l),e(o)}),t)}else!function(e){document.body?e():document.addEventListener?document.addEventListener("DOMContentLoaded",(function t(){document.removeEventListener("DOMContentLoaded",t),e()})):document.attachEvent("onreadystatechange",(function t(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",t),e())}))}((function(){function c(){var t;(t=-1!=g&&-1!=b||-1!=g&&-1!=y||-1!=b&&-1!=y)&&((t=g!=b&&g!=y&&b!=y)||(null===s&&(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),s=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=s&&(g==v&&b==v&&y==v||g==_&&b==_&&y==_||g==E&&b==E&&y==E)),t=!t),t&&(S.parentNode&&S.parentNode.removeChild(S),clearTimeout(l),e(o))}var d=new n(a),f=new n(a),m=new n(a),g=-1,b=-1,y=-1,v=-1,_=-1,E=-1,S=document.createElement("div");S.dir="ltr",r(d,p(o,"sans-serif")),r(f,p(o,"serif")),r(m,p(o,"monospace")),S.appendChild(d.a),S.appendChild(f.a),S.appendChild(m.a),document.body.appendChild(S),v=d.a.offsetWidth,_=f.a.offsetWidth,E=m.a.offsetWidth,function e(){if((new Date).getTime()-h>=u)S.parentNode&&S.parentNode.removeChild(S),t(Error(u+"ms timeout exceeded"));else{var n=document.hidden;!0!==n&&void 0!==n||(g=d.a.offsetWidth,b=f.a.offsetWidth,y=m.a.offsetWidth,c()),l=setTimeout(e,50)}}(),i(d,(function(e){g=e,c()})),r(d,p(o,'"'+o.family+'",sans-serif')),i(f,(function(e){b=e,c()})),r(f,p(o,'"'+o.family+'",serif')),i(m,(function(e){y=e,c()})),r(m,p(o,'"'+o.family+'",monospace'))}))}))},e.exports=a}()},A6Hx:function(e,t,n){n.d(t,"a",(function(){return l}));var r=n("q1tI"),o=n.n(r),i=n("Ye/N"),a=n("TiQD"),s=n("n6mq"),c=n("U4JR");function l({children:e,objectId:t,onHide:n}){const l={component:13141,objectId:t};return Object(r.useEffect)(()=>{Object(c.a)(6359,l)},[t]),o.a.createElement(a.b,{accessibilityModalLabel:i.a._("Pincode","pincode.pincodemodal.label","Accessible label for a modal showing the pincode modal"),heading:i.a._("Pincode","pincode.pincodemodal.heading","Heading for a modal showing the pincode."),onDismiss:()=>{n(),Object(c.a)(6358,l)},size:"sm"},o.a.createElement(s.e,{display:"flex",justifyContent:"center"},e))}},AAEI:function(e,t,n){n.d(t,"a",(function(){return s}));var r=n("/MKj"),o=n("ANjH"),i=n("vh5K"),a=n("Vzit");function s(e){const t=Object(r.useDispatch)(),n=Object(r.useSelector)(e=>e.experiences.eligibleExperiences),s=Object(r.useSelector)(e=>e.experiences.mountedPlacements);return{experienceForPlacement:e?Object(i.c)(n,s,e):null,...Object(o.bindActionCreators)({completeExperience:a.a,dismissExperience:a.b,fetchAllExperiences:a.d,fetchExperienceForPlacement:a.c,triggerExperimentsForPlacement:a.i,viewExperience:a.h},t)}}},AKPT:function(e,t,n){e.exports=function(e,t,n,r){var o=t.getStartKey(),i=t.getEndKey(),a=e.getBlockMap(),s=a.toSeq().skipUntil((function(e,t){return t===o})).takeUntil((function(e,t){return t===i})).concat([[i,a.get(i)]]).map((function(e){var t=e.getDepth()+n;return t=Math.max(0,Math.min(t,r)),e.set("depth",t)}));return a=a.merge(s),e.merge({blockMap:a,selectionBefore:t,selectionAfter:t})}},AP2z:function(e,t,n){var r=n("nmnc"),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(c){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o}},AlZN:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){o=!0,i=c}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.default=function(e){var t=e.split("-"),n=r(t,3),o=n[0],i=n[1],a=n[2];return{blockKey:o,decoratorKey:parseInt(i,10),leafKey:parseInt(a,10)}}},AyB5:function(e,t,n){var r=n("s8ra"),o=n("pMlp"),i=n("4pIB"),a=i.isPlatform("Mac OS X"),s=a&&i.isBrowser("Firefox < 29"),c=r.hasCommandModifier,l=r.isCtrlKeyCommand;function u(e){return a&&e.altKey||l(e)}e.exports=function(e){switch(e.keyCode){case 66:return c(e)?"bold":null;case 68:return l(e)?"delete":null;case 72:return l(e)?"backspace":null;case 73:return c(e)?"italic":null;case 74:return c(e)?"code":null;case 75:return a&&l(e)?"secondary-cut":null;case 77:case 79:return l(e)?"split-block":null;case 84:return a&&l(e)?"transpose-characters":null;case 85:return c(e)?"underline":null;case 87:return a&&l(e)?"backspace-word":null;case 89:return l(e)?a?"secondary-paste":"redo":null;case 90:return function(e){return c(e)?e.shiftKey?"redo":"undo":null}(e)||null;case o.RETURN:return"split-block";case o.DELETE:return function(e){return!a&&e.shiftKey?null:u(e)?"delete-word":"delete"}(e);case o.BACKSPACE:return function(e){return c(e)&&a?"backspace-to-start-of-line":u(e)?"backspace-word":"backspace"}(e);case o.LEFT:return s&&c(e)?"move-selection-to-start-of-block":null;case o.RIGHT:return s&&c(e)?"move-selection-to-end-of-block":null;default:return null}}},"B/lV":function(e,t,n){const r=e=>{const t=e.replace(new RegExp("^"+(window.location.origin||"")),""),n=document&&document.querySelector(`head > script[src='${t}']`);return!!n&&n.hasAttribute("defer")},o=e=>["pinimg","pinterest","pinterdev"].every(t=>!e.includes(t+".com/"));t.a=(e,t)=>{const n=(({name:e,initiatorType:t})=>{switch(t){case"xmlhttprequest":return"xmlhttprequest";case"img":return"image";case"video":return"video";default:{const t=e.split("."),n=(t.length>1&&t.pop()||"").toLowerCase();return["js","mjs"].includes(n)?"script":"css"===n?"css":["mp4","m4v","mov"].includes(n)?"video":["bmp","gif","jpg","jpeg","png","tiff","webp","svg"].includes(n)?"image":"other"}}})(e),{name:i}=e;return{category:n,isDeferred:"script"===n&&r(i),isExternal:o(i),isVisuallyCompleteRequired:"image"===n&&t.includes(i),timing:e}}},"B/xd":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("q1tI"),o=n("2S0S");function i(e,t){"function"==typeof e?e(t):e.current=t}t.default=function(e,t){var n=e.ref;return o("string"!=typeof n,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute"),n?r.cloneElement(e,{ref:function(e){i(t,e),n&&i(n,e)}}):r.cloneElement(e,{ref:t})}},B0ab:function(e,t,n){var r=n("JL7T"),o=n("rJY1"),i=n("zVay"),a=n("mFyV"),s=n("Mh8y"),c=i.List,l=i.Map,u=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}};e.exports=function(e,t){t.isCollapsed()||a(!1);var n=t.getAnchorKey(),i=e.getBlockMap(),d=i.get(n),h=d.getText();if(!h){var p=d.getType();if("unordered-list-item"===p||"ordered-list-item"===p)return s(e,t,(function(e){return e.merge({type:"unstyled",depth:0})}))}var f=t.getAnchorOffset(),m=d.getCharacterList(),g=o(),b=d instanceof r,y=d.merge({text:h.slice(0,f),characterList:m.slice(0,f)}),v=y.merge({key:g,text:h.slice(f),characterList:m.slice(f),data:l()}),_=i.toSeq().takeUntil((function(e){return e===d})),E=i.toSeq().skipUntil((function(e){return e===d})).rest(),S=_.concat([[n,y],[g,v]],E).toOrderedMap();return b&&(d.getChildKeys().isEmpty()||a(!1),S=function(e,t,n){return e.withMutations((function(e){var r=t.getKey(),o=n.getKey();u(t.getParentKey(),e,(function(e){var t=e.getChildKeys(),n=t.indexOf(r)+1,i=t.toArray();return i.splice(n,0,o),e.merge({children:c(i)})})),u(t.getNextSiblingKey(),e,(function(e){return e.merge({prevSibling:o})})),u(r,e,(function(e){return e.merge({nextSibling:o})})),u(o,e,(function(e){return e.merge({prevSibling:r})}))}))}(S,y,v)),e.merge({blockMap:S,selectionBefore:t,selectionAfter:t.merge({anchorKey:g,anchorOffset:0,focusKey:g,focusOffset:0,isBackward:!1})})}},"B2N+":function(e,t,n){var r=n("q1tI"),o=n.n(r);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class a extends o.a.Component{constructor(...e){super(...e),i(this,"state",{anchorHeight:0,anchorWidth:0,horizontalOffset:0,verticalOffset:0}),i(this,"subjectRef",o.a.createRef()),i(this,"calculateAndSetOffsets",({anchorHeight:e,anchorWidth:t,subjectHeight:n,subjectWidth:r})=>{const o=-(r/2-t/2),i=-(n/2-e/2);this.setState({anchorHeight:e,anchorWidth:t,horizontalOffset:o,verticalOffset:i})}),i(this,"positionSubject",()=>{const e=this.subjectRef.current,{anchor:t}=this.props;if(t&&e){const{height:n,width:r}=t.getBoundingClientRect(),{height:o,width:i}=e.getBoundingClientRect();this.calculateAndSetOffsets({anchorHeight:n,anchorWidth:r,subjectHeight:o,subjectWidth:i})}})}componentDidMount(){this.positionSubject()}componentDidUpdate(e,t){const{anchor:n}=this.props,{height:r,width:o}=n.getBoundingClientRect();(r!==t.anchorHeight||o!==t.anchorWidth)&&this.positionSubject()}render(){const{children:e,zIndex:t}=this.props,{horizontalOffset:n,verticalOffset:r}=this.state;return o.a.createElement("div",{ref:this.subjectRef,style:{left:n,position:"absolute",top:r,zIndex:t}},e)}}var s=n("n6mq");t.a=function(e){const{anchor:t,onTouch:n,paused:r,size:i,zIndex:c}=e;return t?o.a.createElement(a,{anchor:t,zIndex:c},o.a.createElement(s.U,{fullWidth:!1,onTap:({event:e})=>n(e),rounding:"circle"},o.a.createElement(s.G,{paused:r,size:i}))):null}},B6Tf:function(e,t,n){n.d(t,"a",(function(){return ce})),n.d(t,"c",(function(){return le})),n.d(t,"b",(function(){return de}));var r=n("q1tI"),o=n.n(r),i=n("b/K5"),a=n("/MKj"),s=n("JW66"),c=n("QoKk"),l=n("Ye/N"),u=n("GBVV"),d=n("/WHw"),h=n("jZhD"),p=n("xdpg"),f=n("Cufx"),m=n("n6mq");function g(e){const{body:t,img:n,onClick:r,selected:i,title:a,username:s,valid:c}=e,u=s||t;return o.a.createElement(m.e,{marginBottom:4},o.a.createElement(m.U,{onTap:r},o.a.createElement(m.e,{alignItems:"center",direction:"row",display:"flex",width:"100%"},n,o.a.createElement(m.e,{flex:"grow",marginEnd:2,marginStart:3},o.a.createElement(m.e,{marginBottom:1},o.a.createElement(m.V,{truncate:!0,weight:"bold"},a)),o.a.createElement(m.V,{size:"sm",truncate:!0},u)),o.a.createElement(m.e,{marginStart:2},(d=i,h=c,s?d?o.a.createElement(m.t,{accessibilityLabel:l.a._("Confirmation an invite will be sent","Alt tags on a check box on the board create flow for board invites","Alt tags on a check box on the board create flow for board invites"),color:"red",icon:"check-circle",size:32}):o.a.createElement(m.e,{dangerouslySetInlineStyle:{__style:{border:"solid 1px #B5B5B5"}},height:32,rounding:"circle",width:32}):o.a.createElement(m.f,{color:"gray",disabled:!!d||Boolean(!h),inline:!0,size:"sm",text:d?l.a._("Sent","Sent a board collaborator invite","Sent a board collaborator invite"):l.a._("Invite","Add board collaborator invite","Add board collaborator invite")}))))));var d,h}var b=n("ZE2w"),y=n("w70y");function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t,n){const{id:r}=e;return t===n.findIndex(e=>e.id===r)}class E extends r.Component{constructor(...e){super(...e),v(this,"state",{selectedCollaborators:this.props.preselectedCollaborators||[],typeaheadSuggestions:[],value:""}),v(this,"isIdSelected",{}),v(this,"handleTextFieldChange",({value:e})=>{this.setState({value:e})}),v(this,"handleCollaboratorClick",e=>{const{id:t,type:n}=e;this.isIdSelected[t]=!this.isIdSelected[t];const{selectedCollaborators:r}=this.state,o=r.concat([e]),i="email"===n?b.c:b.d;this.props.onSelectedCollaboratorsChange({id:t,resource:i}),this.setState({selectedCollaborators:o})}),v(this,"handleTypeaheadSuggestionsChange",e=>{this.setState({typeaheadSuggestions:e})})}componentDidMount(){this.props.preselectedCollaborators&&this.props.preselectedCollaborators.map(e=>{const{id:t,type:n}=e;this.isIdSelected[t]=!this.isIdSelected[t];const r="email"===n?b.c:b.d;return this.props.onSelectedCollaboratorsChange({id:t,resource:r}),null})}render(){const{value:e}=this.state,{shareSuggestionsResource:{data:t}}=this.props,n=t||[],r=(""===e?this.state.selectedCollaborators.concat(n).filter(_):this.state.selectedCollaborators.concat(this.state.typeaheadSuggestions).concat({type:"email",id:e,valid:Object(p.g)(e)}).concat(n).filter(_)).map((e,t)=>function(e,t,n){if("user_share_suggestion"===e.type||"user"===e.type){const r=o.a.createElement(f.a,{name:e.title||e.full_name,size:"sm",src:e.image_medium_url||e.image_large_url});return o.a.createElement(g,{img:r,onClick:()=>n(e),selected:t,title:e.full_name,username:e.username})}if("email"===e.type){const{id:r,valid:i}=e,a=o.a.createElement(m.e,{alignItems:"center",color:"lightGray",display:"flex",height:40,justifyContent:"center",rounding:"circle",width:40},o.a.createElement(m.t,{accessibilityLabel:l.a._("Email icon","Email icon on board create modal","Email icon on board create modal"),color:"darkGray",icon:"envelope",size:20})),s=Object(p.c)(l.a._("Email {{ email }}"),{email:r});let c,u;return t?(c=l.a._("Done!","Text that lets the user know we sent the board invite email","Text that lets the user know we sent the board invite email"),u=()=>{}):(c=i?l.a._("Click to send!","Text that lets the user know they can successfully send a board invite email","Text that lets the user know they can successfully send a board invite email"):l.a._("Keep typing!","Text that lets a user know the email they are typing is not valid yet","Text that lets a user know the email they are typing is not valid yet"),u=()=>i?n(e):void 0),o.a.createElement(g,{body:c,img:a,onClick:u,selected:t,title:s,valid:i})}}(e,this.isIdSelected[e.id],this.handleCollaboratorClick)).map((e,t)=>o.a.createElement("li",{key:t},e));return o.a.createElement(m.e,{direction:"column",display:"flex",height:"100%"},o.a.createElement(m.e,{paddingX:3,paddingY:2},o.a.createElement(m.V,{size:"sm"},l.a._("Add collaborators (optional)","Optional field to add collaborators to a board on board create","Optional field to add collaborators to a board on board create"))),o.a.createElement(m.e,{marginBottom:4,marginTop:2,paddingX:3,width:"100%"},o.a.createElement(m.e,{flex:"grow"},o.a.createElement(h.a,{onTypeaheadSuggestionsChange:this.handleTypeaheadSuggestionsChange,resourceName:"ShareSuggestionsTypeaheadResource",value:e},o.a.createElement(m.K,{accessibilityLabel:l.a._("Search for collaborators by name or email"),id:"CollaboratorInviteSearchField",onChange:this.handleTextFieldChange,placeholder:l.a._("Search by name or email"),size:"lg",value:e})))),o.a.createElement(m.e,{overflow:"scrollY",paddingX:3},o.a.createElement("ul",null,r)))}}var S=Object(y.b)({name:"ShareSuggestionsResource",key:"shareSuggestionsResource",allowStale:!1})(E);var w=Object(d.a)((function({createBoardError:e,inputName:t,nameValidatorErrors:n,onBoardCreate:r,onCancel:i,onChangeBoardDate:a,onChangeBoardName:d,onChangeBoardPrivacy:h,onInvite:p,onToggleFlyout:f,privacy:g,preselectedCollaborators:b,saving:y,showTitle:v,isAdAccountOwner:_}){const E=0===n.length,w=g===s.a.BoardPrivacy.SECRET;return o.a.createElement(m.e,{color:"white",height:"100%",left:!0,position:"absolute",top:!0,width:"100%"},o.a.createElement("form",{onSubmit:e=>{e.preventDefault(),r()},style:{height:"100%"}},o.a.createElement(m.e,{direction:"column",display:"flex",height:"100%"},v&&o.a.createElement(m.e,{display:"flex",marginTop:3,paddingX:6,paddingY:3},o.a.createElement(m.s,{size:"sm"},l.a._("Create board"))),o.a.createElement(m.e,{padding:3},o.a.createElement(m.e,{marginBottom:2},o.a.createElement(m.w,{htmlFor:"boardEditName"},o.a.createElement(m.V,{size:"sm"},l.a._("Name")))),o.a.createElement(m.e,null,o.a.createElement(m.X,{errorMessage:n.join(", "),id:"boardEditName",name:"boardName",onChange:({value:e})=>d(e),placeholder:l.a._('Like "Places to Go" or "Recipes to Make"'),size:"lg",value:t}))),o.a.createElement(m.e,{padding:3},o.a.createElement(m.e,{marginBottom:2},o.a.createElement(m.w,{htmlFor:"boardEditDate"},o.a.createElement(m.V,{size:"sm"},l.a._("Add dates (optional—this can help you plan!)","pin-to-board.CreateBoardPane.CreateBoardPane","Label for date picker field on board create")))),o.a.createElement(m.e,null,o.a.createElement(c.a,{onChange:a,onToggleFlyout:f}))),_&&o.a.createElement(o.a.Fragment,null,o.a.createElement(m.e,{padding:3},o.a.createElement(m.e,{marginBottom:2},o.a.createElement(m.w,{htmlFor:"secret"},o.a.createElement(m.V,{size:"sm"},l.a._("Secret","secret board","secret board")))),o.a.createElement(m.e,null,o.a.createElement(m.R,{id:"secret",onChange:h,switched:w}))),o.a.createElement(m.e,{display:"flex",flex:"grow",overflow:"hidden"},o.a.createElement(m.e,{width:"100%"},o.a.createElement(S,{onSelectedCollaboratorsChange:p,preselectedCollaborators:b})))),!_&&o.a.createElement(o.a.Fragment,null,o.a.createElement(m.e,{padding:3},o.a.createElement(m.e,{marginBottom:2},o.a.createElement(m.w,{htmlFor:"protected"},o.a.createElement(m.V,{size:"sm"},l.a._("Protected board (not listed on user's profile)","protected board","protected board")))),o.a.createElement(m.e,null,o.a.createElement(m.R,{disabled:!0,id:"protected",onChange:()=>{},switched:!0})))),o.a.createElement(m.e,{bottom:!0,color:"white",dangerouslySetInlineStyle:{__style:{boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",borderBottomLeftRadius:"32px",borderBottomRightRadius:"32px",marginLeft:"-288px"}},display:"flex",justifyContent:"between",paddingX:4,paddingY:2,position:"absolute",width:720},o.a.createElement(m.f,{inline:!0,onClick:i,text:l.a._("Cancel","cancel board create","cancel board create")}),o.a.createElement(m.e,{display:"flex",justifyContent:"end"},!!e&&o.a.createElement(m.e,{paddingX:2},o.a.createElement(m.V,{align:"center",color:"red",size:"md",weight:"bold"},e)),o.a.createElement(u.b,{disabled:!t.trim()||!E||!!e||y,submitting:y,text:l.a._("Create","create a new board","create a new board")}))))))})),C=n("6A0I"),O=n("6vq5"),I=n("0BOE"),x=n("qyR9");class D extends r.Component{constructor(...e){var t,n,r;super(...e),r=e=>{const{board:t,sectionsResource:{data:n}}=this.props;return e.length>=x.a?[{items:Object(I.a)([t],e),customProps:{inSectionSelection:!0}},{items:Object(I.a)(n,e,"title")}]:[{items:[t],customProps:{inSectionSelection:!0}},{items:n}]},(n="getSections")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}render(){const{sectionsResource:{error:e,isLoaded:t},boardSavedTo:n,isSelectMode:r,onSectionCreate:i,onSectionSelected:a,pinId:s}=this.props;return o.a.createElement(x.b,{isSelectMode:r,boardSavedTo:n,createButtonLabel:l.a._("Add section","Button for creating a board section","Button for creating a board section"),hasLoadError:!!e,isLoaded:t,getSections:this.getSections,onCreate:i,onSelected:a,pinId:s})}}var k=Object(O.a)({name:"BoardSectionsRepinResource",key:"sectionsResource",options:e=>({board_id:e.board.id})})(D),T=n("Wer7"),M=n("U4JR"),j=n("ANjH");function P(e,t,n){return{...e?{pin_id:e}:{},...t?{username:t}:{},...n?{advertiser_id:n,filter:"protected"}:{},field_set_key:"board_picker",limit:undefined,shortlist_suggestions:2}}class B extends r.Component{constructor(...e){var t,n,r;super(...e),r=e=>{const{boardResource:{data:t}}=this.props;if(!t)return[];const{all_boards:n,boards_shortlist:r}=t,o=(e=>{const t=[],n=[];return e.forEach(e=>{e.name.match(/^\d/)?n.push(e):t.push(e)}),[...t,...n]})(n);return o.length<=3?[{items:o}]:e.length>=x.a?[{items:Object(I.a)(o,e)}]:[r.length?{items:r,title:l.a._("Top choices")}:{items:[]},{items:o,title:l.a._("All boards","title for board picker all boards section","title for board picker all boards section")}]},(n="getSections")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}render(){const{boardResource:{data:e,error:t,isLoaded:n},boardSavedTo:r,isSelectMode:i,onBoardCreate:a,onBoardSelected:s,pinId:c}=this.props,l=n&&!!e&&e.all_boards.length<=3;return o.a.createElement(x.b,{isSelectMode:i,boardSavedTo:r,hasLoadError:!!t,hasLowBoardCount:l,isLoaded:n,getSections:this.getSections,onCreate:a,onSelected:s,pinId:c})}}var A=Object(j.compose)(Object(a.connect)((function(e){const{advertiser:t,viewer:n}=e;return n.isAuth&&t&&t.owner_user_id!==n.id?{advertiser_id:t.id,username:t.owner_user_id}:{}})),Object(O.a)({name:"BoardPickerBoardsResource",key:"boardResource",options:e=>P(e.pinId,e.username,e.advertiser_id)}))(B);function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class L extends o.a.Component{constructor(...e){super(...e),R(this,"state",{inviteQueue:{},newName:"",selectedSectionBoard:this.props.boardWithSection||null,showCreate:this.props.showCreate||!1}),R(this,"close",()=>{const{selectedSectionBoard:e,showCreate:t}=this.state,{onClose:n}=this.props;t?this.setState({showCreate:!1},this.manageModalTitle):e?this.setState({selectedSectionBoard:null},this.manageModalTitle):n()}),R(this,"sendInvites",e=>{const{inviteQueue:t}=this.state;Object.keys(t).forEach(n=>{t[n].resource(e.id,[n])})}),R(this,"handleInvite",e=>{const{inviteQueue:t}=this.state;if(t[e.id]){const n={...t};delete n[e.id],this.setState({inviteQueue:n})}else{const n=Object.assign({},t,{[e.id]:e});this.setState({inviteQueue:n})}}),R(this,"handleBoardCreate",e=>{const{onBoardCreated:t}=this.props;this.handleBoardSave(e,!0),t&&t(e)}),R(this,"handleBoardSave",(e,t)=>{const{selectedSectionBoard:n}=this.state,{onBoardSave:r,invalidatePinBetterSaveResource:o,invalidateResource:i}=this.props;if(i(),o(),n&&"board_section"===e.type){return r(n,e,t)}const a=e,{section_count:s=0}=a;!n&&s>0?this.setState({selectedSectionBoard:a},this.manageModalTitle):(this.sendInvites(e),r(a,void 0,t))}),R(this,"handleCreate",e=>t=>{t=t||"",this.setState({newName:t,showCreate:!0},this.manageModalTitle);const n=e?13105:13025,r=e?10306:249;Object(M.a)(101,{component:n,element:r})}),R(this,"manageModalTitle",()=>{const{setModalTitle:e}=this.props,{selectedSectionBoard:t,showCreate:n}=this.state;e&&e(n&&t?l.a._("Add section","Repin title for making a board section","Repin title for making a board section"):n&&!t?l.a._("Create board","Repin title for making a new board","Repin title for making a new board"):t&&!n?l.a._("Choose section","Repin title for choosing a board section","Repin title for choosing a board section"):l.a._("Choose board","Repin title for choosing a board","Repin title for choosing a board"))})}render(){const{boardSavedTo:e,isRepin:t,isSelectMode:n,onToggleFlyout:r,pinId:i,preselectedCollaborators:a,setModalTitle:s,suggestedBoardTitle:c}=this.props,{newName:l,selectedSectionBoard:u,showCreate:d}=this.state,h=!!u,p=!s;return o.a.createElement(m.e,{display:"flex",position:"relative",width:"100%"},!d&&o.a.createElement(m.e,{direction:"column",display:"flex",marginTop:4,width:"100%"},u?o.a.createElement(k,{board:u,boardSavedTo:e,isSelectMode:n,onSectionCreate:this.handleCreate(h),onSectionSelected:this.handleBoardSave}):o.a.createElement(A,{boardSavedTo:e,isSelectMode:n,onBoardCreate:this.handleCreate(h),onBoardSelected:this.handleBoardSave,pinId:i})),d&&!u&&o.a.createElement(w,{onCancel:this.close,onCreate:this.handleBoardCreate,onInvite:this.handleInvite,onToggleFlyout:r,pinId:i,prefilledName:l||c,preselectedCollaborators:a,showTitle:p}),d&&u&&o.a.createElement(C.a,{board:u,completeCreateSectionAction:this.handleBoardSave,initialName:l,isRepin:t,onClearModal:this.close,showTitle:p}))}}var N=Object(a.connect)(null,(function(e,t){return{invalidateResource:()=>{e(Object(T.f)("BoardPickerBoardsResource",P(t.pinId)))},invalidatePinBetterSaveResource:()=>{e(Object(T.f)("BoardPickerBoardsResource",{field_set_key:"board_picker"}))}}}))(L),F=n("TiQD"),z=n("v+PR"),q=n("Ev07"),U=n("G35+"),H=n("mBfy");var K=Object(j.compose)(Object(a.connect)(({viewer:e})=>({viewer:e}),()=>({})),Object(O.a)({name:"UserResource",key:"userSocialResource",options:e=>({user_id:e.viewer&&e.viewer.isAuth?e.viewer.id:"",field_set_key:"social_connect"})}))((function({onSocialConnect:e,userSocialResource:{data:t,isLoaded:n}}){const[i,a]=Object(r.useState)(!!(n&&t&&t.facebook_publish_stream_enabled)),[s,c]=Object(r.useState)(!!(n&&t&&t.twitter_publish_enabled));if(Object(r.useEffect)(()=>{n&&t&&(a(!!t.facebook_publish_stream_enabled),c(!!t.twitter_publish_enabled))},[t,n]),!t)return null;const{connected_to_facebook:u,twitter_url:d}=t,h=t=>{a(t),H.default.set("facebook_publish_stream_enabled",t),e(U.a.FACEBOOK,t)};return!(!u&&!d)&&o.a.createElement(m.e,{display:"flex",padding:2},u&&o.a.createElement(m.e,{display:"flex",alignItems:"center",marginStart:2},o.a.createElement(m.j,{checked:i,id:"share_facebook",onChange:()=>{i?h(!1):q.a.maybeRequestFbTimelinePermission({success:()=>h(!0),error:()=>h(!1)})},size:"sm"}),o.a.createElement(m.w,{htmlFor:"share_facebook"},o.a.createElement(m.e,{marginStart:2},o.a.createElement(m.V,null,l.a._("Post to Facebook"))))),d&&o.a.createElement(m.e,{display:"flex",alignItems:"center",marginStart:5},o.a.createElement(m.j,{checked:s,id:"share_twitter",onChange:()=>{const t=!s;c(t),e(U.a.TWITTER,t)},size:"sm"}),o.a.createElement(m.w,{htmlFor:"share_twitter"},o.a.createElement(m.e,{marginStart:2},o.a.createElement(m.V,null,l.a._("Post to Twitter"))))))})),V=n("Sihc");function W(){return o.a.createElement(m.e,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center"},o.a.createElement(m.O,{accessibilityLabel:l.a._("Pins being saved to new sections","save.pin-to-board.PinToBoard.SectionSuggestions.SavingView","accessibility label on spinner"),show:!0}),o.a.createElement(m.e,{paddingY:2},o.a.createElement(m.s,null,l.a._("Hold, please...","save.pin-to-board.PinToBoard.SectionSuggestions.SavingView","Heading on modal while saving pins"))),o.a.createElement(m.V,null,l.a._("We're grouping these into sections. This will help organize all your ideas!","save.pin-to-board.PinToBoard.SectionSuggestions.SavingView","Text explaining new pins are being saved")))}var G=n("82UD");function Y({index:e,pin:t,sectionName:n}){const i=t.id,a=Object(r.useContext)(ne),[s,c]=Object(r.useState)(!1),l=Object(r.useCallback)(({event:e})=>{e.preventDefault(),e.stopPropagation(),a({type:s?"unselect":"select",payload:{sectionName:n,pinId:i}}),c(!s)},[i,s]);return o.a.createElement(m.U,{onTap:l,rounding:4},o.a.createElement(G.a,{attributionOption:"hide",blockClickEvents:!0,pin:t,pinId:t.id,pinImageCrop:"none",saveButtonOptions:{type:"none"},selectionState:s?"selected-image-only":"deselected-image-only",surface:"SectionSuggestedPins",trackingParameters:{slotIndex:e}}))}var J=Object(r.memo)((function({sectionSuggestion:e,showSpinner:t}){const n=Object(r.useRef)(),i=Object(y.a)({name:"BatchP2PResource",options:{clientType:"84",page_size:10,pinIds:e.pins.map(e=>e.id)},allowStale:!1});return o.a.createElement(r.Fragment,null,o.a.createElement(m.e,{display:"flex",justifyContent:"center",width:"100%"},o.a.createElement(m.O,{accessibilityLabel:l.a._("Loading pins","save.pin-to-board.PinToBoard.SectionSuggestions.SectionPinsSelection","Accessibility label on a loading spinner"),show:t&&i.isFetching})),i.data&&o.a.createElement(m.e,{paddingY:4,paddingX:8},o.a.createElement(m.s,{align:"left",size:"sm"},e.name)),o.a.createElement(m.e,{ref:n},i.data&&n&&n.current&&o.a.createElement(m.B,{columnWidth:152,comp:({data:t,itemIdx:n})=>o.a.createElement(Y,{index:n,pin:t,sectionName:e.name}),gutterWidth:16,items:i.data||[],loadItems:()=>{},scrollContainer:()=>n.current})))}),(e,t)=>e.sectionSuggestion.id===t.sectionSuggestion.id);function X({canSubmit:e,handleClose:t,handleSubmit:n,sectionSuggestions:i}){return o.a.createElement(r.Fragment,null,o.a.createElement(m.e,{width:"100%"},o.a.createElement(m.e,{minHeight:"100%",marginBottom:12,width:"100%"},i.map((e,t)=>o.a.createElement(m.e,{marginBottom:4,key:e.name},o.a.createElement(J,{sectionSuggestion:e,showSpinner:0===t})))),o.a.createElement(m.e,{bottom:!0,color:"white",dangerouslySetInlineStyle:{__style:{boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",position:"sticky"}},display:"flex",justifyContent:"end",padding:4,width:720},o.a.createElement(m.f,{color:e?"red":"gray",inline:!0,size:"lg",text:e?l.a._("Next","save.pin-to-board.PinToBoard.SectionPinsWrapper","Button to submit form selections"):l.a._("Skip","save.pin-to-board.PinToBoard.SectionPinsWrapper","Button to submit form selections"),onClick:()=>{e?n():t()}}))))}function Q({handleClose:e,handleSubmit:t,suggestions:n}){const[i,a]=Object(r.useState)({}),s=!!Object.keys(i).length;return o.a.createElement(m.e,null,o.a.createElement(m.e,{display:"flex",alignItems:"center",dangerouslySetInlineStyle:{__style:{height:"calc(100% - 88px)"}}},o.a.createElement(m.e,{display:"flex",wrap:!0,height:360,paddingX:6},n.map(e=>o.a.createElement(m.e,{paddingX:1,height:160,key:e.name},o.a.createElement(m.U,{onTap:()=>{const t={...i};t[e.name]?delete t[e.name]:t[e.name]=e,a(t)},rounding:6},o.a.createElement(m.e,{rounding:7,dangerouslySetInlineStyle:{__style:{border:i[e.name]?"2px solid #111":"2px solid white",padding:"2px"}}},o.a.createElement(m.e,{height:160,width:152,position:"relative",rounding:6},o.a.createElement(m.A,{rounding:6,height:160,width:152},o.a.createElement(m.v,{alt:e.name,fit:"cover",naturalHeight:e.images["236x"].height,naturalWidth:e.images["236x"].width,src:e.images["236x"].url})),o.a.createElement(m.e,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0, 0, 0, 0.3)"}},display:"flex",height:160,justifyContent:"center",left:!0,paddingX:5,position:"absolute",rounding:6,top:!0,width:152},o.a.createElement(m.s,{align:"center",color:"white",size:"sm"},e.name))))))))),o.a.createElement(m.e,{display:"flex",width:"100%",justifyContent:"end",padding:5},o.a.createElement(m.f,{color:s?"red":"gray",inline:!0,size:"lg",text:s?l.a._("Next","save.pin-to-board.SectionSuggestionPicker","Button to submit form selections"):l.a._("Skip","save.pin-to-board.SectionSuggestionPicker","Button to submit form selections"),onClick:()=>{s?t(Object.values(i)):e()}})))}var $=n("CvCA"),Z=n("6G9P"),ee=n("EC67"),te=n("nGHF");const ne=Object(r.createContext)();function re(e,t){const{sectionName:n,pinId:r}=t.payload,o=[...e[n]||[]];switch(t.type){case"select":return{...e,[n]:[...o,r]};case"unselect":const t=o.indexOf(r);if(o.splice(t,1),!o.length){const t={...e};return delete t[n],t}return{...e,[n]:o};default:throw new Error("Unsupported action received by PinSelectionReducer")}}function oe({board:e,handleClose:t,setModalTitle:n,suggestions:i}){const[s,c]=Object(r.useState)("sections"),[u,d]=Object(r.useState)([]),[h,p]=Object(r.useReducer)(re,{}),{showOneToast:f}=Object(te.b)(),m=Object(a.useDispatch)(),g=Object(ee.g)(),b=Object(r.useRef)(!1);Object(r.useEffect)(()=>()=>{b.current&&clearTimeout(b.current)});const y=()=>{Object(M.a)(101,{component:20,view:52})},v=()=>{t(),f(({onHide:t})=>o.a.createElement($.a,{duration:ce,onHide:t,text:Object(Z.a)(e.name),href:e.url,imageUrl:e.image_cover_url,onClick:y}))};return{sections:o.a.createElement(Q,{handleClose:v,handleSubmit:e=>{d(e),c("pins"),n&&n(l.a._("Great! Pick some ideas to start off your board.","save.pin-to-board.PinToBoard.SectionSuggestions.SectionSuggestionContainer","Modal title for choosing ideas for a new board"))},suggestions:i}),pins:o.a.createElement(ne.Provider,{value:p},o.a.createElement(X,{canSubmit:!!Object.keys(h).length,handleClose:v,handleSubmit:()=>{let t=0;c("saving"),n&&n(null);const r=u.reduce((e,t)=>(e[t.name]=null,e),{});Object.entries({...r,...h}).forEach(([n,r])=>{m(Object(V.a)({boardId:e.id,initialPinIds:r,name:n})).then(()=>{t+=1,t===u.length&&(b.current=setTimeout(()=>{g.push(e.url)},1500))})})},sectionSuggestions:u})),saving:o.a.createElement(W,null)}[s]}var ie=n("Yo6N"),ae=n("pLLR");function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ce=4e3,le={LOADING:"loading",SUCCESS:"success"};class ue extends r.PureComponent{constructor(...e){super(...e),se(this,"state",{isFlyoutOpen:!1,isSavingPin:!1,newBoard:null}),se(this,"pinImageRef",Object(r.createRef)()),se(this,"unmounted",!1),se(this,"handleSavePinToBoard",(e,t,n)=>{const{handleSaveToBoard:r,sectionSuggestions:o,setModalTitle:i}=this.props;r(e,t,n),n&&(this.setState({isSavingPin:!0,newBoard:e}),o&&o.length>0&&i&&i(l.a._("Here are some popular topics related to your board. Choose any you like.","save.pin-to-board.PinToBoard.SectionPickerModalTitle","Modal title for selection recommended sections for a new board")))}),se(this,"handleToggleFlyout",()=>this.setState({isFlyoutOpen:!this.state.isFlyoutOpen})),se(this,"safeSetState",(e,t)=>{this.unmounted?t&&t():this.setState(e,t)}),se(this,"close",()=>{const{isFlyoutOpen:e}=this.state,{handleAbort:t}=this.props;e||t()}),se(this,"dismissModal",e=>{const{dismissModal:t}=this.props;t&&t()})}componentWillUnmount(){this.unmounted=!0}render(){const{boardSavedTo:e,boardWithSection:t,color:n,displaySuccessAnimation:a,handleNewBoardAnimationCompletion:s,handleSocialConnectSet:c,isInModal:u,newPin:d,pin:h,preselectedCollaborators:p,onBoardCreated:f,sectionSuggestions:g,sensitiveContentNotice:b,setModalTitle:y,showCreate:v,shouldRenderContent:_,suggestedBoardTitle:E,updateDescription:S}=this.props;if(!h||!h&&!h.resourceLoaded||!_)return null;const{isSavingPin:w,newBoard:C}=this.state;let O=null;d&&d.board&&(O=d.board.name);const I=b&&b.title||this.props.modalTitle,x=b?o.a.createElement(ie.a,{inModal:!0,notices:[b]}):o.a.createElement(m.e,{display:"flex",height:"calc(90vh - 97px)",justifyContent:"center",maxHeight:"703px",width:"100%"},w&&C&&g&&g.length>0?o.a.createElement(oe,{board:C,handleClose:this.close,setModalTitle:y,suggestions:g}):o.a.createElement(r.Fragment,null,o.a.createElement(m.e,{color:"white",display:"flex",height:"100%",overflow:"hidden",position:"relative",rounding:2,width:"100%"},o.a.createElement(m.e,{direction:"column",display:"flex",justifyContent:"between",width:"40%"},o.a.createElement(m.e,{alignItems:"center",direction:"column",display:"flex",flex:"grow",justifyContent:"start",marginTop:3},o.a.createElement(z.a,{color:n,pin:h,pinImageRef:this.pinImageRef,updateDescription:S})),o.a.createElement(K,{onSocialConnect:c})),o.a.createElement(m.e,{display:"flex",width:"60%"},o.a.createElement(N,{boardSavedTo:e,boardWithSection:t,isRepin:!0,onBoardCreated:f,onBoardSave:this.handleSavePinToBoard,onClose:this.close,onToggleFlyout:this.handleToggleFlyout,pinId:h.id,preselectedCollaborators:p,setModalTitle:u?y:void 0,showCreate:v,suggestedBoardTitle:E}))),a&&o.a.createElement(i.a,{onDismiss:()=>{s(),this.dismissModal()},pin:h,pinImageRef:this.pinImageRef,selectedBoardName:O})));return u?o.a.createElement(F.b,{accessibilityModalLabel:I||l.a._("Repin modal","save.pin-to-board.PinToBoard.PinToBoard","Accessibility label on modal"),heading:I,onDismiss:this.close,size:"md"},x):x}}se(ue,"defaultProps",{pwtAuxData:{}});const de=Object(ae.e)(ue)},BEzM:function(e,t,n){var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n("7nh8"),i=n("LTlA"),a=n("QLaP");t.default=function(e){return function(t){void 0===t&&(t={});var n=e.getMonitor(),s=e.getRegistry();!function(e){a(e.isDragging(),"Cannot call drop while not dragging."),a(!e.didDrop(),"Cannot call drop twice during one drag operation.")}(n),function(e){var t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}(n).forEach((function(c,l){var u=function(e,t,n,r){var o=n.getTarget(e),s=o?o.drop(r,e):void 0;(function(e){a(void 0===e||i.isObject(e),"Drop result must either be an object or undefined.")})(s),void 0===s&&(s=0===t?{}:r.getDropResult());return s}(c,l,s,n),d={type:o.DROP,payload:{dropResult:r({},t,u)}};e.dispatch(d)}))}}},"BWi/":function(e,t,n){var r=n("G3O9");function o(){}e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=o,n.PropTypes=n,n}},Bfq7:function(e,t,n){var r;Object.defineProperty(t,"__esModule",{value:!0});var o=n("QSJg"),i=n("9b+k");t.nativeTypesConfig=((r={})[o.FILE]={exposeProperties:{files:function(e){return Array.prototype.slice.call(e.files)},items:function(e){return e.items}},matchesTypes:["Files"]},r[o.URL]={exposeProperties:{urls:function(e,t){return i.getDataFromDataTransfer(e,t,"").split("\n")}},matchesTypes:["Url","text/uri-list"]},r[o.TEXT]={exposeProperties:{text:function(e,t){return i.getDataFromDataTransfer(e,t,"")}},matchesTypes:["Text","text/plain"]},r)},"Bn+j":function(e,t,n){var r=n("q1tI"),o=n.n(r),i=n("c4Fo"),a=(n("17x9"),n("NrS9")),s=n("n6mq");const c=[500329,500410,500688];t.a=({placementId:e})=>{const[t,n]=Object(r.useState)(!0),l=()=>{n(!1)};return o.a.createElement(i.a,{placementId:e,experienceIds:c},({complete:e,dismiss:n})=>(a.a.instance().subscribe(e,n),t?o.a.createElement(s.U,{fullWidth:!1,onTap:l},o.a.createElement("div",{className:"experienceSystemPushOverlay"})):null))}},C0mq:function(e,t,n){n.d(t,"a",(function(){return a}));var r=n("q1tI"),o=n.n(r),i=n("EC67");function a(e){function t(t){const n=Object(i.g)(),r=Object(i.h)();return o.a.createElement(i.e.Consumer,null,i=>o.a.createElement(e,Object.assign({},t,{history:n,location:r,match:i?i.match:{}})))}return t.displayName=`withRouterShim(${e.displayName||e.name||""})`,t}},C8qk:function(e,t,n){var r=n("MgzW");function o(){return(o=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=n("y0lr"),l=n("Iq8E"),u=n("q1tI"),d=n("sOsl"),h=n("bU3v"),p=n("icWV"),f=n("GXbk"),m=n("yUGJ"),g=n("zVay"),b=n("mFyV"),y=n("OLzA"),v=(g.List,function(e,t){return e.getAnchorKey()===t||e.getFocusKey()===t}),_=function(e,t){var n=t.get(e.getType())||t.get("unstyled"),r=n.wrapper;return{Element:n.element||t.get("unstyled").element,wrapperTemplate:r}},E=function(e,t){var n=t(e);return n?{CustomComponent:n.component,customProps:n.props,customEditable:n.editable}:{}},S=function(e,t,n,r,o,i){var s={"data-block":!0,"data-editor":t,"data-offset-key":n,key:e.getKey(),ref:i},c=r(e);return c&&(s.className=c),void 0!==o.customEditable&&(s=a({},s,{contentEditable:o.customEditable,suppressContentEditableWarning:!0})),s},w=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return s(i(t=e.call.apply(e,[this].concat(r))||this),"wrapperRef",u.createRef()),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var g=r.prototype;return g.shouldComponentUpdate=function(e){var t=this.props,n=t.block,r=t.direction,o=t.tree,i=!n.getChildKeys().isEmpty(),a=n!==e.block||o!==e.tree||r!==e.direction||v(e.selection,e.block.getKey())&&e.forceSelection;return i||a},g.componentDidMount=function(){var e=this.props.selection,t=e.getEndKey();if(e.getHasFocus()&&t===this.props.block.getKey()){var n=this.wrapperRef.current;if(n){var r,o=h.getScrollParent(n),i=f(o);if(o===window){var a=p(n);(r=a.y+a.height-m().height)>0&&window.scrollTo(i.x,i.y+r+10)}else{y(n)||b(!1);var s=n;(r=s.offsetHeight+s.offsetTop-(o.offsetHeight+i.y))>0&&d.setTop(o,d.getTop(o)+r+10)}}}},g.render=function(){var e=this,t=this.props,n=t.block,i=t.blockRenderMap,s=t.blockRendererFn,d=t.blockStyleFn,h=t.contentState,p=t.decorator,f=t.editorKey,m=t.editorState,g=t.customStyleFn,b=t.customStyleMap,y=t.direction,w=t.forceSelection,C=t.selection,O=t.tree,I=null;n.children.size&&(I=n.children.reduce((function(t,n){var o=l.encode(n,0,0),c=h.getBlockForKey(n),p=E(c,s),g=p.CustomComponent||r,b=_(c,i),y=b.Element,v=b.wrapperTemplate,w=S(c,f,o,d,p,null),C=a({},e.props,{tree:m.getBlockTree(n),blockProps:p.customProps,offsetKey:o,block:c});return t.push(u.createElement(y,w,u.createElement(g,C))),!v||function(e,t){var n=e.getNextSiblingKey();return!!n&&t.getBlockForKey(n).getType()===e.getType()}(c,h)||function(e,t,n){var r=[],o=!0,i=!1,a=void 0;try{for(var s,c=n.reverse()[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var d=s.value;if(d.type!==t)break;r.push(d)}}catch(f){i=!0,a=f}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}n.splice(n.indexOf(r[0]),r.length+1);var h=r.reverse(),p=h[0].key;n.push(u.cloneElement(e,{key:"".concat(p,"-wrap"),"data-offset-key":l.encode(p,0,0)},h))}(v,y,t),t}),[]));var x=n.getKey(),D=l.encode(x,0,0),k=E(n,s),T=k.CustomComponent,M=null!=T?u.createElement(T,o({},this.props,{tree:m.getBlockTree(x),blockProps:k.customProps,offsetKey:D,block:n})):u.createElement(c,{block:n,children:I,contentState:h,customStyleFn:g,customStyleMap:b,decorator:p,direction:y,forceSelection:w,hasSelection:v(C,x),selection:C,tree:O});if(n.getParentKey())return M;var j=_(n,i).Element,P=S(n,f,D,d,k,this.wrapperRef);return u.createElement(j,P,M)},r}(u.Component);e.exports=w},C9ER:function(e,t,n){var r=n("fyOY"),o=n("3sOJ"),i=n("s8ra"),a=n("pMlp"),s=n("Wkzk"),c=n("4pIB"),l=n("T401"),u=n("HEBY"),d=n("vcNX"),h=n("YUem"),p=n("MPKC"),f=n("0RQb"),m=n("ujuU"),g=n("3Br+"),b=n("tuJh"),y=n("ocgx"),v=n("SYhp"),_=i.isOptionKeyCommand,E=c.isBrowser("Chrome");e.exports=function(e,t){var n=t.which,i=e._latestEditorState;function c(n){var r=e.props[n];return!!r&&(r(t),!0)}switch(n){case a.RETURN:if(t.preventDefault(),e.props.handleReturn&&l(e.props.handleReturn(t,i)))return;break;case a.ESC:if(t.preventDefault(),c("onEscape"))return;break;case a.TAB:if(c("onTab"))return;break;case a.UP:if(c("onUpArrow"))return;break;case a.RIGHT:if(c("onRightArrow"))return;break;case a.DOWN:if(c("onDownArrow"))return;break;case a.LEFT:if(c("onLeftArrow"))return;break;case a.SPACE:E&&_(t)&&t.preventDefault()}var S=e.props.keyBindingFn(t);if(null!=S&&""!==S)if("undo"!==S){if(t.preventDefault(),!e.props.handleKeyCommand||!l(e.props.handleKeyCommand(S,i,t.timeStamp))){var w=function(e,t,n){switch(e){case"redo":return o.redo(t);case"delete":return b(t);case"delete-word":return h(t);case"backspace":return g(t);case"backspace-word":return d(t);case"backspace-to-start-of-line":return u(t,n);case"split-block":return p(t);case"transpose-characters":return y(t);case"move-selection-to-start-of-block":return m(t);case"move-selection-to-end-of-block":return f(t);case"secondary-cut":return s.cut(t);case"secondary-paste":return s.paste(t);default:return t}}(S,i,t);w!==i&&e.update(w)}}else v(t,i,e.update);else if(n===a.SPACE&&E&&_(t)){var C=r.replaceText(i.getCurrentContent(),i.getSelection()," ");e.update(o.push(i,C,"insert-characters"))}}},CEq6:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=e.substr(0,t),o=0===n.length?0:r.lastIndexOf(n),i=0===n.length?r:r.slice(o+n.length);return{begin:o,end:r.length,matchingString:i}}},CJXx:function(e,t,n){var r=n("MgzW");function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n("WLG0"),s=n("q1tI"),c=n("mFyV"),l=n("aB02"),u=n("O4zn").setDraftEditorSelection,d=function(e){var t,n;function d(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return i(o(t=e.call.apply(e,[this].concat(r))||this),"leaf",void 0),t}n=e,(t=d).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var h=d.prototype;return h._setSelection=function(){var e=this.props.selection;if(null!=e&&e.getHasFocus()){var t=this.props,n=t.block,r=t.start,o=t.text,i=n.getKey(),a=r+o.length;if(e.hasEdgeWithin(i,r,a)){var s=this.leaf;s||c(!1);var d,h=s.firstChild;h||c(!1),h.nodeType===Node.TEXT_NODE?d=h:l(h)?d=s:(d=h.firstChild)||c(!1),u(e,d,i,r,a)}}},h.shouldComponentUpdate=function(e){var t=this.leaf;return t||c(!1),t.textContent!==e.text||e.styleSet!==this.props.styleSet||e.forceSelection},h.componentDidUpdate=function(){this._setSelection()},h.componentDidMount=function(){this._setSelection()},h.render=function(){var e=this,t=this.props.block,n=this.props.text;n.endsWith("\n")&&this.props.isLast&&(n+="\n");var o=this.props,i=o.customStyleMap,c=o.customStyleFn,l=o.offsetKey,u=o.styleSet,d=u.reduce((function(e,t){var n={},o=i[t];return void 0!==o&&e.textDecoration!==o.textDecoration&&(n.textDecoration=[e.textDecoration,o.textDecoration].join(" ").trim()),r(e,o,n)}),{});if(c){var h=c(u,t);d=r(d,h)}return s.createElement("span",{"data-offset-key":l,ref:function(t){return e.leaf=t},style:d},s.createElement(a,null,n))},d}(s.Component);e.exports=d},Copi:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116;function b(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case d:case h:case a:case c:case s:case f:return e;default:switch(e=e&&e.$$typeof){case u:case p:case l:return e;default:return t}}case g:case m:case i:return t}}}function y(e){return b(e)===h}t.typeOf=b,t.AsyncMode=d,t.ConcurrentMode=h,t.ContextConsumer=u,t.ContextProvider=l,t.Element=o,t.ForwardRef=p,t.Fragment=a,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=c,t.StrictMode=s,t.Suspense=f,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===h||e===c||e===s||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===u||e.$$typeof===p)},t.isAsyncMode=function(e){return y(e)||b(e)===d},t.isConcurrentMode=y,t.isContextConsumer=function(e){return b(e)===u},t.isContextProvider=function(e){return b(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return b(e)===p},t.isFragment=function(e){return b(e)===a},t.isLazy=function(e){return b(e)===g},t.isMemo=function(e){return b(e)===m},t.isPortal=function(e){return b(e)===i},t.isProfiler=function(e){return b(e)===c},t.isStrictMode=function(e){return b(e)===s},t.isSuspense=function(e){return b(e)===f}},CsLl:function(e,t,n){e.exports=n("BWi/")()},DBEV:function(e,t,n){var r=n("q1tI"),o=n.n(r);var i={backgroundColor:"transparent"},a={backgroundColor:"rgba(216, 216, 216, 0.37)"},s={borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},c={outline:"0"},l=n("n6mq");function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends o.a.Component{constructor(...e){super(...e),u(this,"state",{hovered:!1}),u(this,"handleMouseEnter",()=>this.setState({hovered:!0})),u(this,"handleMouseLeave",()=>this.setState({hovered:!1}))}render(){const{backgroundHaloSize:e,onClick:t,accessibilityLabel:n}=this.props,r={height:e,width:e},u={border:0,display:"block",background:"transparent",cursor:"pointer",...c},d={...s,...i,...this.state.hovered?a:{}};return o.a.createElement("button",{"aria-label":n,type:"button",style:u,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:e=>t&&t({event:e})},o.a.createElement("div",{style:{...r,...d}},o.a.createElement(l.e,{rounding:"circle"},o.a.createElement(l.t,{accessibilityLabel:"",icon:"flag",size:e/2,color:"lightGray"}))))}}t.a=d},DEWG:function(e,t,n){n("Z6/o");e.exports=function(e,t){var n,r=e.getSelection(),o=r.getStartKey(),i=r.getStartOffset(),a=e.getCurrentContent(),s=o;return t>a.getBlockForKey(o).getText().length-i?(s=a.getKeyAfter(o),n=0):n=i+t,r.merge({focusKey:s,focusOffset:n})}},DYKh:function(e,t,n){var r=n("V8dp"),o=n("bu5B");e.exports=function(e,t){var n=t.getStartKey(),i=t.getStartOffset(),a=t.getEndKey(),s=t.getEndOffset(),c=o(e,t).getBlockMap(),l=c.keySeq(),u=l.indexOf(n),d=l.indexOf(a)+1;return r(c.slice(u,d).map((function(e,t){var r=e.getText(),o=e.getCharacterList();return n===a?e.merge({text:r.slice(i,s),characterList:o.slice(i,s)}):t===n?e.merge({text:r.slice(i),characterList:o.slice(i)}):t===a?e.merge({text:r.slice(0,s),characterList:o.slice(0,s)}):e})))}},Dh3H:function(e,t,n){var r="undefined"!=typeof navigator&&navigator.userAgent.indexOf("AppleWebKit")>-1;e.exports=function(e){return(e=e||document).scrollingElement?e.scrollingElement:r||"CSS1Compat"!==e.compatMode?e.body:e.documentElement}},DthY:function(e,t,n){var r=n("MgzW");function o(){return(o=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n("CJXx"),c=n("Iq8E"),l=n("q1tI"),u=n("sOsl"),d=n("bU3v"),h=n("bSwZ"),p=n("Ey0E"),f=n("pXmp"),m=n("icWV"),g=n("GXbk"),b=n("yUGJ"),y=n("mFyV"),v=n("OLzA"),_=n("qysv"),E=function(e,t){return e.getAnchorKey()===t||e.getFocusKey()===t},S=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return a(i(t=e.call.apply(e,[this].concat(r))||this),"_node",void 0),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var S=r.prototype;return S.shouldComponentUpdate=function(e){return this.props.block!==e.block||this.props.tree!==e.tree||this.props.direction!==e.direction||E(e.selection,e.block.getKey())&&e.forceSelection},S.componentDidMount=function(){if(!this.props.preventScroll){var e=this.props.selection,t=e.getEndKey();if(e.getHasFocus()&&t===this.props.block.getKey()){var n=this._node;if(null!=n){var r,o=d.getScrollParent(n),i=g(o);if(o===window){var a=m(n);(r=a.y+a.height-b().height)>0&&window.scrollTo(i.x,i.y+r+10)}else{v(n)||y(!1),(r=n.offsetHeight+n.offsetTop-(o.offsetTop+o.offsetHeight+i.y))>0&&u.setTop(o,u.getTop(o)+r+10)}}}}},S._renderChildren=function(){var e=this,t=this.props.block,n=t.getKey(),r=t.getText(),i=this.props.tree.size-1,a=E(this.props.selection,n);return this.props.tree.map((function(u,d){var f=u.get("leaves");if(0===f.size)return null;var m=f.size-1,g=f.map((function(o,u){var h=c.encode(n,d,u),p=o.get("start"),f=o.get("end");return l.createElement(s,{key:h,offsetKey:h,block:t,start:p,selection:a?e.props.selection:null,forceSelection:e.props.forceSelection,text:r.slice(p,f),styleSet:t.getInlineStyleAt(p),customStyleMap:e.props.customStyleMap,customStyleFn:e.props.customStyleFn,isLast:d===i&&u===m})})).toArray(),b=u.get("decoratorKey");if(null==b)return g;if(!e.props.decorator)return g;var y=_(e.props.decorator),v=y.getComponentForKey(b);if(!v)return g;var E=y.getPropsForKey(b),S=c.encode(n,d,0),w=f.first().get("start"),C=f.last().get("end"),O=r.slice(w,C),I=t.getEntityAt(u.get("start")),x=p.getHTMLDirIfDifferent(h.getDirection(O),e.props.direction),D={contentState:e.props.contentState,decoratedText:O,dir:x,start:w,end:C,blockKey:n,entityKey:I,offsetKey:S};return l.createElement(v,o({},E,D,{key:S}),g)})).toArray()},S.render=function(){var e=this,t=this.props,n=t.direction,r=t.offsetKey,o=f({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":"LTR"===n,"public/DraftStyleDefault/rtl":"RTL"===n});return l.createElement("div",{"data-offset-key":r,className:o,ref:function(t){return e._node=t}},this._renderChildren())},r}(l.Component);e.exports=S},DzJC:function(e,t,n){var r=n("sEfC"),o=n("GoyQ");e.exports=function(e,t,n){var i=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return o(n)&&(i="leading"in n?!!n.leading:i,a="trailing"in n?!!n.trailing:a),r(e,t,{leading:i,maxWait:t,trailing:a})}},E2hd:function(e,t,n){n.d(t,"a",(function(){return a}));var r=n("q1tI"),o=n.n(r),i=n("n6mq");function a(e){const{accessibilityLabel:t,icon:n,onClick:r,selected:a}=e;return o.a.createElement(i.u,{accessibilityLabel:t,icon:n,iconColor:"darkGray",onClick:r,selected:a,size:"lg"})}},E3gc:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,n){return"string"==typeof t||"symbol"==typeof t||!!n&&Array.isArray(t)&&t.every((function(t){return e(t,!1)}))}},E8d4:function(e,t,n){n.d(t,"a",(function(){return a}));var r=n("q1tI"),o=n.n(r);class i extends r.Component{constructor(...e){var t,n,r;super(...e),r={errorIsCaught:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}componentDidCatch(){this.setState({errorIsCaught:!0})}render(){const{children:e}=this.props,{errorIsCaught:t}=this.state;return t?null:e}}function a({children:e,errorBoundaryName:t,fallback:n}){const a=n||null;return o.a.createElement(i,t?{name:t}:{},o.a.createElement(r.Suspense,{fallback:a},e))}},EHEE:function(e,t,n){var r=/([A-Z])/g;e.exports=function(e){return e.replace(r,"-$1").toLowerCase()}},EHyI:function(e,t,n){n.d(t,"a",(function(){return a}));var r=()=>{var e;return!!(null===(e=window.performance)||void 0===e?void 0:e.timing)},o=n("XtwW"),i=n("gg0E");function a(e){return!("desktop"===e&&!r())&&(!!o.a&&Object(i.a)())}},ELJR:function(e,t,n){n.d(t,"a",(function(){return p}));var r=n("q1tI"),o=n.n(r),i=n("KPZG"),a=n("xdpg");var s=n("gYog"),c=n("yjg8"),l=n("U4JR"),u=n("n6mq");const d=c.e;function h(e){switch(e){case 0:return"shopping-bag";case 1:return"tag";default:return"search"}}function p({contextLogData:e,bubbles:t,id:n,referringSource:r,slotIndex:c,storyType:p,title:f,titleIcon:m,viewType:g,viewParameter:b}){const y=t.map(({type:e,id:t})=>e+":"+t).join("|");return o.a.createElement(s.a,{viewType:g,componentType:200,viewParameter:b,loggingId:n,contextLogData:{story_type:p,objectId:n,content_ids:y,...e},impressionType:"Story",slotIndex:c},o.a.createElement(u.e,null,f&&o.a.createElement(u.e,{display:"flex",marginBottom:1,justifyContent:"center",alignItems:"center"},m&&o.a.createElement(u.e,{marginEnd:2},o.a.createElement(u.t,{accessibilityLabel:"",color:"darkGray",icon:h(m),size:24})),o.a.createElement(u.V,{size:"lg"},function({args:e,format:t}){const n=(e||[]).reduce((e,t,n)=>({...e,[n]:t.text}),{});return Object(a.f)(t,n)}(f))),t.map((e,t)=>o.a.createElement(u.e,{paddingY:1,key:"bubble-"+e.id,flex:"none"},o.a.createElement(i.a,{bubble:e,onClick:e=>{Object(l.a)(101,{objectId:e,view:g,viewParameter:b,component:200})},referringSource:r,height:103,width:d,storyId:n,viewType:g,viewParameter:b,slotIndex:t,contextLogData:{content_ids:y,story_type:p}})))))}},EhF7:function(e,t,n){n.d(t,"a",(function(){return s}));var r=n("q1tI"),o=n.n(r);n("lXCh");function i({children:e}){return o.a.createElement("div",{className:"withoutBoxShadow"},e)}var a=n("n6mq");function s({children:e,onClick:t}){return o.a.createElement("div",{className:"relative"},o.a.createElement(a.e,{bottom:!0,left:!0,right:!0,top:!0,position:"absolute"},o.a.createElement(i,null,o.a.createElement(a.U,{fullHeight:!0,fullWidth:!0,onTap:({event:e})=>{e.preventDefault(),e.stopPropagation(),t()},rounding:2}))),o.a.createElement("div",{style:{pointerEvents:"none"}},e))}},Ep0g:function(e,t,n){n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return p}));const r=["AU","CA","GB","IE","NZ","US","FR","DE","AT","IT","ES","NL","BE","PT","CH","NL","BE","PT","CH","SE","NO","DK","FI"],o=["US","GB","IE","NZ","AU","CA","FR","DE","AT","IT","ES","NL","BE","PT","CH","DK","SE","NO","FI"],i=["US","CA"],a=["US","CA"],s=e=>!!e&&i.includes(e.toUpperCase()),c=e=>r.includes(e.toUpperCase()),l=e=>o.includes(e.toUpperCase()),u=e=>e.reduce((e,t)=>(e||0)+(t||0),0),d=(e,t,n)=>{const r={numDays:n};return t.forEach(t=>{if(e[t].length>=2*n){const o=u(e[t].slice(0,n)),i=u(e[t].slice(-n));r[t]={total:i,trend:o?(i-o)/o:0}}}),r},h=(e,t,n)=>{const r={numDays:n},o=e[n]||{},i=e[2*n]||{};return t.forEach(e=>{const t=o[e]||0,n=i[e]?i[e]-t:0;r[e]={total:t,trend:n?(t-n)/n:0}}),r},p=e=>!!e&&a.includes(e.toUpperCase())},Ev07:function(e,t,n){var r=n("1inl"),o=n("UTsl"),i=n("Ye/N"),a=n("mBfy");const s="publish_actions",c={checkFbTimelinePermission:function(e){o.default.ensureInit((function(t){t.api("/me/permissions",t=>{const n=t.data;let r=!1;if(n){r=!!n.find(e=>e.permission===s&&"granted"===e.status)}r?e.success&&e.success():e.error&&e.error()})}),a.default)},fbConnectedAccountMatchesLoggedInAccount:function(e,t){if(!t)return!0;const n=e.getAuthResponse();return!n||t===n.userID},maybeRequestFbTimelinePermission:function(e,t){o.default.ensureInit(n=>{if(!c.fbConnectedAccountMatchesLoggedInAccount(n,t))return r.a.showError(i.a._("Oops! Your account is linked to a different Facebook account than the one you're logged into now.")),e.error&&e.error(),void(e.complete&&e.complete());c.checkFbTimelinePermission({success(){e.success&&e.success(),e.complete&&e.complete()},error(){c.fbLogin(e)}})},a.default)},fbLogin:function(e){o.default.ensureInit(t=>{t.login(t=>{t.authResponse?c.checkFbTimelinePermission(e):e.error&&e.error(),e.complete&&e.complete()},{scope:s})},a.default)},getLocaleString:function(e){let t=e;switch(t=t.replace(/-/g,"_"),t){case"de":t="de_DE";break;case"fr":t="fr_FR";break;case"it":t="it_IT";break;case"ja":t="ja_JP";break;case"nl":t="nl_NL";break;case"tr":t="tr_TR";break;case"en_AU":t="en_US"}return t.startsWith("es")&&(t="es_LA"),t.startsWith("ar")&&(t="ar_AR"),t}};t.a=c},EwHv:function(e,t,n){n.d(t,"a",(function(){return f}));var r=n("q1tI"),o=n.n(r),i=n("+wrf"),a=n("Ye/N"),s=n("3j7w"),c=n("n6mq");function l(e){const{fetchMore:t,invites:n,isAtEnd:r,isFetching:i,onBoardLeave:l,refreshData:u,scroll:d,renderInvite:h}=e;return o.a.createElement("div",null,d&&o.a.createElement(s.a,{scrollBuffer:3*d.container.clientHeight,scrollHeight:d.container.scrollHeight,scrollTop:d.top,isAtEnd:r,isFetching:i,fetchMore:t}),n.map((e,t)=>e&&e.invited_user&&e.invited_user.id?o.a.createElement(c.e,{key:t},h(e,l,u)):null),i&&!r&&o.a.createElement(c.O,{accessibilityLabel:a.a._("loading board invites","accessibility label for board collaborator invites loading spinner","accessibility label for board collaborator invites loading spinner"),show:!0}))}var u=n("ViqK"),d=n("mEMi"),h=n("w70y");class p extends o.a.Component{constructor(...e){var t,n,r;super(...e),r=()=>{const{invitesPendingApproval:e,invites:t}=this.props;e.refreshData(),t.refreshData()},(n="handleInvitesDidUpdate")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}shouldComponentUpdate(e){const{invites:{data:t}}=e,{invites:{data:n}}=this.props;return!n||!!t&&n.length!==t.length}render(){const{board:e,invites:t,invitesPendingApproval:n,scrollInfo:r,onBoardLeave:s,onModalOpen:h,renderInvite:p}=this.props,{full_name:f,image_medium_url:m,username:g}=e.owner,b=a.a._("Owner of this board","boardInviteSheet.CollaboratorList.boardOwner.subtitle","The subtext that identifies the owner of a board");return o.a.createElement(o.a.Fragment,null,t.isLoaded||n.isLoaded?o.a.createElement(d.a,{fetchMore:t.fetchMore},({onScroll:a,setRef:d})=>o.a.createElement(c.e,{width:"100%",onScroll:a,ref:d},o.a.createElement(l,{boardId:e.id,fetchMore:n.fetchMore,invites:n.data||[],isAtEnd:n.isAtEnd,isFetching:n.isFetching,onBoardLeave:s,refreshData:this.handleInvitesDidUpdate,scroll:r,renderInvite:p}),(n.data||[]).length>0?o.a.createElement(c.e,{paddingY:3},o.a.createElement(c.o,null)):null,o.a.createElement(c.e,{paddingY:1},o.a.createElement(u.a,{imageUrl:m,linkURL:`/${g}/`,name:f,subtitle:b,title:f}),(t.data||[]).map(e=>e&&e.invited_user&&e.invited_user.id?o.a.createElement(i.a,{invite:e,key:e.invited_user.id,onBoardLeave:s,onModalOpen:h,onInviteDidUpdate:t.refreshData}):null)))):o.a.createElement(c.O,{show:!0,accessibilityLabel:a.a._("Loading","Loading state for showing board collaborators","Loading state for showing board collaborators")}))}}function f(e){const t=Object(h.a)({name:"BoardInvitesResource",options:{board_id:e.board.id,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0,allow_stale:!1}}),n=Object(h.a)({name:"BoardInvitesResource",options:{board_id:e.board.id,field_set_key:"boardEdit",status_filters:"pending_approval",allow_stale:!1}});return o.a.createElement(p,Object.assign({},e,{invites:t,invitesPendingApproval:n}))}},EwI3:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n("q1tI"),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(e){var t=e.mention,n=e.theme,r=void 0===n?{}:n;return t.avatar?i.default.createElement("img",{src:t.avatar,className:r.mentionSuggestionsEntryAvatar,role:"presentation"}):null}},Ey0E:function(e,t,n){var r=n("mFyV"),o="LTR",i=null;function a(e){return e===o||"RTL"===e}function s(e){return a(e)||r(!1),e===o?"ltr":"rtl"}function c(e){i=e}var l={NEUTRAL:"NEUTRAL",LTR:o,RTL:"RTL",isStrong:a,getHTMLDir:s,getHTMLDirIfDifferent:function(e,t){return a(e)||r(!1),a(t)||r(!1),e===t?null:s(e)},setGlobalDir:c,initGlobalDir:function(){c(o)},getGlobalDir:function(){return i||this.initGlobalDir(),i||r(!1),i}};e.exports=l},F09w:function(e,t,n){e.exports=function(e){return e&&e.ownerDocument?e.ownerDocument:document}},F8lS:function(e,t,n){n.d(t,"a",(function(){return f}));var r=n("q1tI"),o=n.n(r),i=n("/MKj"),a=n("0yL5"),s=n("s6a/"),c=n("GFC/"),l=n("QIf8"),u=n("Ye/N"),d=n("3oMh"),h=n("nGHF"),p=n("+qOO");function f(e){const{board:t,canCreatePincode:n,canEdit:f,handleCreatePincode:m,handleOpenSendBoardFlyout:g,onEditClick:b,showFollow:y,showShare:v}=e,{id:_,name:E,url:S,image_cover_url:w}=t,[C,O]=Object(r.useState)(t.followed_by_me),{showOneToast:I}=Object(h.b)(),x=Object(i.useDispatch)(),D=()=>{C?(x(Object(p.b)(_)),O(!1)):(x(Object(p.a)(_)),O(!0),I(({onHide:e})=>o.a.createElement(l.a,{boardImage:w,boardName:E,boardUrl:S,onHide:e})))};return o.a.createElement(a.a,{icon:"ellipsis",label:u.a._("Other actions","profileHeader.actionBar.overflow","Accessibility label for button to open other options flyout")},()=>o.a.createElement(s.a,{label:u.a._("Board options","profileHeader.actionBar.overflow.header","Accessibility label header for board options flyout")},f&&b&&o.a.createElement(c.a,{onClick:()=>{b()}},u.a._("Edit","BoardPage.ActionBar.PartnerEdit","Clickable text to enter board editing mode")),f&&n&&m&&o.a.createElement(c.a,{onClick:()=>{m()}},u.a._("Create Pincode","BoardPage.ActionBar.PartnerPincode","Clickable text to trigger Pincode modal")),v&&g&&o.a.createElement(d.a,{board:t,onCreatePincode:m,onOpen:g},({onClick:e})=>o.a.createElement(c.a,{onClick:e},u.a._("Share","BoardPage.ActionBar.EllipsisButton","Button caption to share board"))),y&&o.a.createElement(o.a.Fragment,null,C?o.a.createElement(c.a,{onClick:D},u.a._("Unfollow","BoardPage.ActionBar.EllipsisButton","Button caption to unfollow board")):o.a.createElement(c.a,{onClick:D},u.a._("Follow","BoardPage.ActionBar.EllipsisButton","Button caption to follow board")))))}},FF6m:function(e,t,n){n.d(t,"a",(function(){return i}));var r=n("q1tI"),o=n.n(r);function i(e){const{name:t,resourceDependencies:n=(()=>[])}=e;return function(e){function r(t){return o.a.createElement(e,t)}return r.WrappedComponent=e,r.routeName=t,r.displayName="StaticRouteData",r.getResourceDependencies=n,r}}},FcOR:function(e,t,n){e.exports={logBlockedSelectionEvent:function(){return null},logSelectionStateFailure:function(){return null}}},FeGr:function(e,t,n){(function(t){function n(e){o.length||(r(),!0),o[o.length]=e}e.exports=n;var r,o=[],i=0;function a(){for(;i<o.length;){var e=i;if(i+=1,o[e].call(),i>1024){for(var t=0,n=o.length-i;t<n;t++)o[t]=o[t+i];o.length-=i,i=0}}o.length=0,i=0,!1}var s,c,l,u=void 0!==t?t:self,d=u.MutationObserver||u.WebKitMutationObserver;function h(e){return function(){var t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}"function"==typeof d?(s=1,c=new d(a),l=document.createTextNode(""),c.observe(l,{characterData:!0}),r=function(){s=-s,l.data=s}):r=h(a),n.requestFlush=r,n.makeRequestCallFromTimer=h}).call(this,n("yLpj"))},FylZ:function(e,t,n){function r(){let e="";for(let t=0;t<16;t+=1){e+="0123456789abcdef"[Math.floor(16*Math.random())]}return e}n.d(t,"a",(function(){return r}))},G3O9:function(e,t,n){e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},G6B4:function(e,t,n){var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n("JQRy"),i=n("+jF9"),a=n("jaOL"),s=n("pWuj"),c=n("lihF"),l=n("LTlA");t.default=function(e,t){return void 0===e&&(e={}),{dirtyHandlerIds:s.default(e.dirtyHandlerIds,{type:t.type,payload:r({},t.payload,{prevTargetIds:l.get(e,"dragOperation.targetIds",[])})}),dragOffset:o.default(e.dragOffset,t),refCount:a.default(e.refCount,t),dragOperation:i.default(e.dragOperation,t),stateId:c.default(e.stateId)}}},G8fK:function(e,t,n){function r(e){return{type:"SET_MAIN_COMPONENT",payload:{name:e}}}function o(e){return{type:"SET_INIT_MAIN_COMPONENT",payload:{name:e}}}function i(e,t){return{type:"SET_LOCATION_TO_ERROR_MAP_ENTRY",payload:{pathname:e,renderError:t}}}function a(e){return{type:"UNSET_LOCATION_TO_ERROR_MAP_ENTRY",payload:{pathname:e}}}n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},GBVV:function(e,t,n){n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var r=n("q1tI"),o=n.n(r),i=n("n6mq");const a={__style:{margin:"0 10px",borderRight:"3px solid transparent",borderTop:"3px solid #fff",animation:"spin .8s linear infinite"}};function s(){return o.a.createElement(i.e,{alignItems:"center",color:"red",display:"flex",height:"100%",justifyContent:"center",position:"absolute",width:"100%",rounding:8},o.a.createElement(i.e,{dangerouslySetInlineStyle:a,display:"inlineBlock",height:18,position:"relative",rounding:"circle",width:18}))}function c({disabled:e,name:t,onClick:n,size:r,submitting:a,text:c}){return o.a.createElement(i.e,{display:"flex",position:"relative"},a&&o.a.createElement(s,null),o.a.createElement(i.f,{color:"red",disabled:e||a,inline:!0,name:t,onClick:n,size:r,type:"submit",text:c}))}},"GFC/":function(e,t,n){n.d(t,"a",(function(){return c}));var r=n("q1tI"),o=n.n(r),i=n("gmhe"),a=n("Ye/N"),s=n("n6mq");function c({children:e,dataTestId:t,icon:n,onClick:r,url:c}){let l;"selected"===n?l=o.a.createElement(s.t,{accessibilityLabel:a.a._("Selected option","flyoutMenu.selectedOptionCheckmark","Accessibility label for checkmark icon indicating which option is currently selected"),color:"darkGray",icon:"check",inline:!0}):"externalLink"===n&&(l=o.a.createElement(s.t,{accessibilityLabel:a.a._("External link","header.accountsOptionsMenu.externalLinkIcon","Accessibility label for icon indicating a menu item opens an external link"),color:"darkGray",icon:"arrow-up-right",inline:!0,size:12}));const u="string"==typeof e?o.a.createElement(s.e,{maxWidth:l?230:void 0},o.a.createElement(s.V,{weight:"bold"},e)):e;return o.a.createElement(s.e,{"data-test-id":t,role:"listitem"},o.a.createElement(i.a,{isExternalUrl:"externalLink"===n,onClick:r,url:c},o.a.createElement(s.e,{alignItems:"center",display:"flex",justifyContent:"between",minHeight:35,paddingX:2,rounding:2},u,l&&o.a.createElement(s.e,{flex:"none",marginStart:"auto"},l))))}},GMIm:function(e,t,n){var r=n("GyOf");e.exports=function(e){return!(!e||!e.ownerDocument)&&(r(e)&&"IMG"===e.nodeName)}},GNiM:function(e,t,n){var r=n("I01J"),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)})),t}));e.exports=a},GQ6P:function(e,t,n){var r=n("mFyV");e.exports=function(e){return function(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}(e)?Array.isArray(e)?e.slice():function(e){var t=e.length;if((Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e)&&r(!1),"number"!=typeof t&&r(!1),0===t||t-1 in e||r(!1),"function"==typeof e.callee&&r(!1),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(i){}for(var n=Array(t),o=0;o<t;o++)n[o]=e[o];return n}(e):[e]}},GXbk:function(e,t,n){var r=n("Dh3H"),o=n("nnOA");e.exports=function(e){var t=r(e.ownerDocument||e.document);e.Window&&e instanceof e.Window&&(e=t);var n=o(e),i=e===t?e.ownerDocument.documentElement:e,a=e.scrollWidth-i.clientWidth,s=e.scrollHeight-i.clientHeight;return n.x=Math.max(0,Math.min(n.x,a)),n.y=Math.max(0,Math.min(n.y,s)),n}},Gn5D:function(e,t,n){e.exports={notEmptyKey:function(e){return null!=e&&""!=e}}},GoyQ:function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},GyOf:function(e,t,n){e.exports=function(e){return!(!e||!e.ownerDocument)&&e.nodeType===Node.ELEMENT_NODE}},Gytx:function(e,t){e.exports=function(e,t,n,r){var o=n?n.call(r,e,t):void 0;if(void 0!==o)return!!o;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),c=0;c<i.length;c++){var l=i[c];if(!s(l))return!1;var u=e[l],d=t[l];if(!1===(o=n?n.call(r,u,d,l):void 0)||void 0===o&&u!==d)return!1}return!0}},H3Jb:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("q1tI"),o=n("4vzw"),i=n("/acK"),a=n("nrB0"),s=n("nwWm"),c=n("2S0S");t.useDragSourceMonitor=function(){var e=i.useDragDropManager();return[r.useMemo((function(){return new a.default(e)}),[e]),r.useMemo((function(){return new s.default(e.getBackend())}),[e])]},t.useDragHandler=function(e,t,n){var a=i.useDragDropManager(),s=r.useMemo((function(){return{beginDrag:function(){var n=e.current,r=n.begin,o=n.item;if(r){var i=r(t);return c(null==i||"object"==typeof i,"dragSpec.begin() must either return an object, undefined, or null"),i||o||{}}return o||{}},canDrag:function(){return"boolean"==typeof e.current.canDrag?e.current.canDrag:"function"!=typeof e.current.canDrag||e.current.canDrag(t)},isDragging:function(n,r){var o=e.current.isDragging;return o?o(t):r===n.getSourceId()},endDrag:function(){var r=e.current.end;r&&r(t.getItem(),t),n.reconnect()}}}),[]);r.useEffect((function(){var r=o.default(e.current.item.type,s,a),i=r[0],c=r[1];return t.receiveHandlerId(i),n.receiveHandlerId(i),c}),[])}},HCyo:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("mc7v"),o=n("QIuh"),i=n("YuQ1"),a=n("QLaP"),s=function(){function e(e,t){this.store=e,this.registry=t}return e.prototype.subscribeToStateChange=function(e,t){var n=this;void 0===t&&(t={handlerIds:void 0});var r=t.handlerIds;a("function"==typeof e,"listener must be a function."),a(void 0===r||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");var o=this.store.getState().stateId;return this.store.subscribe((function(){var t=n.store.getState(),a=t.stateId;try{a===o||a===o+1&&!i.areDirty(t.dirtyHandlerIds,r)||e()}finally{o=a}}))},e.prototype.subscribeToOffsetChange=function(e){var t=this;a("function"==typeof e,"listener must be a function.");var n=this.store.getState().dragOffset;return this.store.subscribe((function(){var r=t.store.getState().dragOffset;r!==n&&(n=r,e())}))},e.prototype.canDragSource=function(e){if(!e)return!1;var t=this.registry.getSource(e);return a(t,"Expected to find a valid source."),!this.isDragging()&&t.canDrag(this,e)},e.prototype.canDropOnTarget=function(e){if(!e)return!1;var t=this.registry.getTarget(e);if(a(t,"Expected to find a valid target."),!this.isDragging()||this.didDrop())return!1;var n=this.registry.getTargetType(e),o=this.getItemType();return r.default(n,o)&&t.canDrop(this,e)},e.prototype.isDragging=function(){return Boolean(this.getItemType())},e.prototype.isDraggingSource=function(e){if(!e)return!1;var t=this.registry.getSource(e,!0);return a(t,"Expected to find a valid source."),!(!this.isDragging()||!this.isSourcePublic())&&(this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e))},e.prototype.isOverTarget=function(e,t){if(void 0===t&&(t={shallow:!1}),!e)return!1;var n=t.shallow;if(!this.isDragging())return!1;var o=this.registry.getTargetType(e),i=this.getItemType();if(i&&!r.default(o,i))return!1;var a=this.getTargetIds();if(!a.length)return!1;var s=a.indexOf(e);return n?s===a.length-1:s>-1},e.prototype.getItemType=function(){return this.store.getState().dragOperation.itemType},e.prototype.getItem=function(){return this.store.getState().dragOperation.item},e.prototype.getSourceId=function(){return this.store.getState().dragOperation.sourceId},e.prototype.getTargetIds=function(){return this.store.getState().dragOperation.targetIds},e.prototype.getDropResult=function(){return this.store.getState().dragOperation.dropResult},e.prototype.didDrop=function(){return this.store.getState().dragOperation.didDrop},e.prototype.isSourcePublic=function(){return this.store.getState().dragOperation.isSourcePublic},e.prototype.getInitialClientOffset=function(){return this.store.getState().dragOffset.initialClientOffset},e.prototype.getInitialSourceClientOffset=function(){return this.store.getState().dragOffset.initialSourceClientOffset},e.prototype.getClientOffset=function(){return this.store.getState().dragOffset.clientOffset},e.prototype.getSourceClientOffset=function(){return o.getSourceClientOffset(this.store.getState().dragOffset)},e.prototype.getDifferenceFromInitialOffset=function(){return o.getDifferenceFromInitialOffset(this.store.getState().dragOffset)},e}();t.default=s},HEBY:function(e,t,n){var r=n("3sOJ"),o=n("HezI"),i=n("ISee"),a=n("kWjT"),s=n("8d//");e.exports=function(e,t){var n=s(e,(function(e){var n=e.getSelection();if(n.isCollapsed()&&0===n.getAnchorOffset())return a(e,1);var r=t.currentTarget.ownerDocument.defaultView.getSelection().getRangeAt(0);return r=o(r),i(e,null,r.endContainer,r.endOffset,r.startContainer,r.startOffset).selectionState}),"backward");return n===e.getCurrentContent()?e:r.push(e,n,"remove-range")}},HKS5:function(e,t,n){(function(t){var r=n("mFyV"),o=/\.textClipping$/,i={"text/plain":!0,"text/html":!0,"text/rtf":!0};e.exports=function(e,n){var a=0,s=[];e.forEach((function(c){!function(e,n){if(!t.FileReader||e.type&&!(e.type in i))return void n("");if(""===e.type){var a="";return o.test(e.name)&&(a=e.name.replace(o,"")),void n(a)}var s=new FileReader;s.onload=function(){var e=s.result;"string"!=typeof e&&r(!1),n(e)},s.onerror=function(){n("")},s.readAsText(e)}(c,(function(t){a++,t&&s.push(t.slice(0,5e3)),a==e.length&&n(s.join("\r"))}))}))}}).call(this,n("yLpj"))},HLqC:function(e,t,n){var r=n("R5Y4"),o=n("mv/X"),i=n("ZCgT");e.exports=function(e){return function(t,n,a){return a&&"number"!=typeof a&&o(t,n,a)&&(n=a=void 0),t=i(t),void 0===n?(n=t,t=0):n=i(n),a=void 0===a?t<n?1:-1:i(a),r(t,n,a,e)}}},HNpt:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=0;t.default=function(){return r++}},Hdlu:function(e,t,n){var r=n("q1tI"),o=n("pXmp"),i=function(e){var t,n;function i(){return e.apply(this,arguments)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=i.prototype;return a.shouldComponentUpdate=function(e){return this.props.text!==e.text||this.props.editorState.getSelection().getHasFocus()!==e.editorState.getSelection().getHasFocus()},a.render=function(){var e=this.props.editorState.getSelection().getHasFocus(),t=o({"public/DraftEditorPlaceholder/root":!0,"public/DraftEditorPlaceholder/hasFocus":e});return r.createElement("div",{className:t},r.createElement("div",{className:o("public/DraftEditorPlaceholder/inner"),id:this.props.accessibilityID,style:{whiteSpace:"pre-wrap"}},this.props.text))},i}(r.Component);e.exports=i},HezI:function(e,t,n){var r=n("y5P+"),o=n("F09w"),i=n("158f"),a=n("mFyV");function s(e,t){for(var n=1/0,r=1/0,o=-1/0,i=-1/0,a=0;a<e.length;a++){var s=e[a];0!==s.width&&1!==s.width&&(n=Math.min(n,s.top),r=Math.min(r,s.bottom),o=Math.max(o,s.top),i=Math.max(i,s.bottom))}return o<=r&&o-n<t&&i-r<t}function c(e){switch(e.nodeType){case Node.DOCUMENT_TYPE_NODE:return 0;case Node.TEXT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.COMMENT_NODE:return e.length;default:return e.childNodes.length}}e.exports=function(e){e.collapsed||a(!1);var t=(e=e.cloneRange()).startContainer;1!==t.nodeType&&(t=t.parentNode);var n=function(e){var t=getComputedStyle(e),n=o(e),r=n.createElement("div");r.style.fontFamily=t.fontFamily,r.style.fontSize=t.fontSize,r.style.fontStyle=t.fontStyle,r.style.fontWeight=t.fontWeight,r.style.lineHeight=t.lineHeight,r.style.position="absolute",r.textContent="M";var i=n.body;i||a(!1),i.appendChild(r);var s=r.getBoundingClientRect();return i.removeChild(r),s.height}(t),l=e.endContainer,u=e.endOffset;for(e.setStart(e.startContainer,0);s(i(e),n)&&(l=e.startContainer,u=e.startOffset,l.parentNode||a(!1),e.setStartBefore(l),1!==l.nodeType||"inline"===getComputedStyle(l).display););for(var d=l,h=u-1;;){for(var p=d.nodeValue,f=h;f>=0;f--)if(!(null!=p&&f>0&&r.isSurrogatePair(p,f-1))){if(e.setStart(d,f),!s(i(e),n))break;l=d,u=f}if(-1===f||0===d.childNodes.length)break;h=c(d=d.childNodes[f])}return e.setStart(l,u),e}},Hpvj:function(e,t,n){e.exports=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}},HriT:function(e,t,n){var r=new RegExp("\r","g");e.exports=function(e){return e.replace(r,"")}},"Hz/G":function(e,t,n){n.d(t,"a",(function(){return s}));var r=n("U4JR");var o=n("eOdZ");var i=n("zpPL"),a=n("t3tn");function s({boardDensity:e,component:t,surface:n,viewType:s}){!function({boardDensity:e,component:t,viewType:n}){const o=function({boardDensity:e,viewType:t}){switch(t){case 164:return"regular"===e?10618:10619;case 5:return"regular"===e?10607:10608;default:return 10607}}({boardDensity:e,viewType:n}),i=4===n?3106:3069;Object(r.a)(101,{component:t,element:o,...n?{view:n,viewParameter:i}:{}})}({boardDensity:e,component:t,viewType:s}),function({density:e,surface:t}){const n="board"===t?{profile_pin_rep_view_type:e}:{board_pin_rep_view_type:e};o.a.create("UserMetadataResource",n).callUpdate()}({density:e,surface:n}),function({density:e,surface:t}){const n="board"===t?a.a:a.d;i.a.instance.dispatch(n(e))}({density:e,surface:n})}},I01J:function(e,t,n){var r=n("44Ds");e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},I2Ug:function(e,t,n){var r=n("JL7T"),o=n("VTBg"),i=n("zVay"),a=n("mFyV"),s=i.OrderedMap,c=i.List,l=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}},u=function(e,t,n,r,o){if(!o)return e;var i="after"===r,a=t.getKey(),s=n.getKey(),u=t.getParentKey(),d=t.getNextSiblingKey(),h=t.getPrevSiblingKey(),p=n.getParentKey(),f=i?n.getNextSiblingKey():s,m=i?s:n.getPrevSiblingKey();return e.withMutations((function(e){l(u,e,(function(e){var t=e.getChildKeys();return e.merge({children:t.delete(t.indexOf(a))})})),l(h,e,(function(e){return e.merge({nextSibling:d})})),l(d,e,(function(e){return e.merge({prevSibling:h})})),l(f,e,(function(e){return e.merge({prevSibling:a})})),l(m,e,(function(e){return e.merge({nextSibling:a})})),l(p,e,(function(e){var t=e.getChildKeys(),n=t.indexOf(s),r=i?n+1:0!==n?n-1:0,o=t.toArray();return o.splice(r,0,a),e.merge({children:c(o)})})),l(a,e,(function(e){return e.merge({nextSibling:f,prevSibling:m,parent:p})}))}))};e.exports=function(e,t,n,i){"replace"===i&&a(!1);var c=n.getKey(),l=t.getKey();l===c&&a(!1);var d=e.getBlockMap(),h=t instanceof r,p=[t],f=d.delete(l);h&&(p=[],f=d.withMutations((function(e){var n=t.getNextSiblingKey(),r=o(t,e);e.toSeq().skipUntil((function(e){return e.getKey()===l})).takeWhile((function(e){var t=e.getKey(),o=t===l,i=n&&t!==n,a=!n&&e.getParentKey()&&(!r||t!==r);return!!(o||i||a)})).forEach((function(t){p.push(t),e.delete(t.getKey())}))})));var m=f.toSeq().takeUntil((function(e){return e===n})),g=f.toSeq().skipUntil((function(e){return e===n})).skip(1),b=p.map((function(e){return[e.getKey(),e]})),y=s();if("before"===i){var v=e.getBlockBefore(c);v&&v.getKey()===t.getKey()&&a(!1),y=m.concat([].concat(b,[[c,n]]),g).toOrderedMap()}else if("after"===i){var _=e.getBlockAfter(c);_&&_.getKey()===l&&a(!1),y=m.concat([[c,n]].concat(b),g).toOrderedMap()}return e.merge({blockMap:u(y,t,n,i,h),selectionBefore:e.getSelectionAfter(),selectionAfter:e.getSelectionAfter().merge({anchorKey:l,focusKey:l})})}},IBrh:function(e,t,n){n.d(t,"a",(function(){return c}));var r=n("q1tI"),o=n.n(r),i=n("mEMi"),a=(n("9QW3"),n("n6mq"));function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends o.a.Component{constructor(e){super(e),s(this,"setSelectedItemRef",e=>{this.selectedItemRef=e}),s(this,"handleIndexUpdate",e=>{const{indexManager:t}=this.props;this.setState({selectedIndex:t.getIndex(),selectionMovedByKeyboard:!!e})}),s(this,"handleSelectItem",e=>()=>{const{disabled:t,onSelectItem:n}=this.props;t||n(e)}),s(this,"handleMouseEnter",e=>()=>{const{disabled:t,indexManager:n}=this.props;t||n.updateIndex(e)}),s(this,"handleMouseLeave",()=>{const{disabled:e,indexManager:t}=this.props;e||t.setInactive()}),s(this,"renderItems",(e,t)=>{const{renderItem:n}=this.props,{selectedIndex:r}=this.state,{row:i,section:s}=r||{},{customProps:c={},items:l,renderItem:u}=e,{isDisabled:d=(e=>!1)}=c,h=t===s,p=u||n;return p&&l.map((e,n)=>{const r=d(e),s={section:t,row:n},l=h&&n===i;return o.a.createElement(a.e,{"data-test-id":"board-selection",key:n,ref:!r&&l?this.setSelectedItemRef:null},r?p({item:e,hovered:l,sectionProps:c}):o.a.createElement(a.U,{fullWidth:!1,onMouseEnter:this.handleMouseEnter(s),onMouseLeave:this.handleMouseLeave,onTap:this.handleSelectItem(e),rounding:2},p({item:e,hovered:l,sectionProps:c})))})}),s(this,"renderSections",()=>{const{renderSectionHeader:e,sections:t}=this.props;return t.map((t,n)=>o.a.createElement(a.e,{key:n},e&&e(t,n),this.renderItems(t,n)))});const{indexManager:t}=this.props;this.state={selectedIndex:t.getIndex(),selectionMovedByKeyboard:!1},t.setUpdateCallback(this.handleIndexUpdate)}componentDidUpdate(e){const{containerRef:t}=this;if(this.selectedItemRef&&this.state.selectionMovedByKeyboard&&t){const e=this.selectedItemRef;if(!(e instanceof HTMLElement))return;const n=e.getBoundingClientRect(),r=n.top,o=n.bottom,i=t.getBoundingClientRect(),a=i.top;o>=i.bottom?e.scrollIntoView(!1):r<=a&&e.scrollIntoView(!0)}e.indexManager!==this.props.indexManager&&this.props.indexManager.setUpdateCallback(this.handleIndexUpdate)}render(){const{grow:e=!1,maxHeight:t,fetchMore:n}=this.props;return o.a.createElement(i.a,{fetchMore:n},({setRef:n,onScroll:r})=>o.a.createElement(a.e,{flex:e?"grow":void 0,height:e?"100%":void 0,maxHeight:t,onScroll:r,overflow:"auto",ref:e=>{this.containerRef=e,n(e)}},this.renderSections()))}}},"IEa/":function(e,t,n){var r=n("FeGr"),o=[],i=[],a=r.makeRequestCallFromTimer((function(){if(i.length)throw i.shift()}));function s(e){var t;(t=o.length?o.pop():new c).task=e,r(t)}function c(){this.task=null}e.exports=s,c.prototype.call=function(){try{this.task.call()}catch(e){s.onerror?s.onerror(e):(i.push(e),a())}finally{this.task=null,o[o.length]=this}}},IRZy:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("QWk2"),o=n("TT16"),i=n("Gytx"),a=function(){function e(e){var t=this;this.backend=e,this.hooks=r.default({dropTarget:function(e,n){t.dropTargetOptions=n,o.isRef(e)?t.dropTargetRef=e:t.dropTargetNode=e,t.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null}return Object.defineProperty(e.prototype,"connectTarget",{get:function(){return this.dropTarget},enumerable:!0,configurable:!0}),e.prototype.reconnect=function(){var e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();var t=this.dropTarget;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions)):this.lastConnectedDropTarget=t)},e.prototype.receiveHandlerId=function(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())},Object.defineProperty(e.prototype,"dropTargetOptions",{get:function(){return this.dropTargetOptionsInternal},set:function(e){this.dropTargetOptionsInternal=e},enumerable:!0,configurable:!0}),e.prototype.didHandlerIdChange=function(){return this.lastConnectedHandlerId!==this.handlerId},e.prototype.didDropTargetChange=function(){return this.lastConnectedDropTarget!==this.dropTarget},e.prototype.didOptionsChange=function(){return!i(this.lastConnectedDropTargetOptions,this.dropTargetOptions)},e.prototype.disconnectDropTarget=function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)},Object.defineProperty(e.prototype,"dropTarget",{get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current},enumerable:!0,configurable:!0}),e}();t.default=a},ISR0:function(e,t,n){var r=n("grng"),o=n("fyOY"),i=n("3sOJ"),a=n("kc9Y"),s=n("F09w"),c=n("HKS5"),l=n("5RSi"),u=n("WaGC"),d=n("T401"),h=n("qysv");var p={onDragEnd:function(e){e.exitCurrentMode(),f(e)},onDrop:function(e,t){var n=new r(t.nativeEvent.dataTransfer),u=e._latestEditorState,p=function(e,t){var n=null,r=null,o=s(e.currentTarget);if("function"==typeof o.caretRangeFromPoint){var i=o.caretRangeFromPoint(e.x,e.y);n=i.startContainer,r=i.startOffset}else{if(!e.rangeParent)return null;n=e.rangeParent,r=e.rangeOffset}n=h(n),r=h(r);var c=h(a(n));return l(t,c,r,c,r)}(t.nativeEvent,u);if(t.preventDefault(),e._dragCount=0,e.exitCurrentMode(),null!=p){var g=n.getFiles();if(g.length>0){if(e.props.handleDroppedFiles&&d(e.props.handleDroppedFiles(p,g)))return;c(g,(function(t){t&&e.update(m(u,p,t))}))}else{var b=e._internalDrag?"internal":"external";e.props.handleDrop&&d(e.props.handleDrop(p,n,b))||(e._internalDrag?e.update(function(e,t){var n=o.moveText(e.getCurrentContent(),e.getSelection(),t);return i.push(e,n,"insert-fragment")}(u,p)):e.update(m(u,p,n.getText()))),f(e)}}}};function f(e){e._internalDrag=!1;var t=e.editorContainer;if(t){var n=new MouseEvent("mouseup",{view:u(t),bubbles:!0,cancelable:!0});t.dispatchEvent(n)}}function m(e,t,n){var r=o.insertText(e.getCurrentContent(),t,n,e.getCurrentInlineStyle());return i.push(e,r,"insert-fragment")}e.exports=p},ISee:function(e,t,n){var r=n("kc9Y"),o=n("zORg"),i=n("5RSi"),a=n("mFyV"),s=n("GyOf"),c=n("qysv");function l(e,t,n){var i=t,l=r(i);(null!=l||e&&(e===i||e.firstChild===i)||a(!1),e===i)&&(i=i.firstChild,s(i)||a(!1),"true"!==(i=i).getAttribute("data-contents")&&a(!1),n>0&&(n=i.childNodes.length));if(0===n){var d=null;if(null!=l)d=l;else{var h=function(e){for(;e.firstChild&&(s(e.firstChild)&&"true"===e.firstChild.getAttribute("data-blocks")||o(e.firstChild));)e=e.firstChild;return e}(i);d=c(o(h))}return{key:d,offset:0}}var p=i.childNodes[n-1],f=null,m=null;if(o(p)){var g=function(e){for(;e.lastChild&&(s(e.lastChild)&&"true"===e.lastChild.getAttribute("data-blocks")||o(e.lastChild));)e=e.lastChild;return e}(p);f=c(o(g)),m=u(g)}else f=c(l),m=u(p);return{key:f,offset:m}}function u(e){var t=e.textContent;return"\n"===t?0:t.length}e.exports=function(e,t,n,o,a,s){var u=n.nodeType===Node.TEXT_NODE,d=a.nodeType===Node.TEXT_NODE;if(u&&d)return{selectionState:i(e,c(r(n)),o,c(r(a)),s),needsRecovery:!1};var h=null,p=null,f=!0;return u?(h={key:c(r(n)),offset:o},p=l(t,a,s)):d?(p={key:c(r(a)),offset:s},h=l(t,n,o)):(h=l(t,n,o),p=l(t,a,s),n===a&&o===s&&(f=!!n.firstChild&&"BR"!==n.firstChild.nodeName)),{selectionState:i(e,h.key,h.offset,p.key,p.offset),needsRecovery:f}}},Idtq:function(e,t,n){var r=n("cwFY")("draft_tree_data_support");e.exports=n(r?"YrFj":"Y3PQ")},IeEU:function(e,t,n){n.d(t,"a",(function(){return a}));var r=n("/MKj");const o=[1000069,1000075],i={};function a(e){return Object(r.connect)(e=>{return{lfvExperiences:(t=e.experiences.eligibleExperiences,o.forEach(e=>{!t[e]||void 0!==i[e]&&i[e].id===t[e].id||(i[e]=t[e])}),i)};var t})(e)}},Iq8E:function(e,t,n){var r="-",o={encode:function(e,t,n){return e+r+t+r+n},decode:function(e){var t=e.split(r).reverse(),n=t[0],o=t[1];return{blockKey:t.slice(2).reverse().join(r),decoratorKey:parseInt(o,10),leafKey:parseInt(n,10)}}};e.exports=o},IqbG:function(e,t,n){e.exports=function(e){var t=(e?e.ownerDocument||e:document).defaultView||window;return!(!e||!("function"==typeof t.Node?e instanceof t.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}},"J/d7":function(e,t,n){n.d(t,"a",(function(){return g}));var r=n("q1tI"),o=n.n(r),i=n("/MKj"),a=n("YGxj"),s=n("Ye/N"),c=n("n6mq");function l(e){const{anchor:t,experienceType:n,hideAddSectionTooltip:r}=e,i="addSectionTooltip"===n?o.a.createElement(c.q,{anchor:t,color:"blue",idealDirection:"down",onDismiss:r,positionRelativeToAnchor:!1,showCaret:!0,size:"sm"},o.a.createElement(c.e,{padding:4},o.a.createElement(c.V,{color:"white",weight:"bold"},s.a._("Tap + to add a section any time","boardActionsButton.addIconButton.addSectionFlyout","Flyout to point out where you can find add section")))):o.a.createElement(a.a,{anchor:t,experienceIds:[502096],idealDirection:"down",placementId:18,positionRelativeToAnchor:!1,showCaret:!0});return o.a.createElement(c.x,null,o.a.createElement(c.e,{dangerouslySetInlineStyle:{__style:{zIndex:5e3}},position:"absolute",top:!0},i))}var u=n("+nTX"),d=n("s6a/"),h=n("GFC/"),p=n("4cpq");function f({anchor:e,idealDirection:t,onAddOrEditDate:n,onAddSection:i,onClose:a,onCreateBoard:c,onCreatePin:l,surface:f}){return o.a.createElement(u.a,{anchor:e,idealDirection:t,onDismiss:a},o.a.createElement(r.Fragment,null,o.a.createElement(d.a,{label:s.a._("Create","BoardActionsButton.LegoFlyout.Create","Label for a list of options to create a pin or a section")},o.a.createElement(h.a,{dataTestId:"Create Pin",onClick:()=>{l(),a()}},s.a._("Pin","BoardActionsButton.LegoFlyout.Pin","Option to create a pin")),"profileBoards"===f&&c&&o.a.createElement(h.a,{dataTestId:"Create board",onClick:()=>{c(),a()}},s.a._("Board","profileHeader.actionBar.board","Option to create a board"))),"board"===f&&o.a.createElement(d.a,{label:s.a._("Add","BoardActionsButton.LegoFlyout.Add","Label for a list of options to add board sections or a board date")},"board"===f&&i&&o.a.createElement(p.a,{id:"addSection"},o.a.createElement(h.a,{onClick:()=>{i(),a()}},s.a._("Section","BoardActionsButton.LegoFlyout.Section","Option to create a board section"))),"board"===f&&!!n&&o.a.createElement(h.a,{onClick:()=>{n(),a()}},s.a._("Date","BoardActionsButton.LegoFlyout.Date","Option to add a date to a board")))))}var m=n("shej");function g({children:e,idealDirection:t,onAddOrEditDate:n,onAddSection:a,onCreateBoard:u,onCreatePin:d,onOpen:h=(()=>{}),surface:p}){const g=Object(i.useDispatch)(),b=()=>g(Object(m.a)()),y=Object(i.useSelector)(({createSectionTooltip:e})=>Boolean(null==e?void 0:e.showCreateSectionTooltip)),v=Object(r.useRef)(),[_,E]=Object(r.useState)(!1),S=()=>{h(),y&&b(),E(!0)},w={board:s.a._("Board Actions","button that allows user view actions on a board such as add section, create pin, create pincode, and create widget","button that allows user view actions on a board such as add section, create pin, create pincode, and create widget"),profileBoards:s.a._("Profile Actions","profileHeader.actionBar.createButton","Button on user's profile to open flyout with options to create a pin or a board"),profilePins:s.a._("Profile Actions","profileHeader.actionBar.createButton","Button on user's profile to open flyout with options to create a pin or a board"),section:s.a._("Create Pin","Button to begin pin creation flow","Button to begin pin creation flow")},C=e&&e({active:_,openFlyout:S})||o.a.createElement(c.u,{accessibilityLabel:w[p],icon:"add",onClick:"section"===p?d:S,size:"lg"});let O;return _||"board"!==p||(y?O="addSectionTooltip":n&&(O="planningActionsExperience")),o.a.createElement(c.e,{"data-test-id":"boardActionsButton"},o.a.createElement(c.e,{ref:v},C),_&&o.a.createElement(f,{anchor:v.current,idealDirection:t,onAddOrEditDate:n,onAddSection:a,onClose:()=>E(!1),onCreateBoard:u,onCreatePin:d,surface:p}),O&&o.a.createElement(l,{anchor:v.current,experienceType:O,hideAddSectionTooltip:b}))}},J8Pj:function(e,t,n){n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"e",(function(){return s}));const r=350,o=316,i=370,a=2,s=235},JBUN:function(e,t,n){var r={"./":["dH2W"],"./CZ":["B5Bz",312],"./CZ.js":["B5Bz",312],"./DA":["Gi0d",313],"./DA.js":["Gi0d",313],"./DE":["gu28",314],"./DE.js":["gu28",314],"./ENUK":["XnQI",315],"./ENUK.js":["XnQI",315],"./ENUS":["AWLv",316],"./ENUS.js":["AWLv",316],"./ESAR":["REmk",317],"./ESAR.js":["REmk",317],"./ESES":["wsSg",318],"./ESES.js":["wsSg",318],"./ESMX":["1BwC",319],"./ESMX.js":["1BwC",319],"./FI":["2A7Q",320],"./FI.js":["2A7Q",320],"./FR":["cYI+",321],"./FR.js":["cYI+",321],"./GR":["GRYs",322],"./GR.js":["GRYs",322],"./HI":["VJRD",323],"./HI.js":["VJRD",323],"./HU":["ruI3",324],"./HU.js":["ruI3",324],"./ID":["qOEt",325],"./ID.js":["qOEt",325],"./IT":["Bq0h",326],"./IT.js":["Bq0h",326],"./JP":["zJe/",327],"./JP.js":["zJe/",327],"./KR":["8fMJ",328],"./KR.js":["8fMJ",328],"./MS":["BOEg",329],"./MS.js":["BOEg",329],"./NL":["0gKe",330],"./NL.js":["0gKe",330],"./NO":["PiZp",331],"./NO.js":["PiZp",331],"./PL":["+Fv7",332],"./PL.js":["+Fv7",332],"./PTBR":["Ortd",333],"./PTBR.js":["Ortd",333],"./PTPT":["Yqrn",334],"./PTPT.js":["Yqrn",334],"./RO":["6YHy",335],"./RO.js":["6YHy",335],"./RU":["Pvfl",336],"./RU.js":["Pvfl",336],"./SK":["Lc4P",337],"./SK.js":["Lc4P",337],"./SV":["JVoV",338],"./SV.js":["JVoV",338],"./TH":["7T3W",339],"./TH.js":["7T3W",339],"./TL":["2ndg",340],"./TL.js":["2ndg",340],"./TR":["3+7V",341],"./TR.js":["3+7V",341],"./UA":["0Qy6",342],"./UA.js":["0Qy6",342],"./VT":["gfny",343],"./VT.js":["gfny",343],"./ZHCN":["lT6v",344],"./ZHCN.js":["lT6v",344],"./ZHTW":["yMH2",345],"./ZHTW.js":["yMH2",345],"./index":["dH2W"],"./index.js":["dH2W"]};function o(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],o=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(o)}))}o.keys=function(){return Object.keys(r)},o.id="JBUN",e.exports=o},"JI+E":function(e,t,n){var r=n("3sOJ"),o=n("W5AS"),i=n("7Nlx");e.exports=function(e,t){var n=t.currentTarget.ownerDocument;if(!Boolean(e.props.preserveSelectionOnBlur)&&i(n)===n.body){var a=n.defaultView.getSelection(),s=e.editor;1===a.rangeCount&&o(s,a.anchorNode)&&o(s,a.focusNode)&&a.removeAllRanges()}var c=e._latestEditorState,l=c.getSelection();if(l.getHasFocus()){var u=l.set("hasFocus",!1);e.props.onBlur&&e.props.onBlur(t),e.update(r.acceptSelection(c,u))}}},JKZO:function(e,t,n){var r=n("q1tI"),o=n.n(r),i=n("nokP"),a=n.n(i),s=n("yeYm"),c=n.n(s),l=n("clxp"),u=n("Cufx"),d=n("Ye/N"),h=n("n6mq");var p=e=>{const{id:t,isFocused:n,onMouseDown:r,onMouseEnter:i,onMouseUp:a,mention:s,role:c,searchValue:l}=e;return o.a.createElement("div",{id:t,onMouseDown:r,onMouseEnter:i,onMouseUp:a,searchvalue:l,role:c},o.a.createElement(h.e,{display:"flex",alignItems:"center",color:n?"lightGray":"transparent",rounding:4,dangerouslySetInlineStyle:{__style:{cursor:"pointer"}}},o.a.createElement(h.e,{padding:1},o.a.createElement(u.a,{accessibilityLabel:"",name:s.full_name,size:"sm",src:s.image_medium_url,verified:s.verified_identity&&s.verified_identity.verified})),o.a.createElement(h.e,{marginStart:2,marginEnd:2,overflow:"hidden"},o.a.createElement(h.V,{truncate:!0,weight:"bold",color:"darkGray"},s.full_name),o.a.createElement(h.e,{dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}}},o.a.createElement(h.V,{size:"sm",color:"darkGray"},s.username,s.explicitly_followed_by_me&&" • "+d.a._("Following","mentions.mentionsFlyout.following","Label to tell the user that they are viewing a user they follow"))))))},f=n("eOdZ"),m=n("vxan"),g=n("hM3f"),b=n("v83y");const y=e=>o.a.createElement(h.V,{inline:!0,color:"blue",weight:"bold"},e.children);t.a=Object(m.a)(({focusOnMount:e,initialMentions:t=[],initialText:n="",instanceId:i,maxSuggestions:s=g.a,makeCancelablePromise:u,onAddMention:d,onBlur:m,onChange:v,onFocus:_,onSearchMentionCancel:E,onSuggestionsPopoverClose:S,onSuggestionsPopoverOpen:w,placeholder:C,readOnly:O,spellCheck:I})=>{const x=Object(r.useRef)(null),[D,k]=Object(r.useState)(!1),[T,M]=Object(r.useState)(!1),[j,P]=Object(r.useState)([]),[{plugins:B,MentionSuggestions:A}]=Object(r.useState)(()=>(()=>{const e=a()({entityMutability:"IMMUTABLE",mentionComponent:y,mentionPrefix:"@",mentionTrigger:"@",positionSuggestions:g.f,supportWhitespace:!1}),{MentionSuggestions:t}=e;return{plugins:[e],MentionSuggestions:t}})()),[R,L]=Object(r.useState)();Object(r.useEffect)(()=>{L(b.EditorState.createWithContent(Object(g.c)({text:n,mentions:t})))},[i]),Object(r.useEffect)(()=>{k(!0)},[]),Object(r.useEffect)(()=>{e&&x.current&&setTimeout(x.current.focus,50)},[D]);const N=Object(r.useCallback)(e=>{P([]),d&&d(e)},[]),F=Object(r.useCallback)(e=>{m&&m(e)},[]),z=Object(r.useCallback)(e=>{const t=e.getCurrentContent(),n=t.getPlainText(""),r=Object(g.e)(t);L(e),v({text:n,mentions:r})},[]),q=Object(r.useCallback)(e=>{_&&_(e)},[]),U=Object(r.useCallback)(()=>{M(!1),S&&S()},[]),H=Object(r.useCallback)(()=>{M(!0),w&&w()},[]),K=Object(r.useCallback)((e,t)=>{if(E&&" "===e&&T&&E(),j.length>0)return"not-handled";const n=t.getCurrentContent(),r=t.getSelection();return z(b.EditorState.push(t,b.Modifier.replaceText(n,r,e),"adjust-depth")),"handled"},[j]),V=Object(r.useCallback)(({value:e})=>{u(f.a.create("UserMentionTypeaheadResource",{query:e,num_people:s}).callGet(),"userMentionTypeahead").then(e=>{const t=Object(g.d)({suggestions:e.resource_response.data});P(t)}).catch(()=>{})},[]);return o.a.createElement(l.a,{name:"EditorWithMentions"},D&&o.a.createElement(h.e,{"data-test-id":"editor-with-mentions",width:"100%"},o.a.createElement(c.a,{editorState:R,onBlur:F,onChange:z,onFocus:q,handleBeforeInput:K,placeholder:C,plugins:B,readOnly:O,ref:x,spellCheck:I,stripPastedStyles:!0}),o.a.createElement(A,{onAddMention:N,onClose:U,onOpen:H,onSearchChange:V,suggestions:j,entryComponent:p})))})},JL7T:function(e,t,n){var r=n("lFJn"),o=n("Taje"),i=n("zVay"),a=i.List,s=i.Map,c=i.OrderedSet,l=i.Record,u=i.Repeat,d=c(),h={parent:null,characterList:a(),data:s(),depth:0,key:"",text:"",type:"unstyled",children:a(),prevSibling:null,nextSibling:null},p=function(e,t){return e.getStyle()===t.getStyle()},f=function(e,t){return e.getEntity()===t.getEntity()},m=function(e){if(!e)return e;var t=e.characterList,n=e.text;return n&&!t&&(e.characterList=a(u(r.EMPTY,n.length))),e},g=function(e){var t,n;function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;return e.call(this,m(t))||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.getKey=function(){return this.get("key")},i.getType=function(){return this.get("type")},i.getText=function(){return this.get("text")},i.getCharacterList=function(){return this.get("characterList")},i.getLength=function(){return this.getText().length},i.getDepth=function(){return this.get("depth")},i.getData=function(){return this.get("data")},i.getInlineStyleAt=function(e){var t=this.getCharacterList().get(e);return t?t.getStyle():d},i.getEntityAt=function(e){var t=this.getCharacterList().get(e);return t?t.getEntity():null},i.getChildKeys=function(){return this.get("children")},i.getParentKey=function(){return this.get("parent")},i.getPrevSiblingKey=function(){return this.get("prevSibling")},i.getNextSiblingKey=function(){return this.get("nextSibling")},i.findStyleRanges=function(e,t){o(this.getCharacterList(),p,e,t)},i.findEntityRanges=function(e,t){o(this.getCharacterList(),f,e,t)},r}(l(h));e.exports=g},JQRy:function(e,t,n){var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n("pYMm"),i=n("N4T/"),a={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};t.default=function(e,t){void 0===e&&(e=a);var n=t.payload;switch(t.type){case o.INIT_COORDS:case o.BEGIN_DRAG:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case o.HOVER:return i.areCoordsEqual(e.clientOffset,n.clientOffset)?e:r({},e,{clientOffset:n.clientOffset});case o.END_DRAG:case o.DROP:return a;default:return e}}},JiWI:function(e,t,n){n.d(t,"a",(function(){return r}));const r={"424605139807765557":!0,"487022215893335585":!0,"681802899776795712":!0,"605945393553266792":!0,"394065104834583533":!0,"681802899776795712":!0,"458452505757193282":!0,"568509221651063083":!0,"842314005246059316":!0,"684547280799527239":!0,"407294428740033573":!0,"681802899776805483":!0,"618119186295994269":!0,"424605139807777368":!0,"681802899776839770":!0,"487022215893349902":!0,"394065104834663920":!0,"842314005246096517":!0,"568509221651073933":!0,"458452505757203385":!0,"684547280799786717":!0,"605945393553311206":!0,"406238897577381755":!0,"618119186296081237":!0,"424605139807777372":!0,"424605139807777369":!0,"487022215893349904":!0,"568509221651073934":!0,"407294428740048526":!0,"424605139807777374":!0,"646125946478825462":!0,"646125946478866602":!0,"646125946478883676":!0,"646125946478883661":!0,"646125946478879471":!0,"394065104834692263":!0,"394065104834692264":!0,"394065104834692261":!0,"618119186296089811":!0,"487022215892656630":!0}},Jld5:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("ANjH"),o=n("G6B4"),i=n("pYMm"),a=n("HCyo"),s=n("54t5");var c=function(){function e(e,t,n){var i=this;void 0===t&&(t={}),void 0===n&&(n=!1),this.context=t,this.isSetUp=!1,this.handleRefCountChange=function(){var e=i.store.getState().refCount>0;e&&!i.isSetUp?(i.backend.setup(),i.isSetUp=!0):!e&&i.isSetUp&&(i.backend.teardown(),i.isSetUp=!1)};var c=function(e){var t="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return r.createStore(o.default,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}(n);this.store=c,this.monitor=new a.default(c,new s.default(c)),this.backend=e(this),c.subscribe(this.handleRefCountChange)}return e.prototype.getContext=function(){return this.context},e.prototype.getMonitor=function(){return this.monitor},e.prototype.getBackend=function(){return this.backend},e.prototype.getRegistry=function(){return this.monitor.registry},e.prototype.getActions=function(){var e=this,t=this.store.dispatch;var n=i.default(this);return Object.keys(n).reduce((function(r,o){var i,a=n[o];return r[o]=(i=a,function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=i.apply(e,n);void 0!==o&&t(o)}),r}),{})},e.prototype.dispatch=function(e){this.store.dispatch(e)},e}();t.default=c},Joxa:function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a}));const r=[0,2,1];function o(e){const{list_blocks:t,key_value_blocks:n}=e,r=t&&t.length>0?t.map(e=>{const{heading:t,blocks:n}=e;return{heading:t,blocks:n.map(e=>({text:e.text,type:9})),type:7}}):[];return{key_value_blocks:n&&n.length>0?n.map(e=>({category_type:e.category_type,type:8,value:e.value})):[],list_blocks:r}}function i(e){const{list_blocks:t,key_value_blocks:n}=e,r=t&&t.length>0?t.map(e=>{const{heading:t,blocks:n}=e;return{heading:t,items:n.map(e=>e.text)}}):[];return{keyValueBlocks:n&&n.length>0?n.reduce((e,t)=>{const{category_type:n,value:r}=t;return e[n]=r,e},{}):{},listBlocks:r}}function a(e){const{keyValueBlocks:t,listBlocks:n}=e;if(!t&&!n)return null;return{list_blocks:n?n.map(e=>{const{heading:t,items:n}=e;let r=[];return n&&(r=n.map(e=>({text:e,type:9}))),{blocks:r,heading:t,type:7}}):[],key_value_blocks:(t?Object.keys(t).map(e=>{const n=t[e],o=Number.parseInt(e,10),i=r.indexOf(o)>-1&&n===Number.parseInt(n,10).toString();return n&&i?{value:n,category_type:o,type:8}:null}):[]).filter(Boolean)}}},KEt0:function(e,t,n){n.d(t,"a",(function(){return a}));var r=n("q1tI"),o=n.n(r),i=n("n6mq");function a({size:e}){return o.a.createElement("span",{style:{padding:"0 4px"}},o.a.createElement(i.V,{inline:!0,size:null!=e?e:"md"},"·"))}},KNE1:function(e,t,n){n.d(t,"a",(function(){return a}));var r=n("q1tI"),o=n.n(r);n("QLaP"),n("17x9");class i{static factory(e){return e instanceof i?e:new i(String(e))}constructor(e){this._private_safe_value=e.trim().replace(">",">").replace("<","<").replace("&","&").replace('"','"').replace("'","'")}toString(){return this._private_safe_value}}function a(e){const{css:t,unsafeCSS:n,...r}=e,a=String(t||"")||n||"";return!!a?o.a.createElement("style",Object.assign({},r,{dangerouslySetInnerHTML:{__html:String(i.factory(a))}})):null}},KPZG:function(e,t,n){n.d(t,"b",(function(){return C}));var r=n("q1tI"),o=n.n(r),i=n("/MKj"),a=n("Cufx"),s=n("gYog"),c=n("qD10"),l=n("DBEV"),u=n("Ye/N"),d=n("TiQD"),h=n("xjqW");var p=({id:e,viewParameter:t,viewType:n})=>Object(h.b)({id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:n,type:"pin"}),f=n("eOdZ"),m=n("CvCA"),g=n("nGHF"),b=n("n6mq");function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class v extends o.a.PureComponent{constructor(...e){var t;super(...e),t=this,y(this,"state",{showModal:!1,reportType:null}),y(this,"handleDismiss",()=>this.setState({showModal:!1})),y(this,"handleClick",()=>{const{reportType:e}=this.state;"image"===e?this.reportSuggestionImage():this.reportSuggestionText()}),y(this,"reportSuggestionImage",(async function(){const{imgSignature:e,reportImage:n}=t.props;t.setState({showModal:!1});n((await f.a.create("GetPinFromSignature",{imgSignature:e}).callGet()).resource_response.data.id)})),y(this,"reportSuggestionText",()=>{const{handleReport:e,toastManagerContext:t}=this.props;e&&(e(),t.showToast(({onHide:e})=>o.a.createElement(m.a,{onHide:e,text:u.a._("Thanks for your report! This will be reviewed by our Trust and Safety Team","Toast after reporting a trending search suggestion","Toast after reporting a trending search suggestion")})),this.handleDismiss())}),y(this,"showModal",({event:e})=>{e.stopPropagation(),e.preventDefault(),this.setState({showModal:!0})})}render(){const{showModal:e}=this.state;return o.a.createElement(o.a.Fragment,null,o.a.createElement(l.a,{accessibilityLabel:u.a._("Report","Accessibility label for report icon for trending search suggestion","Accessibility label for report icon for trending search suggestion"),onClick:this.showModal,backgroundHaloSize:24}),e&&o.a.createElement(d.b,{accessibilityModalLabel:u.a._("Report search term","accessible label for report trending suggestion modal","accessible label for report trending suggestion modal"),heading:u.a._("Report search term","Heading for report trending suggestion modal","Heading for report trending suggestion modal"),onDismiss:this.handleDismiss,size:"sm"},o.a.createElement(b.e,null,o.a.createElement(b.e,{padding:5},o.a.createElement(b.V,null,u.a._("When you flag this, our Trust and Safety team will review it. If it doesnt meet our Community Guidelines, it will be blocked.","What will happen when you report a trending suggestion","What will happen when you report a trending suggestion"))),o.a.createElement(b.e,{role:"list",display:"flex",direction:"column",marginBottom:4,paddingX:5},o.a.createElement(b.e,{alignItems:"center",paddingY:1,display:"flex",direction:"row"},o.a.createElement(b.H,{checked:"text"===this.state.reportType,id:"textType",onChange:()=>this.setState({reportType:"text"}),value:"Report trending search text"}),o.a.createElement(b.e,{flex:"grow"},o.a.createElement(b.w,{htmlFor:"textType"},o.a.createElement(b.e,{paddingX:2},o.a.createElement(b.V,null,"Report trending search text"))))),o.a.createElement(b.e,{alignItems:"center",paddingY:1,display:"flex",direction:"row"},o.a.createElement(b.H,{checked:"image"===this.state.reportType,id:"imageType",onChange:()=>this.setState({reportType:"image"}),value:"Report trending search image"}),o.a.createElement(b.e,{flex:"grow"},o.a.createElement(b.w,{htmlFor:"imageType"},o.a.createElement(b.e,{paddingX:2},o.a.createElement(b.V,null,"Report trending search image")))))),o.a.createElement(b.o,null),o.a.createElement(b.e,{display:"flex",justifyContent:"end",padding:2},o.a.createElement(b.e,{margin:2},o.a.createElement(b.f,{onClick:this.handleDismiss,text:u.a._("Cancel","Text for cancel button when reporting trending search suggestion","Text for cancel button when reporting trending search suggestion")})),o.a.createElement(b.e,{margin:2},o.a.createElement(b.f,{color:"red",onClick:this.handleClick,text:u.a._("Report","Button label to report trending search suggestion","Button label to report trending search suggestion"),disabled:!this.state.reportType}))))))}}var _=Object(i.connect)(null,(e,t)=>({reportImage:n=>e(p({id:n,viewParameter:t.viewParameter,viewType:t.viewType}))}))(Object(g.c)(v)),E=n("zwad"),S=n("xdpg");const w={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"}},C=({storyCategory:e,query:t,referringSource:n,bubbleId:r,storyId:o})=>{const i=[0,24,21,25,26].includes(e),a=E.a.getQueryStringFromObject({q:t,rs:n||void 0,b_id:r,source_id:o});return i?"/discover/article/"+r:"/search/pins/"+(a?"?"+a:"")};t.a=Object(i.connect)((function({viewer:e}){return{viewer:e}}),()=>({}))((function({bubble:e,height:t,storyId:n,width:i,onClick:l,referringSource:u,contextLogData:d,viewType:h,viewParameter:p,slotIndex:f,handleReport:m,showFlag:g,imgSignature:y,onMouseEnter:v,onMouseLeave:E,isHovered:O,viewer:I}){const[x,D]=Object(r.useState)(!1),{id:k,action:T,cover_images:M,dominant_colors:j,title:P,story_category:B,curator:A}=e,R=M[0]&&(M[0]["280x280"]||M[0]["236x"]),L=Object(S.i)(P&&P.format||"",P&&P.args||{}),N=j&&j.length?j[0]:"gray",F=(null==T?void 0:T.url)||C({storyCategory:B,query:L,referringSource:u,bubbleId:k,storyId:n});return o.a.createElement(s.a,{impressionAuxFields:{storyCategory:B,storyIdStr:n},impressionType:"Article",loggingId:k,viewType:h,viewParameter:p,slotIndex:f,contextLogData:{story_id:n,...d}},o.a.createElement(b.e,null,o.a.createElement("div",{onMouseEnter:()=>{v?v():D(!0)},onMouseLeave:()=>{E?E():D(!1)}},o.a.createElement(c.a,{to:F,onClick:()=>{l&&l(k)}},o.a.createElement(b.A,{rounding:4},o.a.createElement(b.e,{width:i||"100%",height:t,dangerouslySetInlineStyle:{__style:{backgroundColor:N}}},R&&o.a.createElement(b.v,{alt:L,color:N,fit:"cover",naturalHeight:R.height,naturalWidth:R.width,src:R.url})),o.a.createElement(b.e,{height:t,width:i||"100%",dangerouslySetInlineStyle:{__style:O||x?w.hoverOverlay:R&&w.bubbleOverlay},position:"absolute",top:!0,left:!0}),A&&26!==B&&o.a.createElement(b.e,{position:"absolute",top:!0,left:!0,padding:2},o.a.createElement(a.a,{outline:!0,size:"xs",src:A.image_small_url,name:A.full_name})),o.a.createElement(b.e,{display:"flex",height:t,width:i||"100%",position:"absolute",top:!0,padding:3,alignItems:26===B?"end":"center",justifyContent:"center"},o.a.createElement(b.e,{display:"flex",direction:"column"},t>200?o.a.createElement(b.s,{size:"md",align:"center",color:"white"},L):o.a.createElement(b.V,{align:"center",color:"white",weight:"bold"},L),A&&26===B&&o.a.createElement(b.e,{display:"flex",justifyContent:"center",alignItems:"center",marginTop:4},o.a.createElement(b.e,{marginEnd:2},o.a.createElement(a.a,{outline:!0,size:"xs",src:A.image_small_url,name:A.full_name})),o.a.createElement(b.V,{size:"sm",color:"white"},A.full_name)))),I.isAuth&&I.isEmployee&&g&&(O||x)?o.a.createElement(b.e,{position:"absolute",bottom:!0,right:!0,marginBottom:1},o.a.createElement(_,{handleReport:m,viewType:h,viewParameter:p,imgSignature:y||""})):null)))))}))},KfNM:function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},Kz5y:function(e,t,n){var r=n("WFqU"),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},L0q3:function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n("Taje"),i=n("UevE"),a=n("zVay"),s=a.List,c=a.Repeat,l=a.Record,u=function(){return!0},d=l({start:null,end:null}),h=l({start:null,end:null,decoratorKey:null,leaves:null}),p={generate:function(e,t,n){var r=t.getLength();if(!r)return s.of(new h({start:0,end:0,decoratorKey:null,leaves:s.of(new d({start:0,end:0}))}));var i=[],a=n?n.getDecorations(t,e):s(c(null,r)),l=t.getCharacterList();return o(a,m,u,(function(e,t){i.push(new h({start:e,end:t,decoratorKey:a.get(e),leaves:f(l.slice(e,t).toList(),e)}))})),s(i)},fromJS:function(e){var t=e.leaves,n=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,["leaves"]);return new h(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){r(e,t,n[t])}))}return e}({},n,{leaves:null!=t?s(Array.isArray(t)?t:i(t)).map((function(e){return d(e)})):null}))}};function f(e,t){var n=[],r=e.map((function(e){return e.getStyle()})).toList();return o(r,m,u,(function(e,r){n.push(new d({start:e+t,end:r+t}))})),s(n)}function m(e,t){return e===t}e.exports=p},L2EA:function(e,t,n){var r=n("YeVe"),o=n("JL7T"),i=n("zVay"),a=n("Zf/v"),s=n("mFyV"),c=n("V8dp"),l=i.List,u=function(e,t,n,r,o,i){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"REPLACE_WITH_NEW_DATA",c=n.get(o),l=c.getText(),u=c.getCharacterList(),d=o,h=i+r.getText().length,p=null;switch(s){case"MERGE_OLD_DATA_TO_NEW_DATA":p=r.getData().merge(c.getData());break;case"REPLACE_WITH_NEW_DATA":p=r.getData()}var f=c.getType();l&&"unstyled"===f&&(f=r.getType());var m=c.merge({text:l.slice(0,i)+r.getText()+l.slice(i),characterList:a(u,r.getCharacterList(),i),type:f,data:p});return e.merge({blockMap:n.set(o,m),selectionBefore:t,selectionAfter:t.merge({anchorKey:d,anchorOffset:h,focusKey:d,focusOffset:h,isBackward:!1})})},d=function(e,t,n,i,a,s){var c=n.first()instanceof o,u=[],d=i.size,h=n.get(a),p=i.first(),f=i.last(),m=f.getLength(),g=f.getKey(),b=c&&(!h.getChildKeys().isEmpty()||!p.getChildKeys().isEmpty());n.forEach((function(e,t){t===a?(b?u.push(e):u.push(function(e,t,n){var r=e.getText(),o=e.getCharacterList(),i=r.slice(0,t),a=o.slice(0,t),s=n.first();return e.merge({text:i+s.getText(),characterList:a.concat(s.getCharacterList()),type:i?e.getType():s.getType(),data:s.getData()})}(e,s,i)),i.slice(b?0:1,d-1).forEach((function(e){return u.push(e)})),u.push(function(e,t,n){var r=e.getText(),o=e.getCharacterList(),i=r.length,a=r.slice(t,i),s=o.slice(t,i),c=n.last();return c.merge({text:c.getText()+a,characterList:c.getCharacterList().concat(s),data:c.getData()})}(e,s,i))):u.push(e)}));var y=r.createFromArray(u);return c&&(y=function(e,t,n,r){return e.withMutations((function(t){var o=n.getKey(),i=r.getKey(),a=n.getNextSiblingKey(),s=n.getParentKey(),c=function(e,t){var n=e.getKey(),r=e,o=[];for(t.get(n)&&o.push(n);r&&r.getNextSiblingKey();){var i=r.getNextSiblingKey();if(!i)break;o.push(i),r=t.get(i)}return o}(r,e),u=c[c.length-1];if(t.get(i)?(t.setIn([o,"nextSibling"],i),t.setIn([i,"prevSibling"],o)):(t.setIn([o,"nextSibling"],r.getNextSiblingKey()),t.setIn([r.getNextSiblingKey(),"prevSibling"],o)),t.setIn([u,"nextSibling"],a),a&&t.setIn([a,"prevSibling"],u),c.forEach((function(e){return t.setIn([e,"parent"],s)})),s){var d=e.get(s).getChildKeys(),h=d.indexOf(o)+1,p=d.toArray();p.splice.apply(p,[h,0].concat(c)),t.setIn([s,"children"],l(p))}}))}(y,0,h,p)),e.merge({blockMap:y,selectionBefore:t,selectionAfter:t.merge({anchorKey:g,anchorOffset:m,focusKey:g,focusOffset:m,isBackward:!1})})};e.exports=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"REPLACE_WITH_NEW_DATA";t.isCollapsed()||s(!1);var i=e.getBlockMap(),a=c(n),l=t.getStartKey(),h=t.getStartOffset(),p=i.get(l);return p instanceof o&&(p.getChildKeys().isEmpty()||s(!1)),1===a.size?u(e,t,i,a.first(),l,h,r):d(e,t,i,a,l,h)}},L2iP:function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"i",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"j",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"h",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"f",(function(){return h}));const r=64,o=80,i=22,a="HeaderContent",s="unauthEuCookieBar",c=4,l=24,u=671,d={marginBottom:c},h={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}},LTlA:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.get=function(e,t,n){return t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:n||null}),e)},t.without=function(e,t){return e.filter((function(e){return e!==t}))},t.isString=function(e){return"string"==typeof e},t.isObject=function(e){return"object"==typeof e},t.xor=function(e,t){var n=new Map,r=function(e){return n.set(e,n.has(e)?n.get(e)+1:1)};e.forEach(r),t.forEach(r);var o=[];return n.forEach((function(e,t){1===e&&o.push(t)})),o},t.intersection=function(e,t){return e.filter((function(e){return t.indexOf(e)>-1}))}},LWPz:function(e,t,n){n.d(t,"a",(function(){return f}));var r=n("q1tI"),o=n.n(r),i=(n("3qQZ"),n("WjpJ")),a=n.n(i),s=n("n6mq");const c=80,l=1.2;function u({layoutType:e,thumbnails:t}){switch(e){case 4:const e=t&&t[0]&&t[0]["236x"];return o.a.createElement(s.A,{rounding:4,width:c,height:80},e?o.a.createElement(s.v,{alt:"",color:"gray",fit:"cover",naturalHeight:e.height,naturalWidth:e.width,src:e.url||""}):o.a.createElement(s.e,{display:"flex"},o.a.createElement(s.e,{color:"lightGray",height:c,width:39.4}),o.a.createElement("div",{style:{paddingLeft:l}},o.a.createElement(s.e,{color:"lightGray",height:39.4,width:39.4}),o.a.createElement(s.e,{color:"lightGray",dangerouslySetInlineStyle:{__style:{marginTop:"1.2px"}},height:40.6,width:39.4}))));case 2:return o.a.createElement(s.A,{rounding:4,width:c,height:80},o.a.createElement(s.e,{display:"flex"},a()(0,2).map(e=>{const n=!!t&&t.length>0&&t[e];return o.a.createElement("div",{key:e,style:{paddingRight:l}},o.a.createElement(s.e,{height:c,width:39.4},n&&o.a.createElement(s.v,{alt:"",color:"gray",fit:"cover",naturalHeight:c,naturalWidth:39.4,src:n["236x"].url||""})))})));default:return null}}var d=n("c4Fo"),h=n("U4JR");const p=[502043,502085,502419];function f({boardId:e,handleShowArchiveConfirmation:t,handleShowGroupPinsModal:n}){return o.a.createElement(d.a,{placementId:18,experienceIds:p},({display_data:r,complete:i,dismiss:a})=>o.a.createElement(m,{boardId:e,displayData:r,complete:i,dismiss:a,handleShowArchiveConfirmation:t,handleShowGroupPinsModal:n}))}function m({boardId:e,displayData:t,complete:n,dismiss:i,handleShowArchiveConfirmation:a,handleShowGroupPinsModal:c}){const l=t.custom_properties,[d,p]=Object(r.useState)(null);Object(r.useEffect)(()=>()=>clearTimeout(d),[d]);const f={2:a,3:()=>{l&&c(l.cluster_id,l.section_name)}};return Object(r.useEffect)(()=>{(e=>{if(!d){const t=setTimeout(()=>{e()},2e4);p(t)}})(i),Object(h.a)(13,{view:5,viewParameter:3069,element:11758,objectId:JSON.stringify(t.experience.experience_id),board_id:e})},[]),o.a.createElement(s.x,null,o.a.createElement("div",{className:"BoardActionUpsellCard"},o.a.createElement(s.e,{flex:"none"},o.a.createElement(u,{layoutType:t.layout_type,thumbnails:t.thumbnail_image_urls})),o.a.createElement(s.e,{marginStart:4},o.a.createElement(s.V,{inline:!0},o.a.createElement(s.s,{size:"sm"},t.text)),o.a.createElement(s.e,{display:"flex",justifyContent:"start",marginTop:4,width:"100%"},o.a.createElement(s.f,{color:"gray",inline:!0,onClick:()=>{Object(h.a)(123,{view:5,viewParameter:3069,element:11758,objectId:JSON.stringify(t.experience.experience_id),board_id:e}),i()},text:t.dismiss_button.text}),o.a.createElement(s.e,{paddingX:2},o.a.createElement(s.f,{color:"red",inline:!0,onClick:()=>{f[t.complete_button.action_type](),Object(h.a)(101,{view:5,viewParameter:3069,element:11758,objectId:JSON.stringify(t.experience.experience_id),board_id:e}),n()},text:t.complete_button.text}))))))}},Lakr:function(e,t,n){var r=n("W5AS");e.exports=function(e){var t=e.ownerDocument.documentElement;if(!("getBoundingClientRect"in e)||!r(t,e))return{left:0,right:0,top:0,bottom:0};var n=e.getBoundingClientRect();return{left:Math.round(n.left)-t.clientLeft,right:Math.round(n.right)-t.clientLeft,top:Math.round(n.top)-t.clientTop,bottom:Math.round(n.bottom)-t.clientTop}}},LpQA:function(e,t,n){function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n("YeVe"),a=n("lFJn"),s=n("8uQm"),c=n("JL7T"),l=n("TzU/"),u=n("hMpd"),d=n("rJY1"),h=n("UevE"),p=n("cwFY"),f=n("zVay"),m=n("HriT"),g=f.List,b=f.Record,y=f.Repeat,v=f.Map,_=f.OrderedMap,E=b({entityMap:null,blockMap:null,selectionBefore:null,selectionAfter:null}),S=p("draft_tree_data_support")?c:s,w=function(e){var t,n;function o(){return e.apply(this,arguments)||this}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=o.prototype;return s.getEntityMap=function(){return l},s.getBlockMap=function(){return this.get("blockMap")},s.getSelectionBefore=function(){return this.get("selectionBefore")},s.getSelectionAfter=function(){return this.get("selectionAfter")},s.getBlockForKey=function(e){return this.getBlockMap().get(e)},s.getKeyBefore=function(e){return this.getBlockMap().reverse().keySeq().skipUntil((function(t){return t===e})).skip(1).first()},s.getKeyAfter=function(e){return this.getBlockMap().keySeq().skipUntil((function(t){return t===e})).skip(1).first()},s.getBlockAfter=function(e){return this.getBlockMap().skipUntil((function(t,n){return n===e})).skip(1).first()},s.getBlockBefore=function(e){return this.getBlockMap().reverse().skipUntil((function(t,n){return n===e})).skip(1).first()},s.getBlocksAsArray=function(){return this.getBlockMap().toArray()},s.getFirstBlock=function(){return this.getBlockMap().first()},s.getLastBlock=function(){return this.getBlockMap().last()},s.getPlainText=function(e){return this.getBlockMap().map((function(e){return e?e.getText():""})).join(e||"\n")},s.getLastCreatedEntityKey=function(){return l.__getLastCreatedEntityKey()},s.hasText=function(){var e=this.getBlockMap();return e.size>1||escape(e.first().getText()).replace(/%u200B/g,"").length>0},s.createEntity=function(e,t,n){return l.__create(e,t,n),this},s.mergeEntityData=function(e,t){return l.__mergeData(e,t),this},s.replaceEntityData=function(e,t){return l.__replaceData(e,t),this},s.addEntity=function(e){return l.__add(e),this},s.getEntity=function(e){return l.__get(e)},s.getAllEntities=function(){return l.__getAll()},s.loadWithEntities=function(e){return l.__loadWithEntities(e)},o.createFromBlockArray=function(e,t){var n=Array.isArray(e)?e:e.contentBlocks,r=i.createFromArray(n),a=r.isEmpty()?new u:u.createEmpty(r.first().getKey());return new o({blockMap:r,entityMap:t||l,selectionBefore:a,selectionAfter:a})},o.createFromText=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/\r\n?|\n/g,n=e.split(t),r=n.map((function(e){return e=m(e),new S({key:d(),text:e,type:"unstyled",characterList:g(y(a.EMPTY,e.length))})}));return o.createFromBlockArray(r)},o.fromJS=function(e){return new o(r({},e,{blockMap:_(e.blockMap).map(o.createContentBlockFromJS),selectionBefore:new u(e.selectionBefore),selectionAfter:new u(e.selectionAfter)}))},o.createContentBlockFromJS=function(e){var t=e.characterList;return new S(r({},e,{data:v(e.data),characterList:null!=t?g((Array.isArray(t)?t:h(t)).map((function(e){return a.fromJS(e)}))):void 0}))},o}(E);e.exports=w},LvPn:function(e,t,n){n.d(t,"a",(function(){return a}));var r=n("pody"),o=n("nEAA");const i=({category:e,isDeferred:t,isExternal:n})=>[e].concat(t?["deferred"]:[]).concat(n?["external"]:[]).join("_");function a(e){const{category:t,timing:n,isDeferred:a,isExternal:s,isVisuallyCompleteRequired:c}=e;return n.responseEnd&&("image"!==t||c)?{name:i(e),startTime:n.startTime,endTime:n.responseEnd,annotationMap:Object(r.a)(n),binaryAnnotationMap:{category:Object(o.d)(t),decodedBodySize:Object(o.b)(n.decodedBodySize||0),initiatorType:Object(o.d)(n.initiatorType),isDeferred:Object(o.a)(a),isExternal:Object(o.a)(s),name:Object(o.d)(n.name),nextHopProtocol:Object(o.d)(n.nextHopProtocol),transferSize:Object(o.b)(n.transferSize||0)}}:null}},M6rc:function(e,t,n){var r=n("lFJn"),o=n("zVay").Map,i={add:function(e,t,n){return a(e,t,n,!0)},remove:function(e,t,n){return a(e,t,n,!1)}};function a(e,t,n,i){var a=e.getBlockMap(),s=t.getStartKey(),c=t.getStartOffset(),l=t.getEndKey(),u=t.getEndOffset(),d=a.skipUntil((function(e,t){return t===s})).takeUntil((function(e,t){return t===l})).concat(o([[l,a.get(l)]])).map((function(e,t){var o,a;s===l?(o=c,a=u):(o=t===s?c:0,a=t===l?u:e.getLength());for(var d,h=e.getCharacterList();o<a;)d=h.get(o),h=h.set(o,i?r.applyStyle(d,n):r.removeStyle(d,n)),o++;return e.set("characterList",h)}));return e.merge({blockMap:a.merge(d),selectionBefore:t,selectionAfter:t})}e.exports=i},MCs0:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getDecoratedComponent=function(e){var t=e.current;return null==t?null:t.decoratedRef?t.decoratedRef.current:t}},"MD/U":function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return a}));const r=1,o=1,i=2,a={Default:"default",MoreIdeas:"moreIdeas",Pins:"pins",Places:"places",Shop:"shop"}},MNxV:function(e,t,n){n.d(t,"a",(function(){return s}));var r=n("q1tI"),o=n.n(r),i=n("XRfM"),a=n("pLLR");const s=i.b.DateFormatType;t.b=({dateFormatType:e,useUTC:t=!0,value:n})=>o.a.createElement(a.b,null,r=>i.b.formatDate(r.locale,n,e,t))},MOLB:function(e,t,n){n.d(t,"a",(function(){return m}));var r=n("q1tI"),o=n.n(r),i=n("Ye/N"),a=n("v2I7"),s=n("vvax"),c=n("n6mq");function l({selectedPinCount:e}){const t=0===e?i.a._("Pick Pins to move or copy"):Object(s.b)(i.a.ngettext("{{ pinCount }} Pin selected","{{ pinCount }} Pins selected",e,"Number of pins selected when performing bulk action on the board page","Number of pins selected when performing bulk action on the board page"),{pinCount:e});return o.a.createElement(c.V,null,t)}var u=n("U4JR"),d=n("JW66");const h=()=>{};function p({hideDone:e,inSelectAll:t,isCollaborative:n,onDeselectAll:s,onDone:p,onSelectAll:f,onShowBulkEditBoardPicker:m,removeIsDisabled:g,selectedPinCount:b}){const y=Object(r.useRef)(null),v=e=>()=>{let t;switch(e){case d.a.BulkAction.MOVE:t=401;break;case d.a.BulkAction.COPY:t=402;break;case d.a.BulkAction.DELETE:t=403}t&&Object(u.a)(101,{component:69,element:t}),m(e)},_=0===b||!t&&b>1e3,E=b>1e3&&!t;return o.a.createElement(c.e,null,o.a.createElement(c.e,{alignItems:"center",display:"flex",justifyContent:"between"},o.a.createElement(c.e,{display:"flex",marginEnd:-4,marginStart:-4},o.a.createElement(c.e,{paddingX:4},o.a.createElement(l,{selectedPinCount:b})),o.a.createElement(c.e,{paddingX:4},o.a.createElement(a.a,{isCollaborative:n,noSelection:!b,onDeselectAll:s,onSelectAll:f}))),o.a.createElement(c.e,{display:"flex",marginEnd:-1,marginStart:-1},o.a.createElement(c.e,{paddingX:1},o.a.createElement(c.f,{disabled:_,onClick:v(d.a.BulkAction.MOVE),text:i.a._("Move")})),o.a.createElement(c.e,{paddingX:1},o.a.createElement(c.f,{disabled:_||t,onClick:v(d.a.BulkAction.COPY),ref:y,text:i.a._("Copy")})),o.a.createElement(c.e,{paddingX:1},o.a.createElement(c.f,{disabled:_||g,onClick:v(d.a.BulkAction.DELETE),text:i.a._("Delete")})),!e&&o.a.createElement(c.e,{paddingX:1},o.a.createElement(c.f,{color:"red",onClick:()=>{Object(u.a)(101,{component:69,element:404}),p&&p()},text:i.a._("Done")})))),E?o.a.createElement(c.q,{anchor:y.current,color:"red",idealDirection:"down",onDismiss:h,shouldFocus:!1},o.a.createElement(c.e,{padding:3},o.a.createElement(c.V,{color:"white",weight:"bold"},i.a._('To organize more than 1000 Pins, click "Select all" and try again.',"BoardInfoBar.OrganizationBar.BoardOrganizationBar.ErrorMessage","warning tooltip for bulk action on board page")))):null)}var f=n("k9Pu");function m(e){const{board:t,hideDone:n,inSelectAll:r,onDeselectAll:i,onDone:a,onSelectAll:s,onShowBulkEditBoardPicker:c,selectedPinCount:l,selectedPinIds:u}=e;return o.a.createElement(f.a,{board:t,paddingY:4,selectedPinIds:u},({removeIsDisabled:e})=>o.a.createElement(p,{hideDone:n,inSelectAll:r,isCollaborative:t.is_collaborative,onDeselectAll:i,onDone:a,onSelectAll:s,onShowBulkEditBoardPicker:c,removeIsDisabled:e,selectedPinCount:l}))}},MPKC:function(e,t,n){var r=n("fyOY"),o=n("3sOJ");e.exports=function(e){var t=r.splitBlock(e.getCurrentContent(),e.getSelection());return o.push(e,t,"split-block")}},MaRn:function(e,t,n){function r(e){return{type:"FEED_ITEM_REORDERED",payload:e}}n.d(t,"a",(function(){return r}))},MbRH:function(e,t,n){e.exports=function(e){if(!e||!("ownerDocument"in e))return!1;if("ownerDocument"in e){var t=e;if(!t.ownerDocument.defaultView)return t instanceof Node;if(t instanceof t.ownerDocument.defaultView.Node)return!0}return!1}},Mh8y:function(e,t,n){var r=n("zVay").Map;e.exports=function(e,t,n){var o=t.getStartKey(),i=t.getEndKey(),a=e.getBlockMap(),s=a.toSeq().skipUntil((function(e,t){return t===o})).takeUntil((function(e,t){return t===i})).concat(r([[i,a.get(i)]])).map(n);return e.merge({blockMap:a.merge(s),selectionBefore:t,selectionAfter:t})}},MhBu:function(e,t,n){function r(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}n.d(t,"a",(function(){return r}))},"N/FO":function(e,t,n){const r="undefined"!=typeof window&&window.performance&&window.performance.now?()=>window.performance.now():()=>Date.now();t.a=({window:e,duration:t,run:n})=>{const o=r();let i=0,a=null;const s=()=>{const c=r()-o,l=c-i;if(t===1/0)n(0,c,l);else{const e=c/t;if(e>=1)return void n(1,c,l);n(e,c,l)}i=c,a=e.requestAnimationFrame(s)};return{start:()=>{a=e.requestAnimationFrame(s)},cancel:()=>{a&&(e.cancelAnimationFrame(a),a=null)}}}},N1c7:function(e,t,n){e.exports=n("j+6V")()},"N4T/":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.strictEquality=function(e,t){return e===t},t.areCoordsEqual=function(e,t){return!e&&!t||!(!e||!t)&&(e.x===t.x&&e.y===t.y)},t.areArraysEqual=function(e,n,r){if(void 0===r&&(r=t.strictEquality),e.length!==n.length)return!1;for(var o=0;o<e.length;++o)if(!r(e[o],n[o]))return!1;return!0}},N8u9:function(e,t,n){function r(e){return function(){return e}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},NFjV:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){var t=this;this.config=e,this.item={},Object.keys(this.config.exposeProperties).forEach((function(e){Object.defineProperty(t.item,e,{configurable:!0,enumerable:!0,get:function(){return console.warn("Browser doesn't allow reading \""+e+'" until the drop event.'),null}})}))}return e.prototype.mutateItemByReadingDataTransfer=function(e){var t=this,n={};e&&Object.keys(this.config.exposeProperties).forEach((function(r){n[r]={value:t.config.exposeProperties[r](e,t.config.matchesTypes)}})),Object.defineProperties(this.item,n)},e.prototype.canDrag=function(){return!0},e.prototype.beginDrag=function(){return this.item},e.prototype.isDragging=function(e,t){return t===e.getSourceId()},e.prototype.endDrag=function(){},e}();t.NativeDragSource=r},NXrh:function(e,t,n){n.d(t,"a",(function(){return v}));var r=n("q1tI"),o=n.n(r),i=n("/MKj"),a=n("Sihc"),s=n("Ye/N"),c=n("rrvb"),l=n("ANjH"),u=n("0BOE"),d=n("jdx6"),h=n("qyR9"),p=n("6vq5"),f=n("n6mq");function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const g="NO_SECTION_VALUE";function b({section:e,hovered:t,searchQuery:n}){return o.a.createElement(f.e,null,o.a.createElement(f.e,{color:t?"lightGray":"white",display:"flex",padding:2,rounding:2},o.a.createElement(f.e,{flex:"grow"},o.a.createElement(f.V,{weight:"bold"},Object(d.b)(n,e.title)))),e.id===g&&o.a.createElement(f.o,null))}class y extends r.Component{constructor(...e){super(...e),m(this,"state",{searchQuery:""}),m(this,"getPickerSections",()=>{const{searchQuery:e}=this.state,{sectionsResource:t,mergingFromSectionId:n}=this.props;let r=t&&t.data||[];return r=n?r.filter(e=>e.id!==n):[{id:g,title:s.a._("No section","default dropdown option for selecting a board section on pin edit","default dropdown option for selecting a board section on pin edit")},...r],e.length>=h.a&&(r=Object(u.a)(r,e,"title")),[{items:r}]}),m(this,"createBtnDisabled",()=>{const{sectionsResource:e}=this.props,{searchQuery:t}=this.state;return!(!e||!e.data)&&e.data.some(e=>e.title.toLowerCase()===t.toLocaleLowerCase())}),m(this,"handleSectionCreate",()=>{const{board:e,onSectionChange:t,sectionsResource:n,dispatch:r,onSectionCreate:o}=this.props,{searchQuery:i}=this.state;o?o(i):r&&e.id&&r(Object(a.a)({boardId:e.id,name:i})).then(e=>{n&&n.refreshData(),this.setState({searchQuery:""}),t(e)})}),m(this,"handleSectionSelected",e=>{const{onSectionChange:t}=this.props;e.id===g?(t(null),this.setState({searchQuery:""})):(t(e),this.setState({searchQuery:""}))}),m(this,"handleSearchQueryUpdate",e=>{this.setState({searchQuery:e})}),m(this,"renderRow",({item:e,hovered:t})=>{const{searchQuery:n}=this.state;return o.a.createElement(b,{hovered:t,searchQuery:n,section:e})})}componentDidUpdate(e){const t=e.selectedSectionId,{selectedSectionId:n}=this.props;if(n!==t){const{sectionsResource:e}=this.props;e&&e.refreshData()}}render(){const{isStoryPin:e,sectionsResource:t,selectedSectionId:n,mergingFromSectionId:r,selectedSectionName:i}=this.props,{searchQuery:a}=this.state;let l=r?s.a._("Pick a section","default dropdown option for selecting a board section to merge to","default dropdown option for selecting a board section to merge to"):s.a._("No section","default dropdown option for selecting a board section on pin edit","default dropdown option for selecting a board section on pin edit");if(n){let e;t&&t.data&&(e=t.data.find(e=>e.id===n)),l=e&&e.title||l}else i&&(l=i);return o.a.createElement(f.e,null,o.a.createElement(f.O,{accessibilityLabel:s.a._("loading section picker","accessibility text for loading spinner","accessibility text for loading spinner"),show:!!t&&!t.isLoaded}),(!t||t&&t.isLoaded)&&o.a.createElement(c.a,{createBtnDisabled:this.createBtnDisabled(),dropdownValue:l,isStoryPin:e,onCreate:r?null:this.handleSectionCreate,onSearchQueryUpdate:this.handleSearchQueryUpdate,onSelect:this.handleSectionSelected,renderRow:this.renderRow,searchQuery:a,sections:this.getPickerSections()}))}}const v=y;t.b=Object(l.compose)(Object(i.connect)(),Object(p.a)({name:"BoardSectionsRepinResource",key:"sectionsResource",options:e=>({board_id:e.board.id})},{allowStale:!1}))(v)},NdQN:function(e,t,n){var r=n("q1tI"),o=n.n(r),i=n("JW66"),a=n("Ye/N"),s=(n("9QW3"),n("n6mq"));function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends r.Component{constructor(...e){super(...e),c(this,"setInputRef",e=>{e&&(this._input=e)}),c(this,"handleKeyDown",e=>{const{disabled:t,indexManager:n}=this.props;if(!t)switch(e.which){case i.a.KeyCode.ENTER:case i.a.KeyCode.NUMPAD_ENTER:e.preventDefault(),n.select();break;case i.a.KeyCode.UP:e.preventDefault(),n.prev();break;case i.a.KeyCode.DOWN:e.preventDefault(),n.next()}})}componentDidMount(){this._input&&this._input.focus()}render(){const{onChange:e,value:t}=this.props;return o.a.createElement("div",{onKeyDown:this.handleKeyDown,style:{width:"100%"}},o.a.createElement(s.K,{accessibilityLabel:"",id:"pickerSearchField",onChange:({value:t})=>e(t),placeholder:a.a._("Search","search bar placeholder text","search bar placeholder text"),ref:this.setInputRef,size:"lg",value:t}))}}t.a=l},NdXn:function(e,t,n){function r(e){return e.replace(/[_.-](\w|$)/g,(e,t)=>t.toUpperCase())}n.d(t,"a",(function(){return r}))},NjDU:function(e,t,n){function r(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}function o(e){return{type:"UPDATE_USER_FOLLOWING_COUNT",payload:e}}function i(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}function a(e,t){return{type:"UPDATE_USER_SOCIAL_NETWORK",payload:{socialNetworkName:e,connected:t}}}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return c}));const s=e=>({type:"USER_DOMAIN_VERIFIED",payload:{verifiedWebsite:e}}),c=e=>({type:"USER_DOMAIN_UNVERIFIED",payload:{verifiedWebsite:e}})},NqRL:function(e,t,n){n.d(t,"a",(function(){return r}));const r="v2"},NrS9:function(e,t,n){var r=n("gxu6"),o=n("7w6Q"),i=n("eOdZ"),a=n("mBfy");const s=function(){};Object.assign(s.prototype,{sendSubscriptionToServer(e,t,n){r.b("cm_sub","allowed",8760,"/"),t&&t(),o.a.increment("auth.web.notifications.allowed",1,{sourceLandingPage:n});let a=e.subscriptionId;if(!a){const t=e.endpoint.split("/");a=t[t.length-1]}return i.a.create("WebPushDeviceResource",{}).callGet({showError:!1}).then(t=>{const n=t.resource_response.data;if(!(a in n)){const t={registration_id:a,subscription_endpoint:e.endpoint};return i.a.create("WebPushDeviceResource",t).callCreate()}})},subscribe(e,t,n){return o.a.increment("auth.web.notifications.viewed",1,{sourceLandingPage:n}),navigator.serviceWorker.ready.then(i=>{var a;null==i||null===(a=i.pushManager)||void 0===a||a.subscribe({userVisibleOnly:!0}).then(t=>this.sendSubscriptionToServer(t,e,n),i=>{"Notification"in window&&"denied"!==Notification.permission?(r.b("cm_sub","dismissed",8760,"/"),t&&t(),o.a.increment("auth.web.notifications.dismissed",1,{sourceLandingPage:n})):(r.b("cm_sub","denied",8760,"/"),e&&e(),o.a.increment("auth.web.notifications.denied",1,{sourceLandingPage:n}))})})},initializeState(){if(a.default.isLimitedLogin())r.b("cm_sub","denied",8760,"/");else if(a.default.isAuthenticated())if("showNotification"in ServiceWorkerRegistration.prototype)if("Notification"in window&&"denied"!==Notification.permission){if("PushManager"in window)return navigator.serviceWorker.ready.then(e=>e.pushManager.getSubscription()).then(e=>{if(e)return this.sendSubscriptionToServer(e);throw r.b("cm_sub","none",8760,"/"),new Error}).catch(e=>{});r.b("cm_sub","denied",8760,"/")}else r.b("cm_sub","denied",8760,"/");else r.b("cm_sub","denied",8760,"/");else r.b("cm_sub","denied",8760,"/")}}),s.instance=function(){return s._instance||(s._instance=new s),s._instance},"undefined"!=typeof window&&window.addEventListener("load",()=>{"serviceWorker"in navigator&&void 0!==navigator.serviceWorker&&navigator.serviceWorker.register("/sw.js").then(()=>{s.instance().initializeState()}).catch(()=>{})}),t.a=s},NwjN:function(e,t,n){var r=n("q1tI");t.a=Object(r.createContext)(0)},"Nx4+":function(e,t,n){var r=n("fyOY"),o=n("3sOJ"),i=n("AKPT"),a=n("qysv"),s={currentBlockContainsLink:function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=n.getEntityMap();return n.getBlockForKey(t.getAnchorKey()).getCharacterList().slice(t.getStartOffset(),t.getEndOffset()).some((function(e){var t=e.getEntity();return!!t&&"LINK"===r.__get(t).getType()}))},getCurrentBlockType:function(e){var t=e.getSelection();return e.getCurrentContent().getBlockForKey(t.getStartKey()).getType()},getDataObjectForLinkURL:function(e){return{url:e.toString()}},handleKeyCommand:function(e,t,n){switch(t){case"bold":return s.toggleInlineStyle(e,"BOLD");case"italic":return s.toggleInlineStyle(e,"ITALIC");case"underline":return s.toggleInlineStyle(e,"UNDERLINE");case"code":return s.toggleCode(e);case"backspace":case"backspace-word":case"backspace-to-start-of-line":return s.onBackspace(e);case"delete":case"delete-word":case"delete-to-end-of-block":return s.onDelete(e);default:return null}},insertSoftNewline:function(e){var t=r.insertText(e.getCurrentContent(),e.getSelection(),"\n",e.getCurrentInlineStyle(),null),n=o.push(e,t,"insert-characters");return o.forceSelection(n,t.getSelectionAfter())},onBackspace:function(e){var t=e.getSelection();if(!t.isCollapsed()||t.getAnchorOffset()||t.getFocusOffset())return null;var n=e.getCurrentContent(),r=t.getStartKey(),i=n.getBlockBefore(r);if(i&&"atomic"===i.getType()){var a=n.getBlockMap().delete(i.getKey()),c=n.merge({blockMap:a,selectionAfter:t});if(c!==n)return o.push(e,c,"remove-range")}var l=s.tryToRemoveBlockStyle(e);return l?o.push(e,l,"change-block-type"):null},onDelete:function(e){var t=e.getSelection();if(!t.isCollapsed())return null;var n=e.getCurrentContent(),i=t.getStartKey(),a=n.getBlockForKey(i).getLength();if(t.getStartOffset()<a)return null;var s=n.getBlockAfter(i);if(!s||"atomic"!==s.getType())return null;var c=t.merge({focusKey:s.getKey(),focusOffset:s.getLength()}),l=r.removeRange(n,c,"forward");return l!==n?o.push(e,l,"remove-range"):null},onTab:function(e,t,n){var r=t.getSelection(),a=r.getAnchorKey();if(a!==r.getFocusKey())return t;var s=t.getCurrentContent(),c=s.getBlockForKey(a),l=c.getType();if("unordered-list-item"!==l&&"ordered-list-item"!==l)return t;e.preventDefault();var u=c.getDepth();if(!e.shiftKey&&u===n)return t;var d=i(s,r,e.shiftKey?-1:1,n);return o.push(t,d,"adjust-depth")},toggleBlockType:function(e,t){var n=e.getSelection(),i=n.getStartKey(),s=n.getEndKey(),c=e.getCurrentContent(),l=n;if(i!==s&&0===n.getEndOffset()){var u=a(c.getBlockBefore(s));s=u.getKey(),l=l.merge({anchorKey:i,anchorOffset:n.getStartOffset(),focusKey:s,focusOffset:u.getLength(),isBackward:!1})}if(c.getBlockMap().skipWhile((function(e,t){return t!==i})).reverse().skipWhile((function(e,t){return t!==s})).some((function(e){return"atomic"===e.getType()})))return e;var d=c.getBlockForKey(i).getType()===t?"unstyled":t;return o.push(e,r.setBlockType(c,l,d),"change-block-type")},toggleCode:function(e){var t=e.getSelection(),n=t.getAnchorKey(),r=t.getFocusKey();return t.isCollapsed()||n!==r?s.toggleBlockType(e,"code-block"):s.toggleInlineStyle(e,"CODE")},toggleInlineStyle:function(e,t){var n=e.getSelection(),i=e.getCurrentInlineStyle();if(n.isCollapsed())return o.setInlineStyleOverride(e,i.has(t)?i.remove(t):i.add(t));var a,s=e.getCurrentContent();return a=i.has(t)?r.removeInlineStyle(s,n,t):r.applyInlineStyle(s,n,t),o.push(e,a,"change-inline-style")},toggleLink:function(e,t,n){var i=r.applyEntity(e.getCurrentContent(),t,n);return o.push(e,i,"apply-entity")},tryToRemoveBlockStyle:function(e){var t=e.getSelection(),n=t.getAnchorOffset();if(t.isCollapsed()&&0===n){var o=t.getAnchorKey(),i=e.getCurrentContent(),a=i.getBlockForKey(o).getType(),s=i.getBlockBefore(o);if("code-block"===a&&s&&"code-block"===s.getType()&&0!==s.getLength())return null;if("unstyled"!==a)return r.setBlockType(i,t,"unstyled")}return null}};e.exports=s},NykK:function(e,t,n){var r=n("nmnc"),o=n("AP2z"),i=n("KfNM"),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},O3d3:function(e,t,n){n.d(t,"a",(function(){return r}));function r(e){return{facebook:{connected:e.connected_to_facebook||!1},google:{connected:e.connected_to_google||!1},youtube:{connected:e.connected_to_youtube||!1},gplus:{connected:!!e.gplus_url,url:e.gplus_url},microsoft:{connected:e.connected_to_microsoft||!1},twitter:{connected:!!e.twitter_url,url:e.twitter_url},etsy:{connected:e.connected_to_etsy||!1},instagram:{connected:e.connected_to_instagram||!1},dropbox:{connected:e.connected_to_dropbox||!1}}}},O4zn:function(e,t,n){var r=n("m75S"),o=n("FcOR"),i=n("4pIB"),a=n("W5AS"),s=n("7Nlx"),c=n("F09w"),l=n("mFyV"),u=n("GyOf"),d=i.isBrowser("IE");function h(e,t){if(!e)return"[empty]";var n=p(e,t);return n.nodeType===Node.TEXT_NODE?n.textContent:(u(n)||l(!1),n.outerHTML)}function p(e,t){var n=void 0!==t?t(e):[];if(e.nodeType===Node.TEXT_NODE){var r=e.textContent.length;return c(e).createTextNode("[text "+r+(n.length?" | "+n.join(", "):"")+"]")}var o=e.cloneNode();1===o.nodeType&&n.length&&o.setAttribute("data-labels",n.join(", "));for(var i=e.childNodes,a=0;a<i.length;a++)o.appendChild(p(i[a],t));return o}function f(e,t){for(var n=e,r=n;n;){if(u(n)&&r.hasAttribute("contenteditable"))return h(n,t);r=n=n.parentNode}return"Could not find contentEditable parent of node"}function m(e){return null===e.nodeValue?e.childNodes.length:e.nodeValue.length}function g(e,t,n,r){var i=s();if(e.extend&&null!=t&&a(i,t)){n>m(t)&&o.logSelectionStateFailure({anonymizedDom:f(t),extraParams:JSON.stringify({offset:n}),selectionState:JSON.stringify(r.toJS())});var c=t===e.focusNode;try{e.rangeCount>0&&e.extend&&e.extend(t,n)}catch(u){throw o.logSelectionStateFailure({anonymizedDom:f(t,(function(t){var n=[];return t===i&&n.push("active element"),t===e.anchorNode&&n.push("selection anchor node"),t===e.focusNode&&n.push("selection focus node"),n})),extraParams:JSON.stringify({activeElementName:i?i.nodeName:null,nodeIsFocus:t===e.focusNode,nodeWasFocus:c,selectionRangeCount:e.rangeCount,selectionAnchorNodeName:e.anchorNode?e.anchorNode.nodeName:null,selectionAnchorOffset:e.anchorOffset,selectionFocusNodeName:e.focusNode?e.focusNode.nodeName:null,selectionFocusOffset:e.focusOffset,message:u?""+u:null,offset:n},null,2),selectionState:JSON.stringify(r.toJS(),null,2)}),u}}else if(t&&e.rangeCount>0){var l=e.getRangeAt(0);l.setEnd(t,n),e.addRange(l.cloneRange())}}function b(e,t,n,i){var a=c(t).createRange();if(n>m(t)&&(o.logSelectionStateFailure({anonymizedDom:f(t),extraParams:JSON.stringify({offset:n}),selectionState:JSON.stringify(i.toJS())}),r.handleExtensionCausedError()),a.setStart(t,n),d)try{e.addRange(a)}catch(s){0}else e.addRange(a)}e.exports={setDraftEditorSelection:function(e,t,n,r,o){var i=c(t);if(a(i.documentElement,t)){var s=i.defaultView.getSelection(),l=e.getAnchorKey(),u=e.getAnchorOffset(),d=e.getFocusKey(),h=e.getFocusOffset(),p=e.getIsBackward();if(!s.extend&&p){var f=l,m=u;l=d,u=h,d=f,h=m,p=!1}var y=l===n&&r<=u&&o>=u,v=d===n&&r<=h&&o>=h;if(y&&v)return s.removeAllRanges(),b(s,t,u-r,e),void g(s,t,h-r,e);if(p){if(v&&(s.removeAllRanges(),b(s,t,h-r,e)),y){var _=s.focusNode,E=s.focusOffset;s.removeAllRanges(),b(s,t,u-r,e),g(s,_,E,e)}}else y&&(s.removeAllRanges(),b(s,t,u-r,e)),v&&g(s,t,h-r,e)}},addFocusToSelection:g}},OLzA:function(e,t,n){e.exports=function(e){return!(!e||!e.ownerDocument)&&(e.ownerDocument.defaultView?e instanceof e.ownerDocument.defaultView.HTMLElement:e instanceof HTMLElement)}},OQKm:function(e,t,n){n.d(t,"a",(function(){return w}));var r=n("q1tI"),o=n.n(r),i=n("/5qN"),a=n("+wrf"),s=n("rxSY"),c=n("Ye/N");const l="INVITE_SETTING",u="REQUEST_TO_JOIN_SETTING";var d=n("n6mq");function h({boldHeading:e,setting:t,viewerIsOwner:n}){const r={0:{name:c.a._("Do (almost) everything","save.board.BoardPage.ModalContents.BoardCollabSettings","Heading explaining collaborator permission setting"),description:c.a._("Add, move or delete Pins and sections, comment and react","save.board.BoardPage.ModalContents.BoardCollabSettings","Text explaining collaborator permission setting")},1:{name:c.a._("Save and comment","save.board.BoardPage.ModalContents.BoardCollabSettings","Heading explaining collaborator permission setting"),description:n?c.a._("Save Pins, organize them, comment and react","save.board.BoardPage.ModalContents.BoardCollabSettings","Text explaining collaborator permission setting"):c.a._("Save Pins, organize them, comment, and react. For more permissions, reach out to the board owner!","save.board.BoardPage.ModalContents.BoardCollabSettings.SaveOnly.Collab","Text explaining collaborator permission setting")},[l]:{name:c.a._("Invite other people","save.board.BoardPage.ModalContents.BoardCollabSettings","Heading explaining collaborator permission setting"),description:c.a._("Collaborators can invite others to this board","save.board.BoardPage.ModalContents.BoardCollabSettings","Text explaining collaborator permission setting")},[u]:{name:c.a._("Board requests","save.board.BoardPage.ModalContents.BoardCollabSettings","Heading explaining collaborator permission setting"),description:c.a._("People can request to join this board","save.board.BoardPage.ModalContents.BoardCollabSettings","Text explaining collaborator permission setting")}},i=e?d.s:d.V;return o.a.createElement(o.a.Fragment,null,o.a.createElement(i,{color:"darkGray",size:e?"sm":"lg"},r[t].name),o.a.createElement(d.e,{paddingY:1},o.a.createElement(d.V,{color:"gray",size:"lg"},r[t].description)))}var p=n("EwHv"),f=n("TiQD"),m=n("v/Q4"),g=n("EC67");function b({board:e,currentPermissionLevel:t,navigateToPermissions:n,onDismiss:l}){const u=e.collaborator_count>0,[b,y]=Object(r.useState)(!u),v=Object(m.a)(),_=Object(g.g)(),E=v.isAuth&&e.owner.id===v.id,S=E||e.collaborator_invites_enabled,w=b&&!u||!b;return o.a.createElement(f.b,{accessibilityModalLabel:b?c.a._("Invite collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Accessibility label on a modal"):c.a._("Collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Accessibility label on a modal"),footer:S&&!b?o.a.createElement(d.U,{onTap:()=>y(!0),rounding:8},o.a.createElement(d.e,{display:"flex",alignItems:"center"},o.a.createElement(d.u,{accessibilityLabel:c.a._("Invite collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","accessibility label on icon button"),icon:"add",bgColor:"red",iconColor:"white"}),o.a.createElement(d.e,{paddingX:3},o.a.createElement(d.V,{size:"lg",weight:"bold"},c.a._("Invite collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Clickable text to show invite form"))))):null,heading:o.a.createElement(d.e,{padding:8},o.a.createElement(d.s,{align:"center",size:"md"},b?c.a._("Invite collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Heading for a modal"):c.a._("Collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Heading for a modal"))),onDismiss:l},o.a.createElement(d.e,{marginBottom:5},w&&o.a.createElement(d.e,{paddingX:6},o.a.createElement(d.e,{paddingY:3},o.a.createElement(d.V,{size:"sm"},E?c.a._("Collaborators can...","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Text before explaining current collaborator permission setting"):c.a._("You can...","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Text before explaining current collaborator permission setting"))),o.a.createElement(d.e,{alignItems:"start",display:"flex",justifyContent:"between",marginBottom:4},o.a.createElement(d.e,{width:"60%"},o.a.createElement(h,{boldHeading:!0,viewerIsOwner:E,setting:t})),E&&o.a.createElement(d.u,{accessibilityLabel:c.a._("Edit board permissions","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Accessibility label on icon button"),icon:"arrow-forward",onClick:n}))),b?o.a.createElement(d.e,{paddingX:2},o.a.createElement(i.a,{boardId:e.id}),o.a.createElement(s.a,{boardId:e.id})):o.a.createElement(r.Fragment,null,o.a.createElement(d.e,{paddingX:6,paddingY:5},o.a.createElement(d.V,{size:"sm"},c.a._("Collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Header before listing collaborators on a group board"))),o.a.createElement(p.a,{board:e,scrollInfo:null,onBoardLeave:()=>{const e=v.isAuth?"/"+v.username:"/";_.replace(e)},renderInvite:(e,t,n)=>{const r={invite:e,onBoardLeave:t,onInviteDidUpdate:n,useGestaltModal:!0,isDim:!1};return o.a.createElement(a.a,r)}}))))}var y=n("/MKj"),v=n("U4JR"),_=n("pLLR"),E=n("oN2T");function S({board:{collaborator_invites_enabled:e,collaborator_requests_enabled:t,id:n},currentPermissionLevel:i,navigateToCollaborators:a,onDismiss:s}){const[p,m]=Object(r.useState)(i),[g,b]=Object(r.useState)(e),[S,w]=Object(r.useState)(t),[C,O]=Object(r.useState)(!1),I=Object(_.d)(),x=Object(y.useDispatch)();return o.a.createElement(f.b,{accessibilityModalLabel:c.a._("Board permissions","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Accessibility label on a modal"),heading:o.a.createElement(d.e,{paddingY:8,position:"relative"},o.a.createElement(d.e,{position:"absolute",top:!0,left:!I.isRTL,right:I.isRTL,paddingY:8,paddingX:6},o.a.createElement(d.u,{accessibilityLabel:c.a._("Back","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Accessibility label on a button"),icon:"arrow-back",iconColor:"darkGray",onClick:a})),o.a.createElement(d.s,{align:"center",size:"md"},c.a._("Collaborators can...","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Heading for a modal"))),footer:o.a.createElement(d.e,{display:"flex",justifyContent:"end"},o.a.createElement(d.f,{color:"red",disabled:C||p===i&&g===e&&S===t,inline:!0,onClick:()=>{O(!0);const r={id:n},o={view:5,viewParameter:3472};g!==e&&(r.collaborator_invites_enabled=g,Object(v.a)(g?106:107,{element:11896,...o})),p!==i&&(r.collaborator_permissions_setting=p,Object(v.a)(8841,{...o})),S!==t&&(r.collaborator_requests_enabled=S),x(Object(E.m)(r)).then(()=>s())},size:"lg",text:c.a._("Done","save.board.BoardPage.ModalContents.PermissionsModal","Submit button on a form")})),onDismiss:s},o.a.createElement(d.e,{paddingX:12},o.a.createElement(d.e,{paddingY:3},o.a.createElement(d.V,{size:"sm"},c.a._("Permissions","save.board.BoardPage.ModalContents.PermissionsModal","Heading before listing possible board permissions"))),o.a.createElement(d.e,{alignItems:"center",display:"flex"},o.a.createElement(d.H,{checked:0===p,id:"ALL",onChange:()=>m(0),value:0}),o.a.createElement(d.e,{marginEnd:12,paddingX:2},o.a.createElement(h,{setting:0}))),o.a.createElement(d.e,{display:"flex",paddingY:6},o.a.createElement(d.H,{checked:1===p,id:"SAVE_ONLY",onChange:()=>m(1),value:1}),o.a.createElement(d.e,{marginEnd:12,paddingX:2},o.a.createElement(h,{setting:1}))),o.a.createElement(d.e,{paddingY:3},o.a.createElement(d.V,{size:"sm"},c.a._("Invitations","save.board.BoardPage.ModalContents.PermissionsModal","Heading before group board invitation permission form setting"))),o.a.createElement(d.e,{display:"flex",marginBottom:6},o.a.createElement(d.j,{checked:g,id:"inviteSetting",onChange:({checked:e})=>b(e)}),o.a.createElement(d.e,{marginEnd:12,paddingX:2},o.a.createElement(h,{setting:l}))),o.a.createElement(d.I,null,o.a.createElement(d.j,{checked:S,id:"inviteSetting",onChange:({checked:e})=>w(e)}),o.a.createElement(d.e,{marginEnd:12,paddingX:2},o.a.createElement(h,{setting:u})))))}function w({board:e,onDismiss:t}){const[n,i]=Object(r.useState)("collaboratorsView"),{collaborator_permissions_setting:a}=e;return"collaboratorsView"===n?o.a.createElement(b,{board:e,currentPermissionLevel:a,navigateToPermissions:()=>i("permissionsView"),onDismiss:t}):o.a.createElement(S,{board:e,currentPermissionLevel:a,navigateToCollaborators:()=>i("collaboratorsView"),onDismiss:t})}},OSge:function(e,t,n){n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));const r="0.8.0";function o(e,t=1){return{x:e/5,y:e*(t-1)}}const i={HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block"},a={alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1},s={...a,font:{default_size:28,id:"1",key:"Graphik-Regular.otf",letter_spacing:-.4,line_height:1.25,name:"Teaspoon",url:"https://s.pinimg.com/story_pins/fonts/Graphik-Regular.otf"},font_size:28}},OWXb:function(e,t,n){n.d(t,"a",(function(){return o}));var r=n("eOdZ");function o(e){return t=>function(e){return r.a.create("BoardActionStatusResource",{board_id:e}).callGet({showError:!1}).then(e=>new Promise((t,n)=>{const r=e&&e.resource_response&&e.resource_response.data&&e.resource_response.data.blocking_actions;r?t(r):n(new Error("No blocking actions found in the response"))}))}(e).then(n=>(t({type:"BLOCKING_ACTIONS_UPDATED",payload:{boardId:e,blockingActions:n}}),n))}},Oz7m:function(e,t,n){n.d(t,"a",(function(){return c}));var r=n("q1tI"),o=n.n(r),i=n("KEt0"),a=n("n6mq");function s(e){return null!=e}function c({additionalPadding:e,inline:t,items:n}){const c=e?o.a.createElement("span",{style:{padding:`0 ${4*e}px`}},o.a.createElement(i.a,null)):o.a.createElement(i.a,null),l=n.filter(s).reduce((e,t,n)=>[...e,0!==n?c:null,t],[]).filter(s).map((e,t)=>o.a.createElement(r.Fragment,{key:t},e));return 0===l.length?null:t?o.a.createElement(a.e,null,l):o.a.createElement(a.I,null,l)}},P1kZ:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return"@"===e?"mention":e+"mention"}},P2Et:function(e,t,n){n.d(t,"b",(function(){return K}));var r=n("q1tI"),o=n.n(r),i=n("/MKj"),a=n("ks/r"),s=n("d7JY"),c=n("Ye/N"),l=n("n6mq");function u({isSection:e}){const t=e?c.a._("There aren’t any Pins in this section yet","EmptyBoard.EmptyText.section","Statement that there are no pins in the section"):c.a._("There aren’t any Pins on this board yet","EmptyBoard.EmptyText.board","Statement that there are no pins on the board");return o.a.createElement(s.a,null,o.a.createElement(l.e,{paddingY:8},o.a.createElement(l.V,{color:"darkGray",size:"lg"},t)))}function d({hasSections:e,isSection:t}){return o.a.createElement(o.a.StrictMode,null,o.a.createElement(l.e,{width:"100%",display:"flex",justifyContent:"center"},!t&&e?null:o.a.createElement(u,{isSection:t})))}var h=n("3z7j"),p=n("mmKv"),f=n("dKiF");const m=e=>null===e,g=e=>e?164:5,b=e=>"story"===e.type&&["recommended_searches","search_related_queries","BUBBLE_ONE_COL"].includes(e.story_type),y=(e,t)=>e+(e>=t?1:0),v=Object(f.b)(0,f.a)(e=>e);function _(e){const{boardSectionId:t,gridItem:n,index:r,paddingBottom:i,renderPinItem:a,viewParameter:s}=e,{itemKey:c}=n;let l=null;switch(c.type){case"story":l=o.a.createElement(p.a,{slot:r,storyId:c.id,viewType:g(t),viewParameter:s});break;case"pin":l=o.a.createElement("div",{style:{paddingBottom:i}},a(n,r));break;default:l=null}return o.a.createElement("div",{key:`${c.type}:${c.id}`},l)}var E=n("MaRn"),S=n("MhBu"),w=n("R0ru"),C=n("9X5u"),O=n("rg+c");const I=-1;var x=Object(C.a)(O.a.Pin)((function(e){const{allowReordering:t,children:n,connectDropTarget:r,index:i,isDragWithinBounds:a}=e;return t&&r?r(o.a.createElement("div",{style:{opacity:i===I||a?1:.5}},n)):n})),D=n("EhF7"),k=n("82UD"),T=n("0S8y");function M(e){const{allowReordering:t,boardSectionId:n,gridItem:r,handlePinDragBegin:i,handlePinDragEnd:a,handlePinDragHover:s,index:c,lfvExperiences:l,onBulkEditPinClick:u,source:d,target:h,viewParameter:p}=e,{inBulkEditMode:f,isCollaborator:m,isGroupBoard:b,isOwnBoard:y,isSelected:v,itemKey:{id:_}}=r,E=d!==I,S=h===c,w={pinId:_,imageOnlyOption:!y&&Object(T.b)(l)?"image-only":"default",attributionOption:b?"show":"hide",pinImageCrop:"none",surface:f?"BulkEditMode":"BaseBoardPinGrid",trackingParameters:{slotIndex:c,viewParameter:p,viewType:g(n)}};if(!y&&!m)return o.a.createElement(k.a,w);let C="no-selection";f&&(C=v?"selected":"deselected");let x=o.a.createElement(k.a,Object.assign({},w,{disableHover:E||f,selectionState:C}));return f&&(x=o.a.createElement(D.a,{onClick:()=>u(_)},x)),t&&(x=o.a.createElement(O.b,{index:c,isDragging:S,onDragBegin:i,onDragHover:s,onDragEnd:a,type:O.a.Pin},x)),x}var j=n("eOdZ"),P=n("IeEU"),B=n("2qKt"),A=n("ANjH"),R=n("TN0d"),L=n("U4JR"),N=n("Wrea"),F=n("6vq5"),z=n("yjg8"),q=n("KFEb");function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class H extends o.a.Component{constructor(...e){super(...e),U(this,"state",{reorderSource:I,reorderTarget:I,prevFeed:[]}),U(this,"handlePinDeleted",(e,t,n)=>{const r=n,{board:o,boardSectionId:i,dispatch:a,onPinDelete:s}=this.props;a(Object(N.f)(o.id)),a(Object(S.a)({feedId:i||o.id,feedType:i?q.a.SECTION_PINS:q.a.BOARD_PINS,itemIds:[r],itemType:"pin"})),i&&a(Object(h.a)(i)),s()}),U(this,"handlePinAdded",(e,t,n)=>{const{board:r,boardSectionId:o,dispatch:i}=this.props;i(Object(N.f)(r.id)),o&&i(Object(h.a)(o)),this.props.resource.refreshData()}),U(this,"handlePinDragBegin",e=>this.setState({reorderSource:e})),U(this,"handlePinDragHover",e=>{const{reorderTarget:t}=this.state;e!==t&&this.setState({reorderTarget:e})}),U(this,"handlePinDragEnd",e=>{const{board:t,boardSectionId:n,dispatch:r,feed:o,viewParameter:i}=this.props,{reorderSource:a,reorderTarget:s}=this.state;if(o&&e&&s!==I&&a!==I&&s!==a){const e=this.hiddenItemIndex,[c,l]=-1===e?[a,s]:[y(a,e),y(s,e)],u=Object(q.c)(o,c,l),d=o[c].id;r(Object(E.a)({feedType:n?q.a.SECTION_PINS:q.a.BOARD_PINS,feedId:n||t.id,itemType:"pin",targetItemId:o[l].id,sourceItemId:o[c].id}));const h={board_id:t.id,pin_id:d},p=u.filter(e=>"pin"===e.type).map(e=>e.id),f=p.indexOf(d),m=f-1;m>=0&&m<p.length&&(h.pin_id_before=p[m]);const b=f+1;b>=0&&b<p.length&&(h.pin_id_after=p[b]);const v={objectId:d,view:g(n),viewParameter:i};j.a.create("BoardPinsReorderResource",h).callUpdate({showError:!1}).then(()=>Object(L.a)(7122,v))}this.setState({reorderSource:I,reorderTarget:I})}),U(this,"handleFetchMore",()=>{const{resource:{fetchMore:e,isAtEnd:t,isFetching:n}}=this.props;t||n||e(),this.setState({prevFeed:this.props.feed||[]})}),U(this,"renderPinItem",(e,t)=>{const{lfvExperiences:n,onBulkEditPinClick:r,viewer:i,viewParameter:a,boardSectionId:s}=this.props,{reorderSource:c,reorderTarget:l}=this.state;return o.a.createElement(M,{allowReordering:this.allowReordering,boardSectionId:s,gridItem:e,handlePinDragBegin:this.handlePinDragBegin,handlePinDragEnd:this.handlePinDragEnd,handlePinDragHover:this.handlePinDragHover,index:t,lfvExperiences:n,onBulkEditPinClick:r,source:c,target:l,viewer:i,viewParameter:a})}),U(this,"renderGridItem",({data:e,itemIdx:t})=>{const{boardSectionId:n,viewParameter:r}=this.props;return o.a.createElement(_,{boardSectionId:n,gridItem:e,index:t,paddingBottom:this.props.denseViewSelected?6:0,renderPinItem:this.renderPinItem,viewParameter:r})})}componentDidMount(){const{board:{id:e},feed:t,resource:{isFetching:n,refreshData:r}}=this.props;this.subscribers=[R.b.subscribe(e,"pinDeleted",this.handlePinDeleted),R.b.subscribe(e,"pinCreated",this.handlePinAdded)],m(t)&&!n&&r()}componentDidUpdate(e){const{feed:t,resource:{isFetching:n,refreshData:r}}=this.props;m(t)&&!m(e.feed)&&!n&&r()}componentWillUnmount(){this.subscribers.forEach(e=>e.unsubscribe()),delete this.subscribers}get allowReordering(){const{board:{collaborated_by_me:e=!1},isOwnBoard:t,isPinGridSorted:n}=this.props;return!n&&(t||e)}get hiddenItemIndex(){const{denseViewSelected:e,feed:t}=this.props;return e?(t||[]).findIndex(b):-1}render(){const{bulkEditSelectedPins:e,board:t,boardSectionId:n,commentsResource:i,feed:s,footerStoryId:u,denseViewSelected:h,inBoardOrganizationMode:p,inSectionOrganizationMode:f,isDragWithinBounds:m,inSelectAll:g,renderFooterStory:b,resource:{isAtEnd:y,isFetching:_,isLoaded:E},isOwnBoard:S,scrollContainer:C}=this.props,{access:O,collaborated_by_me:D=!1,collaborator_count:k=0,section_count:T}=t,{reorderSource:M,reorderTarget:j}=this.state;if(!s||!s.find(e=>"pin"===e.type))return _?o.a.createElement(l.O,{accessibilityLabel:c.a._("Board Pins grid"),show:!0}):o.a.createElement(r.Fragment,null,E&&s&&0===s.length&&o.a.createElement(d,{hasSections:!!T,isSection:!!n}),b&&u&&b(u));if(!this.state.prevFeed.length&&i.isFetching)return o.a.createElement(l.O,{accessibilityLabel:c.a._("Board Pins grid","Accessibility label for spinner waiting for Board pin grid","Accessibility label for spinner waiting for Board pin grid"),show:!0});const P=this.allowReordering,B=P&&M!==j&&M!==I&&j!==I;let A=i.isFetching?this.state.prevFeed:s||[];const R=this.hiddenItemIndex;if(-1!==R&&(A=[...A.slice(0,R),...A.slice(R+1)]),B&&(A=Object(q.c)(A,M,j)),!A.length)return o.a.createElement(l.O,{accessibilityLabel:c.a._("Board Pins grid"),show:!0});const L={inBulkEditMode:p||f,inDenseView:h||!1,isGroupBoard:k>0,userCanEdit:(O||[]).includes("write"),isOwnBoard:S,isCollaborator:D},N=A.map((t,n)=>{const{inBulkEditMode:r}=L,o="pin"===t.type&&!!(null==e?void 0:e.includes(t.id));return v({...L,isSelected:r&&(g?!o:o),itemKey:t})});return o.a.createElement(l.e,{minHeight:h?800:""},o.a.createElement(x,{allowReordering:P,index:j,isDragWithinBounds:m},o.a.createElement(w.default,{key:`${String(h)}-${String(p)}-${String(f)}`,columnWidth:h?z.f:z.e,comp:this.renderGridItem,gutterWidth:h?2*z.b/3:z.b,isAtEnd:y,isFetching:_||i.isFetching,isLoaded:E&&i.isLoaded,items:N,layout:"basicCentered",loadItems:this.handleFetchMore,paddingStyle:h?"dense":"simplified",scrollContainer:C,virtualize:!0})),P&&M!==I&&o.a.createElement(a.a,null),_&&o.a.createElement(l.e,{position:"relative",paddingY:3},o.a.createElement(l.O,{accessibilityLabel:c.a._("Loading Board Feed"),show:!0})),y&&u&&b&&b(u))}}const K=e=>e?e.reduce(({feed:e,footerStoryId:t},n)=>{const r="story"===n.type&&"board_ideas_preview_detailed"===n.story_type;return{feed:e.concat(r?[]:[n]),footerStoryId:r?n.id:t}},{feed:[],footerStoryId:void 0}):{feed:e,footerStoryId:void 0},V=Object(A.compose)(Object(i.connect)((e,t)=>{const{feed:n}=t,{activityItems:r,pins:o}=e;return{boardActivityIdsToFetch:n?n.filter(e=>"pin"===e.type).reduce((e,t)=>{const n=o[t.id],i=n&&n.board_activity,a=i&&i.id,s=a&&r[a];return a&&s&&s.comment_count?[...e,a]:e},[]):[]}}),Object(B.a)(1000182),P.a,Object(F.a)({name:"BoardActivityPinsGridCommentsResource",key:"commentsResource",options:e=>({activityIds:e.boardActivityIdsToFetch||[]})}))(H);V.displayName="BaseBoardPinGrid";t.a=V},P6AF:function(e,t,n){var r=n("/MKj"),o=n("6vq5"),i=n("ANjH"),a=n("KFEb");var s=n("5FNA"),c=n("P2Et");const l=Object(i.compose)(Object(r.connect)((e,t)=>Object(c.b)(e.feeds[a.a.SECTION_PINS][t.boardSectionId])),Object(o.a)({name:"BoardsResource",key:"boardsResource",options:e=>Object(s.a)(e.viewer.username,!0)}),Object(o.a)({name:"BoardSectionPinsResource",key:"resource",options:e=>{return t=e.boardSectionId,n=e.isOwnBoard,{field_set_key:e.board.should_show_board_activity?"react_grid_pin_with_board_activity":"react_grid_pin",is_own_profile_pins:n,page_size:25,redux_normalize_feed:!0,section_id:t};var t,n}}))(c.a);l.displayName="BoardSectionPinGrid";t.a=l},P6kd:function(e,t,n){var r=n("q1tI"),o=n.n(r),i=n("Ye/N"),a=n("oRao"),s=n("eOdZ"),c=n("vxan"),l=n("vvax"),u=n("n6mq");function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends o.a.Component{constructor(...e){super(...e),d(this,"state",{recommendations:[],selectedIndex:0,resourceLoaded:!1}),d(this,"onDismiss",()=>{}),d(this,"mounted",!1),d(this,"addHashtag",e=>{this.props.addHashtag(e),this.setState({recommendations:[]})}),d(this,"handleKeyDown",e=>{38===e.keyCode?this.handlePrevHashtag(e):40===e.keyCode?this.handleNextHashtag(e):27===e.keyCode?this.handleClose(e):13===e.keyCode&&this.handleSubmit(e)}),d(this,"handlePrevHashtag",e=>{e.preventDefault(),this.state.selectedIndex>0&&this.setState(e=>({selectedIndex:e.selectedIndex-1}))}),d(this,"handleNextHashtag",e=>{e.preventDefault(),this.state.selectedIndex<this.state.recommendations.length-1&&this.setState(e=>({selectedIndex:e.selectedIndex+1}))}),d(this,"handleClose",e=>{e.preventDefault(),this.setState({recommendations:[]})}),d(this,"handleSubmit",e=>{e.preventDefault(),this.addHashtag(this.state.recommendations[this.state.selectedIndex].query)}),d(this,"callResource",e=>{const{makeCancelablePromise:t}=this.props;t(s.a.create("HashtagTypeaheadResource",{query:e,showPinCount:!0}).callGet(),"typeahead").then(e=>{if(!this.mounted)return;const t=e.resource_response.data;this.setState({recommendations:t.slice(0,5),resourceLoaded:!0})}).catch(({isCanceled:e})=>{e||this.setState({resourceLoaded:!1})})})}componentDidMount(){this.mounted=!0,this.callResource(this.props.query),window.addEventListener("keydown",this.handleKeyDown)}componentDidUpdate(e){this.props.query!==e.query&&""!==this.props.query&&this.callResource(this.props.query)}componentWillUnmount(){window.removeEventListener("keydown",this.handleKeyDown),this.mounted=!1}render(){const{recommendations:e,resourceLoaded:t,selectedIndex:n}=this.state,{anchor:r,idealDirection:s}=this.props,c=e.filter(e=>e.query),d=s||"down",h="flyout_"+c.length;return t&&c.length>0?o.a.createElement("div",{className:"HashtagFlyout"},o.a.createElement(u.q,{key:h,anchor:r,idealDirection:d,onDismiss:this.onDismiss,size:"sm"},o.a.createElement("div",{className:"HashtagRecommendations"},c.length>0?c.map((e,t)=>o.a.createElement("div",{className:"HashtagItem",key:e.query},o.a.createElement(u.U,{fullWidth:!1,onTap:()=>this.addHashtag(e.query)},o.a.createElement(u.e,{display:"flex",justifyContent:"between",alignItems:"center",color:t===n?"lightGray":"transparent",padding:1},o.a.createElement(u.e,{flex:"grow"},o.a.createElement(u.V,{inline:!0,size:"md",weight:"bold"},e.query)),o.a.createElement(u.e,{flex:"none"},o.a.createElement(u.V,{inline:!0,size:"sm"},Object(l.b)(i.a.ngettext("{{ count }} pin","{{ count }} pins",Number(e.pin_count),"label for n pins in hashtag flyout","label for n pins in hashtag flyout"),{count:o.a.createElement(a.a,{value:Number(e.pin_count),key:"pinCount"})}))))))):null))):null}}t.a=Object(c.a)(h)},P79d:function(e,t,n){n.d(t,"a",(function(){return P}));var r=n("q1tI"),o=n.n(r),i=n("E2hd"),a=n("Ye/N");function s({onClick:e}){return o.a.createElement(i.a,{accessibilityLabel:a.a._("Edit board","BoardPage.ActionBar.EditBoard","button that allows a user to edit a board"),icon:"edit",onClick:e})}var c=n("hBSE"),l=n("0yL5"),u=n("s6a/"),d=n("GFC/");function h(e){const{label:t,onClose:n,onCreatePincode:r,onEditClick:i}=e;return o.a.createElement(u.a,{label:t},o.a.createElement(d.a,{onClick:()=>{i(),n()}},a.a._("Edit","BoardPage.ActionBar.PartnerEdit","Clickable text to enter board editing mode")),r&&o.a.createElement(d.a,{onClick:()=>{r(),n()}},a.a._("Create Pincode","BoardPage.ActionBar.PartnerPincode","Clickable text to trigger Pincode modal")))}function p({isSection:e,onCreatePincode:t,onEditClick:n}){const r=e?a.a._("Section options","ActionBar.PartnerEditBtn.section","Label for a button that open the edit flyout for partners on a board section"):a.a._("Board options","ActionBar.PartnerEditBtn.board","Label for button that opens a flyout with partner options on boards");return o.a.createElement(l.a,{icon:"ellipsis",label:r},({handleClose:e})=>o.a.createElement(h,{label:r,onClose:e,onCreatePincode:t,onEditClick:n}))}var f=n("J/d7"),m=n("n6mq");function g({activeTabIndex:e,onChange:t,tabs:n}){return o.a.createElement(m.e,{display:"flex",flex:"grow",justifyContent:"center"},o.a.createElement(m.T,{activeTabIndex:e,onChange:t,size:"lg",tabs:n.map(({href:e,title:t})=>({href:e,text:t}))}))}var b=n("JW66"),y=n("8A+h"),v=n("F8lS"),_=n("qUzp"),E=n("/MKj"),S=n("2r8n");function w({handleClose:e,handleOrganizeClick:t,showDensitySelector:n,showOrganize:i,surface:s}){const c=Object(E.useSelector)(({ui:e})=>{var t;return null==e||null===(t=e.views)||void 0===t?void 0:t.boardPinView}),l=[];return i&&l.push(function({handleClose:e,handleOrganizeClick:t}){return{items:[{text:a.a._("Select Pins to move or delete","BoardPage.ActionBar.MoveDelete","Clickable text to enter board organization mode"),onClick:()=>{e(),t()}}],label:a.a._("Organize","BoardHeader.ActionBar.Organize","List of options for organizing a board")}}({handleClose:e,handleOrganizeClick:t})),n&&l.push(Object(S.a)({handleClose:e,selectedDensity:c,surface:s})),o.a.createElement(r.Fragment,null,l.map(({items:e,label:t})=>o.a.createElement(u.a,{key:t,label:t},e.map(({isSelected:e,onClick:t,text:n})=>o.a.createElement(d.a,{key:n,icon:e?"selected":void 0,onClick:t},n)))))}function C({handleOrganizeClick:e,showDensitySelector:t,showOrganize:n,surface:r}){return o.a.createElement(l.a,{icon:"filter",label:a.a._("Options","BoardPage.ActionBar.Options","button triggering organization and view tools")},({handleClose:i})=>o.a.createElement(w,{handleClose:i,handleOrganizeClick:e,showDensitySelector:t,showOrganize:n,surface:r}))}var O=n("3oMh");function I(e){const{board:t,handleCreatePincode:n,handleOpenSendBoardFlyout:r}=e;return o.a.createElement(O.a,{board:t,onCreatePincode:n,onOpen:r},({active:e,onClick:t})=>o.a.createElement(i.a,{accessibilityLabel:a.a._("Send Board","BoardPage.ActionBar.ShareBtn","Accessible label for button to send board"),icon:"share",onClick:t,selected:e}))}var x=n("4cpq"),D=n("iTI2"),k=n("v/Q4"),T=n("ZdPf"),M=n("MD/U"),j=n("0SCs");function P(e){const{board:t,handleAddSection:n,handleBoardEdit:r,handleCreatePin:l,handleCreatePincode:u,handleOpenSendBoardFlyout:d,handleOrganizeClick:h,handleShowDateModal:m,handleTabChange:E,headerHeight:S,shouldStick:w,showDensitySelector:O,showOrganize:P,showTabs:B,surface:A,tabKey:R,tabs:L}=e,{access:N,privacy:F,sensitivity:z}=t,q=Object(k.a)(),{anyEnabled:U}=Object(j.c)("web_board_tools"),{anyEnabled:H}=Object(j.c)("web_hide_board_follow"),K=Math.max((null==L?void 0:L.findIndex(e=>e.key===R))||0,0),V=L&&L[K],W=U||R===M.d.Default,G=N.includes("write"),Y=Object(y.a)(q,t),J=!!t.archived_by_me_at,X=F===b.a.BoardPrivacy.SECRET,Q=Object(T.d)(z),$="section"===A,Z=[],ee=[],te=!X&&!Q&&q.isAuth&&q.isPartner;if(H)Z.push(o.a.createElement(v.a,{board:t,canCreatePincode:G&&te,canEdit:G,handleCreatePincode:u,handleOpenSendBoardFlyout:d,onEditClick:r,showFollow:!Y,showShare:!X&&!Q}));else{if(G){const e=te?o.a.createElement(p,{isSection:$,key:"actionBarEditButton-Partner",onCreatePincode:u,onEditClick:r}):o.a.createElement(s,{key:"actionBarEditButton",onClick:r});Z.push(o.a.createElement(x.a,{id:"editBoardButton"},e))}X||Q||Z.push(o.a.createElement(I,{key:"sendButton",board:t,handleCreatePincode:u,handleOpenSendBoardFlyout:d}))}return W&&Object(_.a)({board:t,viewer:q})&&(P||O)&&ee.push(o.a.createElement(C,{key:"organizeButton",handleOrganizeClick:h,showDensitySelector:O,showOrganize:P,surface:A})),W&&G&&!J&&ee.push(o.a.createElement(f.a,{key:"boardActionsButton",onAddOrEditDate:"board"===A&&Y&&m?m:null,onAddSection:n,onCreatePin:l,onOpen:D.a,surface:$?"section":"board"},({active:e,openFlyout:t})=>o.a.createElement(i.a,{accessibilityLabel:$?a.a._("Create a Pin","BoardPage.ActionBar.AddPin","button to add a pin to a board section"):a.a._("Create a Pin or add a Section","BoardPage.ActionBar.AddPinOrSection","button triggering a flyout to create a pin or add a section"),icon:"add",onClick:t,selected:e}))),o.a.createElement(c.a,{buttonsLeft:Z,buttonsRight:ee,headerHeight:S,shouldStick:w},!U&&L&&V&&B&&o.a.createElement(g,{activeTabIndex:L.findIndex(e=>e.key===V.key),onChange:E,tabs:L}))}},P9b8:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("SFi7");t.DragDropContext=r.DragDropContext,t.DragDropContextProvider=r.DragDropContextProvider,t.DragDropContextConsumer=r.Consumer;var o=n("QNmZ");t.DragLayer=o.default;var i=n("9EBm");t.DragSource=i.default;var a=n("tvWU");t.DropTarget=a.default;var s=n("fpRd");t.DragPreviewImage=s.default;var c=n("sGxw");t.useDrag=c.useDrag,t.useDragLayer=c.useDragLayer,t.useDrop=c.useDrop},PFU8:function(e,t,n){function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n("rJY1"),a=n("mFyV"),s=function(e){if(!e||!e.type)return!1;var t=e.type;return"unordered-list-item"===t||"ordered-list-item"===t},c={fromRawTreeStateToRawState:function(e){var t=e.blocks,n=[];return Array.isArray(t)||a(!1),Array.isArray(t)&&t.length?(function(e,t){for(var n=[].concat(e).reverse();n.length;){var r=n.pop();t(r);var o=r.children;Array.isArray(o)||a(!1),n=n.concat([].concat(o.reverse()))}}(t,(function(e){var t=r({},e);s(e)&&(t.depth=t.depth||0,function(e){Array.isArray(e.children)&&(e.children=e.children.map((function(t){return t.type===e.type?r({},t,{depth:(e.depth||0)+1}):t})))}(e),null!=e.children&&e.children.length>0)||(delete t.children,n.push(t))})),e.blocks=n,r({},e,{blocks:n})):e},fromRawStateToRawTreeState:function(e){var t=[],n=[];return e.blocks.forEach((function(e){var o=s(e),a=e.depth||0,c=r({},e,{children:[]});if(o){var l=n[0];if(null==l&&0===a)t.push(c);else if(null==l||l.depth<a-1){var u={key:i(),text:"",depth:a-1,type:e.type,children:[],entityRanges:[],inlineStyleRanges:[]};n.unshift(u),1===a?t.push(u):null!=l&&l.children.push(u),u.children.push(c)}else if(l.depth===a-1)l.children.push(c);else{for(;null!=l&&l.depth>=a;)n.shift(),l=n[0];a>0?l.children.push(c):t.push(c)}}else t.push(c)})),r({},e,{blocks:t})}};e.exports=c},PNKV:function(e,t,n){},PQhE:function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n("8uQm"),i=n("JL7T"),a=n("1qq2"),s=n("rJY1"),c=n("xocI"),l=n("cwFY"),u=n("zVay"),d=n("HriT"),h=u.List,p=u.Repeat,f=l("draft_tree_data_support"),m=f?i:o,g={processHTML:function(e,t){return a(e,c,t)},processText:function(e,t,n){return e.reduce((function(e,o,i){o=d(o);var a=s(),c={key:a,type:n,text:o,characterList:h(p(t,o.length))};if(f&&0!==i){var l=i-1;c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){r(e,t,n[t])}))}return e}({},c,{prevSibling:(e[l]=e[l].merge({nextSibling:a})).getKey()})}return e.push(new m(c)),e}),[])}};e.exports=g},PRGv:function(e,t,n){var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return r||((r=new Image).src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),r}},PioT:function(e,t,n){var r=n("hQ+u"),o=n("+NLT");const i={getBrowser(){const e=o.a.instance.browser_name||"";switch(!0){case e.includes("Chrome"):return r.a.CHROME;case e.includes("Safari"):return r.a.SAFARI;case e.includes("Firefox"):return r.a.FIREFOX;case e.includes("Opera"):return r.a.OPERA;case e.includes("IE"):return r.a.IE;default:return r.a.OTHER}},isSafari(){return this.getBrowser()===r.a.SAFARI},isChrome(){return this.getBrowser()===r.a.CHROME},isFirefox(){return this.getBrowser()===r.a.FIREFOX}};t.a=i},Pqnw:function(e,t,n){function r(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}n.d(t,"a",(function(){return r}))},"Pv/+":function(e,t,n){n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var r=n("MhBu"),o=n("eOdZ"),i=n("oN2T"),a=n("KFEb"),s=n("Wer7");function c(e,t){return{type:"SECTION_DELETED",payload:{boardId:e,sectionId:t}}}function l(e,t){return n=>o.a.create("BoardSectionEditResource",{section_id:t}).callDelete({showError:!1}).then(()=>Promise.all([n(c(e,t)),n(Object(r.a)({feedId:e,feedType:a.a.BOARD_SECTIONS,itemIds:[t],itemType:"board_section"})),n(Object(i.c)(e,"pin_count")),n(Object(s.f)("BoardSectionsRepinResource",{board_id:e}))]))}},PxjJ:function(e,t,n){e.exports=function(e){var t=e||"",n=arguments.length;if(n>1)for(var r=1;r<n;r++){var o=arguments[r];o&&(t=(t?t+" ":"")+o)}return t}},Q59z:function(e,t,n){var r=n("q1tI"),o=n.n(r),i=n("/MKj"),a=n("qWlA"),s=n("LWPz"),c=n("lnQP"),l=n("zUcL"),u=n("P6AF"),d=n("VVkO"),h=n("6j0b"),p=n("qUzp"),f=n("i/p3"),m=n("79tv"),g=n("v/Q4"),b=n("n6mq"),y=n("juW8");const v=()=>{};function _({board:e,currentView:t,handleContentViewChange:n,handleSetCurrentModal:r,handleShowEditSectionModal:a,handleShowMergeSectionsConfirmationModal:s,isOwnBoard:_,isPinGridSorted:E,section:S}){const w=Object(g.a)(),C=Object(h.a)({board:e,viewer:w}),O=(e.access||[]).includes("write"),I=Object(i.useSelector)(e=>e.ui.views.boardPinView),x=Object(m.a)(S?Object(d.a)(e,S):"");return S?o.a.createElement(u.a,{board:e,boardSectionId:S.id,denseViewSelected:O&&"dense"===I,inSectionOrganizationMode:!1,inSelectAll:!1,isOwnBoard:_,renderFooterStory:t=>!e.archived_by_me_at&&o.a.createElement(b.e,{marginBottom:12},o.a.createElement(l.a,null,o.a.createElement(f.a,{collection:S,storyId:t,url:x}))),viewer:w,viewParameter:C}):o.a.createElement(c.a,{actions:{onBoardOrganizeClick:v},board:e,currentView:t,enableReordering:Object(p.a)({board:e,viewer:w}),isOwnBoard:_,isPinGridSorted:E,onContentViewChange:n,onPinDelete:v,onShowEditSectionModal:a,onShowMergeSectionsConfirmationModal:()=>{r(y.a.sectionMergeConfirm),s()},viewParameter:C})}var E=n("yJZD"),S=n("+HMQ"),w=n("2r8n"),C=n("s6a/"),O=n("GFC/"),I=n("Ye/N"),x=n("bbVO");function D({handleClose:e,isArchived:t,onArchiveClick:n,onCreatePincode:r,onEditClick:o,onMergeClick:i,onUnarchiveClick:a,setFlyoutType:s,showCreatePinCodeOption:c}){const l=[{dataTestId:"editBoardButton",text:I.a._("Edit board","BoardHeader.BoardOptionsFlyout.EditOption","Clickable text to enter board editing mode"),onClick:()=>{o(),e()}},{text:I.a._("Share","BoardHeader.BoardOptionsFlyout.ShareOption","Clickable text to show share options"),onClick:()=>{Object(x.a)(),s("boardShare")}},{text:I.a._("Merge","BoardHeader.BoardOptionsFlyout.MergeOption","Clickable text to open merge board modal"),onClick:()=>{i(),e()}}];t?l.push({text:I.a._("Unarchive","BoardHeader.BoardOptionsFlyout.UnarchiveOption","Clickable text to open unarchive modal"),onClick:()=>{a(),e()}}):l.push({text:I.a._("Archive","BoardHeader.BoardOptionsFlyout.ArchiveOption","Clickable text to open archive modal"),onClick:()=>{n(),e()}}),c&&l.push({text:I.a._("Create Pincode","BoardHeader.BoardOptionsFlyout.PincodeOption","Clickable text to trigger Pincode modal"),onClick:()=>{r(),e()}});return{items:l,label:I.a._("Board options","BoardHeader.BoardOptionsFlyout.OptionsCategory","Category of board options in board flyout")}}function k({handleClose:e,onEditClick:t,setFlyoutType:n}){return{items:[{text:I.a._("Edit Section","BoardHeader.getSectionOptionsCategory.EditOption","Clickable text to enter board editing mode"),onClick:()=>{t(),e()}},{text:I.a._("Share","BoardHeader.getSectionOptionsCategory.ShareOption","Clickable text to show share options"),onClick:()=>{Object(x.a)(),n("boardShare")}}],label:I.a._("Section options","BoardHeader.getSectionOptionsCategory.OptionsCategory","Category of section options in section flyout")}}function T({handleClose:e,isArchived:t,onArchiveClick:n,onCreatePincode:r,onEditBoardClick:a,onEditSectionClick:s,onMergeClick:c,onUnarchiveClick:l,setFlyoutType:u,showCreatePinCodeOption:d,showDensitySelector:h,surface:p}){const f=Object(i.useSelector)(({ui:e})=>{var t;return null==e||null===(t=e.views)||void 0===t?void 0:t.boardPinView}),m="section"===p?[k({handleClose:e,onEditClick:s,setFlyoutType:u})]:[D({handleClose:e,isArchived:t,onArchiveClick:n,onCreatePincode:r,onEditClick:a,onMergeClick:c,onUnarchiveClick:l,setFlyoutType:u,showCreatePinCodeOption:d})];return h&&m.push(Object(w.a)({handleClose:e,selectedDensity:f,surface:"board"})),o.a.createElement(b.e,{width:206},m.map(({items:e,label:t})=>o.a.createElement(C.a,{key:t,label:t},e.map(({dataTestId:e,isSelected:t,onClick:n,text:r})=>o.a.createElement(O.a,{dataTestId:e,key:r,icon:t?"selected":null,onClick:n},r)))))}var M=n("0ZL5"),j=n("+nTX"),P=n("fevN"),B=n("oVol");function A({board:e,onArchiveClick:t,onCreatePincode:n,onEditBoardClick:i,onEditSectionClick:a,onMergeClick:s,onUnarchiveClick:c,showDensitySelector:l,showCreatePinCodeOption:u,surface:d}){const h=Object(r.useRef)(null),[p,f]=Object(r.useState)(!1),[m,g]=Object(r.useState)("boardOptions"),y=()=>{f(!1),g("boardOptions")},v={description:e.description,id:e.id,imageUrl:e.image_cover_url,name:e.name,type:B.a.BOARD,url:e.url},_=()=>{f(e=>!e),g("boardOptions")},E=!!e.archived_by_me_at;return o.a.createElement(r.Fragment,null,o.a.createElement(M.a,{anchors:{3001:h.current},onCompleteByAnchor:{3001:_},placementId:18},o.a.createElement(r.Fragment,null,o.a.createElement(b.e,{ref:h},o.a.createElement(b.u,{accessibilityLabel:I.a._("More Board options","BoardHeaderOVerflowFlyoutButton.IconButton.AccessibilityLabel","Accessibility label on icon button"),bgColor:"lightGray",icon:"ellipsis",iconColor:"darkGray",onClick:_,selected:p,size:"sm"})),p&&o.a.createElement(j.a,{anchor:h.current,onDismiss:y},"boardOptions"===m?o.a.createElement(T,{handleClose:y,isArchived:E,onArchiveClick:t,onCreatePincode:n,onEditBoardClick:i,onEditSectionClick:a,onMergeClick:s,onUnarchiveClick:c,setFlyoutType:g,showDensitySelector:l,showCreatePinCodeOption:u,surface:d}):o.a.createElement(P.a,{classNames:"SendBoard",isFlyout:!0,onCreatePincodeClick:n,onHide:y,sendType:B.a.BOARD,sharedObject:v})))))}var R=n("a0OY"),L=n("d7JY"),N=n("8A+h"),F=n("F8lS"),z=n("wj9o"),q=n("Yo6N"),U=n("MD/U"),H=n("0SCs"),K=n("ZdPf");function V({board:e,handleBoardEditClick:t,handleFollowersClick:n,handleSectionEditClick:r,handleShowBoardArchiveConfirmation:i,handleShowBoardUnarchiveConfirmation:a,handleShowCollabAndPermissionsModal:s,handleShowCreatePincodeModal:c,handleShowDateModal:l,handleShowMergeModal:u,section:d,showPulsar:h}){const{name:f,sensitivity:m,url:y}=e,{access:v,pin_count:_}=e,w=Object(g.a)(),C=v&&v.includes("write")?S.a:E.a,O=Object(K.d)(m),I=Object(N.a)(w,e),x=Object(p.a)({viewer:w,board:e}),{anyEnabled:D}=Object(H.c)("web_hide_board_follow");let k=null;return x?k=o.a.createElement(A,{board:e,onArchiveClick:i,showDensitySelector:_>=U.a,onCreatePincode:c,onEditBoardClick:t,onEditSectionClick:r,onMergeClick:u,onUnarchiveClick:a,showCreatePinCodeOption:w.isAuth&&w.isPartner,surface:d?"section":"board"}):D&&(k=o.a.createElement(F.a,{board:e,showFollow:!0})),d?o.a.createElement(z.a,{boardName:f,boardUrl:y,overFlowActionsButton:k,sectionName:d.title},O&&Object(K.c)(m)&&o.a.createElement(L.a,null,o.a.createElement(b.e,{maxWidth:800,paddingY:10},m&&o.a.createElement(q.a,{notices:m.notices})))):o.a.createElement(b.e,{"data-test-id":"board-header"},o.a.createElement(C,{board:e},t=>o.a.createElement(R.a,{board:e,collaborators:t,handleCreatePincode:c,handleShowCollabAndPermissionsModal:s,handleShowDateModal:l,hideFollowers:I,isToolsBoard:!0,onFollowersClick:n,overFlowActionsButton:k,showPulsar:h,userBlocked:!!e.owner.blocked_by_me})))}var W=n("fNcP"),G=n("qD10");function Y({boardTool:{icon:e,link:t,text:n},forwardedRef:i}){const[a,s]=Object(r.useState)(!1);return o.a.createElement(b.U,{accessibilityLabel:n,onFocus:()=>s(!0),onBlur:()=>s(!1),onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),rounding:6},o.a.createElement(G.a,{tabIndex:"-1",to:t},o.a.createElement(b.e,{display:"flex",direction:"column",justifyContent:"center",ref:i,dangerouslySetInlineStyle:{__style:{paddingBottom:"1px"}}},o.a.createElement(b.e,{alignItems:"center",color:a?"lightWash":"lightGray",display:"flex",height:72,justifyContent:"center",rounding:6,width:72},o.a.createElement(b.t,{accessibilityLabel:n,color:"darkGray",icon:e,size:24})),o.a.createElement(b.e,{paddingY:1},o.a.createElement(b.V,{align:"center",size:"sm",weight:"bold"},n)))))}var J=n("w70y");function X({boardId:e,sectionId:t}){const n=Object(r.useRef)(),i=Object(r.useRef)(),a=Object(r.useRef)(),s=!!t,c=s?{sectionId:t}:{boardId:e},{data:l,isLoaded:u}=Object(J.a)({name:s?"SectionToolsFeedResource":"BoardToolsFeedResource",options:c});if(u&&(!l||!l.length))return null;const d={Shop:n,"More ideas":i,Organize:a};return u&&(null==l?void 0:l.length)?o.a.createElement(b.I,{width:"100%",justifyContent:"center"},o.a.createElement(M.a,{anchors:{3003:n.current,3004:i.current,3005:a.current},onCompleteByAnchor:{3003:()=>{var e;return null===(e=n.current)||void 0===e?void 0:e.click()},3004:()=>{var e;return null===(e=i.current)||void 0===e?void 0:e.click()},3005:()=>{var e;return null===(e=a.current)||void 0===e?void 0:e.click()}},placementId:18,positionRelativeToAnchor:!1},o.a.createElement(b.e,{display:"flex"},l.map(e=>o.a.createElement(b.e,{key:e.id,padding:1},o.a.createElement(Y,{boardTool:e,forwardedRef:d[e.text]})))))):null}var Q=n("Bn+j"),$=n("1YNZ"),Z=n("J/d7"),ee=n("iTI2");function te({handleAddSection:e,handleCreatePin:t,handleShowDateModal:n,surface:i}){const a=Object(r.useRef)();return o.a.createElement(b.e,{bottom:!0,marginBottom:4,position:"fixed",rounding:"circle",width:56,dangerouslySetInlineStyle:{__style:{boxShadow:"0px 0px 20px rgba(0, 0, 0, 0.1)",left:"50%",right:"50%",transform:"translate(-50%)"}}},o.a.createElement(Z.a,{idealDirection:"up",onAddOrEditDate:n,onAddSection:e,onCreatePin:t,onOpen:ee.a,surface:i},({active:e,openFlyout:t})=>o.a.createElement(b.e,{color:"white",display:"inlineBlock",rounding:"circle"},o.a.createElement(M.a,{anchors:{3006:a.current},onCompleteByAnchor:{3006:()=>{var e;return null===(e=a.current)||void 0===e?void 0:e.click()}},idealDirection:"up",placementId:18},o.a.createElement(b.u,{accessibilityLabel:I.a._("Create a Pin or add a Section","BoardPage.ActionBar.AddPinOrSection","button triggering a flyout to create a pin or add a section"),bgColor:"white",icon:"add",iconColor:"darkGray",onClick:t,ref:a,selected:e,size:"xl"})))))}var ne=n("4uqU"),re=n("q8wg"),oe=n("QBTH"),ie=n("Scz5"),ae=n("VmTC"),se=n("1inl"),ce=n("i6L0"),le=n("oN2T"),ue=n("U4JR");var de=n("i97C"),he=n("5b7f");var pe=n("2qKt"),fe=n("EC67"),me=n("nGHF"),ge=n("sxkF"),be=n("mHb8");const ye=()=>{};t.a=Object(pe.a)(18,e=>{var t;return{board_id:e.board.id,pin_count:null!==(t=e.board.sectionless_pin_count)&&void 0!==t?t:0}})((function({board:e,experience:t,initialModalType:n,refreshBoardData:c=ye,setPlacementExtraContext:l,section:u,showPulsar:d}){const f=Object(i.useDispatch)(),m=Object(g.a)();Object(r.useEffect)(()=>{let t="other";Object(be.c)(m,e)?t="own":Object(be.b)(m,e)&&(t="collaborator"),l({board_ownership:t})},[t]);const{showOneToast:v}=Object(me.b)(),E=Object(fe.g)();!function(){const e=Object(g.a)(),t=Object(J.a)({name:"UserMetadataResource",options:{user:e}});Object(r.useEffect)(()=>Object(he.a)(t))}();const{handleShowMergeSectionsConfirmationModal:S,mergeConfirmationModalProps:w}=Object(de.a)({board:e}),C=function(){const e=Object(i.useDispatch)(),{showBlockingActionToast:t}=Object(ce.a)();return({board:n,targetBoard:r})=>{Object(ue.a)(7172,{objectId:n.id,merge_flow:"menu"}),e(Object(le.j)(n.id,r.id)).then(()=>{t({actionType:"merge",board:r})}).catch(e=>{se.a.showError(e.message||I.a._("Failed to merge boards","Error message when failed to merge boards","Error message when failed to merge boards"))})}}(),[O,x]=Object(r.useState)(null),[D,k]=Object(r.useState)(n||null),[T,M]=Object(r.useState)(null),[j,P]=Object(r.useState)(e&&Object(ge.b)(m,e)||"custom"),B=()=>k(y.a.boardArchiveConfirmation),A=()=>{const e=m.isAuth?"/"+m.username:"/";E.replace(e)},R=Object(a.a)(e=>{k(y.a.editSection),x(e)}),L=Object(a.a)(t=>{k(null),(t=>{v(({onHide:n})=>o.a.createElement(ne.a,{boardUrl:e.url,onHide:n,slug:t.slug}))})(t)}),F=()=>k(y.a.collaboratorsAndPermissions),z=Object(a.a)(()=>{Object(oe.a)(),E.push({pathname:"/pin-builder/",state:{board:e,boardSection:u}})}),q=Object(a.a)(()=>{Object(ie.a)(),k(y.a.pincode)}),U=Object(a.a)(()=>{Object(ae.a)(),k(y.a.simpleCreateSection)}),H=Object(a.a)(()=>{k(y.a.addOrEditDate)}),K=Object(a.a)(()=>{k(y.a.mergeBoard)}),G="custom"!==j,Y=Object(N.a)(m,e),Z=Object(p.a)({board:e,viewer:m});return o.a.createElement(re.a,{view:5,viewParameter:Object(h.a)({board:e,viewer:m}),objectId:e.id},o.a.createElement(r.Fragment,null,o.a.createElement(V,{board:e,handleBoardEditClick:()=>{Object(ue.a)(101,{element:10845,component:13216,view:5,viewParameter:3069}),k(y.a.boardEdit)},handleFollowersClick:()=>{k(y.a.followers)},handleSectionEditClick:()=>R(),handleShowBoardArchiveConfirmation:B,handleShowBoardUnarchiveConfirmation:()=>k(y.a.boardUnarchiveConfirmation),handleShowCollabAndPermissionsModal:F,handleShowCreatePincodeModal:q,handleShowDateModal:H,handleShowMergeModal:K,section:u,showPulsar:d}),Z&&o.a.createElement(b.e,{marginBottom:6},o.a.createElement(X,{boardId:e.id,sectionId:null==u?void 0:u.id})),D!==y.a.jumpstartBoard&&o.a.createElement(_,{board:e,currentView:j,handleContentViewChange:e=>P(e),handleSetCurrentModal:k,handleShowEditSectionModal:R,handleShowMergeSectionsConfirmationModal:S,isOwnBoard:Y,isPinGridSorted:G,section:u}),o.a.createElement(s.a,{boardId:e.id,handleShowArchiveConfirmation:B,handleShowGroupPinsModal:(e,t)=>{k(y.a.groupPins),M({clusterId:e,suggestedSectionName:t})}}),Z&&o.a.createElement(te,{handleAddSection:U,handleCreatePin:z,handleShowDateModal:Y?H:null,surface:u?"section":"board"}),D&&o.a.createElement(W.a,{actions:{completeCreateSectionAction:L,onBoardArchiveChange:()=>{c(),f(Object(le.i)())},onBoardDelete:A,onBoardLeave:e=>{f(Object(le.i)()),A()},onBoardMerge:t=>{C({board:e,targetBoard:t}),A()},onBoardSectionDelete:()=>{x(null),k(null),u&&E.replace(e.url)},onBoardSectionSave:({title:t,slug:n})=>{if(x(null),k(null),u){const t=`${e.url}${n}/`;E.replace(t)}},onCollaboratorInviteClick:F},board:e,boardSection:O,currentModal:D,groupPinsData:T,mergeConfirmationModalProps:w,onClearModal:()=>k(null)}),o.a.createElement(Q.a,{placementId:18}),o.a.createElement($.a,{placementId:18})))}))},Q7uW:function(e,t,n){n.d(t,"a",(function(){return a}));var r=n("q1tI"),o=n.n(r),i=n("n6mq");function a(e){const{htmlFor:t,errorMessage:n}=e;return o.a.createElement(i.w,{htmlFor:t},o.a.createElement(i.e,{marginTop:1},o.a.createElement(i.V,{color:"red",size:"md"},n)))}},QBTH:function(e,t,n){n.d(t,"a",(function(){return o}));var r=n("U4JR");function o(){Object(r.a)(101,{element:10780,component:13217,view:5,viewParameter:3069})}},QDEm:function(e,t,n){var r=n("MgzW");function o(){return(o=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=n("Iq8E"),a=n("q1tI"),s=n("bSwZ"),c=n("Ey0E"),l=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.block,n=e.children,r=e.contentState,l=e.decorator,u=e.decoratorKey,d=e.direction,h=e.leafSet,p=e.text,f=t.getKey(),m=h.get("leaves"),g=l.getComponentForKey(u),b=l.getPropsForKey(u),y=i.encode(f,parseInt(u,10),0),v=p.slice(m.first().get("start"),m.last().get("end")),_=c.getHTMLDirIfDifferent(s.getDirection(v),d);return a.createElement(g,o({},b,{contentState:r,decoratedText:v,dir:_,key:y,entityKey:t.getEntityAt(h.get("start")),offsetKey:y}),n)},r}(a.Component);e.exports=l},QIf8:function(e,t,n){n.d(t,"a",(function(){return l}));var r=n("q1tI"),o=n.n(r),i=n("Ye/N"),a=n("CvCA"),s=n("vvax"),c=n("n6mq");function l(e){const{boardImage:t,boardName:n,boardUrl:r,onHide:l}=e,u=o.a.createElement(c.V,{color:"white"},Object(s.b)(i.a._("Now following {{ boardName }}","BoardFollowButton.FollowingToast.nowFollowing","Toast text displayed when a user follows a board"),{boardName:o.a.createElement(c.V,{key:"boardName",color:"white",weight:"bold"},n)}));return o.a.createElement(a.a,{onHide:l,text:u,href:r,imageUrl:t})}},QIuh:function(e,t,n){function r(e,t){return{x:e.x+t.x,y:e.y+t.y}}function o(e,t){return{x:e.x-t.x,y:e.y-t.y}}Object.defineProperty(t,"__esModule",{value:!0}),t.add=r,t.subtract=o,t.getSourceClientOffset=function(e){var t=e.clientOffset,n=e.initialClientOffset,i=e.initialSourceClientOffset;return t&&n&&i?o(r(t,i),n):null},t.getDifferenceFromInitialOffset=function(e){var t=e.clientOffset,n=e.initialClientOffset;return t&&n?o(t,n):null}},QIyF:function(e,t,n){var r=n("Kz5y");e.exports=function(){return r.Date.now()}},QLWx:function(e,t,n){n.d(t,"a",(function(){return s}));var r=n("q1tI"),o=n("qUzp"),i=n("v/Q4"),a=n("EC67");function s(e){const t=Object(i.a)(),n=Object(a.g)();Object(r.useEffect)(()=>{var r;const i=null!==(r=e&&Object(o.a)({board:e,viewer:t}))&&void 0!==r&&r;e&&!i&&n.push(e.url)},[e])}},QNmZ:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n("q1tI"),s=n("+k3R"),c=n("SFi7"),l=n("dJ9d"),u=n("QWfI"),d=n("2mql"),h=n("2S0S"),p=n("Gytx");t.default=function(e,t){return void 0===t&&(t={}),s.default("DragLayer","collect[, options]",e,t),h("function"==typeof e,'Expected "collect" provided as the first argument to DragLayer to be a function that collects props to inject into the component. ',"Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer",e),h(u.isPlainObject(t),'Expected "options" provided as the second argument to DragLayer to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer',t),function(n){var r=n,s=t.arePropsEqual,u=void 0===s?p:s,f=r.displayName||r.name||"Component",m=function(t){function s(){var e=null!==t&&t.apply(this,arguments)||this;return e.isCurrentlyMounted=!1,e.ref=a.createRef(),e.handleChange=function(){if(e.isCurrentlyMounted){var t=e.getCurrentState();p(t,e.state)||e.setState(t)}},e}return o(s,t),s.prototype.getDecoratedComponentInstance=function(){return h(this.ref.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.ref.current},s.prototype.shouldComponentUpdate=function(e,t){return!u(e,this.props)||!p(t,this.state)},s.prototype.componentDidMount=function(){this.isCurrentlyMounted=!0,this.handleChange()},s.prototype.componentWillUnmount=function(){this.isCurrentlyMounted=!1,this.unsubscribeFromOffsetChange&&(this.unsubscribeFromOffsetChange(),this.unsubscribeFromOffsetChange=void 0),this.unsubscribeFromStateChange&&(this.unsubscribeFromStateChange(),this.unsubscribeFromStateChange=void 0)},s.prototype.render=function(){var e=this;return a.createElement(c.Consumer,null,(function(t){var n=t.dragDropManager;return void 0===n?null:(e.receiveDragDropManager(n),e.isCurrentlyMounted?a.createElement(r,i({},e.props,e.state,{ref:l.isRefable(r)?e.ref:null})):null)}))},s.prototype.receiveDragDropManager=function(e){if(void 0===this.manager){this.manager=e,h("object"==typeof e,"Could not find the drag and drop manager in the context of %s. Make sure to wrap the top-level component of your app with DragDropContext. Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context",f,f);var t=this.manager.getMonitor();this.unsubscribeFromOffsetChange=t.subscribeToOffsetChange(this.handleChange),this.unsubscribeFromStateChange=t.subscribeToStateChange(this.handleChange)}},s.prototype.getCurrentState=function(){if(!this.manager)return{};var t=this.manager.getMonitor();return e(t,this.props)},s.displayName="DragLayer("+f+")",s.DecoratedComponent=n,s}(a.Component);return d(m,n)}}},QSJg:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.FILE="__NATIVE_FILE__",t.URL="__NATIVE_URL__",t.TEXT="__NATIVE_TEXT__"},QWfI:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.isFunction=function(e){return"function"==typeof e},t.noop=function(){},t.isPlainObject=function(e){if(!function(e){return"object"==typeof e&&null!==e}(e))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}},QWk2:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("q1tI"),o=n("B/xd");function i(e){return function(t,n){if(void 0===t&&(t=null),void 0===n&&(n=null),!r.isValidElement(t)){var i=t;return e(i,n),i}var a=t;!function(e){if("string"!=typeof e.type){var t=e.type.displayName||e.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors.You can either wrap "+t+" into a <div>, or turn it into a drag source or a drop target itself.")}}(a);var s=n?function(t){return e(t,n)}:e;return o.default(a,s)}}n("1IOU"),t.default=function(e){var t={};return Object.keys(e).forEach((function(n){var r=e[n];if(n.endsWith("Ref"))t[n]=e[n];else{var o=i(r);t[n]=function(){return o}}})),t}},QoKk:function(e,t,n){n.d(t,"a",(function(){return f}));var r=n("q1tI"),o=n.n(r),i=(n("w/op"),n("Ye/N")),a=n("rYoy"),s=n("n6mq");const c=["es-AR","es-BZ","es-BO","pt-BR","en-CA","es-CL","zh-CN","es-CO","es-CR","es-DO","es-EC","es-SV","es-GT","es-HN","zh-HK","he","en-JM","ja","en-KE","zh-MO","es-MX","es-NI","es-PA","es-PE","en-PH","es-PR","en-ZA","ko","zh-TW","en-US","es-VE"];var l=n("pLLR");const u=Object(r.lazy)(()=>n.e("Calendar").then(n.t.bind(null,"sQeT",7))),d=(e,t)=>e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear();function h({onSelectedDate:e,selectedDates:t}){const n=Object(l.d)();return o.a.createElement(a.a,null,o.a.createElement(u,{calendarType:c.includes(n.locale)?"US":"ISO 8601",locale:n.locale||"",className:"DatePicker",enableHistoryView:!1,onClickDay:n=>{1===t.length&&t[0]<n?e([t[0],n]):e([n])},minDetail:"month",nextLabel:o.a.createElement(s.t,{accessibilityLabel:i.a._("Next month","BoardForm.BoardFormExperimentalDatePicker","accessibility label on arrow to go to next calendar month"),icon:"arrow-forward"}),next2Label:null,prevLabel:o.a.createElement(s.t,{icon:"arrow-back",accessibilityLabel:i.a._("Previous month","BoardForm.BoardFormExperimentalDatePicker","accessibility label on arrow to go to previous calendar month")}),prev2Label:null,tileClassName:({date:e})=>{const n=[],[r,o]=t;return r&&d(e,r)?(n.push("start"),o&&n.push("rangeStart")):o&&d(e,o)?n.push("rangeEnd"):2===t.length&&e>=r&&e<=o&&n.push("inRange"),n},tileDisabled:({date:e})=>e<=new Date,value:t.length?t:new Date,view:"month"}))}var p=n("TiQD");function f({dates:e,onChange:t,onToggleFlyout:n=(()=>{})}){const a=Object(r.useRef)(null),[c,u]=Object(r.useState)(!1),[d,f]=Object(r.useState)(e||[]),m=Object(l.d)(),[g,b]=d||[];let y=g&&g.toLocaleDateString(m.locale)||"";if(b){y+=" - "+d[1].toLocaleDateString(m.locale)}const v=()=>{f([]),t([])},_=()=>{n(),u(!c)};return o.a.createElement(r.Fragment,null,o.a.createElement("div",{style:{position:"relative"},ref:a},o.a.createElement(s.X,{autoComplete:"off",id:"boardEditDate",onChange:()=>{},onFocus:_,onKeyDown:({event:e})=>{"Backspace"===e.key&&v()},placeholder:i.a._("When do you plan to finish this project?","BoardForm.BoardFormDateField.placeholder","placeholder for input field to enter board end and start dates"),size:"lg",value:y}),o.a.createElement(s.e,{dangerouslySetInlineStyle:{__style:d.length?{}:{pointerEvents:"none"}},position:"absolute",top:!0,right:!m.isRTL,left:m.isRTL,padding:d.length?2:4},d.length?o.a.createElement(s.u,{icon:"clear",iconColor:"darkGray",accessibilityLabel:i.a._("Clear date","BoardForm.BoardFormDateField.clearIcon","accessibility label on clear icon button"),onClick:()=>{v()},size:"sm"}):o.a.createElement(s.t,{color:"darkGray",icon:"calendar",accessibilityLabel:i.a._("Select date","BoardForm.BoardFormDateField.calendarIcon","accessibility label on calendar icon")}))),o.a.createElement(s.e,{padding:2},o.a.createElement(s.V,{color:"gray",size:"sm"},i.a._("Add a date to keep your recommendations relevant and get reminders about planning","BoardForm.BoardFormDateField.description","Description to explain purpose of adding a date to a board"))),c&&o.a.createElement(s.x,null,o.a.createElement(s.e,{position:"absolute",left:m.isRTL,top:!0,zIndex:p.a},o.a.createElement(s.q,{anchor:a.current,idealDirection:"down",onDismiss:_,size:356,positionRelativeToAnchor:!1},o.a.createElement(s.e,{padding:6,width:356},o.a.createElement(h,{onSelectedDate:e=>{f(e),t(e)},selectedDates:d}))))))}},R5Y4:function(e,t){var n=Math.ceil,r=Math.max;e.exports=function(e,t,o,i){for(var a=-1,s=r(n((t-e)/(o||1)),0),c=Array(s);s--;)c[i?s:++a]=e,e+=o;return c}},RCR6:function(e,t,n){var r=n("y5P+"),o=n("zVay").OrderedSet,i=r.substr,a=o();e.exports=function(e,t){var n=Array(e.length).fill(a);return t&&t.forEach((function(t){for(var r=i(e,0,t.offset).length,o=r+i(e,t.offset,t.length).length;r<o;)n[r]=n[r].add(t.style),r++})),n}},RGZK:function(e,t,n){n.d(t,"a",(function(){return l}));var r=n("q1tI"),o=n.n(r),i=n("/MKj"),a=n("Ye/N"),s=n("EC67"),c=n("n6mq");function l({headerText:e,rightAction:t,subheading:n,url:r}){const l=Object(s.g)(),u=Object(i.useSelector)(({history:e})=>e.previous.length>=1);return o.a.createElement(c.e,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:4,paddingY:4,position:"relative",width:"100%"},o.a.createElement(c.e,{position:"absolute",left:!0,padding:4},o.a.createElement(c.u,{accessibilityLabel:a.a._("Back","BoardToolHeader.IconButtonLabel","Accessibility label on back button"),icon:"directional-arrow-left",iconColor:"darkGray",onClick:()=>u?l.goBack():l.replace(r),size:"lg"})),o.a.createElement(c.e,{display:"flex",direction:"column",alignItems:"center"},o.a.createElement(c.s,{align:"center",size:"md"},e),n),!!t&&o.a.createElement(c.e,{padding:4,position:"absolute",right:!0},t))}},RHD0:function(e,t,n){n.d(t,"f",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return d}));var r=n("RNo4"),o=n("Ep0g"),i=n("0S8y");n("fAMq");const a=(e,t)=>Object.keys(t).filter(n=>{const r=t[String(n)];return(r.pinner||{}).id===e.id&&!r.is_repin}).map(e=>t[e]),s=Object.freeze({NOT_ANSWERED:0,YES:1,NO:2,NOT_SURE:3}),c=(e,t)=>!(!e||!e.isAuth)&&Object(o.e)(e.country),l=e=>e.isAuth&&!e.isPartner&&!Object(i.e)({user:e})&&!Object(i.c)({user:e}),u=({requestContext:e,history:t,pinId:n})=>{((e,t)=>{const n=Object(r.b)("/business/convert",{next:t});e.push(n)})(t,(e=>e?"/business/ad_create?pinId="+e:"/business/ad_create")(n))},d=e=>{const t=e.trim().split(" ").filter(e=>!!e);return{firstName:t.length>0?t[0]:"",lastName:t.length>1?t.slice(1).join(" "):""}}},"RK+W":function(e,t,n){var r=/\r\n?|\n/g;e.exports=function(e){return e.split(r)}},"S8b/":function(e,t,n){var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n("hUD8"),i=n("/Ecc"),a=n("yBr6"),s=n("lh2y"),c=n("QSJg"),l=function(){function e(e){var t=this;this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.getSourceClientOffset=function(e){return a.getNodeClientOffset(t.sourceNodes.get(e))},this.endDragNativeItem=function(){t.isDraggingNativeItem()&&(t.actions.endDrag(),t.registry.removeSource(t.currentNativeHandle),t.currentNativeHandle=null,t.currentNativeSource=null)},this.isNodeInDocument=function(e){return!!document&&document.body.contains(e)||!!t.window&&t.window.document.body.contains(e)},this.endDragIfSourceWasRemovedFromDOM=function(){var e=t.currentDragSourceNode;t.isNodeInDocument(e)||t.clearCurrentDragSourceNode()&&t.actions.endDrag()},this.handleTopDragStartCapture=function(){t.clearCurrentDragSourceNode(),t.dragStartSourceIds=[]},this.handleTopDragStart=function(e){var n=t.dragStartSourceIds;t.dragStartSourceIds=null;var r=a.getEventClientOffset(e);t.monitor.isDragging()&&t.actions.endDrag(),t.actions.beginDrag(n||[],{publishSource:!1,getSourceClientOffset:t.getSourceClientOffset,clientOffset:r});var o=e.dataTransfer,i=s.matchNativeItemType(o);if(t.monitor.isDragging()){if(o&&"function"==typeof o.setDragImage){var c=t.monitor.getSourceId(),l=t.sourceNodes.get(c),u=t.sourcePreviewNodes.get(c)||l;if(u){var d=t.getCurrentSourcePreviewNodeOptions(),h={anchorX:d.anchorX,anchorY:d.anchorY},p={offsetX:d.offsetX,offsetY:d.offsetY},f=a.getDragPreviewOffset(l,u,r,h,p);o.setDragImage(u,f.x,f.y)}}try{o.setData("application/json",{})}catch(m){}t.setCurrentDragSourceNode(e.target),t.getCurrentSourcePreviewNodeOptions().captureDraggingState?t.actions.publishDragSource():setTimeout((function(){return t.actions.publishDragSource()}),0)}else if(i)t.beginDragNativeItem(i);else{if(o&&!o.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}},this.handleTopDragEndCapture=function(){t.clearCurrentDragSourceNode()&&t.actions.endDrag()},this.handleTopDragEnterCapture=function(e){if(t.dragEnterTargetIds=[],t.enterLeaveCounter.enter(e.target)&&!t.monitor.isDragging()){var n=e.dataTransfer,r=s.matchNativeItemType(n);r&&t.beginDragNativeItem(r)}},this.handleTopDragEnter=function(e){var n=t.dragEnterTargetIds;(t.dragEnterTargetIds=[],t.monitor.isDragging())&&(t.altKeyPressed=e.altKey,i.isFirefox()||t.actions.hover(n,{clientOffset:a.getEventClientOffset(e)}),n.some((function(e){return t.monitor.canDropOnTarget(e)}))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=t.getCurrentDropEffect())))},this.handleTopDragOverCapture=function(){t.dragOverTargetIds=[]},this.handleTopDragOver=function(e){var n=t.dragOverTargetIds;if(t.dragOverTargetIds=[],!t.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer&&(e.dataTransfer.dropEffect="none"));t.altKeyPressed=e.altKey,t.actions.hover(n||[],{clientOffset:a.getEventClientOffset(e)}),(n||[]).some((function(e){return t.monitor.canDropOnTarget(e)}))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=t.getCurrentDropEffect())):t.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=function(e){t.isDraggingNativeItem()&&e.preventDefault(),t.enterLeaveCounter.leave(e.target)&&t.isDraggingNativeItem()&&t.endDragNativeItem()},this.handleTopDropCapture=function(e){t.dropTargetIds=[],e.preventDefault(),t.isDraggingNativeItem()&&t.currentNativeSource.mutateItemByReadingDataTransfer(e.dataTransfer),t.enterLeaveCounter.reset()},this.handleTopDrop=function(e){var n=t.dropTargetIds;t.dropTargetIds=[],t.actions.hover(n,{clientOffset:a.getEventClientOffset(e)}),t.actions.drop({dropEffect:t.getCurrentDropEffect()}),t.isDraggingNativeItem()?t.endDragNativeItem():t.endDragIfSourceWasRemovedFromDOM()},this.handleSelectStart=function(e){var t=e.target;"function"==typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))},this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.context=e.getContext(),this.enterLeaveCounter=new o.default(this.isNodeInDocument)}return Object.defineProperty(e.prototype,"window",{get:function(){return this.context&&this.context.window?this.context.window:"undefined"!=typeof window?window:void 0},enumerable:!0,configurable:!0}),e.prototype.setup=function(){if(void 0!==this.window){if(this.window.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");this.window.__isReactDndBackendSetUp=!0,this.addEventListeners(this.window)}},e.prototype.teardown=function(){void 0!==this.window&&(this.window.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.window),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&this.window.cancelAnimationFrame(this.asyncEndDragFrameId))},e.prototype.connectDragPreview=function(e,t,n){var r=this;return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),function(){r.sourcePreviewNodes.delete(e),r.sourcePreviewNodeOptions.delete(e)}},e.prototype.connectDragSource=function(e,t,n){var r=this;this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,n);var o=function(t){return r.handleDragStart(t,e)},i=function(e){return r.handleSelectStart(e)};return t.setAttribute("draggable","true"),t.addEventListener("dragstart",o),t.addEventListener("selectstart",i),function(){r.sourceNodes.delete(e),r.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",o),t.removeEventListener("selectstart",i),t.setAttribute("draggable","false")}},e.prototype.connectDropTarget=function(e,t){var n=this,r=function(t){return n.handleDragEnter(t,e)},o=function(t){return n.handleDragOver(t,e)},i=function(t){return n.handleDrop(t,e)};return t.addEventListener("dragenter",r),t.addEventListener("dragover",o),t.addEventListener("drop",i),function(){t.removeEventListener("dragenter",r),t.removeEventListener("dragover",o),t.removeEventListener("drop",i)}},e.prototype.addEventListeners=function(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))},e.prototype.removeEventListeners=function(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))},e.prototype.getCurrentSourceNodeOptions=function(){var e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return r({dropEffect:this.altKeyPressed?"copy":"move"},t||{})},e.prototype.getCurrentDropEffect=function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect},e.prototype.getCurrentSourcePreviewNodeOptions=function(){var e=this.monitor.getSourceId(),t=this.sourcePreviewNodeOptions.get(e);return r({anchorX:.5,anchorY:.5,captureDraggingState:!1},t||{})},e.prototype.isDraggingNativeItem=function(){var e=this.monitor.getItemType();return Object.keys(c).some((function(t){return c[t]===e}))},e.prototype.beginDragNativeItem=function(e){this.clearCurrentDragSourceNode(),this.currentNativeSource=s.createNativeDragSource(e),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])},e.prototype.setCurrentDragSourceNode=function(e){var t=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;this.mouseMoveTimeoutTimer=setTimeout((function(){return t.window&&t.window.addEventListener("mousemove",t.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)},e.prototype.clearCurrentDragSourceNode=function(){return!!this.currentDragSourceNode&&(this.currentDragSourceNode=null,this.window&&(this.window.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.window.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)),this.mouseMoveTimeoutTimer=null,!0)},e.prototype.handleDragStart=function(e,t){this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t)},e.prototype.handleDragEnter=function(e,t){this.dragEnterTargetIds.unshift(t)},e.prototype.handleDragOver=function(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)},e.prototype.handleDrop=function(e,t){this.dropTargetIds.unshift(t)},e}();t.default=l},SF5q:function(e,t,n){var r="\\s|(?![_])"+n("/EQv").getPunctuation(),o=new RegExp("^(?:"+r+")*(?:"+"['‘’]|(?!"+r+").)*(?:(?!"+r+").)"),i=new RegExp("(?:(?!"+r+").)(?:"+"['‘’]|(?!"+r+").)*(?:"+r+")*$");function a(e,t){var n=t?i.exec(e):o.exec(e);return n?n[0]:e}var s={getBackward:function(e){return a(e,!0)},getForward:function(e){return a(e,!1)}};e.exports=s},SFi7:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var s=n("q1tI"),c=n("yCO0"),l=n("+k3R"),u=n("dJ9d"),d=n("2S0S"),h=n("2mql");function p(e,t,n){return{dragDropManager:c.createDragDropManager(e,t,n)}}t.context=s.createContext({dragDropManager:void 0}),t.Consumer=t.context.Consumer,t.Provider=t.context.Provider,t.createChildContext=p,t.DragDropContextProvider=function(e){var n=e.children,r=a(e,["children"]),o="manager"in r?{dragDropManager:r.manager}:p(r.backend,r.context,r.debugMode);return s.createElement(t.Provider,{value:o},n)},t.DragDropContext=function(e,n,r){l.default("DragDropContext","backend",e);var a=p(e,n,r);return function(e){var n=e,r=n.displayName||n.name||"Component",c=function(c){function l(){var e=null!==c&&c.apply(this,arguments)||this;return e.ref=s.createRef(),e.getManager=function(){return a.dragDropManager},e}return o(l,c),l.prototype.getDecoratedComponentInstance=function(){return d(this.ref.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.ref.current},l.prototype.render=function(){return s.createElement(t.Provider,{value:a},s.createElement(n,i({},this.props,{ref:u.isRefable(n)?this.ref:null})))},l.DecoratedComponent=e,l.displayName="DragDropContext("+r+")",l}(s.Component);return h(c,e)}}},SYhp:function(e,t,n){var r=n("3sOJ");e.exports=function(e,t,n){var o=r.undo(t);if("spellcheck-change"!==t.getLastChangeType())e.preventDefault(),t.getNativelyRenderedContent()?(n(r.set(t,{nativelyRenderedContent:null})),setTimeout((function(){n(o)}),0)):n(o);else{var i=o.getCurrentContent();n(r.set(o,{nativelyRenderedContent:i}))}}},Scz5:function(e,t,n){n.d(t,"a",(function(){return o}));var r=n("U4JR");function o(){Object(r.a)(101,{element:10781,component:13217,view:5,viewParameter:3069})}},Sihc:function(e,t,n){n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));var r=n("Pqnw"),o=n("uVIr"),i=n("VqlB"),a=n("eOdZ"),s=n("oN2T"),c=n("KFEb"),l=n("Wer7");function u(e,t){return{type:"SECTION_ADDED",payload:{boardId:e,section:t}}}function d({boardId:e,name:t,nameSource:n,pinImport:d,initialPinIds:h=[]}){let p=0;"RECOMMENDATION"===n?p=1:"EDITED_RECOMMENDATION"===n&&(p=2);const f={board_id:e,initial_pins:d&&!d.all?d.pinIds:h,name:t,name_source:p};return t=>a.a.create("BoardSectionResource",f).callCreate({showError:!1}).then(({resource_response:{data:n}})=>{t(u(e,n)),t(Object(o.a)({feedId:e,feedType:c.a.BOARD_SECTIONS,itemIds:[n.id],itemType:"board_section"})),t(Object(s.c)(e,"pin_count")),t(Object(l.f)("BoardSectionsRepinResource",{board_id:e}));const{all:a,pinIds:h}=d||{all:!1,pinIds:[]};return a?new Promise((r,o)=>t(Object(i.a)({inverseSelection:!0,selectedPinIds:h,source:{boardId:e,sectionId:null},target:{boardId:e,sectionId:n.id}})).then(()=>r(n)).catch(o)):(h.length>0&&t(Object(r.a)(c.a.BOARD_PINS,e)),n)})}},T401:function(e,t,n){e.exports=function(e){return"handled"===e||!0===e}},TKJ6:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("7nh8");t.setClientOffset=function(e,t){return{type:r.INIT_COORDS,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}},TPjH:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=n.getRegistry(),o=r.addTarget(e,t);return[o,function(){return r.removeTarget(o)}]}},TSYQ:function(e,t,n){var r;!function(){var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)&&r.length){var a=o.apply(null,r);a&&e.push(a)}else if("object"===i)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},TT16:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.isRef=function(e){return null!==e&&"object"==typeof e&&e.hasOwnProperty("current")}},Taje:function(e,t,n){e.exports=function(e,t,n,r){if(e.size){var o=0;e.reduce((function(e,i,a){return t(e,i)||(n(e)&&r(o,a),o=a),i})),n(e.last())&&r(o,e.count())}}},Tavy:function(e,t,n){var r=n("K4CH"),o="Unknown",i={"Mac OS":"Mac OS X"};var a,s=(new r).getResult(),c=function(e){if(!e)return{major:"",minor:""};var t=e.split(".");return{major:t[0],minor:t[1]}}(s.browser.version),l={browserArchitecture:s.cpu.architecture||o,browserFullVersion:s.browser.version||o,browserMinorVersion:c.minor||o,browserName:s.browser.name||o,browserVersion:s.browser.major||o,deviceName:s.device.model||o,engineName:s.engine.name||o,engineVersion:s.engine.version||o,platformArchitecture:s.cpu.architecture||o,platformName:(a=s.os.name,i[a]||a||o),platformVersion:s.os.version||o,platformFullVersion:s.os.version||o};e.exports=l},TlXQ:function(e,t,n){var r=n("lFJn"),o=n("zVay").List;e.exports=function(e,t){var n=e.map((function(e,n){var o=t[n];return r.create({style:e,entity:o})}));return o(n)}},"TzU/":function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n("qnky"),i=n("zVay"),a=n("mFyV"),s=n("Hpvj"),c=(0,i.Map)(),l=s();function u(e,t){console.warn("WARNING: "+e+' will be deprecated soon!\nPlease use "'+t+'" instead.')}var d={getLastCreatedEntityKey:function(){return u("DraftEntity.getLastCreatedEntityKey","contentState.getLastCreatedEntityKey"),d.__getLastCreatedEntityKey()},create:function(e,t,n){return u("DraftEntity.create","contentState.createEntity"),d.__create(e,t,n)},add:function(e){return u("DraftEntity.add","contentState.addEntity"),d.__add(e)},get:function(e){return u("DraftEntity.get","contentState.getEntity"),d.__get(e)},__getAll:function(){return c},__loadWithEntities:function(e){c=e,l=s()},mergeData:function(e,t){return u("DraftEntity.mergeData","contentState.mergeEntityData"),d.__mergeData(e,t)},replaceData:function(e,t){return u("DraftEntity.replaceData","contentState.replaceEntityData"),d.__replaceData(e,t)},__getLastCreatedEntityKey:function(){return l},__create:function(e,t,n){return d.__add(new o({type:e,mutability:t,data:n||{}}))},__add:function(e){return l=s(),c=c.set(l,e),l},__get:function(e){var t=c.get(e);return t||a(!1),t},__mergeData:function(e,t){var n=d.__get(e),o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){r(e,t,n[t])}))}return e}({},n.getData(),t),i=n.set("data",o);return c=c.set(e,i),i},__replaceData:function(e,t){var n=d.__get(e).set("data",t);return c=c.set(e,n),n}};e.exports=d},U4JR:function(e,t,n){n.d(t,"a",(function(){return s}));var r=n("m2Wt"),o=n("h4v/"),i=n("ajUs"),a=n("zpPL");function s(e,t={}){const n=o.a.getInstance(),s=a.a.instance.getState(),{element:c,eventData:l,component:u,objectId:d,view:h,viewParameter:p,viewData:f,durationNs:m,pairId:g}=t;let b=t.clientTrackingParams;if(!b&&s.pins){const e=s.pins[d],t=s.location;e&&(b=Object(i.a)(e,t)||e.tracking_params+"~0")}!function(e,t={}){e.advertiser&&e.advertiser.id&&(t.advertiser_id=e.advertiser.id),e.adminUser&&e.viewer&&e.viewer.username&&(t.sterling_on_steroids_ldap=e.adminUser,t.viewed_user=e.viewer.username)}(s,t),delete t.element,delete t.eventData,delete t.component,delete t.objectId,delete t.view,delete t.viewParameter,delete t.viewData,delete t.durationNs,delete t.pairId,delete t.clientTrackingParams;const y=r.a.fromEventType(e);y.setElement(c),y.updateEventData(l),y.setComponent(u),d&&y.setObjectIdStr(d),y.setDurationNs(m),y.updateAuxData(t),y.setViewType(h),y.setViewParameter(p),y.setViewData(f),y.setPairId(g),y.setClientTrackingParams(b),n.addEvent(y)}},U4W0:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}(t.HandlerRole||(t.HandlerRole={}))},U84a:function(e,t,n){var r=n("dyxW"),o=n("y5P+").strlen;e.exports=function(e,t){var n=[];return e.findEntityRanges((function(e){return!!e.getEntity()}),(function(i,a){var s=e.getText(),c=e.getEntityAt(i);n.push({offset:o(s.slice(0,i)),length:o(s.slice(i,a)),key:Number(t[r.stringify(c)])})})),n}},UJTY:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("q1tI"),o=n("/acK"),i=n("493B");t.useDragLayer=function(e){var t=o.useDragDropManager().getMonitor(),n=i.useCollector(t,e),a=n[0],s=n[1];return r.useEffect((function(){return t.subscribeToOffsetChange(s)})),r.useEffect((function(){return t.subscribeToStateChange(s)})),a}},UevE:function(e,t,n){e.exports=function(e){return Object.keys(e).map((function(t){return e[t]}))}},Undz:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});t.default=["focus","blur","setMode","exitCurrentMode","restoreEditorDOM","setRenderGuard","removeRenderGuard","setClipboard","getClipboard","getEditorKey","update","onDragEnter","onDragLeave"]},"Usz/":function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n("bSwZ"),i=n("Ey0E"),a=n("mFyV"),s=function(){function e(e){r(this,"_defaultDir",void 0),r(this,"_lastDir",void 0),e?i.isStrong(e)||a(!1):e=i.getGlobalDir(),this._defaultDir=e,this.reset()}var t=e.prototype;return t.reset=function(){this._lastDir=this._defaultDir},t.getDirection=function(e){return this._lastDir=o.getDirection(e,this._lastDir),this._lastDir},e}();e.exports=s},V711:function(e,t,n){var r=n("q1tI"),o=n.n(r),i=n("/MKj"),a=n("8cMa"),s=n("JW66"),c=n("Ye/N"),l=n("rrvb"),u=n("6vq5"),d=n("0BOE"),h=n("jdx6"),p=n("Wer7"),f=n("qyR9"),m=n("n6mq"),g=n("ANjH"),b=n("oN2T");function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v({board:e,hovered:t,searchQuery:n}){const r=e.privacy===s.a.BoardPrivacy.SECRET;return o.a.createElement(m.e,{color:t?"lightGray":"white",display:"flex",padding:2,rounding:2},o.a.createElement(m.e,{flex:"grow"},o.a.createElement(m.V,{weight:"bold"},Object(h.b)(n,e.name))),o.a.createElement(m.e,{direction:"row",display:"flex",flex:"none"},r&&o.a.createElement(a.a,{type:"secret"}),e.is_collaborative&&o.a.createElement(a.a,{type:"group"})))}class _ extends r.Component{constructor(e){super(e),y(this,"getSections",()=>{const{searchQuery:e}=this.state,{boardResource:{data:{all_boards:t}}}=this.props;return e.length>=f.a?[{items:Object(d.a)(t,e)}]:[{items:t}]}),y(this,"createBtnDisabled",()=>{const{boardResource:{data:{all_boards:e}}}=this.props,{searchQuery:t}=this.state;return e.some(e=>e.name.toLowerCase()===t.toLowerCase())}),y(this,"handleBoardCreate",e=>()=>{const{searchQuery:e}=this.state;if(!e)return;const{createBoard:t,invalidateBoardPickerBoardsResource:n,onBoardCreate:r}=this.props;n(),r?r(e):t({name:e,privacy:"public"}).then(e=>{const{onBoardChosen:t}=this.props;t(e)})}),y(this,"handleBoardSelected",e=>{this.props.onBoardChosen(e),this.setState({selectedBoard:e})}),y(this,"handleSearchQueryUpdate",e=>{this.setState({searchQuery:e})}),y(this,"renderRow",({item:e,hovered:t})=>{const{searchQuery:n}=this.state;return o.a.createElement(v,{board:e,hovered:t,searchQuery:n})}),this.state={searchQuery:"",selectedBoard:e.board}}render(){const{boardResource:e,board:t,isStoryPin:n,viewer:r}=this.props,{searchQuery:i,selectedBoard:a}=this.state;let s=c.a._("Select a board","Label for selecting a board in Edit Pin Modal","Label for selecting a board in Edit Pin Modal");return t?s=t.name:a&&(s=a.name),o.a.createElement(m.e,null,o.a.createElement(m.O,{accessibilityLabel:c.a._("loading board picker","accessibility text for loading spinner","accessibility text for loading spinner"),show:!e.isLoaded}),e.data&&o.a.createElement(l.a,{createBtnDisabled:this.createBtnDisabled(),dropdownValue:s,isStoryPin:n,onCreate:this.handleBoardCreate(r),onSearchQueryUpdate:this.handleSearchQueryUpdate,onSelect:this.handleBoardSelected,renderRow:this.renderRow,searchQuery:i,sections:this.getSections()}))}}t.a=Object(g.compose)(Object(i.connect)((function(e){const{advertiser:t,viewer:n}=e,r=n.isAuth&&t&&t.owner_user_id!==n.id;return{advertiser_id:r?t.id:null,username:r?t.owner_user_id:null,viewer:n}}),(function(e){return{invalidateBoardPickerBoardsResource:()=>{e(Object(p.f)("BoardPickerBoardsResource",{field_set_key:"board_picker"}))},createBoard:t=>e(Object(b.g)(t))}})),Object(u.a)({name:"BoardPickerBoardsResource",key:"boardResource",options:e=>({pin_id:e.pinId,field_set_key:"board_picker",onlyFetchBoards:!0,username:e.username,...e.advertiser_id&&e.username?{advertiser_id:e.advertiser_id,filter:"protected",username:e.username}:{}})},{allowStale:!1}))(_)},V8dp:function(e,t,n){var r=n("JL7T"),o=n("rJY1"),i=n("zVay").OrderedMap;e.exports=function(e){return e.first()instanceof r?function(e){var t,n={};return i(e.withMutations((function(e){e.forEach((function(r,i){var a=r.getKey(),s=r.getNextSiblingKey(),c=r.getPrevSiblingKey(),l=r.getChildKeys(),u=r.getParentKey(),d=o();if(n[a]=d,s&&(e.get(s)?e.setIn([s,"prevSibling"],d):e.setIn([a,"nextSibling"],null)),c&&(e.get(c)?e.setIn([c,"nextSibling"],d):e.setIn([a,"prevSibling"],null)),u&&e.get(u)){var h=e.get(u).getChildKeys();e.setIn([u,"children"],h.set(h.indexOf(r.getKey()),d))}else e.setIn([a,"parent"],null),t&&(e.setIn([t.getKey(),"nextSibling"],d),e.setIn([a,"prevSibling"],n[t.getKey()])),t=e.get(a);l.forEach((function(t){e.get(t)?e.setIn([t,"parent"],d):e.setIn([a,"children"],r.getChildKeys().filter((function(e){return e!==t})))}))}))})).toArray().map((function(e){return[n[e.getKey()],e.set("key",n[e.getKey()])]})))}(e):function(e){return i(e.toArray().map((function(e){var t=o();return[t,e.set("key",t)]})))}(e)}},VLkl:function(e,t,n){e.exports=function(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}},VSmT:function(e,t,n){var r,o=n("Usz/"),i=n("zVay"),a=n("qysv"),s=i.OrderedMap,c={getDirectionMap:function(e,t){r?r.reset():r=new o;var n=e.getBlockMap(),c=n.valueSeq().map((function(e){return a(r).getDirection(e.getText())})),l=s(n.keySeq().zip(c));return null!=t&&i.is(t,l)?t:l}};e.exports=c},VTBg:function(e,t,n){var r=n("JL7T");e.exports=function(e,t){if(!(e instanceof r))return null;var n=e.getNextSiblingKey();if(n)return n;var o=e.getParentKey();if(!o)return null;for(var i=t.get(o);i&&!i.getNextSiblingKey();){var a=i.getParentKey();i=a?t.get(a):null}return i?i.getNextSiblingKey():null}},VVkO:function(e,t,n){function r(e,t){const{url:n}=e,{slug:r}=t;return`${n}${r}/`}n.d(t,"a",(function(){return r}))},ViqK:function(e,t,n){n.d(t,"a",(function(){return c}));var r=n("q1tI"),o=n.n(r),i=n("Cufx"),a=n("qD10"),s=n("n6mq");function c(e){const{imageUrl:t,name:n,title:r,subtitle:c,accessory:l,linkURL:u,isDim:d}=e,h={__style:{opacity:d?.5:1}};return o.a.createElement(o.a.Fragment,null,n&&r&&o.a.createElement(s.e,{display:"flex",alignItems:"center",paddingX:4,marginBottom:4},o.a.createElement(s.e,{marginEnd:2,dangerouslySetInlineStyle:h},o.a.createElement(a.a,{to:u||""},o.a.createElement(i.a,{outline:!0,size:"md",name:n,src:t}))),o.a.createElement(s.e,{display:"flex",flex:"grow",alignItems:"stretch",direction:"column",dangerouslySetInlineStyle:h},o.a.createElement(a.a,{to:u||""},o.a.createElement(s.V,{color:"darkGray",size:"lg",truncate:!0,weight:"bold"},r)),o.a.createElement(s.V,{truncate:!0,size:"sm",color:"gray"},c)),l&&o.a.createElement(s.e,{marginStart:4},l)))}},VmTC:function(e,t,n){n.d(t,"a",(function(){return o}));var r=n("U4JR");function o(){Object(r.a)(101,{element:10779,component:13217,view:5,viewParameter:3069})}},VqlB:function(e,t,n){n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return g}));var r=n("3z7j"),o=n("Pqnw"),i=n("uVIr"),a=n("MhBu"),s=n("eOdZ"),c=n("oN2T"),l=n("KFEb"),u=n("1inl"),d=n("Ye/N");function h(e){u.a.showError(function(e){switch(e.api_error_code){case 2171:case 2172:case 2173:return d.a._("Please wait until the previous board action finishes.");default:return e.message}}(e))}const p=e=>Object(o.a)(e.sectionId?l.a.SECTION_PINS:l.a.BOARD_PINS,e.sectionId||e.boardId);function f(e,t){const{source:n,target:o}=e;o.boardId!==n.boardId?(t(Object(c.c)(n.boardId,"pin_count")),t(Object(c.c)(o.boardId,"pin_count"))):n.sectionId&&o.sectionId||t(Object(c.c)(o.boardId,"pin_count")),n.sectionId&&t(Object(r.a)(n.sectionId)),o.sectionId&&t(Object(r.a)(o.sectionId))}function m(e){return t=>{const{selectedPinIds:n,source:r,target:o}=e;t(Object(a.a)({feedId:r.sectionId||r.boardId,feedType:r.sectionId?l.a.SECTION_PINS:l.a.BOARD_PINS,itemIds:n,itemType:"pin"})),t(Object(i.a)({feedId:o.sectionId||o.boardId,feedType:o.sectionId?l.a.SECTION_PINS:l.a.BOARD_PINS,itemIds:n,itemType:"pin"})),f(e,t)}}function g(e){return t=>function(e,t){const{inverseSelection:n,selectedPinIds:r,source:o,target:c}=e;if(o.boardId===c.boardId&&(o.sectionId||null)===(c.sectionId||null))return Promise.reject();if(n){const e={board_id:o.boardId,new_board_id:c.boardId,old_section_id:o.sectionId||void 0,new_section_id:c.sectionId||void 0,pin_ids:r};return s.a.create("BulkEditSelectAllResource",e).callUpdate({showError:!1}).then(()=>Promise.all([t(p(o)),t(p(c))])).catch(h)}{const e=(e,n)=>{t(Object(a.a)({feedId:e.sectionId||e.boardId,feedType:e.sectionId?l.a.SECTION_PINS:l.a.BOARD_PINS,itemIds:r,itemType:"pin"})),t(Object(i.a)({feedId:n.sectionId||n.boardId,feedType:n.sectionId?l.a.SECTION_PINS:l.a.BOARD_PINS,itemIds:r,itemType:"pin"}))};e(o,c);const n=()=>e(c,o);if(c.boardId===o.boardId){if(c.sectionId){const e={section_id:c.sectionId,pins:r};return s.a.create("BoardSectionEditResource",e).callUpdate({showError:!1}).catch(e=>{n(),h(e)})}{const e={section_id:o.sectionId,pins:r};return s.a.create("BoardSectionPinsResource",e).callDelete({showError:!1}).catch(e=>{n(),h(e)})}}{const e={board_id:c.boardId,section_id:c.sectionId||void 0,pin_ids:r};return s.a.create("BulkEditResource",e).callUpdate({showError:!1}).catch(e=>{n(),h(e)})}}}(e,t).then(()=>f(e,t))}},VwDf:function(e,t,n){n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));const r=e=>e.toISOString(),o=({currentEventStartDate:e,currentEventEndDate:t,initialEventStartDate:n,initialEventEndDate:o})=>{let i,a;return e&&t?(i=r(e),a=r(t)):t&&(a=r(t)),o&&!t&&(a=""),n&&!e&&(i=""),o&&r(new Date(o))===t&&(a=null),n&&r(new Date(n))===t&&(i=null),{eventEndDate:a,eventStartDate:i}}},Vzit:function(e,t,n){function r(){return{type:"EXPERIENCE_FETCH_ALL",payload:{isFetchingAll:!0}}}function o(e){return{type:"EXPERIENCE_FETCH_ALL_COMPLETE",payload:{eligibleExperiences:e,isFetchingAll:!1}}}function i(e,t={},n=!1,r){return{type:"EXPERIENCE_FETCH",payload:{extraContext:t,placementId:e,inBypassExistingExperienceExpt:n,targeting:r}}}function a(e,t,n={},r=!1){return{type:"EXPERIENCE_FETCH_COMPLETE",payload:{eligibleExperiences:e,extraContext:n,placementId:t,inBypassExistingExperienceExpt:r}}}function s(e,t){return{type:"PLACEMENT_EXPERIMENTS_TRIGGER",payload:{placementId:e,extraContext:t}}}function c(e,t,n=!1,r){return{type:"EXPERIENCE_VIEWED",payload:{placementId:e,experienceId:t,isBackendExperience:n,targeting:r}}}function l(e,t,n=!1,r=!1,o={},i=!1,a){return{type:"EXPERIENCE_COMPLETED",payload:{placementId:e,experienceId:t,preventRemoval:n,isBackendExperience:r,extraContext:o,completeOnUnmount:i,targeting:a}}}function u(e,t,n=!1,r=!1,o){return{type:"EXPERIENCE_DISMISSED",payload:{placementId:e,experienceId:t,preventRemoval:n,isBackendExperience:r,targeting:o}}}function d(e,t){return{type:"EXPERIENCE_REMOVE",payload:{placementId:e,experienceId:t}}}function h(e,t={},n=!1,r=!1){return{type:"PLACEMENT_MOUNT",payload:{placementId:e,extraContext:t,isServerSideRender:n,inBypassExistingExperienceExpt:r}}}function p(e){return{type:"PLACEMENT_UNMOUNT",payload:{placementId:e}}}n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"f",(function(){return a})),n.d(t,"i",(function(){return s})),n.d(t,"h",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"j",(function(){return h})),n.d(t,"k",(function(){return p}))},W5AS:function(e,t,n){var r=n("sWW6");e.exports=function e(t,n){return!(!t||!n)&&(t===n||!r(t)&&(r(n)?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}},WFqU:function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n("yLpj"))},WG9s:function(e,t,n){var r=n("q1tI"),o=n.n(r),i=n("3oMh"),a=n("n6mq");t.a=({board:e,socialHeaderBgImage:t,socialHeaderBgColor:n,showSendButton:r=!1,textIconColor:s})=>o.a.createElement(a.e,{width:"100%",height:208,dangerouslySetInlineStyle:{__style:{backgroundColor:n}}},o.a.createElement(a.e,{margin:"auto",maxWidth:758,height:"100%",position:"relative"},o.a.createElement(a.v,{alt:"seasonal cover image",fit:"cover",color:n,src:t,naturalHeight:208,naturalWidth:758},o.a.createElement(a.e,{height:"100%",width:"100%",paddingX:4,paddingY:4},o.a.createElement(a.e,{display:"flex",height:"100%",maxWidth:"70%",direction:"column",justifyContent:"center"},o.a.createElement(a.s,{color:s},e.name)))),o.a.createElement(a.e,{position:"absolute",dangerouslySetInlineStyle:{__style:{zIndex:"1"}},marginTop:2,marginStart:1,left:!0,top:!0},r&&o.a.createElement(a.e,{display:"flex",alignItems:"center",justifyContent:"between"},o.a.createElement(i.a,{iconColor:s,bgColor:"transparent",board:e,onCreatePincode:()=>{},onOpen:()=>{}})))))},WJOU:function(e,t,n){var r=n("FcOR"),o=n("3sOJ"),i=n("0IKU"),a=n("Zgb7");e.exports=function(e){if(e._blockSelectEvents||e._latestEditorState!==e.props.editorState){if(e._blockSelectEvents){var t=e.props.editorState.getSelection();r.logBlockedSelectionEvent({anonymizedDom:"N/A",extraParams:JSON.stringify({stacktrace:(new Error).stack}),selectionState:JSON.stringify(t.toJS())})}}else{var n=e.props.editorState,s=a(n,i(e)),c=s.selectionState;c!==n.getSelection()&&(n=s.needsRecovery?o.forceSelection(n,c):o.acceptSelection(n,c),e.update(n))}}},WLG0:function(e,t,n){function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n("q1tI"),a=n("4pIB"),s=n("mFyV"),c=n("GyOf"),l=a.isBrowser("IE <= 11");var u=function(e){var t,n;function a(t){var n;return o(r(n=e.call(this,t)||this),"_forceFlag",void 0),o(r(n),"_node",void 0),n._forceFlag=!1,n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var u=a.prototype;return u.shouldComponentUpdate=function(e){var t=this._node,n=""===e.children;c(t)||s(!1);var r=t;return n?!function(e){return l?"\n"===e.textContent:"BR"===e.tagName}(r):r.textContent!==e.children},u.componentDidMount=function(){this._forceFlag=!this._forceFlag},u.componentDidUpdate=function(){this._forceFlag=!this._forceFlag},u.render=function(){var e,t=this;return""===this.props.children?this._forceFlag?(e=function(e){return t._node=e},l?i.createElement("span",{key:"A","data-text":"true",ref:e},"\n"):i.createElement("br",{key:"A","data-text":"true",ref:e})):function(e){return l?i.createElement("span",{key:"B","data-text":"true",ref:e},"\n"):i.createElement("br",{key:"B","data-text":"true",ref:e})}((function(e){return t._node=e})):i.createElement("span",{key:this._forceFlag?"A":"B","data-text":"true",ref:function(e){return t._node=e}},this.props.children)},a}(i.Component);e.exports=u},WPzw:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n("q1tI"),a=(r=i)&&r.__esModule?r:{default:r},s=n("tXUN"),c=n("v83y");t.default=function(e,t,n){var r=(0,s.List)(e).map((function(e){var r=e.component;return o({},e,{component:function(e){return a.default.createElement(r,o({},e,{getEditorState:t,setEditorState:n}))}})})).toJS();return new c.CompositeDecorator(r)}},"WYM/":function(e,t,n){var r=/-(.)/g;e.exports=function(e){return e.replace(r,(function(e,t){return t.toUpperCase()}))}},WaGC:function(e,t,n){e.exports=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window}},WbBG:function(e,t,n){e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},Wer7:function(e,t,n){function r(e,t={}){return{type:"RESOURCE_INVALIDATE",payload:{name:e,options:t}}}function o(e,t={},n={}){return{type:"RESOURCE_FETCH",payload:{name:e,options:t,headers:n}}}function i(e,t={},n={},r={}){return{type:"RESOURCE_PREFETCH",payload:{name:e,options:t,headers:r}}}function a(e,t={}){return{type:"RESOURCE_PREFETCH_READ",payload:{name:e,options:t}}}function s(e,t={},n={}){return{type:"RESOURCE_FETCH_MORE",payload:{name:e,options:t,headers:n}}}function c(e,t={}){return{type:"RESOURCE_FETCH_CREATE",payload:{name:e,options:t}}}function l(e,t={},n,r,o,i=!1){return{type:"RESOURCE_FETCH_COMPLETE",payload:{name:e,nextBookmark:o,options:t,data:n,isPrefetch:i},error:r}}function u(e,t={},n,r,o){return{type:"RESOURCE_FETCH_MORE_COMPLETE",payload:{name:e,nextBookmark:o,options:t,data:n},error:r}}n.d(t,"f",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"g",(function(){return i})),n.d(t,"h",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return u}))},WjpJ:function(e,t,n){var r=n("HLqC")();e.exports=r},Wkzk:function(e,t,n){var r=n("fyOY"),o=n("3sOJ"),i=n("DYKh"),a=n("qysv"),s=null,c={cut:function(e){var t=e.getCurrentContent(),n=e.getSelection(),c=null;if(n.isCollapsed()){var l=n.getAnchorKey(),u=t.getBlockForKey(l).getLength();if(u===n.getAnchorOffset()){var d=t.getKeyAfter(l);if(null==d)return e;c=n.set("focusKey",d).set("focusOffset",0)}else c=n.set("focusOffset",u)}else c=n;c=a(c),s=i(t,c);var h=r.removeRange(t,c,"forward");return h===t?e:o.push(e,h,"remove-range")},paste:function(e){if(!s)return e;var t=r.replaceWithFragment(e.getCurrentContent(),e.getSelection(),s);return o.push(e,t,"insert-fragment")}};e.exports=c},Wrea:function(e,t,n){n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var r=n("Wer7");const o=(e,t)=>n=>n(Object(r.a)("BoardResource",{board_id:e,field_set_key:t})),i=e=>o(e,"pin_count"),a=e=>({type:"BOARD_PIN_COUNT_CHANGED",payload:e}),s=e=>({type:"BOARD_INVITE_ACCEPTED_BY_VIEWER",payload:{boardId:e}}),c=(e,t)=>({type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:t}}),l=e=>({type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}})},X6C7:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("QWfI"),o=function(){function e(e){this.isDisposed=!1,this.action=r.isFunction(e)?e:r.noop}return e.isDisposable=function(e){return e&&r.isFunction(e.dispose)},e._fixup=function(t){return e.isDisposable(t)?t:e.empty},e.create=function(t){return new e(t)},e.prototype.dispose=function(){this.isDisposed||(this.action(),this.isDisposed=!0)},e.empty={dispose:r.noop},e}();t.Disposable=o},"XR+S":function(e,t,n){var r,o,i,a=n("q1tI"),s=n.n(a),c=n("/MKj"),l=n("B2N+"),u=n("n6mq");class d extends a.Component{renderPulsar(){const{anchor:e,handleComplete:t,zIndex:n}=this.props;return s.a.createElement(l.a,{anchor:e,onTouch:t,zIndex:n})}renderFlyout(){const{anchor:e,overflow:t,tooltip:n,handleDismiss:r,handleComplete:o}=this.props;if(!n)return null;const{cancelButtonText:i,confirmButtonText:a,mainText:c,idealDirection:l="down"}=n,d=i&&r&&a&&o;return s.a.createElement(u.q,{anchor:e,color:"blue",idealDirection:l,onDismiss:r,shouldFocus:!1,showCaret:!0,size:"flexible"},s.a.createElement(u.e,{maxWidth:284,padding:3,width:"max-content"},s.a.createElement(u.V,{color:"white",overflow:t,weight:"bold"},c),d?s.a.createElement(u.e,{marginTop:2,display:"flex",alignItems:"center"},s.a.createElement(u.e,{column:6,marginEnd:1},s.a.createElement(u.f,{color:"transparentWhiteText",onClick:e=>r(e),size:"md",text:String(i)})),s.a.createElement(u.e,{column:6},s.a.createElement(u.f,{color:"white",size:"md",text:String(a),onClick:o}))):null))}render(){const{anchor:e,pulserOnly:t}=this.props;return e?t?this.renderPulsar():this.renderFlyout():null}}i={overflow:"breakWord"},(o="defaultProps")in(r=d)?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i;var h=n("NdXn"),p=n("AAEI"),f=n("gC5q");t.a=({anchor:e,anchorElementRef:t,children:n,containerBoxConfig:r,experience:o,isHidden:i,onCompleteClick:l,overflow:m,zIndex:g})=>{var b;const y=(({anchor:e,anchorExperiences:t,passedExperience:n})=>n||(t?t[e]:null))({anchor:e,anchorExperiences:Object(c.useSelector)(({experiences:e})=>null==e?void 0:e.anchorExperiences),passedExperience:o}),v=Object(p.a)(null==y?void 0:y.placement_id),_=(null==y||null===(b=y.display_data)||void 0===b?void 0:b.delay)||0,[E,S]=Object(a.useState)(!!_);if(Object(a.useEffect)(()=>{if(_>0&&E){const e=setTimeout(()=>{S(!1)});return()=>clearTimeout(e)}return()=>{}},[_,E]),Object(a.useEffect)(()=>{!E&&y&&v.viewExperience(y.placement_id,y.experience_id)},[E,y]),!y||E||i)return s.a.Children.only(n);const w=(e=>{const{display_data:t}=e;return t.tooltip&&(t.tooltip={...t.tooltip.options,...t.tooltip},delete t.tooltip.options),Object(f.a)(h.a,!0)(t)})(y);return s.a.createElement(u.e,{position:"relative",height:null==r?void 0:r.height,display:null==r?void 0:r.display},s.a.createElement(u.U,{onMouseEnter:()=>{var e;(null===(e=y.display_data)||void 0===e?void 0:e.complete_on_hover)&&v.completeExperience(y.placement_id,y.experience_id)},onTap:()=>{l&&l(),v.completeExperience(y.placement_id,y.experience_id)}},s.a.Children.only(n)),s.a.createElement(d,{anchor:t||null,handleComplete:()=>{t instanceof HTMLElement&&t.click()},handleDismiss:e=>{(null==e?void 0:e.event)&&e.event.stopPropagation(),v.dismissExperience(y.placement_id,y.experience_id)},overflow:m,pulserOnly:!!w.pulserOnly,tooltip:w.tooltip,tooltipOnly:!!w.tooltipOnly,zIndex:g}))}},XddS:function(e,t,n){(function(t){n("YBdB"),e.exports=t.setImmediate}).call(this,n("yLpj"))},"Xnm/":function(e,t,n){},"Y/kH":function(e,t,n){e.exports=function(e){e._internalDrag=!0,e.setMode("drag")}},Y3PQ:function(e,t,n){var r=n("MgzW");function o(){return(o=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n("DthY"),c=n("Iq8E"),l=n("q1tI"),u=n("pXmp"),d=n("PxjJ"),h=n("qysv"),p=function(e,t,n,r){return u({"public/DraftStyleDefault/unorderedListItem":"unordered-list-item"===e,"public/DraftStyleDefault/orderedListItem":"ordered-list-item"===e,"public/DraftStyleDefault/reset":n,"public/DraftStyleDefault/depth0":0===t,"public/DraftStyleDefault/depth1":1===t,"public/DraftStyleDefault/depth2":2===t,"public/DraftStyleDefault/depth3":3===t,"public/DraftStyleDefault/depth4":t>=4,"public/DraftStyleDefault/listLTR":"LTR"===r,"public/DraftStyleDefault/listRTL":"RTL"===r})},f=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.shouldComponentUpdate=function(e){var t=this.props.editorState,n=e.editorState;if(t.getDirectionMap()!==n.getDirectionMap())return!0;if(t.getSelection().getHasFocus()!==n.getSelection().getHasFocus())return!0;var r=n.getNativelyRenderedContent(),o=t.isInCompositionMode(),i=n.isInCompositionMode();if(t===n||null!==r&&n.getCurrentContent()===r||o&&i)return!1;var a=t.getCurrentContent(),s=n.getCurrentContent(),c=t.getDecorator(),l=n.getDecorator();return o!==i||a!==s||c!==l||n.mustForceSelection()},a.render=function(){for(var e=this.props,t=e.blockRenderMap,n=e.blockRendererFn,r=e.blockStyleFn,a=e.customStyleMap,u=e.customStyleFn,f=e.editorState,m=e.editorKey,g=e.preventScroll,b=e.textDirectionality,y=f.getCurrentContent(),v=f.getSelection(),_=f.mustForceSelection(),E=f.getDecorator(),S=h(f.getDirectionMap()),w=y.getBlocksAsArray(),C=[],O=null,I=null,x=0;x<w.length;x++){var D=w[x],k=D.getKey(),T=D.getType(),M=n(D),j=void 0,P=void 0,B=void 0;M&&(j=M.component,P=M.props,B=M.editable);var A=b||S.get(k),R=c.encode(k,0,0),L={contentState:y,block:D,blockProps:P,blockStyleFn:r,customStyleMap:a,customStyleFn:u,decorator:E,direction:A,forceSelection:_,offsetKey:R,preventScroll:g,selection:v,tree:f.getBlockTree(k)},N=t.get(T)||t.get("unstyled"),F=N.wrapper,z=N.element||t.get("unstyled").element,q=D.getDepth(),U="";if(r&&(U=r(D)),"li"===z)U=d(U,p(T,q,I!==F||null===O||q>O,A));var H=j||s,K={className:U,"data-block":!0,"data-editor":m,"data-offset-key":R,key:k};void 0!==B&&(K=i({},K,{contentEditable:B,suppressContentEditableWarning:!0}));var V=l.createElement(z,K,l.createElement(H,o({},L,{key:k})));C.push({block:V,wrapperTemplate:F,key:k,offsetKey:R}),O=F?D.getDepth():null,I=F}for(var W=[],G=0;G<C.length;){var Y=C[G];if(Y.wrapperTemplate){var J=[];do{J.push(C[G].block),G++}while(G<C.length&&C[G].wrapperTemplate===Y.wrapperTemplate);var X=l.cloneElement(Y.wrapperTemplate,{key:Y.key+"-wrap","data-offset-key":Y.offsetKey},J);W.push(X)}else W.push(Y.block),G++}return l.createElement("div",{"data-contents":"true"},W)},r}(l.Component);e.exports=f},Y8Sn:function(e,t,n){n.d(t,"i",(function(){return o})),n.d(t,"h",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"j",(function(){return u})),n.d(t,"k",(function(){return d})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return f}));var r=n("BcL7");const o=e=>!!e&&e.video_list,i=({story_pin_data_id:e})=>!!e,a=e=>e.rich_summary&&e.rich_summary.products&&e.rich_summary.products.length>0||e.rich_metadata&&e.rich_metadata.products&&e.rich_metadata.products.length>0,s=e=>!!e.promoter&&!e.is_downstream_promotion,c=e=>!!e.video_status&&5!==e.video_status,l=()=>["employees","enabled"].includes(r.a.getInstance().v2ActivateExperiment("unification_web_pin_click")),u=(e,t)=>{const{organicVideosAutoplaying:n,promotedVideosAutoplaying:r}=t,o={...n,...r};return!!o[e]&&!o[e].paused},d=e=>["user","email","messages","deep_linking","user_tries","notifications","explore_article"].includes(e),h=(e,t)=>{const{organicVideosAutoplaying:n,promotedVideosAutoplaying:r}=t,o={...n,...r};for(const i in o){const{paused:t}=o[i];if(i!==e&&!t)return!1}return!0},p=(e,t)=>{const{organicVideosAutoplaying:n,promotedVideosAutoplaying:r}=t,o={...n,...r};return o[e]&&o[e].currentTime},f=()=>{let e=800,t=400;return"undefined"!=typeof window&&(e=window.innerHeight,t=window.innerWidth),{windowHeight:e,windowWidth:t}}},YBdB:function(e,t,n){(function(e){!function(e,t){if(!e.setImmediate){var n,r,o,i,a,s=1,c={},l=!1,u=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?n=function(e){Object({env:Object({NODE_ENV:"production"})}).nextTick((function(){p(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){p(e.data)},n=function(e){o.port2.postMessage(e)}):u&&"onreadystatechange"in u.createElement("script")?(r=u.documentElement,n=function(e){var t=u.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):n=function(e){setTimeout(p,0,e)}:(i="setImmediate$"+Math.random()+"$",a=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(i)&&p(+t.data.slice(i.length))},e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),n=function(t){e.postMessage(i+t,"*")}),d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var o={callback:e,args:t};return c[s]=o,n(s),s++},d.clearImmediate=h}function h(e){delete c[e]}function p(e){if(l)setTimeout(p,0,e);else{var t=c[e];if(t){l=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{h(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n("yLpj"))},YDMw:function(e,t,n){var r=n("hyAj");e.exports=function(e,t){e._latestEditorState.getSelection().isCollapsed()?t.preventDefault():e.setClipboard(r(e._latestEditorState))}},YGxj:function(e,t,n){n.d(t,"a",(function(){return d}));var r=n("q1tI"),o=n.n(r),i=n("c4Fo"),a=n("B2N+"),s=n("n6mq");function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends o.a.PureComponent{constructor(...e){super(...e),c(this,"onScroll",()=>{const{dismiss:e}=this.props;this.dismissed||this.timer||(this.timer=setTimeout(()=>{e(),this.dismissed=!0,this.timer=void 0},3e3))}),c(this,"dismissed",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){this.timer&&clearTimeout(this.timer)}render(){const{anchor:e,text:t,thumbnails:n,idealDirection:r}=this.props,i=n.slice(-3);return o.a.createElement(s.q,{anchor:e,color:"white",idealDirection:r,onDismiss:this.onScroll,shouldFocus:!1,size:"md"},o.a.createElement(s.e,{display:"flex",alignContent:"center",justifyContent:"between",padding:3,width:"100%"},o.a.createElement(s.e,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3},o.a.createElement(s.V,{color:"darkGray",weight:"bold"},t)),o.a.createElement(s.e,{display:"flex",marginEnd:-2,paddingX:2},i.map(e=>o.a.createElement(s.e,{key:e,height:60,width:50,paddingX:1},o.a.createElement(s.A,{rounding:2,height:60},o.a.createElement(s.v,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})))))))}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends r.Component{constructor(...e){super(...e),u(this,"state",{paused:!1}),u(this,"handlePulsarClick",(e,t)=>{e?this.setState({paused:!0}):t()})}componentWillUnmount(){clearTimeout(this.timer)}setDefaultPulsarTooltip(e){const t=e=>!(null==e);e.has_pulsar=!t(e.has_pulsar)||e.has_pulsar,e.has_tooltip=!t(e.has_tooltip)||e.has_tooltip}getText(e,t,n){return t&&e.text.replace("{boardName}",t),n?n(e):e.text}render(){const{anchor:e,customWrapper:t,experienceIds:n,boardTextOverride:r,flyoutSize:c,fontSize:u,idealDirection:d,useMasonryFlyout:h,noClickToDismiss:p,onClickComplete:f,onClickDismiss:m,placementId:g,positionRelativeToAnchor:b,shouldTimeoutDismiss:y,showCaret:v,textAlign:_,textOverflow:E,textOverrideFn:S,textWeight:w,customizedComplete:C}=this.props,O=t||(({children:e})=>h?o.a.createElement(s.x,null,e):e);return o.a.createElement(i.a,{experienceIds:n,placementId:g,type:8},({complete:t,dismiss:n,display_data:i})=>(this.setDefaultPulsarTooltip(i),i.has_pulsar||i.has_tooltip?(y&&i.disappearTime&&i.disappearTime>0&&(this.timer=setTimeout(()=>(n(),null),i.disappearTime)),o.a.createElement(o.a.Fragment,null,i.has_pulsar&&o.a.createElement(a.a,{anchor:e,onTouch:()=>this.handlePulsarClick(i.has_tooltip,t),paused:this.state.paused}),i.has_tooltip&&(!i.has_pulsar||this.state.paused)&&(i.thumbnail_urls?o.a.createElement(l,{anchor:e,dismiss:n,idealDirection:d||"down",text:i.text,thumbnails:i.thumbnail_urls}):o.a.createElement(O,null,o.a.createElement(s.q,{anchor:e,color:"blue",idealDirection:d||"down",onDismiss:p?()=>{}:n,positionRelativeToAnchor:!h&&b,shouldFocus:!1,showCaret:v,size:c},o.a.createElement(s.e,{column:12,padding:3},o.a.createElement(s.V,{align:_,color:"white",overflow:E,size:u,weight:w||"bold"},this.getText(i,r,S)),i.sub_text&&o.a.createElement(s.e,{paddingY:2},o.a.createElement(s.V,{color:"white",size:u},i.sub_text)),(i.dismiss_button_text||i.complete_button_text)&&o.a.createElement(s.e,{display:"flex",alignItems:"center",marginTop:2},i.dismiss_button_text&&o.a.createElement(s.e,{marginEnd:1,column:6},o.a.createElement(s.f,{color:"transparent",onClick:()=>{m&&m(),n()},size:"md",text:i.dismiss_button_text})),i.complete_button_text&&o.a.createElement(s.e,{column:i.dismiss_button_text?6:12},C?o.a.createElement(s.U,{fullHeight:!0,onTap:()=>{t(),f&&f()},rounding:2},o.a.createElement(s.e,{display:"flex",color:"white",padding:2,rounding:2,justifyContent:"center",dangerouslySetInlineStyle:{__style:{padding:"10px"}}},o.a.createElement(s.V,{color:"blue",weight:"bold"},i.complete_button_text))):o.a.createElement(s.f,{color:"white",size:"md",text:i.complete_button_text,onClick:()=>{t(),f&&f()}}))))))))):(t(),null)))}}u(d,"defaultProps",{fontSize:"lg",positionRelativeToAnchor:!0})},YUem:function(e,t,n){var r=n("SF5q"),o=n("3sOJ"),i=n("DEWG"),a=n("8d//");e.exports=function(e){var t=a(e,(function(e){var t=e.getSelection(),n=t.getStartOffset(),o=t.getStartKey(),a=e.getCurrentContent().getBlockForKey(o).getText().slice(n),s=r.getForward(a);return i(e,s.length||1)}),"forward");return t===e.getCurrentContent()?e:o.push(e,t,"remove-range")}},"Ye/N":function(e,t,n){Error;const r={_:e=>e,set(e){Object.assign(this,e)}};t.a=r},YeVe:function(e,t,n){var r=n("zVay").OrderedMap,o={createFromArray:function(e){return r(e.map((function(e){return[e.getKey(),e]})))}};e.exports=o},Yo6N:function(e,t,n){n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return p}));var r=n("q1tI"),o=n.n(r),i=n("qD10"),a=n("n6mq");function s({action:e,alignCenter:t}){const{title:n,description:r,button:s}=e,c=n&&n.text,l=r&&r.text,u=s&&s.text||"",d=s&&s.link||"",h=s&&s.link?s.link.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"").replace("/",""):"";return s&&u&&d.startsWith("http")?o.a.createElement(a.e,null,o.a.createElement(a.e,{marginBottom:1},o.a.createElement(a.V,{align:t?"center":"left",weight:"bold"},""!==u?u:"Visit")),o.a.createElement(a.e,{marginBottom:1},o.a.createElement(i.a,{className:"underlineLink",to:d},o.a.createElement("span",{style:{textDecoration:"underline"}},o.a.createElement(a.V,{align:t?"center":"left",truncate:!0},h))))):o.a.createElement(a.e,null,!!c&&o.a.createElement(a.e,{marginBottom:1},o.a.createElement(a.V,{align:t?"center":"left",weight:"bold"},c)),!!l&&o.a.createElement(a.e,{marginBottom:1},o.a.createElement(a.V,{align:t?"center":"left"},l)))}const c={backgroundColor:"#E1F8F7",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},l={boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"};function u({inModal:e,notice:t}){const{title:n,description:r,actions:i=[]}=t,u=r&&r.text||"",d=r&&r.text_tags||[],p=1===i.length,f=h(u,d);return o.a.createElement(a.e,{rounding:2,padding:6,dangerouslySetInlineStyle:{__style:e?l:c}},!!n&&!e&&o.a.createElement(a.e,{marginBottom:2,display:"flex"},o.a.createElement(a.s,{size:"md"},n)),!!u&&o.a.createElement(a.e,{marginBottom:4},o.a.createElement("span",{style:{whiteSpace:"pre-wrap"}},o.a.createElement(a.V,{overflow:"normal",align:e?"center":"left"},f))),!!i.length&&o.a.createElement(a.e,{display:"flex",wrap:!0,marginStart:-2,marginEnd:-2,direction:e?"column":"row"},i.map(t=>o.a.createElement(a.e,{column:e||p?12:6,paddingY:1,paddingX:2,key:JSON.stringify(t)},o.a.createElement(s,{action:t,alignCenter:e||p})))))}function d({notice:e}){const{actions:t=[],description:n,footer:r}=e,s=h(n&&n.text||"",n&&n.text_tags||[]),c={color:"#004b91",display:"block",fontSize:"28px",WebkitFontSmoothing:"antialiased"};return o.a.createElement(a.e,{width:"100%",display:"flex",direction:"column",alignItems:"center",marginBottom:3},o.a.createElement(a.e,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#86d1ce"}},display:"flex",justifyContent:"center",width:656,rounding:8},o.a.createElement(a.e,{height:"100%",width:"100%",padding:10},o.a.createElement("span",{style:c},s),o.a.createElement(a.e,{marginTop:6},t.map(e=>{var t;const n=null===(t=e.button)||void 0===t?void 0:t.link;var r,s;return n&&n.startsWith("tel")?o.a.createElement(a.e,null,o.a.createElement("span",{style:{fontWeight:"600",...c}},null===(r=e.title)||void 0===r?void 0:r.text),o.a.createElement("span",{style:c},null===(s=e.description)||void 0===s?void 0:s.text)):o.a.createElement(i.a,{to:n||""},o.a.createElement(a.e,{display:"inlineBlock"},o.a.createElement(a.e,{alignItems:"center",color:"navy",display:"flex",justifyContent:"center",height:44,rounding:"pill",width:117},o.a.createElement(a.V,{color:"white",weight:"bold"},e.button&&e.button.text))))})))),!!r&&o.a.createElement(a.e,{paddingY:2,width:540},o.a.createElement(a.z,{inline:!0,target:"blank",href:r.link,key:r.link},o.a.createElement(a.V,{align:"center",color:"gray",size:"sm"},o.a.createElement("div",{dangerouslySetInnerHTML:{__html:r.text}})))))}function h(e,t){const n=[];let r=0;for(let i=0;i<t.length;i+=1){const s=t[i];if(5===s.tag_type&&s.link){const t=e.substring(s.offset,s.offset+s.length),i=o.a.createElement(a.z,{inline:!0,target:"blank",href:s.link,key:t},o.a.createElement(a.V,{inline:!0,weight:"bold"},t));n.push(o.a.createElement("span",null,e.substring(r,s.offset))),n.push(i),r=s.offset+s.length}}return r>0&&n.push(o.a.createElement("span",null,e.substring(r))),0===n.length?[o.a.createElement("span",null,e)]:n}function p({inModal:e,notices:t}){return o.a.createElement(r.Fragment,null,t.map(t=>2===t.style?o.a.createElement(d,{notice:t}):o.a.createElement(u,{notice:t,inModal:e})))}},YrFj:function(e,t,n){var r=n("MgzW");function o(){return(o=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=n("C8qk"),a=n("Iq8E"),s=n("q1tI"),c=n("qysv"),l=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=r.prototype;return l.shouldComponentUpdate=function(e){var t=this.props.editorState,n=e.editorState;if(t.getDirectionMap()!==n.getDirectionMap())return!0;if(t.getSelection().getHasFocus()!==n.getSelection().getHasFocus())return!0;var r=n.getNativelyRenderedContent(),o=t.isInCompositionMode(),i=n.isInCompositionMode();if(t===n||null!==r&&n.getCurrentContent()===r||o&&i)return!1;var a=t.getCurrentContent(),s=n.getCurrentContent(),c=t.getDecorator(),l=n.getDecorator();return o!==i||a!==s||c!==l||n.mustForceSelection()},l.render=function(){for(var e=this.props,t=e.blockRenderMap,n=e.blockRendererFn,r=e.blockStyleFn,l=e.customStyleMap,u=e.customStyleFn,d=e.editorState,h=e.editorKey,p=e.textDirectionality,f=d.getCurrentContent(),m=d.getSelection(),g=d.mustForceSelection(),b=d.getDecorator(),y=c(d.getDirectionMap()),v=[],_=f.getBlocksAsArray()[0];_;){var E=_.getKey(),S={blockRenderMap:t,blockRendererFn:n,blockStyleFn:r,contentState:f,customStyleFn:u,customStyleMap:l,decorator:b,editorKey:h,editorState:d,forceSelection:g,selection:m,block:_,direction:p||y.get(E),tree:d.getBlockTree(E)},w=(t.get(_.getType())||t.get("unstyled")).wrapper;v.push({block:s.createElement(i,o({key:E},S)),wrapperTemplate:w,key:E,offsetKey:a.encode(E,0,0)});var C=_.getNextSiblingKey();_=C?f.getBlockForKey(C):null}for(var O=[],I=0;I<v.length;){var x=v[I];if(x.wrapperTemplate){var D=[];do{D.push(v[I].block),I++}while(I<v.length&&v[I].wrapperTemplate===x.wrapperTemplate);var k=s.cloneElement(x.wrapperTemplate,{key:x.key+"-wrap","data-offset-key":x.offsetKey},D);O.push(k)}else O.push(x.block),I++}return s.createElement("div",{"data-contents":"true"},O)},r}(s.Component);e.exports=l},Yrnb:function(e,t,n){e.exports=function(e){var t=e.getSelection(),n=t.getAnchorKey(),r=e.getBlockTree(n),o=t.getStartOffset(),i=!1;return r.some((function(e){return o===e.get("start")?(i=!0,!0):o<e.get("end")&&e.get("leaves").some((function(e){var t=e.get("start");return o===t&&(i=!0,!0)}))})),i}},YuQ1:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("LTlA");t.NONE=[],t.ALL=[],t.NONE.__IS_NONE__=!0,t.ALL.__IS_ALL__=!0,t.areDirty=function(e,n){return e!==t.NONE&&(e===t.ALL||void 0===n||r.intersection(n,e).length>0)}},"Z6/o":function(e,t,n){var r=n("N8u9");e.exports=r},ZCgT:function(e,t,n){var r=n("tLB3"),o=1/0;e.exports=function(e){return e?(e=r(e))===o||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},ZE2w:function(e,t,n){n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var r=n("4dcN"),o=n("eOdZ");const i="collaborator_approve_invite";function a(e,t){return o.a.create("BoardEmailInviteResource",{board_id:e,emails:t}).callCreate()}function s(e,t){return o.a.create("BoardInviteResource",{board_id:e,invited_user_ids:t}).callCreate()}function c(e,t){return n=>o.a.create("BoardInviteResource",{board_id:e,invited_user_id:t}).callUpdate().then(()=>{r.a.trackEvent(i,"success")}).catch(()=>r.a.trackEvent(i,"error"))}function l(e,t,n){return t=>{const{invited_user:r,status:i,board:{id:a}}=e;return o.a.create("accepted"===i?"BoardCollaboratorResource":"BoardInviteResource",{ban:n,board_id:a,field_set_key:"boardEdit",invited_user_id:r.id}).callDelete({showError:!1})}}},ZVWG:function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return c}));var r=n("etmJ");const o=(e,t)=>{const n=/^\d{1,3}\.\d{1,3}(?:\.\d{1,6})?$/;if(!e.match(n)||!t.match(n))return null;const r=e.split("."),o=t.split("."),i=Math.max(r.length,o.length);for(let a=0;a<i;a+=1){const e=a<r.length?parseInt(r[a],10):0,t=a<o.length?parseInt(o[a],10):0;if(e<t)return-1;if(e>t)return 1}return 0},i=e=>({defaultStyle:0,fontFamily:e.name,fontGroup:r.c,fontOverrides:{letterSpacing:e.letter_spacing,lineHeight:e.line_height},format:"truetype",id:e.id,styles:[{fontStyle:"",fontUrl:e.url,fontWeight:"normal",name:"normal"}]});function a(e){const t=[];let n="";for(const r of e)if(n){const e=!!r.match(/\s/),o=!!n.match(/\s/);if(e===o)n+=r;else if(!o&&n.includes("-")){let e=0;for(let r=0;r<n.length;r+=1)"-"===n[r]&&(t.push(n.substring(e,r+1)),e=r+1);t.push(n.substring(e)),n=r}else t.push(n),n=r}else n=r;return n.length&&t.push(n),t}function s({font:e,fontSize:t,textList:n,width:r}){var o,i;if("undefined"==typeof document||!document.body||r<=0||t<=0)return[];const s=document.body,c=document.createElement("div");s.appendChild(c);const l=null!=(null===(o=e.fontOverrides)||void 0===o?void 0:o.letterSpacing)?e.fontOverrides.letterSpacing+"px":void 0,u=(null===(i=e.fontOverrides)||void 0===i?void 0:i.lineHeight)||1.1,d={letterSpacing:l,lineHeight:String(u),fontFamily:e.fontFamily,fontSize:t+"px",visibility:"hidden"};Object.assign(c.style,d);const h=document.createElement("div");h.style.display="inline",c.appendChild(h);const p=document.createTextNode("");h.appendChild(p);const f=[];let m="";const g=e=>{const t=e.trim();return p.textContent=t,{text:t,width:h.offsetWidth}},b=e=>{const t=!!e.match(/\s/),n=0===m.length;if(p.textContent=`${m}${e}`,h.offsetWidth>r)if(t)f.push(g(m)),m="";else if(n)for(const r of e)b(r);else f.push(g(m)),m="",b(e);else m+=e};for(const y of n){0===y.length&&f.push(g(m));a(y).forEach(e=>b(e)),m.length&&(f.push(g(m)),m="")}return h.remove(),c.remove(),f}function c({boxHeight:e,boxWidth:t,font:n,startFontSize:r,text:o}){var i,a;if("undefined"==typeof document||!document.body)return{fontSize:r,lines:[]};const c=document.body,l=document.createElement("div");c.appendChild(l);const u=o.split(/\r?\n/g);let d=r;const h=null!=(null===(i=n.fontOverrides)||void 0===i?void 0:i.letterSpacing)?n.fontOverrides.letterSpacing+"px":void 0,p=(null===(a=n.fontOverrides)||void 0===a?void 0:a.lineHeight)||1.1,f={letterSpacing:h,lineHeight:String(p),fontFamily:n.fontFamily,fontSize:d+"px",position:"absolute",visibility:"hidden",width:t+"px"};Object.assign(l.style,f);const m=document.createElement("div");for(m.style.display="inline",l.appendChild(m),u.forEach((e,t)=>{const n=document.createElement("span");n.style.wordBreak="break-word",m.appendChild(n),n.appendChild(document.createTextNode(e)),t!==o.length-1&&n.appendChild(document.createElement("br"))});(m.offsetHeight>e||m.offsetWidth>t)&&d>0;)d-=1,l.style.fontSize=d+"px";return m.remove(),l.remove(),{fontSize:d,lines:d>0?s({font:n,fontSize:d,textList:u,width:t}):[]}}},ZWtO:function(e,t,n){var r=n("4uTw"),o=n("9Nap");e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}},ZdPf:function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return a}));const r={CONDITIONAL:0,EMOTIONAL_DISDRESS_OR_SUICIDE:4},o={ABUSIVE:0,SENSITIVE:1,BRAND_UNSAFE:2};function i(e){return null!=e&&(!!e.notice||!!e.notices&&e.notices.length>0)}function a(e){return!!e&&e.severity===o.ABUSIVE}},"Zf/v":function(e,t,n){e.exports=function(e,t,n){var r=e;if(n===r.count())t.forEach((function(e){r=r.push(e)}));else if(0===n)t.reverse().forEach((function(e){r=r.unshift(e)}));else{var o=r.slice(0,n),i=r.slice(n);r=o.concat(t,i).toList()}return r}},Zgb7:function(e,t,n){var r=n("ISee");e.exports=function(e,t){var n=t.ownerDocument.defaultView.getSelection(),o=n.anchorNode,i=n.anchorOffset,a=n.focusNode,s=n.focusOffset;return 0===n.rangeCount||null==o||null==a?{selectionState:e.getSelection().set("hasFocus",!1),needsRecovery:!1}:r(e,t,o,i,a,s)}},a0OY:function(e,t,n){n.d(t,"a",(function(){return Re}));var r=n("q1tI"),o=n.n(r),i=n("/MKj"),a=n("xdpg"),s=n("Cufx"),c=n("qD10"),l=n("n6mq");function u(e){const{faces:t,maxFaces:n,numFaces:r,onOverflowClick:i,shouldNavigate:a=!0}=e,u=[...t].reverse(),d=t.length>n?u.slice(0,n+1):u,h=r-n;return o.a.createElement(l.e,{position:"relative",display:"flex",dangerouslySetInlineStyle:{__style:{flexDirection:"row-reverse"}},alignItems:"center"},d.map((e,t)=>{const{name:n,src:r,href:u,isDim:d}=e;if(0===t&&h>0)return o.a.createElement(l.e,{dangerouslySetInlineStyle:{__style:{border:"2px solid white"}},width:44,height:44,marginStart:-2,rounding:"circle",overflow:"hidden",key:t},o.a.createElement(l.v,{src:r||"",alt:n,naturalWidth:44,naturalHeight:44,fit:"contain"},o.a.createElement(l.U,{fullHeight:!0,fullWidth:!0,onTap:i,rounding:"circle"},o.a.createElement(l.e,{display:"flex",justifyContent:"center",alignItems:"center",rounding:"circle",width:"100%",height:"100%",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.4)"}}},o.a.createElement(l.V,{color:"white",size:"md",weight:"bold"},(p=h)>99?"99+":p)))));{const e={__style:{opacity:d?.5:1}},i=o.a.createElement(l.e,{marginStart:-2,key:t,dangerouslySetInlineStyle:e},o.a.createElement(s.a,{name:n,size:"sm",src:r,outline:!0}));return a?o.a.createElement(c.a,{to:u,key:t},i):i}var p}))}var d=n("Ye/N"),h=n("vvax"),p=n("0SCs");function f({invitedByUser:e,isAccepted:t,onDecline:n,onAccept:r,createdAt:c}){const f=Object(i.useSelector)(e=>e.viewer),m=e||{},{first_name:g,full_name:b,username:y,image_medium_url:v}=m,_=g||b||d.a._("others","Default text when board colalborator name is not known.","Default text when board colalborator name is not known."),{anyEnabled:E}=Object(p.c)("web_lego_invite_card_board");return o.a.createElement(l.n,null,t?o.a.createElement(l.e,{width:"100%",paddingX:5,paddingY:3,rounding:2,marginStart:-1,marginEnd:-1,display:"flex",direction:"row",alignItems:"center",borderStyle:"sm"},o.a.createElement(u,{maxFaces:2,numFaces:2,faces:[{href:f.isAuth?"/"+f.username:"",name:f.isAuth?f.fullName:"",src:f.isAuth?f.imageMediumUrl:""},{href:"/"+y,name:b,src:v}]}),o.a.createElement(l.e,{marginStart:2},o.a.createElement(l.V,{weight:"bold"},d.a._("You're in!","Text showing that a user has accepted the board invite and is now a part of the board","Text showing that a user has accepted the board invite and is now a part of the board")),o.a.createElement(l.V,null,a.c(d.a._("Start collaborating with {{ invitedByUserName }} on this board"),{invitedByUserName:_})))):o.a.createElement(l.e,{width:"100%",color:E?"white":"blue",paddingX:E?6:5,paddingY:E?6:3,rounding:E?6:2,marginStart:-1,marginEnd:-1,borderStyle:E?"shadow":"none"},o.a.createElement(l.e,{display:"flex",alignItems:"center",direction:"row"},o.a.createElement(l.e,{marginEnd:2},o.a.createElement(s.a,{name:b,src:v,size:E?"md":"sm",outline:!E})),o.a.createElement(l.e,{flex:"grow"},o.a.createElement(l.V,{inline:!0,color:E?"darkGray":"white"},E?Object(h.b)(d.a._("{{ user }} invited you to collaborate on this board {{ createdAt }}","web.boardView.inviteCard.text","Label used to indicate a Pinner has invited you to join a board"),{user:o.a.createElement(l.V,{color:"darkGray",inline:!0,key:y,weight:"bold"},o.a.createElement(l.z,{inline:!0,href:"/"+y},b)),createdAt:o.a.createElement(l.V,{color:"gray",inline:!0},c)}):Object(h.b)(d.a._("{{ user }} has invited you to collaborate on this board!"),{user:o.a.createElement(l.V,{color:"white",inline:!0,key:y,weight:"bold"},o.a.createElement(l.z,{inline:!0,href:"/"+y},b))}))),o.a.createElement(l.e,{display:"flex",alignItems:"center",paddingX:1,dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}}},o.a.createElement(l.e,{marginEnd:2,display:"inlineBlock"},o.a.createElement(l.f,{onClick:n,text:d.a._("Decline","decline board collaborator invite or request","decline board collaborator invite or request"),color:E?"gray":"transparent",size:E?"lg":"md",inline:!0})),o.a.createElement(l.f,{onClick:r,text:d.a._("Accept","Text to accept a board collaboration invite","Text to accept a board collaboration invite"),size:E?"lg":"md",color:E?"red":"white",inline:!0})))))}var m=n("4dcN"),g=n("eOdZ"),b=n("Wrea"),y=n("ANjH"),v=n("Wer7"),_=n("w70y");function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const S=e=>({field_set_key:"boardBanner",board_id:e.boardId,invited_user_id:e.viewer.isAuth&&e.viewer.id,invite_code:e.inviteCode});class w extends r.Component{constructor(...e){super(...e),E(this,"state",{boardInviteAccepted:!1,userInviter:null}),E(this,"handleInviteClick",e=>{const{boardId:t}=this.props,n=e?"collaborator_invite_accept":"collaborator_decline_invite";m.a.trackEvent(n,"click");const r=g.a.create("BoardInviteResource",this.inviteResourceOptions);(e?r.callUpdate():r.callDelete()).then(()=>{const{acceptBoardInvite:n,invalidateResource:r}=this.props;e&&(n(t),this.setState({boardInviteAccepted:!0})),r("BoardInviteResource",S(this.props))})})}get inviteResourceOptions(){const{boardId:e,viewer:t}=this.props;return{board_id:e,invited_user_id:t.isAuth&&t.id}}componentDidMount(){const{userInviterId:e,shouldAutoAcceptBoardInvite:t}=this.props;if(e&&t){g.a.create("BoardInviteResource",this.inviteResourceOptions).callUpdate().then(()=>{const{boardId:e,acceptBoardInvite:t,invalidateResource:n}=this.props;t(e),n("BoardInviteResource",S(this.props))});g.a.create("UserResource",{field_set_key:"grid_item",user_id:e}).callGet().then(e=>{const t=e.resource_response&&e.resource_response.data;t&&this.setState({userInviter:t})})}}render(){const{userInviterId:e,shouldAutoAcceptBoardInvite:t,invite:{data:n},invites:r,styles:i}=this.props,{boardInviteAccepted:a,userInviter:s}=this.state,c=n||{},u=!(!e||!t)||a,h=!["new","contact_request_not_approved"].includes(c.status),p=[...(null==r?void 0:r.data)||[]].pop();if(h&&!u)return null;if(!this.invitedByUser){const e=c.invited_by_user||s;if(!e)return null;this.invitedByUser=e}return o.a.createElement(l.e,{marginTop:i.marginTop,paddingY:i.paddingY},o.a.createElement(f,{invitedByUser:this.invitedByUser,isAccepted:u,onAccept:()=>this.handleInviteClick(!0),onDecline:()=>this.handleInviteClick(!1),createdAt:d.a.getHumanizedTimesince(p&&p.created_at,{isAbbreviated:!0})}))}}var C=Object(y.compose)(Object(i.connect)(({viewer:e})=>({viewer:e}),(function(e){return Object(y.bindActionCreators)({acceptBoardInvite:b.c,invalidateResource:v.f},e)})),Object(_.b)({name:"BoardInvitesResource",key:"invites",options:()=>({current_user:!0,field_set_key:"news"})}),Object(_.b)({name:"BoardInviteResource",key:"invite",options:S}))(w),O=n("Yo6N"),I=n("RNo4"),x=n("EC67"),D=n("ZdPf");function k({boardId:e,styles:t}){const n=Object(x.h)(),r=n&&n.search?Object(I.k)(n.search):{},i=r.invite_code,a=r.accept_invite,s=r.inviter_user_id;return o.a.createElement(C,{boardId:e,inviteCode:i,shouldAutoAcceptBoardInvite:a,userInviterId:s,styles:t})}var T=function(e){const{board:t,styles:n}=e,{id:i,sensitivity:a}=t,s=Object(D.d)(a);return o.a.createElement(r.Fragment,null,!s&&o.a.createElement(k,{boardId:i,styles:n||{paddingY:3,marginTop:0}}),s&&Object(D.c)(a)&&o.a.createElement(l.e,{paddingY:10},o.a.createElement(O.a,{notices:a.notices})))},M=n("+wrf"),j=n("ViqK"),P=n("3j7w");function B({board:e,scrollInfo:t}){const n=Object(_.a)({name:"BoardCollaboratorsResource",options:{board_id:e.id},allowStale:!1});if(n.isLoaded){const{owner:r}=e,{data:i,isAtEnd:a,isFetching:s,fetchMore:c}=n,l=[r,...i||[]];return o.a.createElement(o.a.Fragment,null,t?o.a.createElement(P.a,{scrollBuffer:3*t.container.clientHeight,scrollHeight:t.container.scrollHeight,scrollTop:t.top,isAtEnd:a,isFetching:s,fetchMore:c}):null,l.map(e=>{const{full_name:t,id:n,image_medium_url:r,username:i}=e;return o.a.createElement(j.a,{key:n,imageUrl:r,linkURL:`/${i}/`,name:t,subtitle:i,title:t})}))}return o.a.createElement(l.O,{accessibilityLabel:d.a._("Loading","Loading spinner when rendering users","Loading spinner when rendering users"),show:!0})}var A=({heading:e,description:t,disabled:n=!1,id:r,onChange:i,switched:a})=>o.a.createElement(l.e,{display:"flex",direction:"column",width:"100%",paddingX:6,paddingY:4},o.a.createElement(l.V,{weight:"bold"},e),o.a.createElement(l.e,{display:"flex",direction:"row",alignItems:"center",marginTop:3},o.a.createElement(l.e,{flex:"grow",marginEnd:2},o.a.createElement(l.V,null,t)),o.a.createElement(l.R,{id:r,onChange:i,disabled:n,switched:a}))),R=n("JW66"),L=n("TiQD"),N=n("oN2T");function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class z extends o.a.Component{constructor(...e){super(...e),F(this,"state",{invitesEnabled:this.props.board.collaborator_invites_enabled,requestsEnabled:this.props.board.collaborator_requests_enabled,emailEnabled:this.props.board.collab_board_email}),F(this,"handleInvitesToggle",()=>this.setState(e=>({invitesEnabled:!e.invitesEnabled}))),F(this,"handleRequestsToggle",()=>this.setState(e=>({requestsEnabled:!e.requestsEnabled}))),F(this,"handleEmailToggle",()=>this.setState(e=>({emailEnabled:!e.emailEnabled}))),F(this,"handleSubmit",()=>{const{onDismiss:e,board:t,updateBoard:n}=this.props,{invitesEnabled:r,requestsEnabled:o,emailEnabled:i}=this.state;n({...t,event_start_date:null,event_date:null,collaborator_invites_enabled:r,collaborator_requests_enabled:o,collab_board_email:i}).then(()=>e())})}render(){const{board:{privacy:e},onDismiss:t,isViewerOwner:n}=this.props,{invitesEnabled:r,requestsEnabled:i,emailEnabled:a}=this.state,s=[{heading:d.a._("Email notifications","Sub-heading for email notifications group board setting","Sub-heading for email notifications group board setting"),description:d.a._("Receive emails when Pins are added to this board","Description of email notifications setting","Description of email notifications setting"),disabled:!1,onChange:this.handleEmailToggle,id:"email",switched:a}],c=[...s,{heading:d.a._("Group requests","Sub-heading for group requests group board setting","Sub-heading for group requests group board setting"),description:d.a._("People can request to join this board","Description of group requests setting","Description of group requests setting"),disabled:e===R.a.BoardPrivacy.SECRET,onChange:this.handleRequestsToggle,id:"requests",switched:i},{heading:d.a._("Group members","Sub-heading for group members group board setting","Sub-heading for group members group board setting"),description:d.a._("Group members can invite others","Description of group members setting","Description of group members setting"),disabled:!1,onChange:this.handleInvitesToggle,id:"invites",switched:r}],u=n?c:s;return o.a.createElement(L.b,{accessibilityModalLabel:d.a._("Edit group settings","Label for editing group settings","Label for editing group settings"),heading:d.a._("Group board settings","Modal header for editing settings for a group board","Modal header for editing settings for a group board"),footer:o.a.createElement(l.e,{display:"flex",marginStart:-1,marginEnd:-1,justifyContent:"end"},o.a.createElement(l.e,{paddingX:1},o.a.createElement(l.f,{inline:!0,color:"red",onClick:this.handleSubmit,text:d.a._("Done","Button text for being finished with editing group board settings","Button text for being finished with editing group board settings")}))),onDismiss:t,size:"md"},u.map(e=>{const{description:t,disabled:n,heading:r,id:i,onChange:a,switched:s}=e;return o.a.createElement(A,{description:t,disabled:n,heading:r,id:i,key:i,onChange:a,switched:s})}))}}var q=Object(i.connect)((e,t)=>({board:e.boards&&e.boards.content[t.boardId]}),(e,t)=>({updateBoard:t=>e(Object(N.m)(t))}))(z),U=n("EwHv"),H=n("joD6");function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class V extends r.Component{constructor(...e){super(...e),K(this,"state",{contentRef:null,currentModal:null,scrollContainer:null,scrollTop:null}),K(this,"handleBoardLeave",()=>{const{history:e,viewer:t}=this.props,n=t.isAuth?"/"+t.username:"/";e.replace(n)}),K(this,"handleContentRef",e=>{const{contentRef:t}=this.state;!t&&e&&(this.setState({contentRef:e}),e.focus())}),K(this,"handleScrollContainer",e=>{const{scrollContainer:t}=this.state;!t&&e&&this.setState({scrollContainer:e})}),K(this,"handleScroll",()=>{const{scrollContainer:e}=this.state;e&&this.setState({scrollTop:e.scrollTop})}),K(this,"handleConfirmationModalOpen",()=>this.setState({currentModal:"confirmation"})),K(this,"handleSettingsModalOpen",()=>this.setState({currentModal:"settings"})),K(this,"handleCloseModal",()=>this.setState({currentModal:null})),K(this,"renderCurrentModal",()=>{const{board:{id:e,owner:t},viewer:n}=this.props,{currentModal:r}=this.state,i=n.isAuth&&n.username===t.username;switch(r){case"settings":return o.a.createElement(q,{boardId:e,isViewerOwner:i,onDismiss:this.handleCloseModal});default:return null}})}renderInvite(e,t,n){const r={invite:e,onBoardLeave:t,onInviteDidUpdate:n,useGestaltModal:!0,isDim:!1};return o.a.createElement(M.a,r)}render(){const{anchor:e,board:t,onDismiss:n}=this.props,{currentModal:i,scrollContainer:a,scrollTop:s}=this.state,c=a?{container:a,top:s||0}:null,u=(t.access||[]).includes("write");return o.a.createElement(r.Fragment,null,o.a.createElement(l.x,null,o.a.createElement(l.e,{dangerouslySetInlineStyle:{__style:{zIndex:1}},position:"absolute",top:!0},o.a.createElement(l.q,{anchor:e,onDismiss:i?()=>{}:n,idealDirection:"down",size:"xl",positionRelativeToAnchor:!1},o.a.createElement(l.e,{width:"100%",maxHeight:500,minWidth:360,display:"flex",direction:"column"},o.a.createElement(l.Q,{top:0},o.a.createElement(l.e,{display:"flex",alignItems:"center",justifyContent:"center",position:"relative",height:64,paddingX:4,paddingY:4},o.a.createElement("div",{ref:this.handleContentRef,tabIndex:"0"},o.a.createElement(l.V,{size:"lg",weight:"bold"},d.a._("Group members","boardCollabFlyout.header","Heading for the group members flyout"))),u&&o.a.createElement(l.e,{right:!0,top:!0,position:"absolute",marginTop:2,marginEnd:2},o.a.createElement(l.u,{accessibilityLabel:d.a._("Group board settings","boardCollabFlyout.settings.button","Icon for accessing settings on a group board"),icon:"cog",size:"lg",iconColor:"darkGray",onClick:this.handleSettingsModalOpen})))),o.a.createElement(l.e,{overflow:"scrollY"},o.a.createElement("div",{onScroll:this.handleScroll,ref:this.handleScrollContainer},u?o.a.createElement(U.a,{board:t,scrollInfo:c,onBoardLeave:this.handleBoardLeave,renderInvite:this.renderInvite,onModalOpen:this.handleConfirmationModalOpen}):o.a.createElement(B,{board:t,scrollInfo:c}))))))),this.renderCurrentModal())}}var W=Object(y.compose)(x.k,H.a)(V),G=n("/5qN"),Y=n("rxSY"),J=n("pLLR");function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Q extends r.Component{constructor(e){super(e),X(this,"handleInviteAction",()=>{this.props.handleShowCollabAndPermissionsModal()}),X(this,"toggleFlyout",()=>this.setState(e=>({isFlyoutOpen:!e.isFlyoutOpen}))),X(this,"toggleSettingsModal",()=>this.setState(e=>({isSettingsModalOpen:!e.isSettingsModalOpen})));const{pathname:t=""}=e.location;/\/.*\/.*\/invite\/?$/.test(t)&&this.handleInviteAction(),this.state={isFlyoutOpen:!1,isSettingsModalOpen:!1}}render(){const{anchor:e,board:{id:t},children:n,isViewerOwner:i}=this.props,{isFlyoutOpen:a,isSettingsModalOpen:s}=this.state;return o.a.createElement(r.Fragment,null,n?n(this.handleInviteAction):o.a.createElement(l.f,{inline:!0,onClick:this.handleInviteAction,text:d.a._("Invite","Invite collaborators button","Invite collaborators button")}),a?o.a.createElement(l.x,null,o.a.createElement(l.e,{dangerouslySetInlineStyle:{__style:{zIndex:1}},position:"absolute",top:!0},o.a.createElement(l.q,{anchor:e,idealDirection:"down",onDismiss:this.toggleFlyout,positionRelativeToAnchor:!1,size:"xl"},o.a.createElement(l.e,{width:"100%",minWidth:360},o.a.createElement(l.e,{display:"flex",alignItems:"center",justifyContent:"center",position:"relative",height:64,paddingX:4,paddingY:4},o.a.createElement(l.e,null,o.a.createElement(l.V,{size:"lg",weight:"bold"},d.a._("Invite collaborators","boardInviteSheet.header.label","Invite collaborators heading"))),o.a.createElement(l.e,{right:!0,top:!0,position:"absolute",marginTop:2,marginEnd:2},o.a.createElement(l.u,{accessibilityLabel:d.a._("Settings","Group board invite settings","Group board invite settings"),icon:"cog",size:"lg",iconColor:"darkGray",onClick:this.toggleSettingsModal}))),o.a.createElement(l.e,{width:"100%"},o.a.createElement(G.a,{boardId:t})),o.a.createElement(l.e,null,o.a.createElement(Y.a,{boardId:t})))))):null,s?o.a.createElement(q,{boardId:t,onDismiss:this.toggleSettingsModal,isViewerOwner:i}):null)}}var $=Object(y.compose)(Object(i.connect)((e,t)=>({isViewerOwner:e.viewer.isAuth&&e.viewer.username===t.board.owner.username}),()=>({})),J.e,x.k)(Q),Z=n("xAAE"),ee=n("8A+h"),te=n("YGxj"),ne=n("0ZL5"),re=n("8Mj5"),oe=n("v/Q4"),ie=n("zpFB");function ae({board:e,collaborators:t,handleShowCollabAndPermissionsModal:n,overflowNumber:i}){const[a,s]=Object(r.useState)(!1),c=Object(oe.a)(),u=Object(r.useRef)(),d=Object(r.useRef)(),h=t.length>1,p=Object(ee.a)(c,e),f=p||e.collaborator_invites_enabled&&e.collaborated_by_me,m=p||e.collaborated_by_me;let g=h?()=>s(!a):()=>{var e;return Object(Z.a)(null!==(e=t[0].href)&&void 0!==e?e:"/")};m&&(g=n);const b=[501003];return p&&e.is_collaborative&&b.push(502335),o.a.createElement(r.Fragment,null,o.a.createElement(l.e,{alignItems:"center",display:"flex"},o.a.createElement($,{anchor:d.current,board:e,handleShowCollabAndPermissionsModal:n},e=>o.a.createElement(ne.a,{anchors:{3002:d.current},onCompleteByAnchor:{3002:()=>{var e;return null===(e=d.current)||void 0===e?void 0:e.click()}},placementId:18,positionRelativeToAnchor:!1},o.a.createElement(re.a,{addButtonRef:d,additionalCount:i,faces:t,faceSize:"lg",onAddClick:e,oneClickTargetFacepile:m,onClick:g,overlap:ie.a,pileRef:u,showAddButton:f}))),o.a.createElement(te.a,{anchor:d.current,experienceIds:b,idealDirection:"down",placementId:18,positionRelativeToAnchor:!1,showCaret:!0,customWrapper:({children:e})=>o.a.createElement(l.e,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,dangerouslySetInlineStyle:{__style:{zIndex:2}}},e)})),a&&o.a.createElement(W,{anchor:u.current,board:e,onDismiss:()=>{s(!1),u.current&&u.current.focus()}}))}var se=n("px3X");function ce(e){const{color:t,size:n}=e;return o.a.createElement(l.t,{accessibilityLabel:d.a._("secret board","accessible label for secret board icon","accessible label for secret board icon"),color:t,icon:"lock",size:n})}function le({color:e,paddingX:t}){return o.a.createElement(l.e,{display:"inlineBlock",paddingX:t},o.a.createElement(l.V,{color:e,size:"md",weight:"bold",inline:!0},"·"))}function ue({archived:e,secret:t}){return o.a.createElement(l.e,{alignItems:"center",display:"flex"},t&&o.a.createElement(ce,{color:"gray",size:16}),t&&o.a.createElement(l.e,{inline:!0,paddingX:1},o.a.createElement(l.V,{color:"gray",inline:!0,size:"lg"},d.a._("Secret board","LegoBoardPageHeader.BoardStatus.secret","Label for a secret board"))),t&&e&&o.a.createElement(le,{color:"gray",paddingX:1}),e&&o.a.createElement(l.e,{inline:!0,paddingX:1},o.a.createElement(l.V,{color:"gray",inline:!0,size:"lg"},d.a._("Archived board","LegoBoardPageHeader.BoardStatus.archived","Label for a secret board"))))}var de=n("d7JY"),he=n("88U9"),pe=n("qyXF");function fe({board:e,collaborators:t,overflowNumber:n}){const i=Object(r.useRef)(),[a,s]=Object(r.useState)(!1),u=t.map(e=>e.isDim?null:o.a.createElement(c.a,{key:e.name,to:e.href},o.a.createElement(l.V,{inline:!0,weight:"bold"},e.name))).filter(Boolean);return n&&u.push(o.a.createElement(l.e,{display:"inlineBlock",key:"overflowText",ref:i},o.a.createElement(l.U,{onTap:()=>s(!0)},o.a.createElement(l.V,{inline:!0,weight:"bold"},Object(h.b)(d.a.ngettext("{{ overflowNumber }} other","{{ overflowNumber }} others",n,"LegoBoardPageHeader.CollaboratorNames.others","number of additional collaborators not listed"),{overflowNumber:n}))))),o.a.createElement(r.Fragment,null,o.a.createElement(l.V,{inline:!0,truncate:!0},Object(pe.a)(u)),a&&o.a.createElement(W,{anchor:i.current,board:e,onDismiss:()=>s(!1)}))}var me=n("Oz7m");var ge=Object(J.e)((function({startDate:e,endDate:t,requestContext:n}){const r=t&&new Date(t);let o=r&&r.toLocaleDateString(n.locale,{day:"numeric",month:"short",year:"numeric"});if(o&&e){o=new Date(e).toLocaleDateString(n.locale,{day:"numeric",month:"short",year:"numeric"})+" - "+o}return o||""})),be=n("qUzp");function ye(e){return e?d.a._("Join","BoardPage.BoardJoinButton.join","[Button] Request to join a group board as a collaborator"):d.a._("Request to join","[Button] Request to join a group board as a collaborator","[Button] Request to join a group board as a collaborator")}function ve(e){return e?d.a._("Cancel","BoardPage.BoardJoinButton.cancel","[Button] Cancel request to join a group board as a collaborator"):d.a._("Cancel request","[Button] Cancel request to join a group board as a collaborator","[Button] Cancel request to join a group board as a collaborator")}function _e(e){const{onClick:t,requested:n,size:r,useAlternateText:i}=e;return o.a.createElement(l.f,{onClick:t,size:r||"md",text:(n?ve:ye)(i)})}var Ee=n("CvCA");function Se(e){const{boardImage:t,boardName:n,boardUrl:r,onHide:i}=e,a=o.a.createElement(l.V,{color:"white"},Object(h.b)(d.a._("You've cancelled the request to collaborate on {{ boardName }}","Board.JoinButton.CancelToast","Toast text stating that a user has cancelled a request to join a board"),{boardName:o.a.createElement(l.V,{color:"white",inline:!0,weight:"bold"},n)}));return o.a.createElement(Ee.a,{duration:3e3,href:r,imageUrl:t,onHide:i,text:a})}function we(e){const{boardImage:t,boardName:n,boardUrl:r,onHide:i}=e,a=o.a.createElement(l.V,{color:"white"},Object(h.b)(d.a._("You've requested to join {{ boardName }}","Board.JoinButton.RequestToast","Toast text stating that a user has requested to join a board"),{boardName:o.a.createElement(l.V,{color:"white",inline:!0,weight:"bold"},n)}));return o.a.createElement(Ee.a,{href:r,imageUrl:t,onHide:i,text:a})}var Ce=n("U4JR");var Oe=n("nGHF"),Ie=n("dMCU");function xe(e,t){return g.a.create("BoardCollaboratorRequestResource",{board_id:e,requesting_user_id:t})}function De(e,t){return{type:"BOARD_REQUEST_TO_JOIN",payload:{boardId:e,value:t}}}var ke=Object(Ie.a)((function(e){const{authAction:t,boardId:n,boardImage:r,boardName:a,boardUrl:s,isBoardLandingPage:c,isRequestedByMe:u,showPulsar:d,size:h,variant:p}=e,f=Object(i.useDispatch)(),g=Object(oe.a)(),b=Object(Oe.b)(),y=g.isAuth&&g.id||"";function v(){f(function(e,t){const n="cancel-group-board-request-to-join";return r=>{xe(e,t).callDelete({showError:!1}).then(()=>{m.a.trackEvent(n,"success")}).catch(()=>{m.a.trackEvent(n,"error"),r(De(e,!0))}),r(De(e,!1))}}(n,y)),b.showOneToast(({onHide:e})=>o.a.createElement(Se,{boardImage:r,boardName:a,boardUrl:s,onHide:e}))}function _(){f(function(e,t){const n="group-board-request-to-join";return r=>{xe(e,t).callCreate().then(()=>{m.a.trackEvent(n,"success")}).catch(()=>{m.a.trackEvent(n,"error"),r(De(e,!1))}),r(De(e,!0))}}(n,y)),b.showOneToast(({onHide:e})=>o.a.createElement(we,{boardImage:r,boardName:a,boardUrl:s,onHide:e}))}const E=({event:e})=>{e.preventDefault(),e.stopPropagation();const r=u?"cancel_group_board_request_to_join":"group_board_request_to_join";t(u?v:_)(),function(e){const{action:t,id:n,isBoardLandingPage:r,url:o}=e,i="request"===t?7499:7547,a=r?5:4;Object(Ce.a)(101,{component:1,element:i,objectId:n,view:a,current_page_url:o})}({action:u?"request":"cancel",id:n,isBoardLandingPage:!!c,url:s}),m.a.trackEvent(r,"click")};return y?o.a.createElement(l.e,{position:"relative",display:"flex"},o.a.createElement(_e,{onClick:E,requested:u,useAlternateText:"lego"===p,size:h}),d&&o.a.createElement(l.U,{onTap:e=>{E(e)}},o.a.createElement(l.e,{wrap:!1,position:"absolute",display:"inlineBlock",dangerouslySetInlineStyle:{__style:{marginLeft:-86,marginTop:-28}}},o.a.createElement(l.G,{paused:u})))):null})),Te=n("qWlA"),Me=n("3oMh"),je=n("bbVO");function Pe({board:e,handleCreatePincode:t}){const n=Object(Te.a)(()=>{Object(je.a)()});return o.a.createElement(Me.a,{board:e,onCreatePincode:t,onOpen:n},({onClick:e})=>o.a.createElement(l.f,{color:"gray",onClick:e,size:"lg",text:d.a._("Share","BoardHeader.SendBoardButton","Text on button to share board")}))}var Be=n("0NP8"),Ae=n("+4a+");function Re(e){const{board:t,collaborators:n,handleCreatePincode:r,handleShowCollabAndPermissionsModal:i,handleShowDateModal:a,hideFollowers:s,isToolsBoard:c,onFollowersClick:u,overFlowActionsButton:d,showPulsar:h,userBlocked:f}=e,{access:m,archived_by_me_at:g,collaborator_requests_enabled:b,description:y,event_date:v,event_start_date:_,followed_by_me:E,follower_count:S,id:w,image_cover_url:C,name:O,owner:{id:I},privacy:x,url:D,viewer_collaborator_join_requested:k}=t,{limitedCollaborators:M,overflowNumber:j}=Object(he.a)(n.length,n),{anyEnabled:P}=Object(p.a)("web_hide_board_follow"),{anyEnabled:B}=Object(p.a)(" "),{anyEnabled:A}=Object(p.c)("web_board_tools"),L=Object(oe.a)(),N=m&&m.includes("write"),F=Object(ee.a)(L,t),z=Object(be.a)({viewer:L,board:t}),q=!!g,U=x===R.a.BoardPrivacy.PROTECTED,H=x===R.a.BoardPrivacy.SECRET,K=!N&&!f,V=K&&!f&&!P,W=K&&b,G=K&&!!r&&A,Y=N&&!!v,J=Y&&o.a.createElement(l.V,{inline:!0,key:"date"},o.a.createElement(ge,{startDate:_,endDate:v})),X=F?o.a.createElement(l.e,{display:"inlineBlock"},o.a.createElement(l.U,{fullWidth:!1,onTap:()=>{a(),Object(Ce.a)(101,{element:11749,view:5,objectId:t.id})},rounding:"pill"},J)):J,Q=!(!S||s||q||H||U),$=Y||!z||y,Z=o.a.createElement(l.e,{display:"flex",justifyContent:"center"},o.a.createElement(l.e,{maxWidth:800},o.a.createElement(T,{board:t,styles:{marginTop:3,paddingY:0}})));return o.a.createElement(l.e,{direction:"column",display:"flex",justifyContent:"center",marginBottom:c?4:7,paddingX:8,width:"100%"},o.a.createElement(l.e,{display:"flex",justifyContent:"center"},o.a.createElement(l.e,{"data-test-id":"LegoBoardHeader__main",direction:"column",display:"flex",maxWidth:Ae.a},B&&Z,o.a.createElement(l.e,{display:"flex",alignItems:"center",justifyContent:"center",marginStart:10,marginTop:4},o.a.createElement(l.s,{align:"center"},O,o.a.createElement(l.e,{display:"inlineBlock",paddingX:2},d))),o.a.createElement(de.a,null,o.a.createElement(l.e,{marginTop:2},o.a.createElement(ae,{board:t,collaborators:M,handleShowCollabAndPermissionsModal:i,overflowNumber:j}))),$&&o.a.createElement(de.a,null,o.a.createElement(l.e,{marginTop:2,dangerouslySetInlineStyle:{__style:{textAlign:"center"}}},o.a.createElement(me.a,{inline:!0,items:[Y?X:null,z?null:o.a.createElement(fe,{board:t,collaborators:M,key:"collaborators",overflowNumber:j}),y?o.a.createElement(l.V,{inline:!0},y):null]}))),o.a.createElement(de.a,null,o.a.createElement(l.e,{marginTop:2},(q||H)&&o.a.createElement(ue,{archived:q,secret:H}))),o.a.createElement(de.a,null,Q&&o.a.createElement(Be.a,{bold:!0,count:S,onClick:u,shortform:!0,size:"lg"})),o.a.createElement(de.a,null,(W||V||G)&&o.a.createElement(l.e,{direction:"row",display:"flex",justifyContent:"center",marginTop:5,width:"100%"},W&&o.a.createElement(l.e,{paddingX:1},o.a.createElement(ke,{boardId:w,boardImage:C,boardName:O,boardUrl:D,inRequestToJoinTextExperiment:!0,isRequestedByMe:k,showPulsar:h,size:"lg",variant:"lego"})),V&&o.a.createElement(l.e,{paddingX:1},o.a.createElement(se.a,{boardId:w,boardImage:C,boardName:O,boardUrl:D,isFollowed:E,ownerId:I,showPulsar:h,size:"lg",variant:"lego"})),G&&!!r&&o.a.createElement(l.e,{paddingX:1},o.a.createElement(Pe,{board:t,handleCreatePincode:r})))))),!B&&Z)}},a9a9:function(e,t,n){n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var r=n("zpPL");const o=e=>r.a.instance.dispatch(function(e){return{type:"SPAMMY_CLICKTHROUGH_WARNING_SHOW",payload:e}}(e)),i=()=>r.a.instance.dispatch({type:"SPAMMY_CLICKTHROUGH_WARNING_DISMISS"})},aAE7:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function e(t){return t?"static"!==window.getComputedStyle(t).getPropertyValue("position")?t:e(t.parentElement):null};t.default=function(e){var t=e.decoratorRect,n=e.popover,o=e.state,i=e.props,a=r(n.parentElement),s={};if(a){s.scrollLeft=a.scrollLeft,s.scrollTop=a.scrollTop;var c=a.getBoundingClientRect();s.left=t.left-c.left,s.top=t.bottom-c.top}else s.scrollTop=window.pageYOffset||document.documentElement.scrollTop,s.scrollLeft=window.pageXOffset||document.documentElement.scrollLeft,s.top=t.bottom,s.left=t.left;var l=s.left+s.scrollLeft,u=s.top+s.scrollTop,d=void 0,h=void 0;return o.isActive&&(i.suggestions.length>0?(d="scale(1)",h="all 0.25s cubic-bezier(.3,1.2,.2,1)"):(d="scale(0)",h="all 0.35s cubic-bezier(.3,1,.2,1)")),{left:l+"px",top:u+"px",transform:d,transformOrigin:"1em 0%",transition:h}}},"aAL+":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default="[\\w-À-ÖØ-öø-ÿĀ-ňŊ-ſА-я぀-ゟ゠-ヿ㄰-㆏가-힣一-黿]*"},aB02:function(e,t,n){var r=n("GyOf");e.exports=function(e){return!(!e||!e.ownerDocument)&&(r(e)&&"BR"===e.nodeName)}},"aK+E":function(e,t,n){n.d(t,"a",(function(){return i}));const r=new Set(["bookmarks","client_tracking_params","in_nux","invite_code","no_fetch_context_on_resource","original_referrer","source","top_level_source","top_level_source_depth"]),o=e=>!r.has(e)&&!e.startsWith("__track__"),i=e=>e?Object.keys("object"==typeof e&&e||{}).filter(e=>"string"==typeof e).filter(o).sort().map(t=>`${t}=${JSON.stringify(null==e[t]?null:e[t])}`).join(","):""},aS9Y:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("Jld5");t.createDragDropManager=function(e,t,n){return new r.default(e,t,n)}},aUfZ:function(e,t,n){var r=n("P9b8"),o=n("sZWH"),i=n.n(o);t.a=Object(r.DragDropContext)(i.a)},"b/K5":function(e,t,n){n.d(t,"a",(function(){return b}));var r=n("q1tI"),o=n.n(r),i=n("n6mq");function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s=["#0074e8","#0FA573","#B469EB","#F13535","#E2780D"],c=(e,t)=>Math.random()*((e||1)-(t||0))+(t||0),l=e=>e*(Math.PI/180);class u extends r.PureComponent{constructor(...e){super(...e),a(this,"animationTimer",null),a(this,"canvasRemovalTimer",null),a(this,"containerRef",o.a.createRef()),a(this,"buildCanvas",()=>{if(!this.containerRef.current)return null;const{height:e,width:t}=this.containerRef.current.getBoundingClientRect(),n=2.5*e,r=document.createElement("canvas");return r.style.position="absolute",r.style.left=0-(n-t)/2+"px",r.style.top=0-(n-e)/2+"px",r.style.pointerEvents="none",r.style.width=n+"px",r.style.height=n+"px",r.style.overflow="visible",r.width=n,r.height=n,r}),a(this,"explode",()=>{const e=this.buildCanvas(),t=this.containerRef.current;if(!e||!t)return;const n=e.getContext("2d");t.prepend(e);const r=Array.from(Array(120)).map((t,n)=>({x:e.width/2,y:e.height/2,radius:Math.round(c(10,30)),color:s[Math.floor(Math.random()*s.length)],degree:Number(c(0,360).toFixed(1)),speed:Math.round(c(0,25)),friction:.9,opacity:Number(c(0,.5).toFixed(1)),yVel:0,gravity:.04})),o=(e,t,n,r)=>{window.requestAnimationFrame(()=>o(e,t,n,r)),t.clearRect(0,0,n,r),e.forEach((e,n)=>{e.x+=e.speed*Math.cos(l(e.degree)),e.y+=e.speed*Math.sin(l(e.degree)),e.opacity-=.01,e.speed*=e.friction,e.radius*=e.friction,e.yVel+=e.gravity,e.y+=e.yVel,e.opacity<0||e.radius<0||(t.beginPath(),t.globalAlpha=e.opacity,t.fillStyle=e.color,t.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),t.fill())})};o(r,n,e.width,e.height),this.canvasRemovalTimer=setTimeout(()=>{t.removeChild(e)},this.props.delay+800)})}componentDidUpdate(e){const{delay:t,startAnimation:n}=this.props,{startAnimation:r}=e;n&&r!==n&&(this.animationTimer=setTimeout(this.explode,t))}componentWillUnmount(){this.animationTimer&&clearTimeout(this.animationTimer),this.canvasRemovalTimer&&clearTimeout(this.canvasRemovalTimer)}render(){return o.a.createElement(i.e,{ref:this.containerRef,position:"relative"},this.props.children)}}a(u,"defaultProps",{delay:0});var d=u,h=n("Ye/N"),p=n("vvax");function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const m=e=>({opacity:e?1:0,WebkitTransition:"opacity .5s ease-in-out .75s",transition:"opacity .5s ease-in-out .75s",overflow:"visible"}),g=e=>({opacity:e?1:0,WebkitTransform:e?"translateY(0)":"translateY(20%)",transform:e?"translateY(0)":"translateY(20%)",WebkitTransition:"all .5s ease-in-out .75s",transition:"all .5s ease-in-out .75s",textAlign:"center",marginTop:"24px"});class b extends r.PureComponent{constructor(...e){super(...e),f(this,"state",{isInitialized:!1}),f(this,"containerRef",Object(r.createRef)()),f(this,"pinDestinationRef",Object(r.createRef)())}componentDidMount(){this.requestAnimationFrameId=window.requestAnimationFrame(()=>{this.setState({isInitialized:!0})})}componentWillUnmount(){this.dismissTimeout&&clearTimeout(this.dismissTimeout)}componentDidUpdate(e,t){const{isInitialized:n}=this.state,{onDismiss:r}=this.props;n&&r&&!this.dismissTimeout&&(this.dismissTimeout=setTimeout(r,2600))}render(){const{firstRepin:e,pin:t,pinImageRef:n,selectedBoardName:a}=this.props,{description:s="",images:c}=t,{height:l=0,width:u=0,url:f=""}=c["236x"]||{},{isInitialized:b}=this.state,{mask:y,imageContainer:v}=((e,t,n,r)=>{let o=null,i=null,a={},s={};const c=n.current.getBoundingClientRect();if(r&&r.current){const e=t.current.getBoundingClientRect();s=r.current.getBoundingClientRect(),a={left:c.left-e.left,top:c.top-e.top};const n={x:s.x-c.x,y:s.y-c.y},l={x:(s.width-c.width)/2,y:(s.height-c.height)/2};o=`translate(${n.x}px, ${n.y}px)`,i=`translate(${l.x}px, ${l.y}px)`}return{mask:{position:"absolute",left:a.left,top:a.top,width:e?s.width:c.width,height:e?s.height:c.height,WebkitTransformOrigin:"left top",transformOrigin:"left top",WebkitTransform:e?o:"none",transform:e?o:"none",WebkitTransition:"all .5s ease-in-out .25s",transition:"all .5s ease-in-out .25s",borderRadius:e?"8px 0px 0px 8px":"8px",zIndex:2},imageContainer:{width:c.width,height:c.height,WebkitTransformOrigin:"left top",transformOrigin:"left top",WebkitTransform:e?i:"none",transform:e?i:"none",WebkitTransition:"all .5s ease-in-out .25s",transition:"all .5s ease-in-out .25s"}}})(b,this.containerRef,n,this.pinDestinationRef);return o.a.createElement(r.Fragment,null,o.a.createElement(i.e,{position:"absolute",top:!0,bottom:!0,right:!0,left:!0,ref:this.containerRef},o.a.createElement(i.e,{maxHeight:335,overflow:"hidden",dangerouslySetInlineStyle:{__style:y}},o.a.createElement(i.e,{dangerouslySetInlineStyle:{__style:v}},o.a.createElement(i.v,{alt:s,src:f||"",naturalHeight:l||1,naturalWidth:u||1}))),o.a.createElement(i.e,{color:"white",position:"absolute",top:!0,bottom:!0,right:!0,left:!0,dangerouslySetInlineStyle:{__style:(_=b,{pointerEvents:"none",opacity:_?1:0,WebkitTransition:"opacity .3s ease-in-out",transition:"opacity .3s ease-in-out",zIndex:1})}},o.a.createElement(i.e,{display:"flex",justifyContent:"center",alignItems:"center",direction:"column",height:"100%",dangerouslySetInlineStyle:{__style:m(b)}},o.a.createElement(d,{delay:1250,startAnimation:b},o.a.createElement(i.A,{rounding:2,width:270,height:180},o.a.createElement(i.e,{display:"flex",height:"100%",width:"100%"},o.a.createElement(i.e,{ref:this.pinDestinationRef,color:"transparent",marginEnd:1,flex:"grow",height:"100%"}),o.a.createElement(i.e,{display:"flex",width:80,direction:"column"},o.a.createElement(i.e,{color:"lightGray",flex:"grow",marginBottom:1}),o.a.createElement(i.e,{color:"lightGray",flex:"grow"}))))),o.a.createElement(i.e,{paddingX:2,dangerouslySetInlineStyle:{__style:g(b)}},o.a.createElement(i.s,{align:"center"},e?Object(p.b)(h.a._("You saved your first Pin to {{ selectedBoardName }}!","First board create confirmation message","First board create confirmation message"),{selectedBoardName:null!=a?a:""}):Object(p.b)(h.a._("You saved this Pin to {{ selectedBoardName }}!","Board create confirmation message","Board create confirmation message"),{selectedBoardName:null!=a?a:""})))))));var _}}f(b,"defaultProps",{firstRepin:!1})},bNdj:function(e,t,n){var r=n("y5P+").substr;e.exports=function(e,t){var n=Array(e.length).fill(null);return t&&t.forEach((function(t){for(var o=r(e,0,t.offset).length,i=o+r(e,t.offset,t.length).length,a=o;a<i;a++)n[a]=t.key})),n}},bSwZ:function(e,t,n){var r=n("Ey0E"),o=n("mFyV"),i="֐־׀׃׆׈-׏א-ת׫-ׯװ-ײ׳-״׵-׿߀-߉ߊ-ߪߴ-ߵߺ߻-߿ࠀ-ࠕࠚࠤࠨ࠮-࠯࠰-࠾࠿ࡀ-ࡘ࡜-࡝࡞࡟-࢟‏יִײַ-ﬨשׁ-זּ﬷טּ-לּ﬽מּ﬿נּ-סּ﭂ףּ-פּ﭅צּ-ﭏ",a="؈؋؍؛؜؝؞-؟ؠ-ؿـف-ي٭ٮ-ٯٱ-ۓ۔ەۥ-ۦۮ-ۯۺ-ۼ۽-۾ۿ܀-܍܎܏ܐܒ-ܯ݋-݌ݍ-ޥޱ޲-޿ࢠ-ࢲࢳ-ࣣﭐ-ﮱ﮲-﯁﯂-﯒ﯓ-ﴽ﵀-﵏ﵐ-ﶏ﶐-﶑ﶒ-ﷇ﷈-﷏ﷰ-ﷻ﷼﷾-﷿ﹰ-ﹴ﹵ﹶ-ﻼ﻽-﻾",s=new RegExp("["+"A-Za-zªµºÀ-ÖØ-öø-ƺƻƼ-ƿǀ-ǃǄ-ʓʔʕ-ʯʰ-ʸʻ-ˁː-ˑˠ-ˤˮͰ-ͳͶ-ͷͺͻ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҂Ҋ-ԯԱ-Ֆՙ՚-՟ա-և։ःऄ-हऻऽा-ीॉ-ौॎ-ॏॐक़-ॡ।-॥०-९॰ॱॲ-ঀং-ঃঅ-ঌএ-ঐও-নপ-রলশ-হঽা-ীে-ৈো-ৌৎৗড়-ঢ়য়-ৡ০-৯ৰ-ৱ৴-৹৺ਃਅ-ਊਏ-ਐਓ-ਨਪ-ਰਲ-ਲ਼ਵ-ਸ਼ਸ-ਹਾ-ੀਖ਼-ੜਫ਼੦-੯ੲ-ੴઃઅ-ઍએ-ઑઓ-નપ-રલ-ળવ-હઽા-ીૉો-ૌૐૠ-ૡ૦-૯૰ଂ-ଃଅ-ଌଏ-ଐଓ-ନପ-ରଲ-ଳଵ-ହଽାୀେ-ୈୋ-ୌୗଡ଼-ଢ଼ୟ-ୡ୦-୯୰ୱ୲-୷ஃஅ-ஊஎ-ஐஒ-கங-சஜஞ-டண-தந-பம-ஹா-ிு-ூெ-ைொ-ௌௐௗ௦-௯௰-௲ఁ-ఃఅ-ఌఎ-ఐఒ-నప-హఽు-ౄౘ-ౙౠ-ౡ౦-౯౿ಂ-ಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽಾಿೀ-ೄೆೇ-ೈೊ-ೋೕ-ೖೞೠ-ೡ೦-೯ೱ-ೲം-ഃഅ-ഌഎ-ഐഒ-ഺഽാ-ീെ-ൈൊ-ൌൎൗൠ-ൡ൦-൯൰-൵൹ൺ-ൿං-ඃඅ-ඖක-නඳ-රලව-ෆා-ෑෘ-ෟ෦-෯ෲ-ෳ෴ก-ะา-ำเ-ๅๆ๏๐-๙๚-๛ກ-ຂຄງ-ຈຊຍດ-ທນ-ຟມ-ຣລວສ-ຫອ-ະາ-ຳຽເ-ໄໆ໐-໙ໜ-ໟༀ༁-༃༄-༒༓༔༕-༗༚-༟༠-༩༪-༳༴༶༸༾-༿ཀ-ཇཉ-ཬཿ྅ྈ-ྌ྾-࿅࿇-࿌࿎-࿏࿐-࿔࿕-࿘࿙-࿚က-ဪါ-ာေးျ-ြဿ၀-၉၊-၏ၐ-ၕၖ-ၗၚ-ၝၡၢ-ၤၥ-ၦၧ-ၭၮ-ၰၵ-ႁႃ-ႄႇ-ႌႎႏ႐-႙ႚ-ႜ႞-႟Ⴀ-ჅჇჍა-ჺ჻ჼჽ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፠-፨፩-፼ᎀ-ᎏᎠ-Ᏼᐁ-ᙬ᙭-᙮ᙯ-ᙿᚁ-ᚚᚠ-ᛪ᛫-᛭ᛮ-ᛰᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱ᜵-᜶ᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳាើ-ៅះ-ៈ។-៖ៗ៘-៚ៜ០-៩᠐-᠙ᠠ-ᡂᡃᡄ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᤣ-ᤦᤩ-ᤫᤰ-ᤱᤳ-ᤸ᥆-᥏ᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧀᧁ-ᧇᧈ-ᧉ᧐-᧙᧚ᨀ-ᨖᨙ-ᨚ᨞-᨟ᨠ-ᩔᩕᩗᩡᩣ-ᩤᩭ-ᩲ᪀-᪉᪐-᪙᪠-᪦ᪧ᪨-᪭ᬄᬅ-ᬳᬵᬻᬽ-ᭁᭃ-᭄ᭅ-ᭋ᭐-᭙᭚-᭠᭡-᭪᭴-᭼ᮂᮃ-ᮠᮡᮦ-ᮧ᮪ᮮ-ᮯ᮰-᮹ᮺ-ᯥᯧᯪ-ᯬᯮ᯲-᯳᯼-᯿ᰀ-ᰣᰤ-ᰫᰴ-ᰵ᰻-᰿᱀-᱉ᱍ-ᱏ᱐-᱙ᱚ-ᱷᱸ-ᱽ᱾-᱿᳀-᳇᳓᳡ᳩ-ᳬᳮ-ᳱᳲ-ᳳᳵ-ᳶᴀ-ᴫᴬ-ᵪᵫ-ᵷᵸᵹ-ᶚᶛ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‎ⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℴℵ-ℸℹℼ-ℿⅅ-ⅉⅎ⅏Ⅰ-ↂↃ-ↄↅ-ↈ⌶-⍺⎕⒜-ⓩ⚬⠀-⣿Ⰰ-Ⱞⰰ-ⱞⱠ-ⱻⱼ-ⱽⱾ-ⳤⳫ-ⳮⳲ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵰ⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々〆〇〡-〩〮-〯〱-〵〸-〺〻〼ぁ-ゖゝ-ゞゟァ-ヺー-ヾヿㄅ-ㄭㄱ-ㆎ㆐-㆑㆒-㆕㆖-㆟ㆠ-ㆺㇰ-ㇿ㈀-㈜㈠-㈩㈪-㉇㉈-㉏㉠-㉻㉿㊀-㊉㊊-㊰㋀-㋋㋐-㋾㌀-㍶㍻-㏝㏠-㏾㐀-䶵一-鿌ꀀ-ꀔꀕꀖ-ꒌꓐ-ꓷꓸ-ꓽ꓾-꓿ꔀ-ꘋꘌꘐ-ꘟ꘠-꘩ꘪ-ꘫꙀ-ꙭꙮꚀ-ꚛꚜ-ꚝꚠ-ꛥꛦ-ꛯ꛲-꛷Ꜣ-ꝯꝰꝱ-ꞇ꞉-꞊Ꞌ-ꞎꞐ-ꞭꞰ-Ʇꟷꟸ-ꟹꟺꟻ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꠣ-ꠤꠧ꠰-꠵꠶-꠷ꡀ-ꡳꢀ-ꢁꢂ-ꢳꢴ-ꣃ꣎-꣏꣐-꣙ꣲ-ꣷ꣸-꣺ꣻ꤀-꤉ꤊ-ꤥ꤮-꤯ꤰ-ꥆꥒ-꥓꥟ꥠ-ꥼꦃꦄ-ꦲꦴ-ꦵꦺ-ꦻꦽ-꧀꧁-꧍ꧏ꧐-꧙꧞-꧟ꧠ-ꧤꧦꧧ-ꧯ꧰-꧹ꧺ-ꧾꨀ-ꨨꨯ-ꨰꨳ-ꨴꩀ-ꩂꩄ-ꩋꩍ꩐-꩙꩜-꩟ꩠ-ꩯꩰꩱ-ꩶ꩷-꩹ꩺꩻꩽꩾ-ꪯꪱꪵ-ꪶꪹ-ꪽꫀꫂꫛ-ꫜꫝ꫞-꫟ꫠ-ꫪꫫꫮ-ꫯ꫰-꫱ꫲꫳ-ꫴꫵꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚ꭛ꭜ-ꭟꭤ-ꭥꯀ-ꯢꯣ-ꯤꯦ-ꯧꯩ-ꯪ꯫꯬꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ-豈-舘並-龎ﬀ-ﬆﬓ-ﬗＡ-Ｚａ-ｚｦ-ｯｰｱ-ﾝﾞ-ﾟﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ"+i+a+"]"),c=new RegExp("["+i+a+"]");function l(e){var t=s.exec(e);return null==t?null:t[0]}function u(e){var t=l(e);return null==t?r.NEUTRAL:c.exec(t)?r.RTL:r.LTR}function d(e,t){if(t=t||r.NEUTRAL,!e.length)return t;var n=u(e);return n===r.NEUTRAL?t:n}function h(e,t){return t||(t=r.getGlobalDir()),r.isStrong(t)||o(!1),d(e,t)}var p={firstStrongChar:l,firstStrongCharDir:u,resolveBlockDir:d,getDirection:h,isDirectionLTR:function(e,t){return h(e,t)===r.LTR},isDirectionRTL:function(e,t){return h(e,t)===r.RTL}};e.exports=p},bU3v:function(e,t,n){function r(e,t){var n=o.get(e,t);return"auto"===n||"scroll"===n}var o={get:n("3T4d"),getScrollParent:function(e){if(!e)return null;for(var t=e.ownerDocument;e&&e!==t.body;){if(r(e,"overflow")||r(e,"overflowY")||r(e,"overflowX"))return e;e=e.parentNode}return t.defaultView||t.parentWindow}};e.exports=o},bVL4:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("TKJ6"),o=n("LTlA"),i=n("QLaP"),a=n("7nh8"),s={type:a.INIT_COORDS,payload:{clientOffset:null,sourceClientOffset:null}};t.default=function(e){return function(t,n){void 0===t&&(t=[]),void 0===n&&(n={publishSource:!0});var c=n.publishSource,l=void 0===c||c,u=n.clientOffset,d=n.getSourceClientOffset,h=e.getMonitor(),p=e.getRegistry();e.dispatch(r.setClientOffset(u)),function(e,t,n){i(!t.isDragging(),"Cannot call beginDrag while dragging.");for(var r=0,o=e;r<o.length;r++){var a=o[r];i(n.getSource(a),"Expected sourceIds to be registered.")}}(t,h,p);var f=function(e,t){for(var n=null,r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){n=e[r];break}return n}(t,h);if(null!==f){var m=null;u&&(!function(e){i("function"==typeof e,"When clientOffset is provided, getSourceClientOffset must be a function.")}(d),m=d(f)),e.dispatch(r.setClientOffset(u,m));var g=p.getSource(f).beginDrag(h,f);!function(e){i(o.isObject(e),"Item must be an object.")}(g),p.pinSource(f);var b=p.getSourceType(f);return{type:a.BEGIN_DRAG,payload:{itemType:b,item:g,sourceId:f,clientOffset:u||null,sourceClientOffset:m||null,isSourcePublic:!!l}}}e.dispatch(s)}}},bVT4:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.memoize=function(e){var t=null;return function(){return null==t&&(t=e()),t}},t.without=function(e,t){return e.filter((function(e){return e!==t}))},t.union=function(e,t){var n=new Set,r=function(e){return n.add(e)};e.forEach(r),t.forEach(r);var o=[];return n.forEach((function(e){return o.push(e)})),o}},"bY+3":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("2S0S"),o=!1,i=function(){function e(e){this.targetId=null,this.internalMonitor=e.getMonitor()}return e.prototype.receiveHandlerId=function(e){this.targetId=e},e.prototype.getHandlerId=function(){return this.targetId},e.prototype.subscribeToStateChange=function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)},e.prototype.canDrop=function(){if(!this.targetId)return!1;r(!o,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return o=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{o=!1}},e.prototype.isOver=function(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)},e.prototype.getItemType=function(){return this.internalMonitor.getItemType()},e.prototype.getItem=function(){return this.internalMonitor.getItem()},e.prototype.getDropResult=function(){return this.internalMonitor.getDropResult()},e.prototype.didDrop=function(){return this.internalMonitor.didDrop()},e.prototype.getInitialClientOffset=function(){return this.internalMonitor.getInitialClientOffset()},e.prototype.getInitialSourceClientOffset=function(){return this.internalMonitor.getInitialSourceClientOffset()},e.prototype.getSourceClientOffset=function(){return this.internalMonitor.getSourceClientOffset()},e.prototype.getClientOffset=function(){return this.internalMonitor.getClientOffset()},e.prototype.getDifferenceFromInitialOffset=function(){return this.internalMonitor.getDifferenceFromInitialOffset()},e}();t.default=i},bbVO:function(e,t,n){n.d(t,"a",(function(){return o}));var r=n("U4JR");function o(){Object(r.a)(101,{element:10778,component:13216,view:5,viewParameter:3069})}},bu5B:function(e,t,n){var r=n("lFJn"),o=n("Taje"),i=n("mFyV");function a(e,t,n){var a=t.getCharacterList(),s=n>0?a.get(n-1):void 0,c=n<a.count()?a.get(n):void 0,l=s?s.getEntity():void 0,u=c?c.getEntity():void 0;if(u&&u===l&&"MUTABLE"!==e.__get(u).getMutability()){for(var d,h=function(e,t,n){var r;return o(e,(function(e,t){return e.getEntity()===t.getEntity()}),(function(e){return e.getEntity()===t}),(function(e,t){e<=n&&t>=n&&(r={start:e,end:t})})),"object"!=typeof r&&i(!1),r}(a,u,n),p=h.start,f=h.end;p<f;)d=a.get(p),a=a.set(p,r.applyEntity(d,null)),p++;return t.set("characterList",a)}return t}e.exports=function(e,t){var n=e.getBlockMap(),r=e.getEntityMap(),o={},i=t.getStartKey(),s=t.getStartOffset(),c=n.get(i),l=a(r,c,s);l!==c&&(o[i]=l);var u=t.getEndKey(),d=t.getEndOffset(),h=n.get(u);i===u&&(h=l);var p=a(r,h,d);return p!==h&&(o[u]=p),Object.keys(o).length?e.merge({blockMap:n.merge(o),selectionAfter:t}):e.set("selectionAfter",t)}},bxss:function(e,t,n){var r=n("q1tI"),o=n.n(r),i=n("/MKj"),a=n("vZlu"),s=n("n6mq");class c extends r.Component{componentDidMount(){this.props.setFlyoutOpen(!0)}componentWillUnmount(){this.props.setFlyoutOpen(!1)}render(){return o.a.createElement(s.e,{dangerouslySetInlineStyle:{__style:{zIndex:1e3}}},o.a.createElement(s.q,{anchor:this.props.anchor,color:this.props.color,idealDirection:this.props.idealDirection,onDismiss:this.props.onDismiss,positionRelativeToAnchor:this.props.positionRelativeToAnchor,showCaret:this.props.showCaret,shouldFocus:this.props.shouldFocus,size:this.props.size},this.props.children))}}t.a=Object(i.connect)(void 0,(e,t)=>({setFlyoutOpen:t=>e(Object(a.b)(!t))}))(c)},c0rk:function(e,t,n){n.d(t,"a",(function(){return u}));var r=n("q1tI"),o=n.n(r),i=n("L2iP"),a=n("n6mq"),s=n("qYux"),c=n("0Rm8"),l=n("pIlY");function u({children:e,className:t,forwardRef:n,position:u,shouldShowShadow:d=!1,style:h={},top:p}){const{setIsContentHeaderPresent:f}=Object(s.b)();Object(r.useEffect)(()=>(f(!0),function(){f(!1)}),[]);const{currentScrollPosition:m,isScrolled:g,setSubheaderShadow:b}=Object(l.c)();Object(r.useEffect)(()=>(d&&b("contentHeader"),()=>{d&&b(null)}),[d]);let y=!1;"pending"!==p&&(y=null!=p?m>=p:g);const v=Object(c.b)(),_="undefined"!=typeof window&&!!window.MSInputMethodContext&&!!window.document.documentMode,E=o.a.createElement("div",{className:t,ref:n,style:{...h,top:v,...y&&d?{...i.f,zIndex:499}:{},...u&&"sticky"!==u?{position:u}:{}}},e);return"sticky"===u?o.a.createElement(a.Q,{top:_?0:v},E):E}},c203:function(e,t,n){var r=n("/y0H"),o=n("fMZg"),i=n("mFyV");function a(e,t,n,a,s,c,l){var u=n.getStartOffset(),d=n.getEndOffset(),h=e.__get(s).getMutability(),p=l?u:d;if("MUTABLE"===h)return n;var f=o(t,s).filter((function(e){return p<=e.end&&p>=e.start}));1!=f.length&&i(!1);var m=f[0];if("IMMUTABLE"===h)return n.merge({anchorOffset:m.start,focusOffset:m.end,isBackward:!1});c||(l?d=m.end:u=m.start);var g=r.getRemovalRange(u,d,t.getText().slice(m.start,m.end),m.start,a);return n.merge({anchorOffset:g.start,focusOffset:g.end,isBackward:!1})}e.exports=function(e,t,n,r,o){var i=r.getStartOffset(),s=r.getEndOffset(),c=t.getEntityAt(i),l=n.getEntityAt(s-1);if(!c&&!l)return r;var u=r;if(c&&c===l)u=a(e,t,u,o,c,!0,!0);else if(c&&l){var d=a(e,t,u,o,c,!1,!0),h=a(e,n,u,o,l,!1,!1);u=u.merge({anchorOffset:d.getAnchorOffset(),focusOffset:h.getFocusOffset(),isBackward:!1})}else if(c){var p=a(e,t,u,o,c,!1,!0);u=u.merge({anchorOffset:p.getStartOffset(),isBackward:!1})}else if(l){var f=a(e,n,u,o,l,!1,!1);u=u.merge({focusOffset:f.getEndOffset(),isBackward:!1})}return u}},c4Fo:function(e,t,n){var r=n("q1tI"),o=n.n(r),i=n("clxp"),a=n("zXAL");function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=()=>null;class l extends r.Component{constructor(...e){super(...e),s(this,"view",e=>{const{placement_id:t,experience_id:n}=e,{experienceClient:r,targeting:o}=this.props;o?r.viewExperience(t,n,!1,o):r.viewExperience(t,n)}),s(this,"complete",e=>{const{placement_id:t,experience_id:n}=e,{experienceClient:r,preventRemoval:o,targeting:i}=this.props;i?r.completeExperience(t,n,o,!1,{},!1,i):o?r.completeExperience(t,n,o):r.completeExperience(t,n)}),s(this,"dismiss",e=>{const{placement_id:t,experience_id:n}=e,{experienceClient:r,preventRemoval:o,targeting:i}=this.props;i?r.dismissExperience(t,n,o,!1,i):o?r.dismissExperience(t,n,o):r.dismissExperience(t,n)})}componentDidMount(){if(this.props.disableAutoView)return;const e=this.getExperience(this.props);e&&this.shouldRenderExperience(e)&&this.view(e)}componentDidUpdate(e){if(this.props.disableAutoView)return;const t=this.getExperience(e),n=this.getExperience(this.props);n&&this.shouldRenderExperience(n)&&(t&&t.experience_id===n.experience_id||this.view(n))}getExperience(e){return e.experienceClient.experienceForPlacement}shouldRenderExperience(e){if(e){const{type:t,experience_id:n}=e;if(this.props.experienceIds&&this.props.experienceIds.includes(n))return!0;if(!this.props.experienceIds){if(this.props.type&&this.props.type===t)return!0;if(this.props.transitionType&&this.props.transitionType===t)return!0;if(this.props.predicate&&this.props.predicate(e))return!0}}return!1}render(){const{children:e,disableAutoView:t}=this.props,n=this.getExperience(this.props);if(n&&this.shouldRenderExperience(n)&&e){const{placement_id:r,experience_id:a}=n;return o.a.createElement(i.a,{name:`Experience(${r}:${a})`},"function"==typeof e?e({...n,complete:()=>this.complete(n),dismiss:()=>this.dismiss(n),...t?{view:()=>this.view(n)}:{}}):e)}return o.a.createElement(c,null)}}t.a=Object(a.a)(l)},c50B:function(e,t,n){n.d(t,"o",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"m",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"n",(function(){return l})),n.d(t,"i",(function(){return u})),n.d(t,"l",(function(){return d})),n.d(t,"q",(function(){return h})),n.d(t,"j",(function(){return p})),n.d(t,"f",(function(){return f})),n.d(t,"g",(function(){return m})),n.d(t,"h",(function(){return g})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return y})),n.d(t,"s",(function(){return v})),n.d(t,"p",(function(){return _})),n.d(t,"k",(function(){return E})),n.d(t,"r",(function(){return S})),n.d(t,"t",(function(){return w}));const r=e=>{const t={"０":"0","１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","　":" "},n=String(e).split("");return n.forEach((e,r)=>{const o=t[e];o&&(n[r]=o)}),n.join("")};function o(e){return function(t,n){const r=[];t&&/\S/.test(t)||r.push(e.message);const o={errors:r,warnings:[]};return n&&n(o),o}}const i=new RegExp(["(^[-!#$%&'*+/=?^_`{}|~0-9A-Z]+(\\.[-!#$%&'*+/=?^_`{}|~0-9A-Z]+)*",'|^"([\\001-\\010\\013\\014\\016-\\037!#-\\[\\]-\\177]|\\\\[\\001-\\011\\013\\014\\016-\\177])*"',")@((?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?\\.)+[A-Z]{2,20}$)","|\\[(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)(\\.(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)){3}\\]$"].join(""),"i");function a(e){return function(t,n){const r=[];(t=t&&t.trim())&&!t.match(i)&&r.push(e.message);const o={errors:r,warnings:[]};return n&&n(o),o}}function s(e){return function(t,n){const r=[];(t=t&&t.trim())&&!t.match(/^[^0-9].*$/)&&r.push(e.message);const o={errors:r,warnings:[]};return n&&n(o),o}}function c(e){return function(t,n){const o=r(t.trim()),i=[];o&&""!==o&&o.length<2&&i.push(e.ageTooShortString);const a=Math.floor(parseInt(o,10));""===o||/^\d+$/.test(o)&&a>0&&a<300||i.push(e.invalidAgeString);const s={errors:i,warnings:[]};return n&&n(s),s}}function l(e){return function(t,n){const r=(t=t&&t.trim()).replace(/[\(\)\+\-\. ]/g,""),o=[],i=!1!==e.checkLength&&r.length<7;!t||t.match(/^(\(?\+?[0-9]*\)?)?[0-9_\- \.\(\)]*$/g)&&!i||o.push(e.message);const a={errors:o,warnings:[]};return n&&n(a),a}}function u(e){return function(t,n){const o=/^\d+$/,i=[];"number"==typeof t||"string"==typeof t&&(t=t&&t.trim(),(t=r(t))&&!t.match(o)&&i.push(e.message));const a={errors:i,warnings:[]};return n&&n(a),a}}function d(e){return function(t,n){const o=/^[\d\ -]+$/,i=[];"number"==typeof t||"string"==typeof t&&(t=t&&t.trim(),(t=r(t))&&!t.match(o)&&i.push(e.message));const a={errors:i,warnings:[]};return n&&n(a),a}}function h(e){return function(t,n){const r=[];t&&!t.match(/^(https?:\/\/){0,1}[a-z0-9_\-]+\..+/gi)&&r.push(e.message);const o={errors:r,warnings:[]};return n&&n(o),o}}function p(e){return function(t,n){const r=[];(e.should_trim||!1)&&(t=t&&t.trim());const o=t.length;e.min&&o<e.min?r.push(e.minErrorString):e.max&&o>e.max&&r.push(e.maxErrorString);const i={errors:r,warnings:[]};return n&&n(i),i}}function f(e){return function(t,n){const r=[];t!==(e&&e.targetValue)&&r.push(e.message);const o={errors:r,warnings:[]};return n&&n(o),o}}function m(e){return function(t,n){t&&(t=parseFloat(t));const r=[];t<=e.value&&r.push(e.message);const o={errors:r,warnings:[]};return n&&n(o),o}}function g(e){return function(t,n){t&&(t=parseFloat(t));const r=[];t<e.value&&r.push(e.message);const o={errors:r,warnings:[]};return n&&n(o),o}}function b(e){return function(t,n){const r=[];/^[\040-\176]*$/.test(t)||r.push(e.message);const o={errors:r,warnings:[]};return n&&n(o),o}}function y(e){return function(t,n){const r=e.hasFractionalCents?/^\d*(\.\d\d?\d?)?$/:/^\d*(\.\d\d?)?$/,o=[];"number"==typeof t&&(t=t.toString()),t&&!t.match(r)&&(t=t&&t.trim(),o.push(e.message));const i={errors:o,warnings:[]};return n&&n(i),i}}function v(e){return function(t,n){t=t&&t.trim();const r=[],o=new Date(t);t&&!o.getTime()&&r.push(e.message);const i={errors:r,warnings:[]};return n&&n(i),i}}function _(e){return function(t,n){const r=[];(t=t&&t.trim())&&!t.match(/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/)&&r.push(e.message);const o={errors:r,warnings:[]};return n&&n(o),o}}function E(e){return function(t,n){const r=[];e.pattern.test(t)||r.push(e.message);const o={errors:r,warnings:[]};return n&&n(o),o}}function S(e,t){const n=e.map(e=>e(t).errors);return[].concat(...n)}function w(e,t){let n="";return t.some(t=>{const r=t(e);return r.errors.length>0&&(n=r.errors[0],!0)}),n}},cmQj:function(e,t,n){e.exports=function(e,t){e.setMode("drag"),t.preventDefault()}},cwFY:function(e,t,n){e.exports=function(e){return!("undefined"==typeof window||!window.__DRAFT_GKX)&&!!window.__DRAFT_GKX[e]}},d7JY:function(e,t,n){n.d(t,"a",(function(){return a}));var r=n("q1tI"),o=n.n(r),i=n("n6mq");function a({children:e}){return o.a.createElement(i.e,{display:"flex",justifyContent:"center"},e)}},dH2W:function(e,t,n){n.r(t);var r=n("q1tI"),o=n.n(r),i=n("Ye/N"),a=n("n6mq"),s=n("pLLR");class c extends r.Component{constructor(...e){var t,n,r;super(...e),r={LoadedComponent:null},(n="state")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}componentDidMount(){const e=(e=>{switch(e.toUpperCase()){case"ID-ID":return"ID";case"MS-MY":return"MS";case"CS-CZ":return"CZ";case"DA-DK":return"DA";case"DE":return"DE";case"ES-ES":return"ESES";case"ES-MX":return"ESMX";case"ES-AR":return"ESAR";case"ES-419":return"ESMX";case"FR":return"FR";case"IT":return"IT";case"HU-HU":return"HU";case"NL":return"NL";case"NB-NO":return"NO";case"PL-PL":return"PL";case"PT-BR":return"PTBR";case"PT-PT":return"PTPT";case"RO-RO":return"RO";case"SK-SK":return"SK";case"FI-FI":return"FI";case"SV-SE":return"SV";case"TL-PH":return"TL";case"VI-VN":return"VT";case"TR":return"TR";case"EL-GR":return"GR";case"RU-RU":return"RU";case"UK-UA":return"UA";case"HI-IN":return"HI";case"TH-TH":return"TH";case"KO-KR":return"KR";case"JA":return"JP";case"en-GB":return"ENUK";case"ZH-CN":return"ZHCN";case"ZH-TW":return"ZHTW";default:return"ENUS"}})(this.props.requestContext.locale);n("JBUN")("./"+e).then(({default:e})=>{this.setState({LoadedComponent:e})})}componentDidUpdate(e,t){!t.LoadedComponent&&this.state.LoadedComponent&&this.props.onCtaDidLoad()}render(){const{width:e,height:t}=this.props,{LoadedComponent:n}=this.state;return n?o.a.createElement(n,{height:t,title:i.a._("Open Pinterest and tap the camera icon for ideas","accessibility label for Pincode call-to-action text","accessibility label for Pincode call-to-action text"),width:e}):o.a.createElement(a.O,{accessibilityLabel:i.a._("Loading Pincode Call to Action","accessibility label for loading the Pincode call-to-action image","accessibility label for loading the Pincode call-to-action image"),show:!0})}}t.default=Object(s.e)(c)},dJ9d:function(e,t,n){function r(e){return e&&e.$$typeof&&"Symbol(react.forward_ref)"===e.$$typeof.toString()}Object.defineProperty(t,"__esModule",{value:!0}),t.isRefForwardingComponent=r,t.isRefable=function(e){return(t=e)&&t.prototype&&"function"==typeof t.prototype.render||r(e);var t}},dMCU:function(e,t,n){n.d(t,"a",(function(){return c}));var r=n("q1tI"),o=n.n(r),i=n("/MKj"),a=n("v/Q4"),s=n("+PUW");function c(e){const t=t=>{const n=Object(i.useDispatch)(),{isAuth:r,isLimitedLogin:c}=Object(a.a)(),l=!r||c?e=>e=>{e&&e.stopPropagation(),n(s.b)}:e=>e;return o.a.createElement(e,Object.assign({authAction:l,dispatch:n,isAuth:r,isLimitedLogin:c},t))};return t.displayName=`WithAuthenticatedAction(${String(e.displayName||e.name)})`,t}},dt0z:function(e,t,n){var r=n("zoYe");e.exports=function(e){return null==e?"":r(e)}},dtqy:function(e,t,n){var r=n("q1tI"),o=n.n(r),i=n("/MKj"),a=n("qWlA"),s=n("5S2N"),c=n("ANjH"),l=n("U4JR");function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=Object(c.compose)(Object(i.connect)(({pins:e},{pinId:t,carouselSlotCurrentIndex:n})=>{const{carousel_data:r}=e&&t&&e[t]||{},{index:o}=r||{};return void 0!==n?{carouselSlotCurrentIndex:o||n||0}:{}}),(function(e){return class extends r.PureComponent{constructor(...e){super(...e),u(this,"state",{showEditModal:!1}),u(this,"onHide",()=>{this.setState({showEditModal:!1}),this.props.onToggleModal&&this.props.onToggleModal(!1)}),u(this,"handlePinEditButtonClick",Object(a.a)(e=>{e&&e.stopPropagation();const{component:t,onToggleModal:n}=this.props;n&&n(!0),Object(l.a)(101,{element:3,...t?{component:t}:{}}),this.setState({showEditModal:!0})}))}render(){const{pinId:t,onDelete:n,onSubmit:i,carouselSlotCurrentIndex:a}=this.props,{showEditModal:c}=this.state,l={...this.props,handlePinEditButtonClick:this.handlePinEditButtonClick};return o.a.createElement(r.Fragment,null,o.a.createElement(e,l),c&&o.a.createElement(s.a,{carouselSlotCurrentIndex:a,onDelete:n,onHide:this.onHide,onSubmit:i,pinId:t}))}}}))},dyxW:function(e,t,n){var r={stringify:function(e){return"_"+String(e)},unstringify:function(e){return e.slice(1)}};e.exports=r},"e/Ok":function(e,t,n){var r=n("fyOY"),o=n("3sOJ"),i=n("bU3v"),a=n("hyAj"),s=n("GXbk"),c=n("MbRH");e.exports=function(e,t){var n,l=e._latestEditorState,u=l.getSelection(),d=t.target;if(u.isCollapsed())t.preventDefault();else{if(c(d)){var h=d;n=s(i.getScrollParent(h))}var p=a(l);e.setClipboard(p),e.setMode("cut"),setTimeout((function(){e.restoreEditorDOM(n),e.exitCurrentMode(),e.update(function(e){var t=r.removeRange(e.getCurrentContent(),e.getSelection(),"forward");return o.push(e,t,"remove-range")}(l))}),0)}}},e0nq:function(e,t,n){function r(e){return{type:"PIN_BETTER_SAVE",payload:e}}function o(e){return{type:"PIN_BETTER_UNSAVE",payload:e}}function i(e){return{type:"PIN_BETTER_SELECT_BOARD_OR_SECTION",payload:e}}function a(e){return{type:"POST_REPIN_MORE_IDEAS_UPSELL_SHOWN",payload:{boardId:e}}}n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a}))},e3GI:function(e,t,n){n.d(t,"a",(function(){return d}));var r=n("q1tI"),o=n.n(r),i=n("Ye/N"),a=n("oRao"),s=n("vvax"),c=n("n6mq");function l({boardName:e,collaboratorCount:t}){const n=o.a.createElement(c.V,{inline:!0,key:"board_name",weight:"bold"},e);return o.a.createElement(c.V,null,t?Object(s.b)(i.a._("When you delete {{ boardName }}, you'll lose {{ n_collaborators }} and all followers of that board.","helper text for selecting merge target board","helper text for selecting merge target board"),{boardName:n,n_collaborators:o.a.createElement(c.V,{inline:!0,key:"collaborator_count",weight:"bold"},Object(s.b)(i.a.ngettext("{{ count }} collaborator","{{ count }} collaborators",t,"label for n board collaborator(s)","label for n board collaborator(s)"),{count:o.a.createElement(a.a,{value:t})}))}):Object(s.b)(i.a._("When you delete {{ boardName }}, you'll lose all followers of that board.","helper text for selecting merge target board","helper text for selecting merge target board"),{boardName:n}))}function u({board:{name:e,is_collaborative:t}}){const n=t?i.a._("your {{ boardName }} group board"):i.a._("your {{ boardName }} board");return o.a.createElement(c.V,{inline:!0,key:"yourboard_"+e},Object(s.b)(n,{boardName:o.a.createElement(c.V,{inline:!0,key:"board_"+e,weight:"bold"},e)}))}function d({sourceBoard:e,targetBoard:t}){return o.a.createElement(c.e,null,o.a.createElement(c.e,{paddingY:2},o.a.createElement(c.V,null,Object(s.b)(i.a._("You're about to move all the Pins from {{ sourceBoardName }} to a new section in {{ targetBoardName }}.","helper text for selecting merge target board","helper text for selecting merge target board"),{sourceBoardName:o.a.createElement(u,{key:"sourceBoard",board:e}),targetBoardName:o.a.createElement(u,{key:"targetBoard",board:t})}))),o.a.createElement(c.e,{paddingY:2},o.a.createElement(l,{boardName:e.name,collaboratorCount:e.collaborator_count})))}},eATT:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n("CEq6"),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(e,t,n){var r=t.getAnchorKey(),o=t.getAnchorOffset(),a=e.getCurrentContent().getBlockForKey(r).getText();return(0,i.default)(a,o,n)}},eIuQ:function(e,t,n){n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return c}));var r=n("Ye/N");function o(e){return e?r.a._("Title too long. Make sure all cards' titles have less than 100 characters","Title entered is too long while editing a carousel pin and/or one of its pins","Title entered is too long while editing a carousel pin and/or one of its pins"):r.a._("Title too long. Make sure title has less than 100 characters","Title entered is too long while editing a pin","Title entered is too long while editing a pin")}function i(e){return e?r.a._("Description too long. Make sure all cards' descriptions have less than 500 characters","Description entered is too long while editing a carousel pin and/or one of its pins","Description entered is too long while editing a carousel pin and/or one of its pins"):r.a._("Description too long. Make sure description has less than 500 characters","Description entered is too long while editing a pin","Description entered is too long while editing a pin")}function a(e){return r.a._("Too many mentions. Make sure you have at most 5.","editPinModal.errorMessages.userMentionOverLimit","Too many mentions used in the description")}function s(e){return e?r.a._("Note too long. Make sure all cards' notes have less than 500 characters","User note entered is too long while editing a carousel pin and/or one of its pins","User note entered is too long while editing a carousel pin and/or one of its pins"):r.a._("Note too long. Make sure note has less than 500 characters","User note entered is too long while editing a pin","User note entered is too long while editing a pin")}function c(e){return e?r.a._("Need to provide a valid URL. Make sure all cards' links are valid","Invalid URL/link provided while editing a carousel pin and/or one of its pins","Invalid URL/link provided while editing a carousel pin and/or one of its pins"):r.a._("Need to provide a valid URL. Make sure the link is valid","Invalid URL/link provided while editing a pin","Invalid URL/link provided while editing a pin")}},eUgh:function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},eiom:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.isDisposed=!1,this.disposables=e}return e.prototype.add=function(e){this.isDisposed?e.dispose():this.disposables.push(e)},e.prototype.remove=function(e){var t=!1;if(!this.isDisposed){var n=this.disposables.indexOf(e);-1!==n&&(t=!0,this.disposables.splice(n,1),e.dispose())}return t},e.prototype.clear=function(){if(!this.isDisposed){for(var e=this.disposables.length,t=new Array(e),n=0;n<e;n++)t[n]=this.disposables[n];this.disposables=[];for(n=0;n<e;n++)t[n].dispose()}},e.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var e=this.disposables.length,t=new Array(e),n=0;n<e;n++)t[n]=this.disposables[n];this.disposables=[];for(n=0;n<e;n++)t[n].dispose()}},e}();t.CompositeDisposable=r},etmJ:function(e,t,n){n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"j",(function(){return u})),n.d(t,"i",(function(){return d})),n.d(t,"h",(function(){return h})),n.d(t,"k",(function(){return p})),n.d(t,"m",(function(){return f})),n.d(t,"l",(function(){return m})),n.d(t,"g",(function(){return g}));var r=n("gIz7");const o="pin-builder-font-faces",i="licensed",a="system",s="brand",c=4,l=[{fontGroup:i,fontFamily:"A-FRAME",defaultStyle:0,format:"truetype",fontOverrides:{letterSpacing:0,lineHeight:.9,textTransform:!0},styles:[{name:"Black",fontStyle:"",fontWeight:"normal",fontUrl:"https://assets.pinterest.com/fonts/Graphik XCond-Black.otf"}]},{fontGroup:i,fontFamily:"Cross-stitch",defaultStyle:0,format:"truetype",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},styles:[{name:"Black",fontStyle:"normal",fontWeight:"normal",fontUrl:"https://assets.pinterest.com/fonts/Produkt-Medium.otf"}]},{fontGroup:i,fontFamily:"Lagoon",defaultStyle:0,format:"truetype",fontOverrides:{letterSpacing:0,lineHeight:.9,textTransform:!1},styles:[{name:"Black",fontStyle:"",fontWeight:"normal",fontUrl:"https://assets.pinterest.com/fonts/Gabriello-Black.otf"}]},{fontGroup:i,fontFamily:"Lava lamp",defaultStyle:0,format:"truetype",fontOverrides:{letterSpacing:0,lineHeight:.9,textTransform:!1},styles:[{name:"Black",fontStyle:"",fontWeight:"normal",fontUrl:"https://assets.pinterest.com/fonts/Publico Banner-Ultra Italic.otf"}]},{fontGroup:i,fontFamily:"Marathon",defaultStyle:0,format:"truetype",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},styles:[{name:"Black",fontStyle:"",fontWeight:"normal",fontUrl:"https://assets.pinterest.com/fonts/Produkt-Super Italic.otf"}]},{fontGroup:i,fontFamily:"Sourdough",defaultStyle:0,format:"truetype",fontOverrides:{letterSpacing:0,lineHeight:.9,textTransform:!1},styles:[{name:"Black",fontStyle:"",fontWeight:"normal",fontUrl:"https://assets.pinterest.com/fonts/Publico Banner-Bold.otf"}]},{fontGroup:i,fontFamily:"Superglue",format:"truetype",fontOverrides:{letterSpacing:0,lineHeight:.9,textTransform:!1},defaultStyle:0,styles:[{name:"Bold Italic",fontStyle:"",fontWeight:"normal",fontUrl:"https://assets.pinterest.com/fonts/Graphik-Bold+Italic.otf"}]},{fontGroup:a,fontFamily:"Merriweather",fontFaceUrl:"https://fonts.googleapis.com/css?family=Merriweather:700",fontOverrides:{letterSpacing:0,lineHeight:1.2,textTransform:!1},defaultStyle:0,styles:[{name:"Bold Italic",fontStyle:"italic",fontWeight:"700"}]},{fontGroup:i,fontFamily:"Noto Serif SC",fontFaceUrl:"https://fonts.googleapis.com/css?family=Noto+Serif+SC:400&display=swap&subset=chinese-simplified",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}],localeFilter:"zh-CN"},{fontGroup:i,fontFamily:"Noto Sans SC",fontFaceUrl:"https://fonts.googleapis.com/css?family=Noto+Sans+SC:400&display=swap&subset=chinese-simplified",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}],localeFilter:"zh-CN"},{fontGroup:i,fontFamily:"Noto Serif TC",fontFaceUrl:"https://fonts.googleapis.com/css?family=Noto+Serif+TC:400&display=swap&subset=chinese-traditional",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}],localeFilter:"zh-TW"},{fontGroup:i,fontFamily:"Noto Sans TC",fontFaceUrl:"https://fonts.googleapis.com/css?family=Noto+Sans+TC:400&display=swap&subset=chinese-traditional",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}],localeFilter:"zh-TW"},{fontGroup:i,fontFamily:"Noto Serif KR",fontFaceUrl:"https://fonts.googleapis.com/css?family=Noto+Serif+KR:400&display=swap&subset=korean",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}],localeFilter:"ko-KR"},{fontGroup:i,fontFamily:"Noto Sans KR",fontFaceUrl:"https://fonts.googleapis.com/css?family=Noto+Sans+KR:400&display=swap&subset=korean",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}],localeFilter:"ko-KR"},{fontGroup:i,fontFamily:"Noto Serif JP",fontFaceUrl:"https://fonts.googleapis.com/css?family=Noto+Serif+JP:400&display=swap&subset=japanese",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}],localeFilter:"ja"},{fontGroup:i,fontFamily:"Noto Sans JP",fontFaceUrl:"https://fonts.googleapis.com/css?family=Noto+Sans+JP:400&display=swap&subset=japanese",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}],localeFilter:"ja"},{fontGroup:i,fontFamily:"Noto Serif",fontFaceUrl:"https://fonts.googleapis.com/css?family=Noto+Serif:400&display=swap",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}],localeFilter:"hi-IN"},{fontGroup:i,fontFamily:"Noto Sans",fontFaceUrl:"https://fonts.googleapis.com/css?family=Noto+Sans:400&display=swap",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}],localeFilter:"hi-IN"},{fontGroup:a,fontFamily:"Playfair Display",fontFaceUrl:"https://fonts.googleapis.com/css?family=Playfair+Display:400",fontOverrides:{letterSpacing:0,lineHeight:1.2,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}]},{fontGroup:a,fontFamily:"Raleway",fontFaceUrl:"https://fonts.googleapis.com/css?family=Raleway:900",fontOverrides:{letterSpacing:0,lineHeight:1.2,textTransform:!1},defaultStyle:0,styles:[{name:"Black",fontStyle:"",fontWeight:"900"}]},{fontGroup:a,fontFamily:"Roboto Condensed",fontFaceUrl:"https://fonts.googleapis.com/css?family=Roboto+Condensed:700i",fontOverrides:{letterSpacing:0,lineHeight:1.2,textTransform:!1},defaultStyle:0,styles:[{name:"Bold Italic",fontStyle:"italic",fontWeight:"700"}]},{fontGroup:a,fontFamily:"Suez One",fontFaceUrl:"https://fonts.googleapis.com/css?family=Suez+One&display=swap",fontOverrides:{letterSpacing:0,lineHeight:.9,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}]},{fontGroup:a,fontFamily:"Domine",fontFaceUrl:"https://fonts.googleapis.com/css?family=Domine&display=swap",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}]},{fontGroup:a,fontFamily:"Overlock",fontFaceUrl:"https://fonts.googleapis.com/css?family=Overlock:900i&display=swap",fontOverrides:{letterSpacing:-1,lineHeight:1,textTransform:!1},defaultStyle:0,styles:[{name:"Black Italic",fontStyle:"",fontWeight:"400"}]},{fontGroup:a,fontFamily:"Satisfy",fontFaceUrl:"https://fonts.googleapis.com/css?family=Satisfy&display=swap",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}]}];function u(){return l}function d(e,t,n){const r=e.styles.find(e=>e.fontStyle===t&&e.fontWeight===n);return r?r.name:""}function h(e,t){return e.reduce((e,t)=>[...e,...t.fonts],[]).find(e=>e.fontFamily===t)||null}function p(e){return Object(r.a)(e,o)}function f(){return Object(r.a)(u(),"system-font-faces")}function m(){return Object(r.a)([l[c]],"pin-builder-education-font-faces")}function g(e){const t=function(e){const t=u();if(e){const n=t.findIndex(t=>t.localeFilter===e);if(n>=0)return t[n]}return t[6]}(e),n=t.defaultStyle,r=t.styles[n],{fontFamily:o,fontOverrides:a}=t,s=a&&a.textTransform?1:0,c=a&&a.lineHeight||1.2,l=a&&a.letterSpacing||0;return{fontGroupName:i,fontFamilyName:o,fontStyleName:r.name,fontWeight:r.fontWeight,fontSize:50,textColor:"#FFFFFF",marginIndex:1,alignmentIndex:1,positionIndex:2,backgroundColor:"",backgroundTransparencyIndex:0,lineHeight:c,letterSpacing:l,transformIndex:s,showMoreOptions:!1}}},"f+ew":function(e,t,n){var r=n("mFyV"),o=/\./,i=/\|\|/,a=/\s+\-\s+/,s=/^(<=|<|=|>=|~>|~|>|)?\s*(.+)/,c=/^(\d*)(.*)/;function l(e,t){var n=e.split(i);return n.length>1?n.some((function(e){return _.contains(e,t)})):function(e,t){var n=e.split(a);if(n.length>0&&n.length<=2||r(!1),1===n.length)return u(n[0],t);var o=n[0],i=n[1];return m(o)&&m(i)||r(!1),u(">="+o,t)&&u("<="+i,t)}(e=n[0].trim(),t)}function u(e,t){if(""===(e=e.trim()))return!0;var n,r=t.split(o),i=p(e),a=i.modifier,s=i.rangeComponents;switch(a){case"<":return d(r,s);case"<=":return-1===(n=v(r,s))||0===n;case">=":return h(r,s);case">":return function(e,t){return 1===v(e,t)}(r,s);case"~":case"~>":return function(e,t){var n=t.slice(),r=t.slice();r.length>1&&r.pop();var o=r.length-1,i=parseInt(r[o],10);f(i)&&(r[o]=i+1+"");return h(e,n)&&d(e,r)}(r,s);default:return function(e,t){return 0===v(e,t)}(r,s)}}function d(e,t){return-1===v(e,t)}function h(e,t){var n=v(e,t);return 1===n||0===n}function p(e){var t=e.split(o),n=t[0].match(s);return n||r(!1),{modifier:n[1],rangeComponents:[n[2]].concat(t.slice(1))}}function f(e){return!isNaN(e)&&isFinite(e)}function m(e){return!p(e).modifier}function g(e,t){for(var n=e.length;n<t;n++)e[n]="0"}function b(e,t){var n=e.match(c)[1],r=t.match(c)[1],o=parseInt(n,10),i=parseInt(r,10);return f(o)&&f(i)&&o!==i?y(o,i):y(e,t)}function y(e,t){return typeof e!=typeof t&&r(!1),e>t?1:e<t?-1:0}function v(e,t){for(var n=function(e,t){g(e=e.slice(),(t=t.slice()).length);for(var n=0;n<t.length;n++){var r=t[n].match(/^[x*]$/i);if(r&&(t[n]=e[n]="0","*"===r[0]&&n===t.length-1))for(var o=n;o<e.length;o++)e[o]="0"}return g(t,e.length),[e,t]}(e,t),r=n[0],o=n[1],i=0;i<o.length;i++){var a=b(r[i],o[i]);if(a)return a}return 0}var _={contains:function(e,t){return l(e.trim(),t.trim())}};e.exports=_},fAMq:function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"i",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"g",(function(){return h})),n.d(t,"d",(function(){return m})),n.d(t,"f",(function(){return g})),n.d(t,"b",(function(){return b})),n.d(t,"e",(function(){return y}));var r=n("Se/U");const o=6e4,i=60*o,a=24*i,s=30*a,c=365*a,l=e=>{const t=new Date(e)-new Date,n=Math.abs(t);return{year:Math.floor(n/c),month:Math.floor(n%c/s),day:Math.floor(n%s/a),hour:Math.floor(n%a/i),minute:Math.floor(n%i/o),milli:t,ms:n}},u=(e,t)=>{const n=new Date(e);return n.setDate(e.getDate()+t),n},d=(e,t)=>{const n=t.getUTCDate()-e,r=new Date(t);return r.setUTCDate(n),r},h=(e,t)=>e.getTime()>t.getTime(),p=e=>/^\d{4}$/.test(e),f=e=>/^\d{2}\/\d{2}\/\d{4}$/.test(e),m=e=>{if(!p(e)&&!f(e))return-1;const t=new Date(e);if(!Object(r.a)(t))return-1;const n=t.toISOString().substr(0,10);return new Date(n).getTime()/1e3},g=(e,t)=>{if(!p(e)&&!f(e))return!1;const n=new Date;if(!Object(r.a)(n))return!1;if(!p(e)){const r=new Date(n.getFullYear()-t,n.getMonth(),n.getDate());return new Date(e)<=r}const o=n.getFullYear()-t-1;return new Date(e).getFullYear()<=o},b=e=>{const t=new Date(e);return new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())},y=e=>e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)},fEmT:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.MentionSuggestions=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("q1tI"),a=m(i),s=m(n("N1c7")),c=n("v83y"),l=m(n("kGJw")),u=m(n("7IEp")),d=m(n("ka8t")),h=m(n("AlZN")),p=m(n("eATT")),f=m(n("vgsE"));function m(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=t.MentionSuggestions=function(e){function t(){var e,n,r;g(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={isActive:!1,focusedOptionIndex:0},r.componentDidUpdate=function(e,t){if(r.popover){var n=r.props.suggestions.length;if(n>0&&r.state.focusedOptionIndex>=n&&r.setState({focusedOptionIndex:n-1}),!r.props.store.getAllSearches().has(r.activeOffsetKey))return;var o=r.props.store.getPortalClientRect(r.activeOffsetKey),i=r.props.positionSuggestions({decoratorRect:o,prevProps:e,prevState:t,props:r.props,state:r.state,popover:r.popover});Object.keys(i).forEach((function(e){r.popover.style[e]=i[e]}))}},r.componentWillUnmount=function(){r.props.callbacks.onChange=void 0},r.onEditorStateChange=function(e){var t=r.props.store.getAllSearches();if(0===t.size)return e;var n=function(){return r.props.store.resetEscapedSearch(),r.closeDropdown(),e},o=e.getSelection(),i=o.getAnchorKey(),a=o.getAnchorOffset();if(!o.isCollapsed()||!o.getHasFocus())return n();var s=t.map((function(e){return(0,h.default)(e)})).filter((function(e){return e.blockKey===i})).map((function(t){var n=t.blockKey,r=t.decoratorKey;return e.getBlockTree(n).getIn([r])}));if(s.every((function(e){return void 0===e})))return n();var c=e.getCurrentContent().getPlainText(),u=s.filter((function(e){return void 0!==e})).map((function(e){var t=e.start,n=e.end;return 0===t&&a===r.props.mentionTrigger.length&&c.charAt(a)!==r.props.mentionTrigger&&new RegExp(String.raw({raw:""+(0,l.default)(r.props.mentionTrigger)}),"g").test(c)&&a<=n||a>t+r.props.mentionTrigger.length&&a<=n}));if(u.every((function(e){return!1===e})))return n();var d=r.activeOffsetKey;return r.activeOffsetKey=u.filter((function(e){return!0===e})).keySeq().first(),r.onSearchChange(e,o,r.activeOffsetKey,d),r.props.store.isEscaped(r.activeOffsetKey)||r.props.store.resetEscapedSearch(),!r.state.isActive&&!r.props.store.isEscaped(r.activeOffsetKey)&&r.props.suggestions.length>0&&r.openDropdown(),void 0!==r.lastSelectionIsInsideWord&&u.equals(r.lastSelectionIsInsideWord)||r.setState({focusedOptionIndex:0}),r.lastSelectionIsInsideWord=u,e},r.onSearchChange=function(e,t,n,o){var i=(0,p.default)(e,t,r.props.mentionTrigger).matchingString;r.lastSearchValue===i&&n===o||(r.lastSearchValue=i,r.props.onSearchChange({value:i}))},r.onDownArrow=function(e){e.preventDefault();var t=r.state.focusedOptionIndex+1;r.onMentionFocus(t>=r.props.suggestions.length?0:t)},r.onTab=function(e){e.preventDefault(),r.commitSelection()},r.onUpArrow=function(e){if(e.preventDefault(),r.props.suggestions.length>0){var t=r.state.focusedOptionIndex-1;r.onMentionFocus(t<0?r.props.suggestions.length-1:t)}},r.onEscape=function(e){e.preventDefault();var t=r.lastSelectionIsInsideWord.filter((function(e){return!0===e})).keySeq().first();r.props.store.escapeSearch(t),r.closeDropdown(),r.props.store.setEditorState(r.props.store.getEditorState())},r.onMentionSelect=function(e){if(e){r.props.onAddMention&&r.props.onAddMention(e),r.closeDropdown();var t=(0,d.default)(r.props.store.getEditorState(),e,r.props.mentionPrefix,r.props.mentionTrigger,r.props.entityMutability);r.props.store.setEditorState(t)}},r.onMentionFocus=function(e){var t="mention-option-"+r.key+"-"+e;r.props.ariaProps.ariaActiveDescendantID=t,r.setState({focusedOptionIndex:e}),r.props.store.setEditorState(r.props.store.getEditorState())},r.commitSelection=function(){return r.props.store.getIsOpened()?(r.onMentionSelect(r.props.suggestions[r.state.focusedOptionIndex]),"handled"):"not-handled"},r.openDropdown=function(){r.props.callbacks.handleReturn=r.commitSelection,r.props.callbacks.keyBindingFn=function(e){40===e.keyCode&&r.onDownArrow(e),38===e.keyCode&&r.onUpArrow(e),27===e.keyCode&&r.onEscape(e),9===e.keyCode&&r.onTab(e)};var e="mention-option-"+r.key+"-"+r.state.focusedOptionIndex;r.props.ariaProps.ariaActiveDescendantID=e,r.props.ariaProps.ariaOwneeID="mentions-list-"+r.key,r.props.ariaProps.ariaHasPopup="true",r.props.ariaProps.ariaExpanded=!0,r.setState({isActive:!0}),r.props.onOpen&&r.props.onOpen()},r.closeDropdown=function(){r.props.callbacks.handleReturn=void 0,r.props.callbacks.keyBindingFn=void 0,r.props.ariaProps.ariaHasPopup="false",r.props.ariaProps.ariaExpanded=!1,r.props.ariaProps.ariaActiveDescendantID=void 0,r.props.ariaProps.ariaOwneeID=void 0,r.setState({isActive:!1}),r.props.onClose&&r.props.onClose()},b(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentWillMount",value:function(){this.key=(0,c.genKey)(),this.props.callbacks.onChange=this.onEditorStateChange}},{key:"componentWillReceiveProps",value:function(e){0===e.suggestions.length&&this.state.isActive?this.closeDropdown():e.suggestions.length>0&&e.suggestions!==this.props.suggestions&&!this.state.isActive&&this.openDropdown()}},{key:"render",value:function(){var e=this;if(!this.state.isActive)return null;var t=this.props,n=t.entryComponent,o=t.popoverComponent,i=void 0===o?a.default.createElement("div",null):o,s=(t.onClose,t.onOpen,t.onAddMention,t.onSearchChange,t.suggestions,t.ariaProps,t.callbacks,t.theme),c=void 0===s?{}:s,l=(t.store,t.entityMutability,t.positionSuggestions,t.mentionTrigger,t.mentionPrefix,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["entryComponent","popoverComponent","onClose","onOpen","onAddMention","onSearchChange","suggestions","ariaProps","callbacks","theme","store","entityMutability","positionSuggestions","mentionTrigger","mentionPrefix"]));return a.default.cloneElement(i,r({},l,{className:c.mentionSuggestions,role:"listbox",id:"mentions-list-"+this.key,ref:function(t){e.popover=t}}),this.props.suggestions.map((function(t,r){return a.default.createElement(u.default,{key:null!=t.id?t.id:t.name,onMentionSelect:e.onMentionSelect,onMentionFocus:e.onMentionFocus,isFocused:e.state.focusedOptionIndex===r,mention:t,index:r,id:"mention-option-"+e.key+"-"+r,theme:c,searchValue:e.lastSearchValue,entryComponent:n||f.default})})))}}]),t}(i.Component);y.propTypes={entityMutability:s.default.oneOf(["SEGMENTED","IMMUTABLE","MUTABLE"]),entryComponent:s.default.func,onAddMention:s.default.func,suggestions:s.default.array},t.default=y},fEyW:function(e,t,n){var r=n("JL7T"),o=n("VTBg"),i=n("zVay"),a=(i.List,i.Map),s=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}},c=function(e,t){var n=[];if(!e)return n;for(var r=t.get(e);r&&r.getParentKey();){var o=r.getParentKey();o&&n.push(o),r=o?t.get(o):null}return n},l=function(e,t,n){if(!e)return null;for(var r=n.get(e.getKey()).getNextSiblingKey();r&&!t.get(r);)r=n.get(r).getNextSiblingKey()||null;return r},u=function(e,t,n){if(!e)return null;for(var r=n.get(e.getKey()).getPrevSiblingKey();r&&!t.get(r);)r=n.get(r).getPrevSiblingKey()||null;return r},d=function(e,t,n,r){return e.withMutations((function(i){if(s(t.getKey(),i,(function(e){return e.merge({nextSibling:l(e,i,r),prevSibling:u(e,i,r)})})),s(n.getKey(),i,(function(e){return e.merge({nextSibling:l(e,i,r),prevSibling:u(e,i,r)})})),c(t.getKey(),r).forEach((function(e){return s(e,i,(function(e){return e.merge({children:e.getChildKeys().filter((function(e){return i.get(e)})),nextSibling:l(e,i,r),prevSibling:u(e,i,r)})}))})),s(t.getNextSiblingKey(),i,(function(e){return e.merge({prevSibling:t.getPrevSiblingKey()})})),s(t.getPrevSiblingKey(),i,(function(e){return e.merge({nextSibling:l(e,i,r)})})),s(n.getNextSiblingKey(),i,(function(e){return e.merge({prevSibling:u(e,i,r)})})),s(n.getPrevSiblingKey(),i,(function(e){return e.merge({nextSibling:n.getNextSiblingKey()})})),c(n.getKey(),r).forEach((function(e){s(e,i,(function(e){return e.merge({children:e.getChildKeys().filter((function(e){return i.get(e)})),nextSibling:l(e,i,r),prevSibling:u(e,i,r)})}))})),function(e,t){var n=[];if(!e)return n;for(var r=o(e,t);r&&t.get(r);){var i=t.get(r);n.push(r),r=i.getParentKey()?o(i,t):null}return n}(n,r).forEach((function(e){return s(e,i,(function(e){return e.merge({nextSibling:l(e,i,r),prevSibling:u(e,i,r)})}))})),null==e.get(t.getKey())&&null!=e.get(n.getKey())&&n.getParentKey()===t.getKey()&&null==n.getPrevSiblingKey()){var a=t.getPrevSiblingKey();s(n.getKey(),i,(function(e){return e.merge({prevSibling:a})})),s(a,i,(function(e){return e.merge({nextSibling:n.getKey()})}));var d=a?e.get(a):null,h=d?d.getParentKey():null;if(t.getChildKeys().forEach((function(e){s(e,i,(function(e){return e.merge({parent:h})}))})),null!=h){var p=e.get(h);s(h,i,(function(e){return e.merge({children:p.getChildKeys().concat(t.getChildKeys())})}))}s(t.getChildKeys().find((function(t){return null===e.get(t).getNextSiblingKey()})),i,(function(e){return e.merge({nextSibling:t.getNextSiblingKey()})}))}}))},h=function(e,t,n){if(0===t)for(;t<n;)e=e.shift(),t++;else if(n===e.count())for(;n>t;)e=e.pop(),n--;else{var r=e.slice(0,t),o=e.slice(n);e=r.concat(o).toList()}return e};e.exports=function(e,t){if(t.isCollapsed())return e;var n,i=e.getBlockMap(),s=t.getStartKey(),l=t.getStartOffset(),u=t.getEndKey(),p=t.getEndOffset(),f=i.get(s),m=i.get(u),g=f instanceof r,b=[];if(g){var y=m.getChildKeys(),v=c(u,i);m.getNextSiblingKey()&&(b=b.concat(v)),y.isEmpty()||(b=b.concat(v.concat([u]))),b=b.concat(c(o(m,i),i))}n=f===m?h(f.getCharacterList(),l,p):f.getCharacterList().slice(0,l).concat(m.getCharacterList().slice(p));var _=f.merge({text:f.getText().slice(0,l)+m.getText().slice(p),characterList:n}),E=g&&0===l&&0===p&&m.getParentKey()===s&&null==m.getPrevSiblingKey()?a([[s,null]]):i.toSeq().skipUntil((function(e,t){return t===s})).takeUntil((function(e,t){return t===u})).filter((function(e,t){return-1===b.indexOf(t)})).concat(a([[u,null]])).map((function(e,t){return t===s?_:null})),S=i.merge(E).filter((function(e){return!!e}));return g&&f!==m&&(S=d(S,f,m,i)),e.merge({blockMap:S,selectionBefore:t,selectionAfter:t.merge({anchorKey:s,anchorOffset:l,focusKey:s,focusOffset:l,isBackward:!1})})}},fMZg:function(e,t,n){var r=n("mFyV");e.exports=function(e,t){var n=[];return e.findEntityRanges((function(e){return e.getEntity()===t}),(function(e,t){n.push({start:e,end:t})})),n.length||r(!1),n}},fNcP:function(e,t,n){n.d(t,"a",(function(){return We}));var r=n("q1tI"),o=n.n(r),i=n("/MKj"),a=n("QoKk"),s=n("Ye/N"),c=n("TiQD"),l=n("VwDf"),u=n("U4JR"),d=n("oN2T"),h=n("n6mq");var p=Object(i.connect)((e,t)=>({board:e.boards.content[t.boardId]}),()=>{})((function({board:e,onClose:t}){const{id:n,event_start_date:p,event_date:f}=e,m=p?[p]:[];f&&m.push(f);const g=(m||[]).map(e=>new Date(e))||[],[b,y]=Object(r.useState)(g),[v,_]=Object(r.useState)(!1),E=Object(i.useDispatch)(),S=()=>{v||t()},w=f?s.a._("Edit dates","save.board.AddDatesModal","Modal heading"):s.a._("Add dates","save.board.AddDatesModal","Modal heading");return o.a.createElement(c.b,{accessibilityModalLabel:"View default padding and styling",closeOnOutsideClick:!0,heading:w,onDismiss:S,footer:o.a.createElement(h.e,{display:"flex",justifyContent:"between"},o.a.createElement(h.f,{color:"gray",inline:!0,onClick:S,text:s.a._("Cancel","save.board.AddDatesModal","Cancel button on modal")}),o.a.createElement(h.f,{color:"red",disabled:!b.length&&!f,inline:!0,onClick:()=>{const{eventEndDate:e,eventStartDate:r}=Object(l.a)({currentEventStartDate:b.length>1?b[0]:null,currentEventEndDate:b[1]||b[0],initialEventStartDate:p,initialEventEndDate:f});E(Object(d.m)({id:n,event_start_date:r,event_date:e}));const o=f?8624:8623;Object(u.a)(o,{view:413,objectId:n}),t()},text:s.a._("Save","save.board.AddDatesModal","Save button on modal")})),size:"sm"},o.a.createElement(h.e,{paddingX:4},o.a.createElement(a.a,{dates:b,onChange:e=>y(e),onToggleFlyout:()=>_(!v)})))})),f=n("0rqM"),m=n("CvCA"),g=n("vvax"),b=n("nGHF");function y({shouldArchive:e,board:t,onClose:n,onConfirm:r}){const a=Object(i.useDispatch)(),{showOneToast:c}=Object(b.b)();return o.a.createElement(f.a,{confirmButtonLabel:e?s.a._("Archive","BoardPage.ModalContents.BoardModalManager","button label on confirming board archive"):s.a._("Unarchive","BoardUnarchiveConfirmation.BoardEditConfirmation.buttonLabel","button label on confirming board unarchive"),heading:e?s.a._("Archive this board?","BoardPage.ModalContents.BoardModalManager","modal heading for board archive confirmation"):s.a._("Unarchive this board?","BoardUnarchiveConfirmation.BoardEditConfirmation.heading","modal heading for board unarchive confirmation"),message:Object(g.b)(e?s.a._("If you archive {{ boardName }}, you won’t be able to save Pins to it. We’ll hide it from your profile and stop using it for recommendations. (Don’t worry: You can unarchive your board to undo this!)","BoardPage.ModalContents.BoardModalManager","Confirmation message when archiving a board"):s.a._("If you unarchive {{ boardName }}, it will show up on your profile and you’ll be able to save new Pins to it.","BoardUnarchiveConfirmation.BoardEditConfirmation.message","Confirmation message when unarchiving a board"),{boardName:o.a.createElement(h.V,{inline:!0,key:t.name,weight:"bold"},t.name)}),onCancel:n,onConfirm:()=>{a(e?Object(d.a)(t.id):Object(d.l)(t.id)),r(),n(),c(({onHide:n})=>o.a.createElement(m.a,{imageUrl:t.image_cover_url,onHide:n,text:e?Object(g.b)(s.a._("Archived {{ boardName }}","board.BoardPage.ModalContents.BoardArchiveConfirmation","Toast text on complete archiving board"),{boardName:t.name}).join(""):Object(g.b)(s.a._("Unarchived {{ boardName }}","BoardUnarchiveConfirmation.handleConfirmUnarchive.message","Toast text on completing unarchiving board"),{boardName:t.name}).join("")}))}})}var v=n("OQKm"),_=n("qdVQ"),E=n("/MAO");function S({fetchMore:e,followers:t,followersCount:n,isFetching:i,onDismiss:a}){return o.a.createElement(c.b,{accessibilityModalLabel:s.a._("Board Followers","boardFollowersList.modal.accessibilityLabelForModal","Accessibility label for modal"),heading:o.a.createElement(h.e,{display:"flex",justifyContent:"center",padding:8},o.a.createElement(h.s,{size:"md",accessibilityLevel:1},Object(g.b)(s.a.ngettext("{{ followersCount }} Follower","{{ followersCount }} Followers",n,"Label for the number of people following a board","Label for the number of people following a board"),{followersCount:n.toLocaleString()}))),onDismiss:a,size:"sm"},o.a.createElement(h.e,{maxHeight:600,paddingX:6,overflow:"auto"},t&&t.length>0?o.a.createElement(r.Fragment,null,t.map(e=>o.a.createElement(E.a,{key:e.id,showFollow:!0,showName:!0,size:"medium",subtitle:"",user:e,viewType:"thumb"})),n-t.length>0?o.a.createElement(h.e,{display:"flex",justifyContent:"center",padding:5,marginBottom:2},o.a.createElement(h.f,{disabled:i,inline:!0,onClick:e,size:"lg",text:s.a._("See more","BoardFollowerList.SeeMore","Button to load more items in the board follower list")})):null):o.a.createElement(h.e,{marginBottom:8},o.a.createElement(h.O,{accessibilityLabel:s.a._("Loading board followers","BoardModalManager.Spinner","Spinner which shows when loading board followers"),show:!0}))))}var w=n("JW66"),C=n("w70y");function O({boardId:e,followersCount:t,onDismiss:n}){const{data:r=[],fetchMore:i,isFetching:a}=Object(C.a)({name:"BoardFollowersResource",options:{board_id:e,page_size:w.a.MAX_FETCH_NUM_FOLLOWERS_PER_PAGE}});return o.a.createElement(S,{fetchMore:i,followers:r,followersCount:t,isFetching:a,onDismiss:n})}var I=n("weYu"),x=n("fhMV");const D="236x",k="474x",T="736x",M=e=>t=>t.replace(/pinimg\.com\/\d+x\d*\//,`pinimg.com/${e}/`),j=e=>[D,k,T].map((t,n)=>`${M(t)(e)} ${n+1}x`).join(", ");function P({boardId:e,customizable:t}){const n=Object(C.a)({name:"BoardFeedResource",options:{board_id:e,field_set_key:"images_only_item",filter_section_pins:!1,page_size:t?60:4}}),r=!n.isLoaded,i=(n.data||[]).filter(({type:e})=>"pin"===e).map(({images:e})=>e["236x"]);return o.a.createElement(x.a,{getDownloadImageURL:M("1200x"),getMainImageURL:M(k),getThumbnailImageSrcSet:j,id:e,images:i,isLoadingImages:r,customizable:t})}function B({onCompleteBulkDelete:e,onClearModal:t,pinCountToDelete:n}){const r=1===n?s.a._("Delete this Pin"):s.a._("Delete these Pins"),i=1===n?s.a._("Are you sure you want to permanently delete this Pin?"):s.a._("Are you sure you want to permanently delete these Pins?");return o.a.createElement(c.b,{accessibilityModalLabel:s.a._("delete Pins","accessibility label for bulk delete modal","accessibility label for bulk delete modal"),footer:o.a.createElement(h.e,null,o.a.createElement(h.e,{marginBottom:2},o.a.createElement(h.f,{text:s.a._("Cancel"),onClick:t})),o.a.createElement(h.f,{text:s.a._("Delete"),color:"red",onClick:()=>{e(),t()}})),heading:r,onDismiss:t},o.a.createElement(h.e,{paddingX:8},o.a.createElement(h.V,null,i)))}var A=n("V711");function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class L extends o.a.Component{constructor(...e){super(...e),R(this,"state",{chosenBoardId:null}),R(this,"filterCurrentBoard",e=>{const{currentBoardId:t}=this.props;return e.filter(e=>e.id!==t)}),R(this,"handleChosenBoardChange",e=>{this.setState({chosenBoardId:e.id})}),R(this,"handleConfirm",()=>{const{onCopyToBoard:e,onClearModal:t}=this.props,{chosenBoardId:n}=this.state;n&&(e(n),t())})}render(){const{onClearModal:e,pinCountToCopy:t}=this.props,{chosenBoardId:n}=this.state,r=1===t?s.a._("Pick another board for this Pin"):s.a._("Pick another board for these Pins");return o.a.createElement(c.b,{accessibilityModalLabel:s.a._("Copy your pins to a different board","BoardPage.ModalContents.BulkEditBoardPicker.accessibilityModalLabel","Accessiblilty modal label"),heading:r,onDismiss:e,footer:o.a.createElement(h.e,{display:"flex",marginStart:-1,marginEnd:-1,justifyContent:"end"},o.a.createElement(h.e,{paddingX:1},o.a.createElement(h.f,{onClick:e,text:s.a._("Cancel")})),o.a.createElement(h.e,{paddingX:1},o.a.createElement(h.f,{disabled:!n,onClick:this.handleConfirm,text:s.a._("Copy"),color:"red"})))},o.a.createElement(h.e,{padding:8,minHeight:400},o.a.createElement(A.a,{filterAllBoards:this.filterCurrentBoard,onBoardChosen:this.handleChosenBoardChange})))}}n("Xnm/");var N=n("y9Ij"),F=n("4+TC"),z=n("yjg8");function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const U=()=>{},H={__style:{zIndex:1}};class K extends o.a.PureComponent{constructor(...e){super(...e),q(this,"state",{isHovered:!1}),q(this,"hover",()=>this.setState({isHovered:!0})),q(this,"unhover",()=>this.setState({isHovered:!1})),q(this,"handlePinClick",({event:e})=>{const{save:t,unsave:n,saved:r}=this.props;e.preventDefault(),e.stopPropagation(),r?n():t()})}render(){const{children:e,boardName:t,saved:n}=this.props,{isHovered:r}=this.state;return o.a.createElement(h.e,{position:"relative"},o.a.createElement(h.e,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0},o.a.createElement(h.U,{fullHeight:!0,fullWidth:!0,onMouseEnter:this.hover,onMouseLeave:this.unhover,onTap:this.handlePinClick},(r||n)&&o.a.createElement(h.e,{position:"absolute",top:!0,paddingX:4,paddingY:4,width:z.e,dangerouslySetInlineStyle:H},n?o.a.createElement(h.e,{display:"flex",justifyContent:"center",alignItems:"center"},o.a.createElement(h.e,{flex:"grow"},o.a.createElement(F.a,{isNewlySaved:!0,url:null,name:t})),o.a.createElement("div",{className:"jumpstart-undo-icon"},o.a.createElement(h.u,{accessibilityLabel:s.a._("Undo","Undo saving a pin to a board","Undo saving a pin to a board"),bgColor:"transparentDarkGray",icon:"refresh",iconColor:"white",onClick:U}))):o.a.createElement(h.e,{display:"flex",justifyContent:"end"},o.a.createElement(h.e,null,o.a.createElement(N.b,{onClick:U,saved:n,variant:"lego"})))))),o.a.createElement("div",{style:{pointerEvents:"none"}},e))}}var V=n("5Ai/"),W=n("82UD");function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Y extends o.a.PureComponent{constructor(...e){super(...e),G(this,"scollRef",o.a.createRef()),G(this,"clickLogging",e=>{const{board:t}=this.props;Object(u.a)(101,{component:13380,element:10599,reason:e,board_id:t.id})}),G(this,"handleSave",()=>{this.clickLogging("save")}),G(this,"handleDelete",()=>{this.clickLogging("delete")}),G(this,"renderPin",({data:e,itemIdx:t})=>{const{board:n}=this.props;return o.a.createElement(V.a,{pin:e,target:{board:n},onSave:this.handleSave,onDelete:this.handleDelete,eventContext:{viewType:5,viewParameter:3173,element:10599}},({save:r,unsave:i,saved:a})=>o.a.createElement(K,{save:r,unsave:i,saved:a,boardName:n.name},o.a.createElement(W.a,{attributionOption:"hide",blockClickEvents:!0,pin:e,pinId:e.id,pinImageCrop:"none",saveButtonOptions:{type:"none"},surface:"JumpstartBoard",trackingParameters:{slotIndex:t,viewParameter:3173,viewType:5}})))})}render(){const{resource:e}=this.props;return o.a.createElement(h.e,{maxHeight:600,maxWidth:Q,overflow:"auto",ref:this.scollRef,padding:4},e.isLoaded&&e.data&&o.a.createElement(h.B,{comp:this.renderPin,columnWidth:z.e,gutterWidth:24,items:e.data,scrollContainer:()=>this.scollRef.current,loadItems:e.fetchMore}),o.a.createElement(h.O,{accessibilityLabel:s.a._("Loading pins","Loading indicator","Loading indicator"),show:e.isFetching}))}}function J({board:e}){const t=Object(C.a)({name:"BoardContentRecommendationResource",options:{type:"board",id:e.id,__track__referrer:21}});return o.a.createElement(Y,{board:e,resource:t})}var X=n("EC67");const Q=1112;function $({board:e,onDismiss:t}){const n=Object(X.g)(),r=Object(X.h)(),i=()=>{const e={...r&&r.state||{}};e.newBoard&&(delete e.newBoard,n.replace({...r,state:e})),t()};return o.a.createElement(c.b,{accessibilityModalLabel:s.a._("add pins to empty board modal","accessibility label for modal","accessibility label for modal"),allowScroll:!0,heading:s.a._("Save some pins to your new board","heading for modal to add pins to an empty board","heading for modal to add pins to an empty board"),onDismiss:i,size:Q,footer:o.a.createElement(h.e,{display:"flex",justifyContent:"end"},o.a.createElement(h.f,{color:"red",onClick:i,text:s.a._("Done","done adding pins to empty board","done adding pins to empty board"),accessibilityLabel:s.a._("Done","done adding pins to empty board","done adding pins to empty board"),inline:!0}))},o.a.createElement(J,{board:e}))}var Z=n("9WJf"),ee=n("6A0I"),te=n("VqlB"),ne=n("6vq5"),re=n("ANjH"),oe=n("0BOE"),ie=n("qyR9");function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class se extends r.Component{constructor(...e){super(...e),ae(this,"getSections",e=>{const{board:t,boardsResource:{data:{all_boards:n}},canMoveToOtherBoards:r,sectionsResource:{data:o}}=this.props,i=n.filter(e=>e.id!==t.id);return e.length>=ie.a?[o.length?{items:Object(oe.a)([t],e),customProps:{inSectionSelection:!0,isDisabled:this.isDisabled}}:{items:[]},{items:Object(oe.a)(o,e,"title"),customProps:{inSectionSelection:!0,isDisabled:this.isDisabled}},r?{items:Object(oe.a)(i,e)}:{items:[]}]:[o.length?{title:s.a._("Current board","title in move pins flow","title in move pins flow"),items:[t,...o],customProps:{inSectionSelection:!0,isDisabled:this.isDisabled}}:{items:[]},r?{title:s.a._("Other boards","heading text for a list of a user's other boards in the move pins flow","heading text for a list of a user's other boards in the move pins flow"),items:i}:{items:[]}]}),ae(this,"isDisabled",e=>e.id===this.props.selectedRowId)}render(){const{board:e,boardsResource:{error:t,isLoaded:n},boardSavedTo:r,onRowSelected:i,onSectionCreate:a,pinId:c,sectionsResource:{error:l,isLoaded:u},selectedRowId:d}=this.props;return o.a.createElement(ie.b,{key:e.id,boardSavedTo:r,createButtonLabel:s.a._("Add section","Button for creating a board section","Button for creating a board section"),disabledRowId:d,hasLoadError:!!t||!!l,isLoaded:n&&u,getSections:this.getSections,onCreate:a,onSelected:i,pinId:c})}}var ce=Object(re.compose)(Object(ne.a)({name:"BoardSectionsRepinResource",key:"sectionsResource",options:e=>({board_id:e.board.id})}),Object(ne.a)({name:"BoardPickerBoardsResource",key:"boardsResource",options:{field_set_key:"board_picker",onlyFetchBoards:!0}}))(se);function le({board:e,boardSavedTo:t,onMove:n,onSectionedBoardSelect:r,onSectionCreate:i,selectedRowId:a,showOtherBoards:c}){const l=c&&!e.section_count?s.a._("Choose board"):s.a._("Choose section","Repin title for choosing a board section","Repin title for choosing a board section");return o.a.createElement(h.e,{display:"flex",direction:"column",color:"white",flex:"grow",top:!0,bottom:!0,right:!0,position:"absolute",rounding:2,width:330,dangerouslySetInlineStyle:{__style:{borderLeft:"1px solid #f5f5f5"}}},o.a.createElement(h.e,{paddingY:3,paddingX:3},o.a.createElement(h.s,{size:"sm"},l)),o.a.createElement(ce,{board:e,boardSavedTo:t,canMoveToOtherBoards:c,onRowSelected:t=>{if("board_section"===t.type){n(e,t)}else if("board"===t.type){const o=t;o&&o.id!==e.id&&(o.section_count||0)>0?r(o):n(o,null)}},onSectionCreate:i,selectedRowId:a}))}var ue=n("8BbR"),de=n("WjpJ"),he=n.n(de);function pe({previewPin:e,extraPinCount:t,showFullImage:n}){if(!e)return o.a.createElement(ue.a,{height:214,pin:null,rounded:!0,width:142});const{description:r,images:i={},dominant_color:a}=e,s=i["474x"],c=Math.min(217*s.height/s.width,450),l=n?c:214,u=n?217:142;return o.a.createElement(ue.a,{additionalPinCount:t,height:l,pin:{description:r,dominantColor:a,imageUrl:s.url},rounded:!0,width:u})}function fe({pins:e}){const t=e.length>0&&e.length<=2?e.length:4,n=he()(0,t).map(n=>o.a.createElement("div",{key:n,style:{padding:3,display:"inline-block"}},o.a.createElement(pe,{previewPin:e[n],extraPinCount:3===n?Math.max(e.length-t,0):0,showFullImage:1===e.length})));return o.a.createElement(h.e,{display:0===e.length||e.length>2?"inlineBlock":"flex",alignItems:"center",justifyContent:"center",width:296,height:440},n)}var me=n("6SCp"),ge=n("B6Tf"),be=n("Wer7");function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ve extends o.a.Component{constructor(e){super(e),ye(this,"showSuccessToast",()=>{const{movedBoard:e,movedSection:t}=this.state,{board:n,inSelectAll:r,toastManagerContext:i}=this.props;if(r)i.showOneToast(({onHide:e})=>o.a.createElement(m.a,{duration:ge.a,onHide:e,text:s.a._("Got it! Hang tight while we move all those Pins...","Toast message for bulk pins move.","Toast message for bulk pins move.")}));else if(e){const r=t?Object(g.b)(s.a._("Moved to {{sectionName}} in {{boardName}}","Toast for successfully moving pins to a section within a board","Toast for successfully moving pins to a section within a board"),{sectionName:t.title,boardName:e.name}).join(""):Object(g.b)(s.a._("Moved to {{boardName}}","Toast for successfully moving pins to a different board","Toast for successfully moving pins to a different board"),{boardName:e.name}).join(""),a=t?`${e.url}${t.slug}`:e.url;i.showOneToast(({onHide:e})=>o.a.createElement(m.a,{duration:ge.a,href:a,imageUrl:n.image_cover_url,onHide:e,text:r}))}}),ye(this,"handleMove",(e,t)=>{const{board:n,boardSection:r,inSelectAll:o,onCompleteMove:i,movePins:a,selectedPinIds:s}=this.props,c={boardId:n.id,sectionId:r&&r.id||null},l={boardId:e.id,sectionId:t&&t.id||null};if(c.boardId===l.boardId&&c.sectionId===l.sectionId)return;const u=l.sectionId||l.boardId;this._setBoardSavedTo(u,ge.c.LOADING),a({inverseSelection:o,selectedPinIds:s,source:c,target:l}).then(()=>{this._setBoardSavedTo(u,ge.c.SUCCESS),this.setState({movedBoard:e,movedSection:t}),i()})}),ye(this,"handleSectionedBoardSelect",e=>{this.setState({initialBoardName:"",selectedBoard:e})}),ye(this,"handleSectionCreateComplete",e=>{const{onCompleteMove:t,toastManagerContext:n}=this.props;t();const r=Object(g.b)(s.a._("Moved to {{sectionName}} in {{boardName}}","moveSectionModal.handleSectionCreate.toast","Toast for successfully moving pins to a section within a board"),{sectionName:e.title,boardName:e.board.name});n.showOneToast(({onHide:t})=>o.a.createElement(m.a,{duration:ge.a,href:`${e.board.url}${e.slug}`,imageUrl:" ",onHide:t,text:r.join("")}))}),ye(this,"handleShowCreate",e=>{this.setState({initialBoardName:e,showCreate:!0})}),ye(this,"handleHideCreate",()=>{const{onClearModal:e,sectionCount:t}=this.props;0===t?e():this.setState({initialBoardName:"",showCreate:!1})});const{board:t,viewer:n}=e;this.state={boardSavedTo:null,initialBoardName:"",movedBoard:null,movedSection:null,selectedBoard:e.board,showCreate:t.owner.id!==n.id&&0===t.section_count}}componentWillUnmount(){const{invalidateResource:e,viewer:t}=this.props,{movedBoard:n,movedSection:r}=this.state;n&&(r||e("BoardFeedResource",Object(me.a)(n,t)),this.showSuccessToast())}_setBoardSavedTo(e,t){this.setState({boardSavedTo:{board:e,state:t}})}render(){const{board:e,boardSection:t,inSelectAll:n,onClearModal:r,selectedPinIds:i,selectedPins:a,shouldShowOtherBoards:l}=this.props,{boardSavedTo:u,initialBoardName:d,selectedBoard:p,showCreate:f}=this.state,m=n?330:660;return o.a.createElement(c.b,{accessibilityModalLabel:s.a._("Choose the section or board you want to move pins to","moveSectionModal.modal.accessibilityLabelForModal","Accessibility label for modal"),onDismiss:r,size:m},o.a.createElement(h.e,{color:"white",display:"flex",height:540,rounding:2,width:m},!n&&o.a.createElement(h.e,{dangerouslySetInlineStyle:{__style:{marginTop:60}},marginBottom:6,paddingX:2},o.a.createElement(fe,{pins:a})),f?o.a.createElement(ee.a,{board:p,completeCreateSectionAction:this.handleSectionCreateComplete,initialName:d,onClearModal:this.handleHideCreate,pinImport:{all:n,pinIds:i},showTitle:!0}):o.a.createElement(le,{board:p,boardSavedTo:u,onMove:this.handleMove,onSectionCreate:this.handleShowCreate,onSectionedBoardSelect:this.handleSectionedBoardSelect,selectedRowId:t&&t.id||e&&e.id,showOtherBoards:l})))}}var _e=Object(re.compose)(Object(i.connect)((e,t)=>({selectedPins:t.selectedPinIds.reduce((t,n)=>{const r=e.pins[n];return r?t.concat([r]):t},[]),shouldShowOtherBoards:Object(Z.a)({action:2,board:t.board})||!t.selectedPinIds.some(t=>{const{pins:n,viewer:r}=e,o=r,i=n[t];return i&&i.pinner&&i.pinner.id&&i.pinner.id!==o.id}),sectionCount:(e.boards.content[t.board.id]||{}).section_count,viewer:e.viewer}),(e,t)=>({invalidateResource:Object(re.bindActionCreators)(be.f,e),movePins:Object(re.bindActionCreators)(te.a,e)})),b.c)(ve),Ee=n("A6Hx"),Se=n("t9Ac"),we=n("Pv/+"),Ce=n("zpPL");function Oe(e){const{viewer:t}=Ce.a.instance&&Ce.a.instance.getState()||{};return(null==t?void 0:t.isAuth)&&(e||{}).id===t.id}var Ie=n("1inl"),xe=n("4TDQ"),De=n("NXrh");function ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Te extends o.a.Component{constructor(...e){super(...e),ke(this,"state",{section:null}),ke(this,"handleSectionChange",e=>{this.setState({section:e})}),ke(this,"handleSubmit",()=>{const{onSubmit:e}=this.props,{section:t}=this.state;t&&e(t)})}render(){const{board:e,boardSection:t,onCancel:n}=this.props,{section:r}=this.state;return o.a.createElement(c.b,{size:"md",accessibilityModalLabel:s.a._("Move Pins","BoardPage.ModalContents.SectionMergeModal","accessibility label for merging modal"),onDismiss:()=>{n()},heading:r?s.a._("Move Pins and delete section?","title for board section merging modal","title for board section merging modal"):s.a._("Move all Pins to...","title for board section merging modal","title for board section merging modal"),footer:o.a.createElement(h.e,{display:"flex",justifyContent:"end"},o.a.createElement(h.g,null,o.a.createElement(h.f,{inline:!0,onClick:n,text:s.a._("Cancel"),size:"lg"}),o.a.createElement(h.f,{color:"red",disabled:!r,inline:!0,onClick:this.handleSubmit,text:s.a._("Move Pins and delete section","button for merging a board section","button for merging a board section"),size:"lg"})))},o.a.createElement(h.e,{padding:8,minHeight:400},o.a.createElement(De.b,{board:e,mergingFromSectionId:t.id,onSectionChange:this.handleSectionChange,selectedSectionId:r?r.id:null})))}}var Me=n("uVIr"),je=n("MhBu"),Pe=n("eOdZ"),Be=n("KFEb"),Ae=n("Sihc");function Re(e,t,n){return r=>Pe.a.create("BoardSectionEditResource",{section_id:t,title:n}).callCreate({showError:!1}).then(t=>{const n=t.resource_response.data;return r(function(e,t){return n=>{const r=t.board;r&&r.id!==e?(n(Object(we.b)(e,t.id)),n(Object(je.a)({feedId:e,feedType:Be.a.BOARD_SECTIONS,itemIds:[t.id],itemType:"board_section"})),n(Object(d.c)(e,"pin_count")),n(Object(Ae.b)(r.id,t)),n(Object(Me.a)({feedId:r.id,feedType:Be.a.BOARD_SECTIONS,itemIds:[t.id],itemType:"board_section"})),n(Object(d.c)(e,"pin_count"))):n({type:"SECTION_UPDATED",payload:{boardId:e,section:t}})}}(e,n)),r(Object(be.f)("BoardSectionsRepinResource",{board_id:e})),n})}var Le=n("vVEi");function Ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Fe extends r.Component{constructor(...e){super(...e),Ne(this,"state",{deleting:!1,editMode:"main",title:this.props.boardSection.title}),Ne(this,"handleSaveSection",e=>{if(e.preventDefault(),this.saveDisabled())return;const{board:t,boardSection:n,dispatch:r,onSaveSection:o}=this.props,{title:i}=this.state;r(Re(t.id,n.id,i.trim())).then(o).catch(e=>this.setState({titleErrorMessage:e.message||s.a._("Invalid section name","error message of section name input field","error message of section name input field")}))}),Ne(this,"saveDisabled",()=>this.state.title===this.props.boardSection.title||""===this.state.title.trim()),Ne(this,"handleChangeTitle",({value:e})=>{this.setState({title:e,titleErrorMessage:void 0})}),Ne(this,"handleDeleteSectionButtonClick",()=>{this.setState({editMode:"confirmDelete"})}),Ne(this,"handleMergeButtonClick",()=>{this.setState({editMode:"merge"})}),Ne(this,"handleBackToMainMenu",()=>{this.setState({editMode:"main"})}),Ne(this,"handleDeleteSection",()=>{const{board:e,boardSection:t,dispatch:n,onDeleteSection:r,toastManagerContext:i}=this.props;if(this.state.deleting)return;const{id:a}=t;this.setState({deleting:!0}),n(Object(we.a)(e.id,a)).then(()=>{r(),i.showToast(({onHide:e})=>o.a.createElement(m.a,{onHide:e,text:s.a._("Section deleted!","Toast for successfully deleting a board section","Toast for successfully deleting a board section")}))}).catch(e=>Ie.a.showError(e.message||s.a._("Failed to delete the section","error message for failed to delete section","error message for failed to delete section")))}),Ne(this,"handleMergeSection",e=>{const{board:t,boardSection:n,dispatch:r,showBlockingActionToast:o,onDeleteSection:i}=this.props;this.state.deleting||(this.setState({deleting:!0}),Object(u.a)(7173,{objectId:n.id,merge_flow:"menu"}),r(Object(xe.a)(t.id,n.id,e.id)).then(i).then(()=>{o({actionType:"merge",board:t,section:e})}).catch(e=>Ie.a.showError(e.message||s.a._("Failed to merge the section","error message for failed to merge section","error message for failed to merge section"))))})}componentDidMount(){window.requestAnimationFrame(()=>{const e=this._textField;e&&(e.focus(),e.select())})}render(){const{board:e,boardSection:t,onClearModal:n}=this.props,{title:r,titleErrorMessage:i,editMode:a}=this.state,l=Oe(t.user)||Object(Z.a)({action:10,board:e}),u=e.section_count>1&&(Oe(t.user)||Object(Z.a)({action:13,board:e}));return"confirmDelete"===a?o.a.createElement(f.a,{confirmButtonLabel:s.a._("Delete section","button for deleting a board section","button for deleting a board section"),onCancel:this.handleBackToMainMenu,onConfirm:this.handleDeleteSection,message:s.a._("Once you delete a section and all its Pins, you can't undo it!")}):"merge"===a?o.a.createElement(Te,{board:e,boardSection:t,onCancel:this.handleBackToMainMenu,onSubmit:this.handleMergeSection}):o.a.createElement(c.b,{accessibilityModalLabel:s.a._("Edit your section"),size:"md",onDismiss:n,heading:s.a._("Edit your section"),footer:o.a.createElement(h.e,{justifyContent:"between",display:"flex"},o.a.createElement(h.l,{span:6},(l||u)&&o.a.createElement(h.e,{display:"flex",marginStart:-1,marginEnd:-1},l&&o.a.createElement(h.e,{paddingX:1},o.a.createElement(h.f,{onClick:this.handleDeleteSectionButtonClick,inline:!0,text:s.a._("Delete","Delete button","Delete button")})),u&&o.a.createElement(h.e,{paddingX:1},o.a.createElement(h.f,{inline:!0,onClick:this.handleMergeButtonClick,text:s.a._("Merge","button for merging a board section","button for merging a board section")})))),o.a.createElement(h.l,{span:6},o.a.createElement(h.e,{display:"flex",justifyContent:"end"},o.a.createElement(h.e,{marginEnd:3},o.a.createElement(h.f,{text:s.a._("Cancel"),onClick:n,inline:!0})),o.a.createElement(h.f,{type:"submit",color:"red",text:s.a._("Save"),inline:!0,disabled:this.saveDisabled(),onClick:({event:e})=>{this.handleSaveSection(e)}}))))},o.a.createElement("form",{onSubmit:this.handleSaveSection},o.a.createElement(h.e,{display:"flex",direction:"column",padding:8},o.a.createElement(h.X,{errorMessage:i,id:"title",label:s.a._("Name"),onChange:this.handleChangeTitle,ref:e=>{this._textField=e},size:"lg",value:r}))))}}var ze=Object(re.compose)(Object(i.connect)(),Le.d,b.c)(Fe);function qe({source:e,target:t,onConfirm:n,onCancel:r}){return o.a.createElement(c.b,{accessibilityModalLabel:s.a._("Move Pins and delete section?","title for board section merging confirmation","title for board section merging confirmation"),heading:s.a._("Move Pins and delete section?","title for board section merging confirmation","title for board section merging confirmation"),onDismiss:r,footer:o.a.createElement(h.e,{display:"flex",justifyContent:"end"},o.a.createElement(h.g,null,o.a.createElement(h.f,{inline:!0,onClick:r,text:s.a._("Cancel")}),o.a.createElement(h.f,{color:"red",inline:!0,onClick:n,text:s.a._("Move Pins and delete section","button for merging a board section","button for merging a board section")})))},o.a.createElement(h.e,{padding:8},o.a.createElement(h.V,null,Object(g.b)(s.a._("You're about to move all Pins from your {{ sourceName }} section to your {{ targetName }} section.","helper text for section merge confirmation modal","helper text for section merge confirmation modal"),{sourceName:o.a.createElement(h.V,{inline:!0,key:"source",weight:"bold"},e.title),targetName:o.a.createElement(h.V,{inline:!0,key:"target",weight:"bold"},t.title)}))))}function Ue({index:e,isSelected:t,pin:n,handlePinSelectionChanged:i}){const a=n.id,s=Object(r.useCallback)(({event:e})=>{e.preventDefault(),e.stopPropagation(),i(a,!t)},[a,t]);return o.a.createElement(h.U,{onTap:s,rounding:4},o.a.createElement(W.a,{attributionOption:"hide",blockClickEvents:!0,pin:n,pinId:n.id,pinImageCrop:"none",saveButtonOptions:{type:"none"},selectionState:t?"selected-image-only":"deselected-image-only",surface:"SectionSuggestedPins",trackingParameters:{slotIndex:e}}))}var He=n("shej");function Ke({boardId:e,clusterId:t,onDismiss:n,suggestedSectionTitle:a}){const l=Object(r.useRef)(null),[p,f]=Object(r.useState)([]),[m,g]=Object(r.useState)(a),b=Object(C.a)({name:"SectionSuggestionsPinsResource",options:{boardId:e,clusterId:t}}),y=Object(i.useDispatch)(),v=Object(r.useCallback)(()=>{if(b.data){const t=b.data.map(e=>e.id),r=t.length,o=t.filter(e=>!p.includes(e));y(Object(Ae.a)({boardId:e,name:m||""})).then(t=>{y(Object(te.a)({inverseSelection:!1,selectedPinIds:o,source:{boardId:e,sectionId:null},target:{boardId:e,sectionId:t.id}}))}).then(()=>{y(Object(d.c)(e,"pin_count")),Object(u.a)(8606,{number_pins_suggested:r,number_pins_selected:o.length,objectId:e,section_title:m,suggested_section_name:a,view:5,viewParameter:3069}),n(),y(Object(He.b)())})}},[m,p]),_=(e,t)=>{const n=[...p],r=n.indexOf(e);t&&-1!==r?n.splice(r,1):t||-1!==r||n.push(e),f(n)};return o.a.createElement(c.b,{accessibilityModalLabel:s.a._("Add suggested pins to your newly created section modal","sectionSuggestionPinsModal.modal.accessibilityLabelForModal","Accessibility label for modal"),allowScroll:!0,footer:o.a.createElement(h.e,{display:"flex",justifyContent:"end",paddingX:2},o.a.createElement(h.e,{display:"inlineBlock",marginEnd:2},o.a.createElement(h.f,{inline:!0,onClick:()=>{n(),y(Object(He.b)()),Object(u.a)(8607,{objectId:e,suggested_section_name:a,view:5,viewParameter:3069})},text:s.a._("Not now","sectionSuggestionPinsModal.footer.cancelButton","Cancel creating a board section")})),o.a.createElement(h.e,{display:"inlineBlock"},o.a.createElement(h.f,{color:"red",inline:!0,onClick:v,text:s.a._("Add section","sectionSuggestionPinsModal.footer.addSectionButton","Add pins and section")}))),heading:s.a._("Pick your Pins and you're all set!","sectionSuggestionPinsModal.modal.heading","Heading for modal to add suggested pins to your newly created section"),onDismiss:n,size:704},o.a.createElement(h.e,{maxHeight:600,maxWidth:704,ref:l,overflow:"auto"},o.a.createElement(h.e,{padding:4,paddingX:2},o.a.createElement(h.V,{size:"md"},s.a._("Section name","sectionSuggestionPinsModal.modal.sectionNameTitle","Title for section name")),o.a.createElement(h.e,{paddingY:2},o.a.createElement(h.X,{id:"SectionSuggestionPinsTitle",onChange:({value:e})=>{g(e)},placeholder:s.a._("Add a name for this group","sectionSuggestionPinsModal.modal.sectionNameTitle.placeholder","Placeholder for section name"),size:"lg",value:m||""}))),b.isLoaded&&b.data&&l&&l.current&&o.a.createElement(h.B,{columnWidth:152,comp:({data:e,itemIdx:t})=>o.a.createElement(Ue,{index:t,isSelected:!p.includes(e.id),pin:e,handlePinSelectionChanged:_}),gutterWidth:16,items:b.data,loadItems:b.fetchMore,scrollContainer:()=>l.current}),o.a.createElement(h.O,{accessibilityLabel:s.a._("Loading pins","sectionSuggestionPinsModal.modal.spinner","Loading indicator"),show:b.isFetching})))}var Ve=n("juW8");function We({actions:e,board:t,boardSection:n,bulkEditSelectedPins:r,currentModal:i,groupPinsData:a,inSelectAll:s,onClearModal:c,mergeConfirmationModalProps:l}){const{completeCreateSectionAction:u,completeMoveAction:d,onBoardArchiveChange:h,onBoardDelete:f,onBoardLeave:m,onBoardSectionDelete:g,onBoardSectionSave:b,onCollaboratorInviteClick:E,onCopyPinsToBoard:S,onDeletePins:w,onBoardMerge:C}=e;switch(i){case Ve.a.addOrEditDate:return o.a.createElement(p,{boardId:t.id,onClose:c});case Ve.a.boardArchiveConfirmation:return h?o.a.createElement(y,{shouldArchive:!0,board:t,onClose:c,onConfirm:h}):null;case Ve.a.boardUnarchiveConfirmation:return h?o.a.createElement(y,{shouldArchive:!1,board:t,onClose:c,onConfirm:h}):null;case Ve.a.boardEdit:return o.a.createElement(_.a,{boardId:t.id,onBoardArchiveChange:h,onBoardDelete:f,onBoardLeave:m,onClose:c,onCollaboratorInviteClick:E});case Ve.a.bulkDelete:return w?o.a.createElement(B,{pinCountToDelete:r&&r.length||0,onCompleteBulkDelete:w,onClearModal:c}):null;case Ve.a.bulkCopy:return S?o.a.createElement(L,{currentBoardId:t.id,onCopyToBoard:S,onClearModal:c,pinCountToCopy:r&&r.length||0}):null;case Ve.a.collaboratorsAndPermissions:return o.a.createElement(v.a,{board:t,onDismiss:c});case Ve.a.editSection:return n?o.a.createElement(ze,{board:t,boardSection:n,onClearModal:c,onDeleteSection:g,onSaveSection:b}):null;case Ve.a.mergeBoard:return C?o.a.createElement(I.a,{onCancel:c,onSubmit:C,sourceBoardId:t.id}):null;case Ve.a.moveSection:return!!r&&!!d&&o.a.createElement(_e,{board:t,boardSection:n,inSelectAll:s,selectedPinIds:r,onClearModal:c,onCompleteMove:d});case Ve.a.sectionMergeConfirm:return l?o.a.createElement(qe,{onCancel:c,onConfirm:l.onConfirm,source:l.source,target:l.target}):null;case Ve.a.followers:return o.a.createElement(O,{boardId:t.id,onDismiss:c,followersCount:t.follower_count});case Ve.a.pincode:return o.a.createElement(Ee.a,{onHide:c,objectId:t.id},o.a.createElement(P,{boardId:t.id,customizable:!!t.owner.is_partner}));case Ve.a.jumpstartBoard:return o.a.createElement($,{board:t,onDismiss:c});case Ve.a.simpleCreateSection:return u?o.a.createElement(Se.a,{selectedBoard:t,onClose:c,onSectionCreate:u}):null;case Ve.a.groupPins:return o.a.createElement(Ke,{boardId:t.id,clusterId:null==a?void 0:a.clusterId,suggestedSectionTitle:null==a?void 0:a.suggestedSectionName,onDismiss:c});default:return null}}},fOPN:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ADD_SOURCE="dnd-core/ADD_SOURCE",t.ADD_TARGET="dnd-core/ADD_TARGET",t.REMOVE_SOURCE="dnd-core/REMOVE_SOURCE",t.REMOVE_TARGET="dnd-core/REMOVE_TARGET",t.addSource=function(e){return{type:t.ADD_SOURCE,payload:{sourceId:e}}},t.addTarget=function(e){return{type:t.ADD_TARGET,payload:{targetId:e}}},t.removeSource=function(e){return{type:t.REMOVE_SOURCE,payload:{sourceId:e}}},t.removeTarget=function(e){return{type:t.REMOVE_TARGET,payload:{targetId:e}}}},fUU4:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("v83y");t.default={handleKeyCommand:function(e,t,n,o){var i=o.setEditorState,a=void 0;switch(e){case"backspace":case"backspace-word":case"backspace-to-start-of-line":a=r.RichUtils.onBackspace(t);break;case"delete":case"delete-word":case"delete-to-end-of-block":a=r.RichUtils.onDelete(t);break;default:return"not-handled"}return null!=a?(i(a),"handled"):"not-handled"}}},fZG9:function(e,t,n){n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return y}));var r=n("bNC6"),o=n("HMdf"),i=n("+lzj"),a=n("SyXB"),s=n("nEAA");const c=(e,t)=>(e||[]).reduce((e,n)=>({...e,["experiment."+n]:Object(s.d)(t(n))}),{}),l=(e,t)=>"number"==typeof t?e(t):null,u=e=>e.reduce((e,t)=>e+t,0),d=(e,t)=>Object.keys(t).reduce((n,r)=>({...n,[`${e}${r}`]:t[r]}),{}),h=e=>{if(!e.length)return{};const t=e.map(({startTime:e,requestStart:t,responseStart:n,responseEnd:r})=>{const o=t||e;return{startTime:e,requestStart:o,responseStart:n||o,responseEnd:r}}),n=u(t.map(e=>e.requestStart-e.startTime)),r=u(t.map(e=>e.responseStart-e.requestStart)),o=u(t.map(e=>e.responseEnd-e.responseStart)),i=n+r+o,a=u(e.map(e=>e.decodedBodySize||0));return{decodedBodySize:Object(s.b)((c=a,Number(Number(c/1024).toFixed(3)))),"duration.all":Object(s.b)(i),"duration.requestStartToResponseStart":Object(s.b)(r),"duration.responseStartToResponseEnd":Object(s.b)(o),"duration.startToRequestStart":Object(s.b)(n)};var c},p=e=>{const t=e.filter(e=>!!e.responseEnd);return{...e.length?{...h(t),"count.completed":Object(s.b)(t.length)}:{},"count.all":Object(s.b)(e.length)}},f=e=>{const t=e.reduce((e,t)=>(e[t.category]=(e[t.category]||[]).concat([t]),e),{}),n={script:t.script,script_deferred:e.filter(e=>e.isDeferred),external:e.filter(e=>e.isExternal),css:t.css,image:t.image,video:t.video,xmlhttprequest:t.xmlhttprequest,visually_complete:e.filter(e=>e.isVisuallyCompleteRequired)};return Object.keys(n).reduce((e,t)=>({...e,...d(`resource.${t}.`,p((n[t]||[]).map(e=>e.timing)))}),{})},m=(e,t)=>{const{devicePixelRatio:n,navigator:o,innerWidth:i,innerHeight:a}=window,{deviceMemory:c,hardwareConcurrency:l,platform:u,userAgent:d}=o,{appType:h,appVersion:p,browserName:f,browserVersion:m,deviceType:g,isBot:b,isSocialBot:y,locale:v,osName:_,stageName:E}=t,S="desktop"===g?h||5:h||6,w="surface"===e.type&&"initial_app_load"===e.navigationType?1:4;return{"app.type":Object(s.c)(S),"app.version":Object(s.d)(p),"browser.name":Object(s.d)(f),"browser.version":Object(s.d)(m),"cpu.speed":Object(s.c)(l),"device.memory":Object(s.c)(c),"device.type":Object(s.c)(0),"device.typeName":Object(s.d)(g),"device.version":Object(s.d)("unknown"),"pwt.cause":Object(s.c)(w),"pwt.result":Object(s.c)(1),"view.type":Object(s.b)(0),"viewport.height":Object(s.b)(a||0),"viewport.width":Object(s.b)(i||0),devicePixelRatio:Object(s.b)(n||0),isBot:Object(s.a)(b),isSocialBot:Object(s.a)(y),locale:Object(s.d)(v),osName:Object(s.d)(_),platform:Object(s.d)(u||null),profilerVersion:Object(s.d)("3"),pwtActionName:Object(s.c)(Object(r.a)(e)),stageName:Object(s.d)(E),userAgent:Object(s.d)(d)}},g=({metricId:e,pwtStaticContext:t,binaryAnnotations:n={},performanceResourceTimings:r=[]})=>{let i={};{const{connection:e,hardwareConcurrency:t,deviceMemory:n}=window.navigator;i={"net.effectiveType":Object(s.d)((null==e?void 0:e.effectiveType)||null),"net.rtt":Object(s.b)(l(e=>10*Math.round(e/10),null==e?void 0:e.rtt)),"net.speed":Object(s.b)(Object(o.b)(r,!1)),"cpu.threads":Object(s.c)(t),"memory.size":Object(s.b)(n)}}return{...m(e,t),...n,...i}},b=(e,t,n,r)=>{var c;const{navigator:d}=window,{connection:h,serviceWorker:p}=d,{surface:f,navigationType:m,isAuthenticated:g}=e,{cumulativeLayoutShiftScore:b,longTaskDurations:y}=Object(i.b)();return{...y.length?{"longTask.count":Object(s.b)(y.length),"longTask.maxDuration":Object(s.b)(Math.max(...y)),"longTask.totalDuration":Object(s.b)(u(y))}:{},cumulativeLayoutShiftScore:Object(s.b)(100*b),"masonry.paginationMarkCount":Object(s.b)(Object(a.e)(a.a,t)),"metricId.isAuthenticated":Object(s.a)(g),"metricId.navigationType":Object(s.d)(m),"metricId.surface":Object(s.d)(f),"net.effectiveType":Object(s.d)((null==h?void 0:h.effectiveType)||null),"net.rtt":Object(s.b)(l(e=>10*Math.round(e/10),null==h?void 0:h.rtt)),"net.speed":Object(s.b)(Object(o.b)(n)),entryChunkAfterDoc:Object(s.a)(r),resourceBufferClearedCount:Object(s.c)(Object(a.e)("resourceBufferCleared",t)),scrollDuringLayout:Object(s.a)(Object(a.f)("scrollDuringLayout",t)),serviceWorker:Object(s.a)(p?!!p.controller:null),serviceWorkerState:Object(s.d)((null==p||null===(c=p.controller)||void 0===c?void 0:c.state)||null)}},y=({annotateExperiments:e,binaryAnnotations:t={},entries:n,entryChunkAfterDoc:r,metricId:o,performanceResources:i,pwtEndTime:a,pwtStaticContext:s})=>({...t,...f(i),...c(e,s.getExperimentGroup),...m(o,s),...b(o,a,n,r)})},fevN:function(e,t,n){n.d(t,"a",(function(){return l}));var r=n("q1tI"),o=n.n(r),i=n("Ye/N"),a=n("rYoy"),s=n("n6mq");const c=Object(r.lazy)(()=>n.e("SendObjectWrapperCommon").then(n.bind(null,"geGc")));function l(e){return o.a.createElement(a.a,{fallback:o.a.createElement(s.e,{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",padding:2},o.a.createElement(s.O,{accessibilityLabel:i.a._("Loading sharing","Accessibility label for loading sharing UI","Accessibility label for loading sharing UI"),show:!0}))},o.a.createElement(c,e))}},fhMV:function(e,t,n){n.d(t,"a",(function(){return T}));var r=n("q1tI"),o=n.n(r),i=n("Ye/N"),a=n("dH2W");const s="M0 111c0 47 29.3 87.2 70.6 103.4-1-8.8-2-22.3.3-32l13-55s-3.4-6.7-3.4-16.5c0-15.6 9-27 20-27 9.6 0 14.2 7 14.2 15.5 0 9.6-6 23.8-9.2 37-2.7 11 5.5 20 16.4 20 19.7 0 35-20.7 35-50.8 0-26.5-19.2-45-46.5-45-31.5 0-50 23.6-50 48 0 9.6 3.6 19.8 8.2 25.4 1 1.2 1 2 .7 3.3l-3 12.5c-.5 2-1.6 2.5-3.8 1.5-13.8-6.4-22.5-26.7-22.5-43 0-35 25.6-67 73.5-67 38.5 0 68.4 27.3 68.4 64 0 38.2-24.2 69-57.7 69-11.3 0-21.8-5.8-25.4-12.7L92 188c-2.6 9.6-9.3 21.7-14 29 10.5 3.3 21.6 5 33 5 61.3 0 111-49.7 111-111S172.3 0 111 0 0 49.7 0 111z",c="#e60023",l="0 0 222 222";function u({size:e}){return o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:l},o.a.createElement("path",{d:s,fill:c,fillRule:"evenodd"}))}var d=n("n6mq");function h({getThumbnailImageSrcSet:e,images:t,onTouch:n}){return o.a.createElement(d.e,{display:"flex",justifyContent:"start",maxHeight:328,overflow:"auto",padding:1,wrap:!0},["logo"].concat(t).map((t,r)=>o.a.createElement(d.e,{key:"logo"===t?t:t.url,padding:1},o.a.createElement(d.i,null,o.a.createElement(d.U,{fullWidth:!1,onTap:()=>n("logo"===t?"logo":r-1),rounding:2},o.a.createElement(d.A,{rounding:"circle",width:85,height:85},"logo"===t?o.a.createElement(u,{size:85}):o.a.createElement(d.v,{alt:i.a._("Pincode Hero Image","accessibility label for the Pincode hero image","accessibility label for the Pincode hero image"),color:t.dominant_color||"#b5b5b5",fit:"cover",naturalHeight:t.height,naturalWidth:t.width,src:t.url,srcSet:e&&e(t.url)})))))))}var p=n("6vq5");const f="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(`\n  <svg xmlns="http://www.w3.org/2000/svg" width="${m||222}" height="${m||222}" x="${g||0}" y="${g||0}" viewBox="0 0 222 222">\n    <path d="${s}" fill="#e60023" fill-rule="evenodd" />\n  </svg>`.trim());var m,g;const b=600;function y(e,t,n){return`\n    <image id="image"\n      x="${100+("right"===t?300:0)}"\n      y="${100+("bottom"===n?300:0)}"\n      width="${b/("row"===t?1:2)}"\n      height="${b/("column"===n?1:2)}"\n      xmlns:xlink="http://www.w3.org/1999/xlink"\n      xlink:href="${e}"\n      preserveAspectRatio="xMidYMid slice"\n    />`}function v(e,t){const n=function(e){switch(e.length){case 0:case 1:return;case 2:return[y(e[0],"left","column"),y(e[1],"right","column")].join("");case 3:return[y(e[0],"left","column"),y(e[1],"right","top"),y(e[2],"right","bottom")].join("");default:return[y(e[0],"left","top"),y(e[1],"right","top"),y(e[2],"left","bottom"),y(e[3],"right","bottom")].join("")}}(t);return n?e.replace(/<image[^>]*>/,n):e}class _ extends r.Component{constructor(...e){var t,n,r;super(...e),r=()=>{const{pincodeImageResource:e,onFetchingChange:t}=this.props;t(e.isFetching)},(n="handleFetchChange")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}componentDidMount(){const{pincodeImageResource:e}=this.props;e.isFetching||this.handleFetchChange()}componentDidUpdate(e){this.props.pincodeImageResource.isFetching!==e.pincodeImageResource.isFetching&&this.handleFetchChange()}render(){const{className:e,imageUrls:t,size:n,pincodeImageResource:{data:r,isLoaded:a}}=this.props,s=n,c=n;return o.a.createElement(d.e,{display:"flex",justifyContent:"center",alignItems:"center",width:s,height:c},a&&!!r&&o.a.createElement("div",{className:e,dangerouslySetInnerHTML:{__html:v(r,t)},style:{width:s,height:c}}),o.a.createElement(d.O,{accessibilityLabel:i.a._("Loading Pincode Image","accessibility label for loading the Pincode image","accessibility label for loading the Pincode image"),show:!r}))}}var E=Object(p.a)({name:"PincodeImageResource",key:"pincodeImageResource",options:({id:e,imageUrls:t})=>({object_id:e,hero_image_url:t[0]||f})})(_),S=n("U4JR");function w(e){return new Promise((t,n)=>{const r=new XMLHttpRequest;r.ontimeout=n,r.onreadystatechange=()=>{if(4!==r.readyState)return;if(200!==r.status)return void n();const e=new FileReader;e.onloadend=()=>{const r=e.result;"string"==typeof r?t(r.split(/,/)[1]):n()},e.readAsDataURL(r.response)},r.open("GET",e,!0),r.timeout=3e4,r.responseType="blob",r.send()})}function C(e,t){if(!(e instanceof Element))return Promise.resolve(e);if(e instanceof window.SVGImageElement)return function(e,t){const n=e.href.baseVal;if(n.startsWith("data:"))return Promise.resolve();const r=t?t(n):n;return Promise.resolve(r).then(w).then(e=>`data:${function(e){const t=e.match(/\.([^\.\/]*?)$/);switch(t&&t[1]){case"jpg":case"jpeg":return"image/jpeg";case"png":return"image/png";case"gif":return"image/gif";default:return""}}(r)};base64,${e}`).then(t=>new Promise((n,r)=>{e.onerror=r,e.href.baseVal=t,window.requestAnimationFrame(n)}))}(e,t);const n=Array.from(e.childNodes);return Promise.all(n.map(e=>C(e,t)))}function O(e,t){return new Promise((n,r)=>{const o=document.createElement("div");o.innerHTML=e.innerHTML,C(o,t).then(()=>{const t=new Image;t.onload=()=>{window.requestAnimationFrame(()=>n(t))},t.onerror=r;const i=o&&o.querySelector("svg");i&&(/^[0-9]+$/.test(i.getAttribute("width")||"")||i.setAttribute("width",""+e.scrollWidth),/^[0-9]+$/.test(i.getAttribute("height")||"")||i.setAttribute("height",""+e.scrollHeight));const a=o.innerHTML.replace(/(xmlns="[^"]+"[^>]*)\ xmlns="[^"]+"/,"$1");t.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(a.trim())})})}function I(e,t){return new Promise((n,r)=>{(function(e){return new Promise((t,n)=>{if(e.toBlob)return void e.toBlob(t);let r="";try{r=e.toDataURL("image/png")}catch(s){n()}const o=window.atob(r.split(",")[1]),i=o.length,a=new Uint8Array(i);for(let e=0;e<i;e+=1)a[e]=o.charCodeAt(e);t(new window.Blob([a],{type:"image/png"}))})})(e).then(e=>window.URL.createObjectURL(e)).then(e=>{const r=document.createElement("a");r.download=t,r.href=e,r.style.display="none",window.document.body.appendChild(r),window.requestAnimationFrame(()=>{const t=()=>{window.requestAnimationFrame(()=>{window.URL.revokeObjectURL(e),r.removeAttribute("href"),r.removeEventListener("click",t),window.document.body.removeChild(r),n()})};r.addEventListener("click",t),r.click()})}).catch(r)})}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const D="pincodeMain",k="pincodeCTA";class T extends o.a.PureComponent{constructor(...e){super(...e),x(this,"state",{ctaIsLoaded:!1,errorFlyoutIsOpen:!1,isDownloading:!1,isFetchingPincodeImage:!1,isPickingHeroImage:!1,pickedImageIndex:0}),x(this,"getCustomHeroImages",()=>{const{images:e,customizable:t}=this.props,{pickedImageIndex:n}=this.state;if(!t)return e;const r="logo"!==n&&e[n];return r?[r]:[]}),x(this,"normalizeUrl",e=>{const{getMainImageURL:t}=this.props;return(e=>e.replace(/^https:\/\/[^\/]{2,}\.pinimg.com\//,"https://i.pinimg.com/"))((t||(e=>e))(e))}),x(this,"handleFetchChange",e=>{this.setState({isFetchingPincodeImage:e})}),x(this,"handleCancelButtonClick",()=>this.setState({isPickingHeroImage:!1})),x(this,"handleEditButtonClick",()=>this.setState({isPickingHeroImage:!0})),x(this,"handleSelectImage",e=>this.setState({isPickingHeroImage:!1,pickedImageIndex:e})),x(this,"downloadPincodeImage",()=>{const e=this.previewNode,{ctaIsLoaded:t,isFetchingPincodeImage:n,isDownloading:r}=this.state;if(!e||!t||n||r)return;const o=e.querySelector(".pincodeMain"),i=e.querySelector(".pincodeCTA");if(!o||!i)return;const{getDownloadImageURL:a,id:s}=this.props;Object(S.a)(7078,{component:13141,objectId:s}),this.setState({isDownloading:!0}),Promise.all([O(o,a),O(i)]).then(e=>{const[t,n]=e;return((e,t)=>{const n=document.createElement("canvas");n.width=3544,n.height=3544;const r=Math.round(.1*n.width),o=Math.round(.05*n.width),i=n.width-2*r,a=n.width-2*o,s=n.height-i,[c,l]=t.width/t.height>a/s?[a,a/t.width*t.height]:[s/t.height*t.width,s],u=n.getContext("2d");return u.fillStyle="#fff",u.fillRect(0,0,n.width,n.height),u.drawImage(e,r,0,i,i),u.drawImage(t,(n.width-c)/2,i+(n.height-i-l)/2,c,l),n})(t,n)}).then(e=>I(e,`pincode_${this.props.id}.png`)).then(()=>{this.setState({isDownloading:!1})}).catch(()=>{this.setState({errorFlyoutIsOpen:!0})})})}render(){const{id:e,isLoadingImages:t,images:n,getThumbnailImageSrcSet:r,customizable:s}=this.props,{ctaIsLoaded:c,errorFlyoutIsOpen:l,isFetchingPincodeImage:u,isDownloading:p,isPickingHeroImage:f}=this.state;return f?o.a.createElement(d.e,{width:350,color:"white",rounding:2,padding:4},o.a.createElement(d.e,null,o.a.createElement(d.e,{paddingY:1},o.a.createElement(d.s,{size:"md",truncate:!0},i.a._("Change Image","Title of the Pincode hero image picker modal","Title of the Pincode hero image picker modal"))),o.a.createElement(d.o,null),o.a.createElement(h,{images:n,getThumbnailImageSrcSet:r,onTouch:this.handleSelectImage}),o.a.createElement(d.e,{padding:1},o.a.createElement(d.f,{text:i.a._("Cancel","Button to dismiss Pincode hero image picker","Button to dismiss Pincode hero image picker"),onClick:this.handleCancelButtonClick})))):o.a.createElement(d.e,{width:350,color:"white",rounding:2,padding:4},o.a.createElement(d.e,null,o.a.createElement(d.e,{ref:e=>{this.previewNode=e}},o.a.createElement(d.e,{color:"white",display:"flex",direction:"column",alignItems:"center",justifyContent:"center",width:"100%",height:288},t?o.a.createElement(d.e,{width:"100%",height:230,display:"flex",justifyContent:"center",alignItems:"center"},o.a.createElement(d.O,{accessibilityLabel:i.a._("Loading","accessibility label for loading spinner","accessibility label for loading spinner"),show:!0})):o.a.createElement(E,{className:D,id:e,imageUrls:this.getCustomHeroImages().map(e=>this.normalizeUrl(e.url)),onFetchingChange:this.handleFetchChange,size:230}),o.a.createElement(d.e,{display:"flex",justifyContent:"center",alignItems:"center"},o.a.createElement("div",{className:k},o.a.createElement(a.default,{onCtaDidLoad:()=>this.setState({ctaIsLoaded:!0}),width:300,height:55}))))),o.a.createElement(d.e,{marginTop:2,padding:1},s&&n.length>0&&o.a.createElement(d.e,{paddingY:1},o.a.createElement(d.f,{text:i.a._("Change Image","Button to pick Pincode hero image","Button to pick Pincode hero image"),onClick:this.handleEditButtonClick})),o.a.createElement(d.e,{paddingY:1},o.a.createElement(d.e,{ref:e=>{this.downloadButton=e}},o.a.createElement(d.f,{text:i.a._("Download Pincode","Button to download the Pincode image","Button to download the Pincode image"),color:"red",onClick:this.downloadPincodeImage,disabled:t||!c||u||p})),l&&o.a.createElement(d.q,{anchor:this.downloadButton,color:"red",idealDirection:"down",onDismiss:()=>this.setState({errorFlyoutIsOpen:!1}),size:"sm",shouldFocus:!1},o.a.createElement(d.e,{padding:3},o.a.createElement(d.V,{color:"white",weight:"bold"},o.a.createElement("span",null,i.a._("Oops! Your browser does not support downloading Pincodes.","Error message shown when user attempts to download Pincode on a browser not supported","Error message shown when user attempts to download Pincode on a browser not supported")))))))))}}},fpRd:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("q1tI").memo((function(e){var t=e.connect,n=e.src;if("undefined"!=typeof Image){var r=new Image;r.src=n,r.onload=function(){return t(r)}}return null}));r.displayName="DragPreviewImage",t.default=r},fxrM:function(e,t,n){e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},fyOY:function(e,t,n){var r=n("lFJn"),o=n("M6rc"),i=n("ilWa"),a=n("c203"),s=n("DYKh"),c=n("zVay"),l=n("L2EA"),u=n("81KI"),d=n("mFyV"),h=n("Mh8y"),p=n("bu5B"),f=n("fEyW"),m=n("B0ab"),g=c.OrderedSet,b={replaceText:function(e,t,n,o,i){var a=p(e,t),s=f(a,t),c=r.create({style:o||g(),entity:i||null});return u(s,s.getSelectionAfter(),n,c)},insertText:function(e,t,n,r,o){return t.isCollapsed()||d(!1),b.replaceText(e,t,n,r,o)},moveText:function(e,t,n){var r=s(e,t),o=b.removeRange(e,t,"backward");return b.replaceWithFragment(o,n,r)},replaceWithFragment:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"REPLACE_WITH_NEW_DATA",o=p(e,t),i=f(o,t);return l(i,i.getSelectionAfter(),n,r)},removeRange:function(e,t,n){var r,o,i,s;t.getIsBackward()&&(t=t.merge({anchorKey:t.getFocusKey(),anchorOffset:t.getFocusOffset(),focusKey:t.getAnchorKey(),focusOffset:t.getAnchorOffset(),isBackward:!1})),r=t.getAnchorKey(),o=t.getFocusKey(),i=e.getBlockForKey(r),s=e.getBlockForKey(o);var c=t.getStartOffset(),l=t.getEndOffset(),u=i.getEntityAt(c),d=s.getEntityAt(l-1);if(r===o&&u&&u===d){var h=a(e.getEntityMap(),i,s,t,n);return f(e,h)}var m=p(e,t);return f(m,t)},splitBlock:function(e,t){var n=p(e,t),r=f(n,t);return m(r,r.getSelectionAfter())},applyInlineStyle:function(e,t,n){return o.add(e,t,n)},removeInlineStyle:function(e,t,n){return o.remove(e,t,n)},setBlockType:function(e,t,n){return h(e,t,(function(e){return e.merge({type:n,depth:0})}))},setBlockData:function(e,t,n){return h(e,t,(function(e){return e.merge({data:n})}))},mergeBlockData:function(e,t,n){return h(e,t,(function(e){return e.merge({data:e.getData().merge(n)})}))},applyEntity:function(e,t,n){var r=p(e,t);return i(r,t,n)}};e.exports=b},fyRy:function(e,t,n){function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n("YeVe"),a=n("lFJn"),s=n("8uQm"),c=n("JL7T"),l=n("fyOY"),u=n("3sOJ"),d=n("rJY1"),h=n("cwFY"),p=n("zVay"),f=n("I2Ug"),m=h("draft_tree_data_support"),g=m?c:s,b=p.List,y=p.Repeat,v={insertAtomicBlock:function(e,t,n){var o=e.getCurrentContent(),s=e.getSelection(),c=l.removeRange(o,s,"backward"),h=c.getSelectionAfter(),p=l.splitBlock(c,h),f=p.getSelectionAfter(),v=l.setBlockType(p,f,"atomic"),_=a.create({entity:t}),E={key:d(),type:"atomic",text:n,characterList:b(y(_,n.length))},S={key:d(),type:"unstyled"};m&&(E=r({},E,{nextSibling:S.key}),S=r({},S,{prevSibling:E.key}));var w=[new g(E),new g(S)],C=i.createFromArray(w),O=l.replaceWithFragment(v,f,C),I=O.merge({selectionBefore:s,selectionAfter:O.getSelectionAfter().set("hasFocus",!0)});return u.push(e,I,"insert-fragment")},moveAtomicBlock:function(e,t,n,r){var o,i=e.getCurrentContent(),a=e.getSelection();if("before"===r||"after"===r){var s=i.getBlockForKey("before"===r?n.getStartKey():n.getEndKey());o=f(i,t,s,r)}else{var c=l.removeRange(i,n,"backward"),d=c.getSelectionAfter(),h=c.getBlockForKey(d.getFocusKey());if(0===d.getStartOffset())o=f(c,t,h,"before");else if(d.getEndOffset()===h.getLength())o=f(c,t,h,"after");else{var p=l.splitBlock(c,d),m=p.getSelectionAfter(),g=p.getBlockForKey(m.getFocusKey());o=f(p,t,g,"before")}}var b=o.merge({selectionBefore:a,selectionAfter:o.getSelectionAfter().set("hasFocus",!0)});return u.push(e,b,"move-block")}};e.exports=v},"g/XF":function(e,t,n){n.d(t,"a",(function(){return c}));var r=n("q1tI"),o=n.n(r),i=n("JW66"),a=n("zwad"),s=n("n6mq");function c({url:e,description:t,color:n}){return n=n||i.a.DEFAULT_IMAGELESS_PIN_COLOR,o.a.createElement(s.e,{rounding:2,height:216,width:"100%",dangerouslySetInlineStyle:{__style:{background:n}}},o.a.createElement(s.e,{maxHeight:200,padding:4,overflow:"hidden"},e&&o.a.createElement(s.e,{marginBottom:2},o.a.createElement(s.V,{color:"white",size:"sm"},a.a.parse(e).hostname||e)),o.a.createElement(s.e,{maxHeight:144},o.a.createElement(s.V,{color:"white",overflow:"normal",weight:"bold"},t))))}},gC5q:function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var r=n("YO3V"),o=n.n(r);function i(e,t=!1){return n=>{if(!o()(n))return t&&Array.isArray(n)?n.map(i(e,t)):n;const r={};return Object.keys(n).forEach(a=>{const s=e(n[a],a);o()(n[a])||t&&Array.isArray(n[a])?r[s]=i(e,t)(n[a]):r[s]=n[a]}),r}}function a(e,t=!1){const n=(t,n)=>e(n);return e=>i(n,t)(e)}function s(e={},t=[]){return Object.keys(e).reduce((n,r)=>t.includes(r)?n:{...n,[r]:e[r]},{})}},gIz7:function(e,t,n){n.d(t,"a",(function(){return i}));var r=n("A0Lk"),o=n.n(r);function i(e,t){if("undefined"==typeof window)return Promise.resolve();let n=document.querySelector("#"+t);if(n)return Promise.resolve();n=document.createElement("style"),n.setAttribute("id",t),e.filter(e=>!!e.fontFaceUrl).forEach(e=>{n&&e.fontFaceUrl&&n.appendChild(document.createTextNode(`@import url('${e.fontFaceUrl}');`))});const r=document.head;if(!r)return Promise.resolve();const i=document.createElement("style");i.setAttribute("id",t+"-font-faces"),r.appendChild(n),r.appendChild(i);const a=[];return e.forEach(e=>{e.styles.forEach(t=>{if(e.format&&t.fontUrl&&i&&i.sheet){i.sheet.insertRule(`\n            @font-face {\n              font-family: "${e.fontFamily}";\n              font-style: "${t.fontStyle}";\n              font-weight: "${t.fontWeight}";\n              src: url("${t.fontUrl}") format("${e.format}");\n            }`,0)}a.push(new o.a(e.fontFamily,{weight:t.fontWeight,style:t.fontStyle}).load())})}),Promise.all(a)}},gONw:function(e,t,n){var r=n("q1tI"),o=n.n(r),i=n("n6mq");function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s extends r.Component{constructor(...e){super(...e),a(this,"state",{isHovering:!1}),a(this,"onHover",()=>{this.setState({isHovering:!0})}),a(this,"offHover",()=>{this.setState({isHovering:!1})})}render(){const{name:e,selected:t,image:n,inFlyoutExp:r}=this.props;return r?o.a.createElement(i.e,{alignItems:"center",color:this.state.isHovering?"lightGray":"transparent",direction:"row",display:"flex",paddingX:4,paddingY:2,onMouseOver:this.onHover,onMouseOut:this.offHover},o.a.createElement(i.e,null,o.a.createElement(i.A,{height:40,width:40,rounding:2},this.state.isHovering&&n?o.a.createElement(i.v,{alt:"",color:"",fit:"cover",naturalHeight:n.height,naturalWidth:n.width,src:n.url}):o.a.createElement(i.e,{color:"lightGray",height:40,width:40}))),o.a.createElement(i.e,{padding:2},o.a.createElement(i.s,{size:"sm"},e))):o.a.createElement(i.e,{alignItems:"center",color:t?"lightGray":"transparent",direction:"row",display:"flex",paddingX:6,paddingY:2},o.a.createElement(i.e,null,o.a.createElement(i.t,{color:t?"darkGray":"gray",icon:"add",accessibilityLabel:""})),o.a.createElement(i.e,{marginStart:3},o.a.createElement(i.V,{color:t?"darkGray":"gray",weight:"bold"},e)))}}var c=n("Ye/N"),l=n("w70y"),u=n("U4JR"),d=n("oTtT");t.a=({inBoardToCollectionsExp:e,inFlyoutExp:t,inFirstBoardCreateGestaltExp:n,pinId:a,image:h,minHeight:p,onBoardSelected:f})=>{const[m,g]=Object(r.useState)(-1),b=Object(d.b)(),{data:y=[],error:v,isLoaded:_}=Object(l.a)({name:"BoardTitleSuggestionsResource",options:{pin_id:a}}),E=(S=y,Object(r.useMemo)(()=>S&&S.length?S.map(e=>e.title):[],[S]));var S;Object(r.useEffect)(()=>{_&&n&&b&&(v?b.error():b.stop())},[_]);const w=()=>{g(-1)},C=(e,n)=>{const r=m===n;return o.a.createElement("li",{key:n},o.a.createElement(i.U,{onMouseEnter:()=>(e=>{g(e)})(n),onMouseLeave:w,onTap:()=>(e=>{f(E[e],!1),Object(u.a)(101,{component:13025,element:23})})(n)},o.a.createElement(s,{selected:r,name:e,inFlyoutExp:t,image:h})))};return _?E&&E.length?t?o.a.createElement("div",null,o.a.createElement("ul",null,E.map(C))):n?o.a.createElement(i.e,null,o.a.createElement(i.e,{marginTop:5,marginStart:6,marginBottom:3},o.a.createElement(i.V,null,e?c.a._("Suggested collection names","collectionSuggestionList.title","text above suggested collection names list"):c.a._("Suggested board names","text above suggested board names list","text above suggested board names list"))),o.a.createElement("ul",null,E.map(C))):o.a.createElement(i.e,null,o.a.createElement(i.e,{marginTop:2,paddingX:5},o.a.createElement(i.V,null,c.a._("Suggested board names"))),o.a.createElement("ul",null,E.map(C))):null:o.a.createElement(i.e,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",minHeight:p||""},o.a.createElement(i.O,{accessibilityLabel:c.a._("Loading board suggestions","Accesibility label for loading board suggestions","Accesibility label for loading board suggestions"),show:!0}))}},gdcG:function(e,t,n){n.d(t,"a",(function(){return a}));var r=n("q1tI"),o=n.n(r),i=n("2WXK");function a(e){return function(t){const{isHovering:n,hoverHandlers:r}=Object(i.a)();return o.a.createElement(e,Object.assign({},t,{hoverHandlers:r,isHovering:n}))}}},gmhe:function(e,t,n){n.d(t,"a",(function(){return c}));var r=n("q1tI"),o=n.n(r),i=n("7pfs"),a=n("qD10"),s=n("n6mq");function c({children:e,isExternalUrl:t,onClick:n,rounding:r=2,url:c}){const l=c?o.a.createElement(a.a,{className:"GestaltTouchableFocus",external:t,focusOnBody:!0,onClick:n,style:{borderRadius:4*r+"px",display:"block"},to:c},e):o.a.createElement(s.U,{onTap:n,rounding:r},e);return o.a.createElement(i.a,null,({hovered:e,onMouseEnter:t,onMouseLeave:n})=>o.a.createElement(s.e,{dangerouslySetInlineStyle:{__style:{backgroundColor:e?"rgba(0, 0, 0, 0.06)":void 0}},onMouseEnter:t,onMouseLeave:n,rounding:r},l))}},grng:function(e,t,n){var r=n("jCsd"),o=n("GQ6P"),i=n("N8u9"),a=new RegExp("\r\n","g"),s={"text/rtf":1,"text/html":1};function c(e){if("file"==e.kind)return e.getAsFile()}var l=function(){function e(e){this.data=e,this.types=e.types?o(e.types):[]}var t=e.prototype;return t.isRichText=function(){return!(!this.getHTML()||!this.getText())||!this.isImage()&&this.types.some((function(e){return s[e]}))},t.getText=function(){var e;return this.data.getData&&(this.types.length?-1!=this.types.indexOf("text/plain")&&(e=this.data.getData("text/plain")):e=this.data.getData("Text")),e?e.replace(a,"\n"):null},t.getHTML=function(){if(this.data.getData){if(!this.types.length)return this.data.getData("Text");if(-1!=this.types.indexOf("text/html"))return this.data.getData("text/html")}},t.isLink=function(){return this.types.some((function(e){return-1!=e.indexOf("Url")||-1!=e.indexOf("text/uri-list")||e.indexOf("text/x-moz-url")}))},t.getLink=function(){return this.data.getData?-1!=this.types.indexOf("text/x-moz-url")?this.data.getData("text/x-moz-url").split("\n")[0]:-1!=this.types.indexOf("text/uri-list")?this.data.getData("text/uri-list"):this.data.getData("url"):null},t.isImage=function(){var e=this.types.some((function(e){return-1!=e.indexOf("application/x-moz-file")}));if(e)return!0;for(var t=this.getFiles(),n=0;n<t.length;n++){var o=t[n].type;if(!r.isImage(o))return!1}return!0},t.getCount=function(){return this.data.hasOwnProperty("items")?this.data.items.length:this.data.hasOwnProperty("mozItemCount")?this.data.mozItemCount:this.data.files?this.data.files.length:null},t.getFiles=function(){return this.data.items?Array.prototype.slice.call(this.data.items).map(c).filter(i.thatReturnsArgument):this.data.files?Array.prototype.slice.call(this.data.files):[]},t.hasFiles=function(){return this.getFiles().length>0},e}();e.exports=l},guDk:function(e,t,n){n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));n("Ye/N");const r=e=>!1,o=e=>null},"h/2P":function(e,t,n){var r=n("fyOY"),o=n("3sOJ"),i=n("4pIB"),a=n("hpMJ"),s=n("T401"),c=n("Yrnb"),l=n("qysv"),u=n("XddS"),d=i.isBrowser("Firefox");function h(e,t,n,i,a){var s=r.replaceText(e.getCurrentContent(),e.getSelection(),t,n,i);return o.push(e,s,"insert-characters",a)}e.exports=function(e,t){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0);var n=e._latestEditorState,r=t.data;if(r)if(e.props.handleBeforeInput&&s(e.props.handleBeforeInput(r,n,t.timeStamp)))t.preventDefault();else{var i=n.getSelection(),p=i.getStartOffset(),f=i.getAnchorKey();if(!i.isCollapsed())return t.preventDefault(),void e.update(h(n,r,n.getCurrentInlineStyle(),a(n.getCurrentContent(),n.getSelection()),!0));var m,g=h(n,r,n.getCurrentInlineStyle(),a(n.getCurrentContent(),n.getSelection()),!1),b=!1;if(b||(b=c(e._latestCommittedEditorState)),!b){var y=n.getBlockTree(f),v=g.getBlockTree(f);b=y.size!==v.size||y.zip(v).some((function(e){var t=e[0],n=e[1],o=t.get("start"),i=o+(o>=p?r.length:0),a=t.get("end"),s=a+(a>=p?r.length:0),c=n.get("start"),l=n.get("end"),u=n.get("decoratorKey");return t.get("decoratorKey")!==u||t.get("leaves").size!==n.get("leaves").size||i!==c||s!==l||null!=u&&l-c!=a-o}))}if(b||(m=r,b=d&&("'"==m||"/"==m)),b||(b=l(g.getDirectionMap()).get(f)!==l(n.getDirectionMap()).get(f)),b)return t.preventDefault(),g=o.set(g,{forceSelection:!0}),void e.update(g);g=o.set(g,{nativelyRenderedContent:g.getCurrentContent()}),e._pendingStateFromBeforeInput=g,u((function(){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0)}))}}},h2as:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("v83y");t.default=function(e){var t=e.getCurrentContent().getBlockMap(),n=t.last().getKey(),o=t.last().getLength(),i=new r.SelectionState({anchorKey:n,anchorOffset:o,focusKey:n,focusOffset:o});return r.EditorState.acceptSelection(e,i)}},hBSE:function(e,t,n){n.d(t,"a",(function(){return c}));var r=n("q1tI"),o=n.n(r),i=n("c0rk"),a=n("n6mq");function s(e,t){return o.a.createElement(a.e,{key:t},e)}function c(e){const{buttonsLeft:t,buttonsRight:n,children:r,headerHeight:c,minHeight:l,shouldStick:u}=e;return o.a.createElement(i.a,{position:u?"sticky":void 0,shouldShowShadow:!0,style:{zIndex:1},top:null!=c?c:"pending"},o.a.createElement(a.e,{color:"white",dangerouslySetInlineStyle:{__style:{paddingBottom:"16px"}},paddingX:4,width:"100%"},o.a.createElement(a.e,{alignItems:"center","data-test-id":"action-bar",display:"flex",justifyContent:"between",minHeight:l,width:"100%"},o.a.createElement(a.e,{alignItems:"center",column:2,display:"flex"},t.map(s)),o.a.createElement(a.e,{margin:"auto"},r),o.a.createElement(a.e,{alignItems:"center",column:2,display:"flex",justifyContent:"end"},n.map(s)))))}},hM3f:function(e,t,n){n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return h})),n.d(t,"f",(function(){return p}));var r=n("aAE7"),o=n.n(r),i=n("n6mq"),a=n("v83y"),s=n("TiQD");const c=5,l=5,u=({text:e,mentions:t})=>{const n=[],r={},o=[];t&&t.forEach((e,t)=>{const{length:n,offset:i,object_id:a}=e;r[t]={data:{mention:{id:a}},mutability:"IMMUTABLE",type:"mention"},o.push({key:t,length:n,offset:i})}),n.push({text:e,key:null,depth:null,inlineStyleRanges:null,type:"unstyled",entityRanges:o});return Object(a.convertFromRaw)({entityMap:r,blocks:n})},d=e=>{const t=[];let n=0;return e.getBlocksAsArray().forEach((r,o)=>{let i=null;r.findEntityRanges(t=>{const n=t.getEntity();if(!n)return!1;const r=e.getEntity(n);return"mention"===r.getType()&&(i=r.data.mention,!0)},(e,r)=>{i&&t.push({object_id:i.id,offset:n+e,length:r-e,tag_type:1})}),n+=1+r.getLength()}),t},h=({suggestions:e})=>e.map(e=>({...e,name:e.username})),p=({decoratorRect:e,popover:t,state:n,props:r,...a})=>{const c=(e.x||e.left)+t.offsetWidth,l=(e.y||e.top)+t.offsetHeight,{top:u,left:d}=o()({decoratorRect:e,popover:t,state:n,props:r});let h=null;c>window.innerWidth&&(h=parseFloat(d)-c%window.innerWidth+"px");let p="",f=parseFloat(u)+5+"px";return l>window.innerHeight&&(p="translateY(-100%)",f=parseFloat(u)-20+"px"),{display:"block",top:f,left:h||d,zIndex:new i.m([s.a]).index(),transform:p}}},hMpd:function(e,t,n){var r=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.serialize=function(){return"Anchor: "+this.getAnchorKey()+":"+this.getAnchorOffset()+", Focus: "+this.getFocusKey()+":"+this.getFocusOffset()+", Is Backward: "+String(this.getIsBackward())+", Has Focus: "+String(this.getHasFocus())},o.getAnchorKey=function(){return this.get("anchorKey")},o.getAnchorOffset=function(){return this.get("anchorOffset")},o.getFocusKey=function(){return this.get("focusKey")},o.getFocusOffset=function(){return this.get("focusOffset")},o.getIsBackward=function(){return this.get("isBackward")},o.getHasFocus=function(){return this.get("hasFocus")},o.hasEdgeWithin=function(e,t,n){var r=this.getAnchorKey(),o=this.getFocusKey();if(r===o&&r===e){var i=this.getStartOffset(),a=this.getEndOffset();return t<=i&&i<=n||t<=a&&a<=n}if(e!==r&&e!==o)return!1;var s=e===r?this.getAnchorOffset():this.getFocusOffset();return t<=s&&n>=s},o.isCollapsed=function(){return this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset()},o.getStartKey=function(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey()},o.getStartOffset=function(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset()},o.getEndKey=function(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey()},o.getEndOffset=function(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset()},r.createEmpty=function(e){return new r({anchorKey:e,anchorOffset:0,focusKey:e,focusOffset:0,isBackward:!1,hasFocus:!1})},r}((0,n("zVay").Record)({anchorKey:"",anchorOffset:0,focusKey:"",focusOffset:0,isBackward:!1,hasFocus:!1}));e.exports=r},"hQ+u":function(e,t,n){t.a={OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5}},hUD8:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("bVT4"),o=function(){function e(e){this.entered=[],this.isNodeInDocument=e}return e.prototype.enter=function(e){var t=this,n=this.entered.length;return this.entered=r.union(this.entered.filter((function(n){return t.isNodeInDocument(n)&&(!n.contains||n.contains(e))})),[e]),0===n&&this.entered.length>0},e.prototype.leave=function(e){var t=this.entered.length;return this.entered=r.without(this.entered.filter(this.isNodeInDocument),e),t>0&&0===this.entered.length},e.prototype.reset=function(){this.entered=[]},e}();t.default=o},hpMJ:function(e,t,n){var r=n("Gn5D").notEmptyKey;function o(e,t){return r(t)&&"MUTABLE"===e.__get(t).getMutability()?t:null}e.exports=function(e,t){var n;if(t.isCollapsed()){var r=t.getAnchorKey(),i=t.getAnchorOffset();return i>0?(n=e.getBlockForKey(r).getEntityAt(i-1))!==e.getBlockForKey(r).getEntityAt(i)?null:o(e.getEntityMap(),n):null}var a=t.getStartKey(),s=t.getStartOffset(),c=e.getBlockForKey(a);return n=s===c.getLength()?null:c.getEntityAt(s),o(e.getEntityMap(),n)}},hyAj:function(e,t,n){var r=n("DYKh");e.exports=function(e){var t=e.getSelection();return t.isCollapsed()?null:r(e.getCurrentContent(),t)}},"i/p3":function(e,t,n){var r=n("q1tI"),o=n.n(r),i=n("/MKj"),a=n("Ye/N"),s=n("qD10"),c=n("8BbR"),l=n("WjpJ"),u=n.n(l),d=n("ANjH"),h=n("U4JR"),p=n("gdcG"),f=n("n6mq");function m({pin:e}){return o.a.createElement(f.A,{rounding:4,width:138},o.a.createElement(c.a,{height:207,pin:e&&{imageUrl:e.images["474x"].url,dominantColor:e.dominant_color,description:e.description},width:138}))}t.a=Object(d.compose)(Object(i.connect)((e,t)=>{const n=e.stories[t.storyId];return n&&"board_ideas_preview_detailed"===n.story_type?{story:n}:{story:void 0}}),p.a)((function({collection:e,hoverHandlers:t,isHovering:n,story:r,url:i}){if(!r)return null;const c=r.objects.reduce((e,t)=>e.concat("pin"===t.type?[t]:[]),[]);return o.a.createElement("div",{className:"moreIdeasOnBoard"},o.a.createElement(s.a,{to:`${i}?ideas_referrer=${r.referring_source}`,onClick:()=>Object(h.a)(101,{element:10600,view:"board_section"===e.type?164:5,objectId:e.id,viewParameter:3069})},o.a.createElement(f.U,{fullWidth:!1,onMouseEnter:t.onMouseOver,onMouseLeave:t.onMouseLeave,rounding:4},o.a.createElement(f.e,{alignItems:"start",color:n?"lightGray":"white",direction:"column",display:"flex",justifyContent:"start",marginEnd:-3,paddingX:3,paddingY:2,rounding:4,width:"100%"},o.a.createElement(f.e,{padding:2},o.a.createElement(f.s,{size:"sm",truncate:!0},"board_section"===e.type?a.a._("Find some ideas for this section:","Call-to-action text that upsells more ideas tab for an empty section","Call-to-action text that upsells more ideas tab for an empty section"):a.a._("Find some ideas for this board:","Call-to-action text that upsells more ideas tab for an empty board","Call-to-action text that upsells more ideas tab for an empty board"))),o.a.createElement(f.e,{display:"flex",justifyContent:"between",padding:2,width:"100%"},u()(0,5).map(e=>{const t=c[e];return o.a.createElement(f.e,{key:""+(t?t.id:e)},o.a.createElement(m,{pin:t}))}))))))}))},i6L0:function(e,t,n){n.d(t,"a",(function(){return s}));var r=n("/MKj"),o=n("OWXb"),i=n("nGHF"),a=n("vVEi");function s(){const e=Object(r.useDispatch)(),{showToast:t}=Object(i.b)();return{showBlockingActionToast:({actionType:n,board:r,section:i})=>{t(Object(a.f)("inProgress",n,r,i)),Object(a.c)({check:()=>e(Object(o.a)(r.id)).then(e=>!Object(a.e)({blockingActions:e,actionType:n,boardId:r.id,sectionId:i&&i.id})),checkDelay:a.a,checkInterval:a.b,onComplete:()=>t(Object(a.f)("completed",n,r,i))})}}}},i97C:function(e,t,n){n.d(t,"a",(function(){return d}));var r=n("q1tI"),o=n("/MKj"),i=n("qWlA"),a=n("1inl"),s=n("Ye/N"),c=n("4TDQ"),l=n("i6L0"),u=n("U4JR");function d({board:e}){const[t,n]=Object(r.useState)(null),d=Object(o.useDispatch)(),{showBlockingActionToast:h}=Object(l.a)(),p=Object(i.a)(()=>{if(!t)return;const{source:r,target:o}=t;n(null),Object(u.a)(7173,{objectId:r.id,merge_flow:"dnd"}),d(Object(c.a)(e.id,r.id,o.id)).then(()=>{h({actionType:"merge",board:e,section:o})}).catch(e=>{a.a.showError(e.message||s.a._("Failed to merge sections","useSectionMergeAction.errorMessage","Error message when failed to merge sections"))})});return{handleShowMergeSectionsConfirmationModal:Object(i.a)((e,t)=>{n({source:e,target:t,onConfirm:p})}),mergeConfirmationModalProps:t}}},i9se:function(e,t,n){n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var r=n("Y+p1"),o=n.n(r),i=n("QkVN"),a=n.n(i),s=n("KFEb");const c={boardactivity:"BoardActivityResource",boardactivitycomment:"BoardActivityCommentResource"},l={BOARD:"board",BOARD_ACTIVITY:"boardactivity",BOARD_ACTIVITY_COMMENT:"boardactivitycomment"},u={[l.BOARD]:s.a.BOARD_ACTIVITYITEMS,[l.BOARD_ACTIVITY]:s.a.BOARD_ACTIVITYCOMMENTS,[l.BOARD_ACTIVITY_COMMENT]:s.a.BOARD_ACTIVITYCOMMENTS},d={},h=(e,t)=>{const n={...a()({},e,t),...t.content?{content:t.content}:{},...t.reaction_counts?{reaction_counts:t.reaction_counts}:{}};return o()(e,n)?e:n},p=e=>e.reduce((e,t)=>{if(11===t.activity_type&&t.comment&&t.ref_board_activity){const n=t.comment,r=t.ref_board_activity;n&&r&&(e.push({...n,user:t.user}),e.push(r),e.push({...t,comment:{id:n.id},ref_board_activity:{id:r.id}}))}else e.push(t);return e},[]);t.d=(e=d,t)=>{if("RESOURCE_FETCH_COMPLETE"===t.type||"RESOURCE_FETCH_MORE_COMPLETE"===t.type){const{payload:{data:n,name:r,options:o}}=t;if("BoardActivityCommentFeedResource"===r){const t=(n||[]).reduce((t,n)=>(t[n.id]=h(e[n.id],n),t),{});return{...e,...t}}if("BoardActivityFeedResource"===r){const t=p(n||[]).reduce((t,n)=>(t[n.id]=h(e[n.id],n),t),{});return{...e,...t}}if("BoardActivityResource"===r&&n){const t=n;return{...e,[t.id]:h(e[t.id],t)}}if("BoardActivityPinsGridCommentsResource"===r){const t=Object.values(n||{}).reduce((e,t)=>e.concat(t||[]),[]).reduce((t,n)=>Object.prototype.hasOwnProperty.call(n,"id")?{...t,[n.id]:h(e[n.id],n)}:t,{});return{...e,...t}}if("BoardActivityCommentResource"===r&&n){const t=n,r={[t.id]:h(e[t.id],t)};if(t.root_board_activity){const n=t.root_board_activity.id;r[n]=h(e[n],t.root_board_activity)}return{...e,...r}}if("NewsHubDetailsResource"===r&&n&&n.length>0&&n[0].content_items){const t={};return n.forEach(e=>{e.content_items.forEach(e=>{const n=e.content_object&&e.content_object.type;if(n===l.BOARD_ACTIVITY_COMMENT||n===l.BOARD_ACTIVITY){const n=e.content_object;p([n]).forEach(e=>t[e.id]=e)}})}),{...e,...t}}if(["PinResource","PinPageResource"].includes(r)&&n&&n.board_activity){const t=n.board_activity;return t.board=n.board,{...e,[t.id]:h(e[t.id],t)}}if(("BoardFeedResource"===r||"BoardSectionPinsResource"===r)&&("react_grid_pin_with_board_activity"===o.field_set_key||"partner_react_grid_pin_with_board_activity"===o.field_set_key)||"BoardActivityPinsFeedResource"===r){const t=(n||[]).reduce((t,n)=>{const r=n.board_activity;return r&&r.id&&(t[r.id]=h(e[r.id],r)),t},{});return{...e,...t}}}else{if("ACTIVITY_ITEM_CREATED"===t.type){const{payload:{activityItem:n}}=t;return{...e,[n.id]:n}}if("ACTIVITY_ITEM_DELETED"===t.type){const{payload:{activityId:n,activityType:r}}=t;if(r===l.BOARD_ACTIVITY_COMMENT||r===l.BOARD_ACTIVITY){const t={...e};return delete t[n],t}}else{if("ACTIVITY_ITEM_UPDATED"===t.type){const{payload:{data:n}}=t;return{...e,[n.id]:h(e[n.id],n)}}if("UPDATE_ACTIVITY_ITEM_COMMENT_COUNT"===t.type){const{payload:{increment:n,id:r}}=t,o=e[r];if(o&&[l.BOARD_ACTIVITY_COMMENT,l.BOARD_ACTIVITY].includes(o.type)){const t={...o,comment_count:n?o.comment_count+1:o.comment_count-1};return{...e,[r]:t}}}else if("ACTIVITY_ITEM_UPDATE_REACTION_COUNT"===t.type){const{payload:{increment:n,id:r,reactionType:o}}=t,i=e[r]||{},{reaction_counts:a={}}=i,s=a[o]||0,c=n?s+1:Math.max(s-1,0),l=n?o:0,u={...i,reaction_counts:{...a,[o]:c},reaction_by_me:l};return{...e,[r]:u}}}}return e}},iBcn:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("v83y");t.default={keyBindingFn:function(e){return(0,r.getDefaultKeyBinding)(e)}}},iNZC:function(e,t,n){var r=n("q1tI"),o=n("3R0Q"),i=n("B/lV"),a=n("vzKb"),s=n("FylZ"),c=n("mRg4"),l=n("LvPn"),u=n("XtwW"),d=n("LrH5"),h=n("fZG9"),p=n("xfna"),f=n("3/Bf");const m=Object(d.a)("PwtStopwatch"),g=(e,t)=>{if(u.a){if("start"===t.type&&!e.isTiming){const{name:e,startTime:n}=t;return Object(f.c)("TIMING."+e),{isTiming:!0,isSampled:t.isSampled,startTime:"number"==typeof n?n:u.a.now(),metricId:{type:"stopwatch",name:e},pwtStaticContext:t.pwtStaticContext,annotations:[],binaryAnnotations:{},spans:[]}}if("annotate"===t.type&&e.isTiming)return{...e,annotations:e.annotations.concat([{label:t.label,timestamp:u.a.now()}])};if("binaryAnnotate"===t.type&&e.isTiming)return m(`adding binary annotation {${t.name}: ${String(t.value)}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,[t.name]:{value:t.value,type:t.annotationType}}};if("binaryAnnotateOperation"===t.type&&e.isTiming){const{value:n,type:r}=t.binaryAnnotationValueAndType;if(e.binaryAnnotations[t.name]){const o=e.binaryAnnotations[t.name].value||0;return m(`operating on binary annotation {\n          name: ${t.name}\n          pervious value: ${String(o)}\n          operand: ${String(n)}\n        }`),{...e,binaryAnnotations:{...e.binaryAnnotations,[t.name]:{value:n?t.operation(o,n):o,type:r}}}}return{...e,binaryAnnotations:{...e.binaryAnnotations,[t.name]:{value:n,type:r}}}}if("subspanStart"===t.type&&e.isTiming)return m(`starting subspan {${t.name}}`),{...e,spans:[...e.spans,{name:t.name,startTime:u.a.now(),endTime:1/0,annotationMap:{...t.annotations},binaryAnnotationMap:{...t.binaryAnnotations}}]};if("subspanStop"===t.type&&e.isTiming){m(`stopping subspan {${t.name}}`);const n=e.spans.findIndex(e=>e.name===t.name);if(!(n>-1))return Object(f.b)("invalid_subspan_stop_name",{name:t.name}),e;e.spans[n].endTime=u.a.now(),t.annotations&&(e.spans[n].annotationMap={...e.spans[n].annotationMap,...t.annotations}),t.binaryAnnotations&&(e.spans[n].binaryAnnotationMap={...e.spans[n].binaryAnnotationMap,...t.binaryAnnotations})}if("stop"===t.type&&e.isTiming){const{startTime:n,metricId:r,pwtStaticContext:a,annotations:d,binaryAnnotations:p,isSampled:f,spans:m}=e;if(t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect(),f){const e=t.stopTime||u.a.now(),f={type:"COMPLETE",traceId:Object(s.a)(),startTime:n,endTime:e,spans:m.length?m.map(t=>(t.endTime===1/0&&(t.endTime=e),t)):(t.customStopwatchBuffer||[]).map(e=>Object(l.a)(Object(i.a)(e,[]))).filter(Boolean),annotationMap:Object(o.a)(d),binaryAnnotationMap:Object(h.a)({metricId:r,pwtStaticContext:a,binaryAnnotations:p,performanceResourceTimings:t.customStopwatchBuffer||[]})};Object(c.a)({metricId:r,pwtStaticContext:a,result:f})}return{isTiming:!1}}if("error"===t.type){const{error:e,stopwatchPerformanceObserver:n}=t;return e&&Object(f.b)(e),n&&n.disconnect(),{isTiming:!1}}if("abort"===t.type&&e.isTiming){t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect();const{metricId:n,pwtStaticContext:r}=e,o=t.reason||"";return Object(c.a)({metricId:n,pwtStaticContext:r,result:{type:"ABORT",reason:o}}),{isTiming:!1}}}return e};t.a=(e,t)=>{const n=Object(p.c)(),o=Object(r.useRef)([]),i=Object(r.useRef)(),[s,c]=Object(r.useReducer)(g,{isTiming:!1});return n?{isTiming:s.isTiming,start:r=>{if(window.PerformanceObserver){const e=1e3;o.current=[],i.current=Object(a.a)({entryTypes:["resource"]},t=>{o.current=o.current.concat(t.getEntries()),o.current.length>e&&(o.current=o.current.slice(-e))})}const s={type:"start",startTime:r,name:e,pwtStaticContext:n,isSampled:!t||Math.random()<t};return c(s)},stop:e=>c({type:"stop",stopTime:e,stopwatchPerformanceObserver:i.current,customStopwatchBuffer:o.current}),error:e=>{c({type:"error",stopwatchPerformanceObserver:i.current,error:e})},abort:e=>c({type:"abort",stopwatchPerformanceObserver:i.current,customStopwatchBuffer:o.current,reason:e}),annotate:e=>c({type:"annotate",label:e}),binaryAnnotate:(e,t,n)=>c({type:"binaryAnnotate",name:e,value:t,annotationType:n}),binaryAnnotateOperation:(e,t,n)=>c({type:"binaryAnnotateOperation",name:e,binaryAnnotationValueAndType:t,operation:n}),subspanStart:(e,t={},n={})=>c({type:"subspanStart",name:e,annotations:t,binaryAnnotations:n}),subspanStop:(e,t={},n={})=>c({type:"subspanStop",name:e,annotations:t,binaryAnnotations:n})}:null}},iTI2:function(e,t,n){n.d(t,"a",(function(){return o}));var r=n("U4JR");function o(){Object(r.a)(101,{element:10776,component:13216,view:5,viewParameter:3069})}},icWV:function(e,t,n){var r=n("Lakr");e.exports=function(e){var t=r(e);return{x:t.left,y:t.top,width:t.right-t.left,height:t.bottom-t.top}}},ilWa:function(e,t,n){var r=n("vYwu"),o=n("zVay");e.exports=function(e,t,n){var i=e.getBlockMap(),a=t.getStartKey(),s=t.getStartOffset(),c=t.getEndKey(),l=t.getEndOffset(),u=i.skipUntil((function(e,t){return t===a})).takeUntil((function(e,t){return t===c})).toOrderedMap().merge(o.OrderedMap([[c,i.get(c)]])).map((function(e,t){var o=t===a?s:0,i=t===c?l:e.getLength();return r(e,o,i,n)}));return e.merge({blockMap:i.merge(u),selectionBefore:t,selectionAfter:t})}},iuhU:function(e,t,n){function r(e){var t,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(o&&(o+=" "),o+=n);else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}n.r(t),t.default=function(){for(var e,t,n=0,o="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(o&&(o+=" "),o+=t);return o}},"j+6V":function(e,t,n){var r=n("fxrM");function o(){}e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=o,n.PropTypes=n,n}},j0Fm:function(e,t,n){var r=n("q1tI"),o=n.n(r),i=n("iNZC"),a=n("1dBE"),s=n("xfna");t.a=({name:e,v2LoggerMetricName:t,sampleRate:n,abortOnUnloadOrClientNavigation:c=!0})=>{const{Provider:l,useHook:u}=Object(a.b)("Stopwatch_"+e);return{Provider:function({children:t}){const a=Object(i.a)(e,n),u=Object(s.b)(),d=u?u.time:0,h=Object(r.useRef)(!1),p=e=>{h.current&&(h.current=!1,a&&a.abort(e))};return Object(r.useEffect)(()=>()=>{c&&p("unloadOrClientNavigation")},[d]),o.a.createElement(l,{value:{abort:p,addAnnotation:e=>{h.current&&a&&a.annotate(e)},addBinaryAnnotation:(e,t,n)=>{h.current&&a&&a.binaryAnnotate(e,t,n)},binaryAnnotationOperation:(e,t,n)=>{h.current&&a&&a.binaryAnnotateOperation(e,t,n)},subspanStart:(e,t,n)=>{h.current&&a&&a.subspanStart(e,t,n)},subspanStop:(e,t,n)=>{h.current&&a&&a.subspanStop(e,t,n)},error:e=>{h.current&&(h.current=!1,a&&a.error(e))},start:()=>{a&&h.current&&a.abort("duplicated_init_stopwatch_action"),h.current=!0},stop:e=>{h.current&&(h.current=!1,a&&a.stop(e))}}},t)},useHook:u}}},jCsd:function(e,t,n){var r={isImage:function(e){return"image"===o(e)[0]},isJpeg:function(e){var t=o(e);return r.isImage(e)&&("jpeg"===t[1]||"pjpeg"===t[1])}};function o(e){return e.split("/")}e.exports=r},jH4x:function(e,t,n){var r=n("3sOJ");e.exports=function(e,t){e.setMode("composite"),e.update(r.set(e._latestEditorState,{inCompositionMode:!0})),e._onCompositionStart(t)}},jHGc:function(e,t,n){n.r(t),n.d(t,"PinRepEditButton",(function(){return c}));var r=n("q1tI"),o=n.n(r),i=n("Ye/N"),a=n("dtqy"),s=n("n6mq");function c({handlePinEditButtonClick:e,style:t,useLegoStyles:n=!1,usePersistentOneClickSaveStyles:r,wrappingIconStyle:a}){const c=o.a.createElement(s.u,{accessibilityLabel:i.a._("Edit","edit button on pin","edit button on pin"),bgColor:t&&t.bgColor||"white",icon:"edit",iconColor:t&&t.iconColor||"darkGray",onClick:({event:t})=>e(t),size:t&&t.size||"md"});return n||r?o.a.createElement("div",{style:{...a||{}}},c):c}t.default=Object(a.a)(c)},jZhD:function(e,t,n){n.d(t,"a",(function(){return a}));var r=n("q1tI"),o=(n("17x9"),n("pdBG"));function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class a extends r.Component{constructor(...e){super(...e),i(this,"searchCache",Object.create(null)),i(this,"lastSearchedQuery",null),i(this,"search",e=>{this.lastSearchedQuery=e,e in this.searchCache?this.props.onTypeaheadSuggestionsChange(this.searchCache[e],e):this.provider.search(e,({items:t})=>{this.searchCache[e]=t,e===this.lastSearchedQuery&&this.props.onTypeaheadSuggestionsChange(t,e)})})}componentDidMount(){const e=this.props.resourceOptions||{};this.provider=new o.a({resource_name:this.props.resourceName,...e});const{value:t}=this.props;null!=t&&this.props.allowSearchOnMount&&this.search(this.props.value)}componentDidUpdate(e){const{value:t}=this.props;null!=t&&t!==e.value&&this.search(t)}render(){return this.props.children||null}}i(a,"defaultProps",{resourceName:"TypeaheadResource"})},jaOL:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("fOPN");t.default=function(e,t){switch(void 0===e&&(e=0),t.type){case r.ADD_SOURCE:case r.ADD_TARGET:return e+1;case r.REMOVE_SOURCE:case r.REMOVE_TARGET:return e-1;default:return e}}},jdx6:function(e,t,n){n.d(t,"b",(function(){return l}));var r=n("q1tI"),o=n.n(r),i=n("8cMa"),a=n("JW66"),s=n("Ye/N"),c=n("n6mq");function l(e,t){const n=e&&e.length>1?new RegExp(e,"i"):"";return e&&e.length>1?t.split(n).reduce((n,r,i)=>{if(n.length>0&&e&&e.length){const a=t.toLowerCase().indexOf(e.toLowerCase());return n.concat(o.a.createElement("em",{key:i,style:{borderBottom:"1px solid #333",fontStyle:"normal",paddingBottom:"1px"}},t.substring(a,a+e.length)),r)}return[r]},[]):t}t.a=function(e){const{disabled:t,item:n,isSection:r,isSelectMode:u,isWithinSectionPicker:d,saveState:h,searchQuery:p,selected:f}=e,m=r?null:n,g=r?n:null,b=g&&g.title||m&&m.name||"";let y="",v=!1,_="",E=0;m&&({image_cover_url:y,is_collaborative:v,privacy:_,section_count:E=0}=m);const S=l(p,b),w=_===a.a.BoardPrivacy.SECRET,C=!t&&(f||!!h),O=!d&&E>0,I=E>0?"boardWithSection":"boardWithoutSection",x=u?s.a._("Select","Board select button label","Board select button label"):s.a._("Save","Pin save button label","Pin save button label");return o.a.createElement(c.e,{alignItems:"center",color:C?"lightGray":"white",display:"flex",paddingX:6,paddingY:2,"data-test-id":I},m?o.a.createElement(c.e,{height:36,width:36,color:"lightGray",overflow:"hidden",rounding:2,marginEnd:2,flex:"none"},y?o.a.createElement(c.v,{src:y,alt:b,fit:"cover",naturalWidth:1,naturalHeight:1}):o.a.createElement("span",null)):o.a.createElement(c.e,{height:36,paddingX:2}),o.a.createElement(c.e,{alignItems:"center",justifyContent:"between",display:"flex",flex:"grow"},o.a.createElement(c.V,{color:t?"gray":"darkGray",size:"md",truncate:!0,weight:"bold"},S),(O||!C)&&o.a.createElement(c.e,{alignItems:"center",display:"flex"},w&&o.a.createElement(i.a,{type:"secret"}),v&&o.a.createElement(i.a,{type:"group"}),O&&o.a.createElement(i.a,{type:"sections"})),!O&&C&&!h&&o.a.createElement(c.e,{alignItems:"center",color:"red","data-test-id":"BoardPickerSaveButton",display:"flex",flex:"none",paddingX:3,paddingY:2,rounding:4},!u&&o.a.createElement(c.e,{dangerouslySetInlineStyle:{__style:{marginRight:3,marginLeft:-6}}},o.a.createElement(c.t,{accessibilityLabel:"",color:"white",icon:"pin",inline:!0,size:20})),o.a.createElement(c.V,{color:"white",overflow:"normal",size:"md",weight:"bold"},x)),!O&&C&&"loading"===h&&o.a.createElement(c.e,{dangerouslySetInlineStyle:{__style:{transform:"scale(0.7)"}},maxHeight:35},o.a.createElement(c.O,{accessibilityLabel:s.a._("Saving","Accessibility label for saving a pin to a board","Accessibility label for saving a pin to a board"),show:!0}))))}},jiHH:function(e,t,n){},jirY:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("/ZYE"),o=n("H3Jb"),i=n("q1tI"),a=n("2S0S");t.useDrag=function(e){var t=i.useRef(e);t.current=e,a(null!=e.item,"item must be defined"),a(null!=e.item.type,"item type must be defined");var n=o.useDragSourceMonitor(),s=n[0],c=n[1];o.useDragHandler(t,s,c);var l=r.useMonitorOutput(s,t.current.collect||function(){return{}},(function(){return c.reconnect()})),u=i.useMemo((function(){return c.hooks.dragSource()}),[c]),d=i.useMemo((function(){return c.hooks.dragPreview()}),[c]);return i.useEffect((function(){c.dragSourceOptions=t.current.options||null,c.reconnect()}),[c]),i.useEffect((function(){c.dragPreviewOptions=t.current.previewOptions||null,c.reconnect()}),[c]),[l,u,d]}},jl1W:function(e,t,n){var r=n("4XrY"),o=n("fyOY"),i=n("Iq8E"),a=n("3sOJ"),s=n("pMlp"),c=n("WJOU"),l=n("0IKU"),u=n("Zgb7"),d=n("hpMJ"),h=n("qysv"),p=!1,f=!1,m=null;var g={onCompositionStart:function(e){f=!0,function(e){m||(m=new r(l(e))).start()}(e)},onCompositionEnd:function(e){p=!1,f=!1,setTimeout((function(){p||g.resolveComposition(e)}),20)},onSelect:c,onKeyDown:function(e,t){if(!f)return g.resolveComposition(e),void e._onKeyDown(t);t.which!==s.RIGHT&&t.which!==s.LEFT||t.preventDefault()},onKeyPress:function(e,t){t.which===s.RETURN&&t.preventDefault()},resolveComposition:function(e){if(!f){var t=h(m).stopAndFlushMutations();m=null,p=!0;var n=a.set(e._latestEditorState,{inCompositionMode:!1});if(e.exitCurrentMode(),t.size){var r=n.getCurrentContent();t.forEach((function(e,t){var s=i.decode(t),c=s.blockKey,l=s.decoratorKey,u=s.leafKey,h=n.getBlockTree(c).getIn([l,"leaves",u]),p=h.start,f=h.end,m=n.getSelection().merge({anchorKey:c,focusKey:c,anchorOffset:p,focusOffset:f,isBackward:!1}),g=d(r,m),b=r.getBlockForKey(c).getInlineStyleAt(p);r=o.replaceText(r,m,e,b,g),n=a.set(n,{currentContent:r})}));var s=u(n,l(e)).selectionState;e.restoreEditorDOM();var c=a.acceptSelection(n,s);e.update(a.push(c,r,"insert-characters"))}else e.update(n)}}};e.exports=g},joD6:function(e,t,n){var r=n("/MKj");t.a=Object(r.connect)(({viewer:e})=>({viewer:e}))},juW8:function(e,t,n){n.d(t,"a",(function(){return r}));const r={addOrEditDate:"addOrEditDate",boardArchiveConfirmation:"boardArchiveConfirmation",boardEdit:"boardEdit",boardUnarchiveConfirmation:"boardUnarchiveConfirmation",bulkCopy:"bulkCopy",bulkDelete:"bulkDelete",collaboratorsAndPermissions:"collaboratorsAndPermissions",createSection:"createSection",editSection:"editSection",followers:"followers",groupPins:"groupPins",jumpstartBoard:"jumpstartBoard",mergeBoard:"mergeBoard",moveSection:"moveSection",pincode:"pincode",sectionMergeConfirm:"sectionMergeConfirm",sendBoard:"sendBoard",simpleCreateSection:"simpleCreateSection"}},jxrL:function(e,t,n){function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n("X6C7")),r(n("1tpI")),r(n("eiom"))},jyDg:function(e,t,n){var r=n("fyOY"),o=n("Iq8E"),i=n("3sOJ"),a=n("4pIB"),s=n("Gn5D").notEmptyKey,c=n("kc9Y"),l=n("3Br+"),u=n("qysv"),d=a.isEngine("Gecko");e.exports=function(e,t){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0);var n=e.editor.ownerDocument.defaultView.getSelection(),a=n.anchorNode,h=n.isCollapsed,p=(null==a?void 0:a.nodeType)!==Node.TEXT_NODE&&(null==a?void 0:a.nodeType)!==Node.ELEMENT_NODE;if(null!=a&&!p){if(a.nodeType===Node.TEXT_NODE&&(null!==a.previousSibling||null!==a.nextSibling)){var f=a.parentNode;if(null==f)return;a.nodeValue=f.textContent;for(var m=f.firstChild;null!=m;m=m.nextSibling)m!==a&&f.removeChild(m)}var g=a.textContent,b=e._latestEditorState,y=u(c(a)),v=o.decode(y),_=v.blockKey,E=v.decoratorKey,S=v.leafKey,w=b.getBlockTree(_).getIn([E,"leaves",S]),C=w.start,O=w.end,I=b.getCurrentContent(),x=I.getBlockForKey(_),D=x.getText().slice(C,O);if(g.endsWith("\n\n")&&(g=g.slice(0,-1)),g!==D){var k,T,M,j,P=b.getSelection(),B=P.merge({anchorOffset:C,focusOffset:O,isBackward:!1}),A=x.getEntityAt(C),R=s(A)?I.getEntity(A):null,L="MUTABLE"===(null!=R?R.getMutability():null),N=L?"spellcheck-change":"apply-entity",F=r.replaceText(I,B,g,x.getInlineStyleAt(C),L?x.getEntityAt(C):null);if(d)k=n.anchorOffset,T=n.focusOffset,j=(M=C+Math.min(k,T))+Math.abs(k-T),k=M,T=j;else{var z=g.length-D.length;M=P.getStartOffset(),j=P.getEndOffset(),k=h?j+z:M,T=j+z}var q=F.merge({selectionBefore:I.getSelectionAfter(),selectionAfter:P.merge({anchorOffset:k,focusOffset:T})});e.update(i.push(b,q,N))}else{var U=t.nativeEvent.inputType;if(U){var H=function(e,t){switch(e){case"deleteContentBackward":return l(t)}return t}(U,b);if(H!==b)return e.restoreEditorDOM(),void e.update(H)}}}}},k9Pu:function(e,t,n){var r=n("q1tI"),o=n.n(r),i=n("/MKj"),a=n("9WJf"),s=n("8A+h"),c=n("0Rm8"),l=n("n6mq");t.a=Object(i.connect)(({pins:e,viewer:t},{board:n,selectedPinIds:r})=>({removeIsDisabled:!Object(s.a)(t,n)&&!Object(a.a)({action:5,board:n})&&!!r.find(t=>!(!e[t]||!e[t].access||e[t].access.includes("write")))}),()=>({}))((function(e){const{children:t,paddingY:n=0,removeIsDisabled:r}=e;return o.a.createElement(c.a,null,e=>o.a.createElement(l.Q,{zIndex:new l.p(2),top:e},o.a.createElement(l.e,{color:"white",display:"flex",justifyContent:"center",paddingY:n},o.a.createElement(l.e,{maxWidth:768,width:"100%"},t({removeIsDisabled:r})))))}))},kDkJ:function(e,t,n){var r=n("YeVe"),o=n("lFJn"),i=n("grng"),a=n("fyOY"),s=n("PQhE"),c=n("3sOJ"),l=n("Nx4+"),u=n("hpMJ"),d=n("HKS5"),h=n("T401"),p=n("RK+W");function f(e,t,n){var r=a.replaceWithFragment(e.getCurrentContent(),e.getSelection(),t);return c.push(e,r.set("entityMap",n),"insert-fragment")}e.exports=function(e,t){t.preventDefault();var n=new i(t.clipboardData);if(!n.isRichText()){var m=n.getFiles(),g=n.getText();if(m.length>0){if(e.props.handlePastedFiles&&h(e.props.handlePastedFiles(m)))return;return void d(m,(function(t){if(t=t||g){var n=e._latestEditorState,i=p(t),d=o.create({style:n.getCurrentInlineStyle(),entity:u(n.getCurrentContent(),n.getSelection())}),h=l.getCurrentBlockType(n),f=s.processText(i,d,h),m=r.createFromArray(f),b=a.replaceWithFragment(n.getCurrentContent(),n.getSelection(),m);e.update(c.push(n,b,"insert-fragment"))}}))}}var b=[],y=n.getText(),v=n.getHTML(),_=e._latestEditorState;if(!e.props.handlePastedText||!h(e.props.handlePastedText(y,v,_))){if(y&&(b=p(y)),!e.props.stripPastedStyles){var E=e.getClipboard();if(n.isRichText()&&E){if(-1!==v.indexOf(e.getEditorKey())||1===b.length&&1===E.size&&E.first().getText()===y)return void e.update(f(e._latestEditorState,E))}else if(E&&n.types.includes("com.apple.webarchive")&&!n.types.includes("text/html")&&function(e,t){return e.length===t.size&&t.valueSeq().every((function(t,n){return t.getText()===e[n]}))}(b,E))return void e.update(f(e._latestEditorState,E));if(v){var S=s.processHTML(v,e.props.blockRenderMap);if(S){var w=S.contentBlocks,C=S.entityMap;if(w){var O=r.createFromArray(w);return void e.update(f(e._latestEditorState,O,C))}}}e.setClipboard(null)}if(b.length){var I=o.create({style:_.getCurrentInlineStyle(),entity:u(_.getCurrentContent(),_.getSelection())}),x=l.getCurrentBlockType(_),D=s.processText(b,I,x),k=r.createFromArray(D);e.update(f(e._latestEditorState,k))}}}},kE58:function(e,t,n){var r=n("pMlp");e.exports=function(e){return e.which===r.RETURN&&(e.getModifierState("Shift")||e.getModifierState("Alt")||e.getModifierState("Control"))}},kGJw:function(e,t,n){var r=n("dt0z"),o=/[\\^$.*+?()[\]{}|]/g,i=RegExp(o.source);e.exports=function(e){return(e=r(e))&&i.test(e)?e.replace(o,"\\$&"):e}},"kT2/":function(e,t,n){var r=n("q1tI"),o=n.n(r),i=n("JW66"),a=n("Ye/N"),s=n("n6mq");const c=e=>{const t=e.split("\n");t.push("");const n=[];let r,o=[];return t.forEach(e=>{const t=e.indexOf("•");t>-1?(r||(r=""),o.push(e.substring(t+1).trim())):((r||o.length>0)&&n.push({heading:r,items:o}),r=e,o=[])}),n},l=e=>{let t="";return e.forEach((n,r)=>{const{heading:o,items:i}=n;o&&(t+=o),i&&i.length>0&&(t+="\n• "+i.join("\n• ")),r<e.length-1&&(t+="\n\n")}),t};t.a=function({header:e,helperText:t,listBlocks:n,onUpdate:u,placeholderListBlocks:d}){const h=l(d||[{heading:a.a._("What you'll need","storyboard.detailsList.placeholder","Placeholder text header for details list of story Pin"),items:[a.a._("Write a bullet list of tools, materials and anything else!","storyboard.detailsList.placeholder","Placeholder text instructions for details list of story Pin"),a.a._("Type it up or copy and paste.","storyboard.detailsList.placeholder","Placeholder text instructions for details list of story Pin")]}]),[p,f]=Object(r.useState)(n?l(n):"");return o.a.createElement(s.e,null,o.a.createElement(s.W,{id:"storyboard-details-list",helperText:t,label:e,onChange:({value:e})=>{f(e),u(c(e))},onBlur:()=>{""===p.trim()&&f("")},onKeyDown:({event:e,value:t})=>{const{keyCode:n,target:r,shiftKey:o}=e;if(r instanceof HTMLTextAreaElement){const{selectionStart:a,selectionEnd:s}=r;if(a===s){let s=0,l=0,d="";if(n===i.a.KeyCode.ENTER?"\n• "!==t.substring(a-3,a)||"\n"!==t.substring(a,a+1)&&a!==t.length?o||"\n"===t.substring(a-1,a)||(s=0,d="\n• "):(s=-3,d="\n"):n!==i.a.KeyCode.BACKSPACE&&n!==i.a.KeyCode.DELETE||("\n• "===t.substring(a-3,a)?s=-3:"\n•"===t.substring(a-2,a)?s=-2:"\n"===t.substring(a-1,a)&&"•"===t.substring(a,a+1)&&(s=-1,l=1)),0!==s||0!==l||""!==d){const n=t.substring(0,a+s)+d+t.substring(a+l);f(n);const o=a+s+d.length;setTimeout(()=>{r.selectionStart=o,r.selectionEnd=o},10),u(c(n)),e.preventDefault()}}}},placeholder:h,rows:7,value:p}))}},kWjT:function(e,t,n){n("Z6/o");e.exports=function(e,t){var n=e.getSelection(),r=e.getCurrentContent(),o=n.getStartKey(),i=n.getStartOffset(),a=o,s=0;if(t>i){var c=r.getKeyBefore(o);if(null==c)a=o;else a=c,s=r.getBlockForKey(c).getText().length}else s=i-t;return n.merge({focusKey:a,focusOffset:s,isBackward:!0})}},ka8t:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("v83y"),o=a(n("eATT")),i=a(n("P1kZ"));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,n,a,s){var c=e.getCurrentContent().createEntity((0,i.default)(a),s,{mention:t}).getLastCreatedEntityKey(),l=e.getSelection(),u=(0,o.default)(e,l,a),d=u.begin,h=u.end,p=l.merge({anchorOffset:d,focusOffset:h}),f=r.Modifier.replaceText(e.getCurrentContent(),p,""+n+t.name,null,c),m=p.getAnchorKey();e.getCurrentContent().getBlockForKey(m).getLength()===h&&(f=r.Modifier.insertText(f,f.getSelectionAfter()," "));var g=r.EditorState.push(e,f,"insert-mention");return r.EditorState.forceSelection(g,f.getSelectionAfter())}},kc9Y:function(e,t,n){var r=n("F09w"),o=n("zORg");e.exports=function(e){for(var t=e;t&&t!==r(e).documentElement;){var n=o(t);if(null!=n)return n;t=t.parentNode}return null}},"ks/r":function(e,t,n){n.d(t,"a",(function(){return d}));var r=n("q1tI"),o=n.n(r),i=n("LT60"),a=n("L2iP"),s=n("N/FO"),c=n("n6mq");function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends r.Component{constructor(...e){super(...e),l(this,"state",{animation:null,visible:!1}),l(this,"setRef",e=>{this.element||(this.element=e,e.addEventListener("dragover",this.handleDragOver),e.addEventListener("dragleave",this.handleDragLeave))}),l(this,"handleDragOver",()=>{const{placement:e}=this.props;if(!this.state.animation){const t="top"===e?-1:1,n=Object(s.a)({window,duration:1/0,run:(e,n,r)=>{const o=n<500?.8:1.2000000000000002;window.scrollTo(0,window.scrollY+o*t*r)}});n.start(),this.setState({animation:n})}}),l(this,"handleDragLeave",()=>{const{animation:e}=this.state;e&&(e.cancel(),this.setState({animation:null}))}),l(this,"element",null),l(this,"visibleTimeout",null)}componentDidMount(){this.visibleTimeout=window.setTimeout(()=>this.setState({visible:!0}),500)}componentWillUnmount(){const e=this.element,{animation:t}=this.state;e&&(e.removeEventListener("dragover",this.handleDragOver),e.removeEventListener("dragleave",this.handleDragLeave)),t&&t.cancel(),this.visibleTimeout&&window.clearTimeout(this.visibleTimeout)}render(){const{height:e,placement:t}=this.props,{visible:n}=this.state;return o.a.createElement(c.e,{bottom:"bottom"===t,dangerouslySetInlineStyle:{__style:{zIndex:16777271,visibility:n?"visible":"hidden"}},height:e,left:!0,position:"fixed",right:!0,top:"top"===t},o.a.createElement("div",{ref:this.setRef,style:{width:"100%",height:"100%"}}))}}function d({noStickyHeader:e}){const t=e?0:a.a;return o.a.createElement(i.a,null,o.a.createElement(c.x,null,o.a.createElement(c.e,null,o.a.createElement(u,{placement:"top",height:120+t}),o.a.createElement(u,{placement:"bottom",height:120}))))}},l61J:function(e,t,n){n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return a}));var r=n("q1tI");function o(e){return e.startsWith("enabled")||e.startsWith("employee")}function i(e){return e.startsWith("employee")}function a(e,{activate:t=!0,activateExperiment:n,group:i,userIsEligible:a=!0}){var s;s=()=>{t&&a&&n(e)},Object(r.useEffect)(s,[]);const c=Object(r.useCallback)(()=>{a&&n(e)},[n,a,e]);return{group:a?i:"",anyEnabled:a&&o(i),customActivate:a&&!t?c:()=>{}}}},lFJn:function(e,t,n){var r=n("zVay"),o=r.Map,i=r.OrderedSet,a=r.Record,s=i(),c={style:s,entity:null},l=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getStyle=function(){return this.get("style")},a.getEntity=function(){return this.get("entity")},a.hasStyle=function(e){return this.getStyle().includes(e)},r.applyStyle=function(e,t){var n=e.set("style",e.getStyle().add(t));return r.create(n)},r.removeStyle=function(e,t){var n=e.set("style",e.getStyle().remove(t));return r.create(n)},r.applyEntity=function(e,t){var n=e.getEntity()===t?e:e.set("entity",t);return r.create(n)},r.create=function(e){if(!e)return u;var t=o({style:s,entity:null}).merge(e),n=d.get(t);if(n)return n;var i=new r(t);return d=d.set(t,i),i},r.fromJS=function(e){var t=e.style,n=e.entity;return new r({style:Array.isArray(t)?i(t):t,entity:Array.isArray(n)?i(n):n})},r}(a(c)),u=new l,d=o([[o(c),u]]);l.EMPTY=u,e.exports=l},lSCD:function(e,t,n){var r=n("NykK"),o=n("GoyQ");e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},lUWX:function(e,t,n){n.d(t,"a",(function(){return m}));var r=n("q1tI"),o=n.n(r),i=n("TSYQ"),a=n.n(i),s=n("Ye/N"),c=n("G35+"),l=n("+zF7"),u=n("n6mq");const{FACEBOOK:d,GPLUS:h,YAHOO:p}=c.a,f="40px";function m(e){const t={[d]:s.a._("Find friends from Facebook"),[h]:s.a._("Find friends from Google+"),[p]:s.a._("Find friends from Yahoo")},{network:n}=e;return o.a.createElement(u.U,{onTap:()=>function(e){l.a.instance().handleConnect(e,!0,{})}(n)},o.a.createElement(u.e,{display:"flex",alignItems:"center",paddingX:3,paddingY:2},o.a.createElement(u.e,{width:f,height:f,marginEnd:4},o.a.createElement("div",{className:"SocialConnectCell"},o.a.createElement("div",{className:a()("icon","socialConnect-"+n)},o.a.createElement("em",null)))),o.a.createElement(u.e,{display:"flex",flex:"grow",alignItems:"start",direction:"column"},o.a.createElement(u.V,{color:"darkGray",size:"md",weight:"bold"},t[n]))))}},lXCh:function(e,t,n){},lh2y:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("Bfq7"),o=n("NFjV");t.createNativeDragSource=function(e){return new o.NativeDragSource(r.nativeTypesConfig[e])},t.matchNativeItemType=function(e){if(!e)return null;var t=Array.prototype.slice.call(e.types||[]);return Object.keys(r.nativeTypesConfig).filter((function(e){return r.nativeTypesConfig[e].matchesTypes.some((function(e){return t.indexOf(e)>-1}))}))[0]||null}},lihF:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return void 0===e&&(e=0),e+1}},lnQP:function(e,t,n){var r=n("q1tI"),o=n.n(r),i=n("/MKj"),a=n("qWlA"),s=n("zUcL"),c=n("Ye/N"),l=n("Hz/G"),u=n("6vq5"),d=n("n6mq");function h({label:e,path:t,selected:n}){return o.a.createElement(d.t,{accessibilityLabel:e,dangerouslySetSvgPath:{__path:t},color:n?"darkGray":"gray",size:24})}function p({selected:e}){return o.a.createElement(h,{label:c.a._("Dense","Label for selecting the dense pin density view","Label for selecting the dense pin density view"),path:"M16.00,20.00 L20.00,20.00 L20.00,16.00 L16.00,16.00 L16.00,20.00 Z M10.00,8.00 L10.00,4.00 L14.00,4.00 L14.00,8.00 L10.00,8.00 Z M4.00,8.00 L4.00,4.00 L8.00,4.00 L8.00,8.00 L4.00,8.00 Z M16.00,8.00 L16.00,4.00 L20.00,4.00 L20.00,8.00 L16.00,8.00 Z M4.00,14.00 L4.00,10.00 L8.00,10.00 L8.00,14.00 L4.00,14.00 Z M10.00,14.00 L10.00,10.00 L14.00,10.00 L14.00,14.00 L10.00,14.00 Z M16.00,14.00 L16.00,10.00 L20.00,10.00 L20.00,14.00 L16.00,14.00 Z M4.00,20.00 L4.00,16.00 L8.00,16.00 L8.00,20.00 L4.00,20.00 Z M10.00,20.00 L10.00,16.00 L14.00,16.00 L14.00,20.00 L10.00,20.00 Z",selected:e})}function f({selected:e}){return o.a.createElement(h,{label:c.a._("Regular","Label for selecting the regular pin density view","Label for selecting the regular pin density view"),path:"M13.00,20.00 L13.00,13.00 L20.00,13.00 L20.00,20.00 L13.00,20.00 Z M4.00,11.00 L4.00,4.00 L11.00,4.00 L11.00,11.00 L4.00,11.00 Z M13.00,11.00 L13.00,4.00 L20.00,4.00 L20.00,11.00 L13.00,11.00 Z M4.00,20.00 L4.00,13.00 L11.00,13.00 L11.00,20.00 L4.00,20.00 Z",selected:e})}var m=n("t3tn"),g=n("ANjH");class b extends o.a.Component{constructor(...e){var t,n,r;super(...e),r=({activeIndex:e})=>{const{viewType:t,component:n,pinView:r}=this.props,o=0===e?"regular":"dense";Object(l.a)({boardDensity:o,component:n,surface:r,viewType:t})},(n="handleItemChange")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}componentDidUpdate(){const{dispatch:e,metadata:t,pinView:n,updatedBoardPinDensity:r}=this.props;if(t&&t.data&&""===r){const{profile_pin_rep_view_type:r,board_pin_rep_view_type:o}=t.data;"board"===n&&e(r?Object(m.a)(r):Object(m.a)("regular")),"profile"===n&&e(o?Object(m.d)(o):Object(m.d)("regular"))}}render(){const{metadata:e,updatedBoardPinDensity:t}=this.props;if(!e||!e.data)return null;const n="dense"===t?1:0;return o.a.createElement("div",{className:"OwnBoardSelector"},o.a.createElement(d.L,{items:[o.a.createElement(f,{selected:"regular"===t}),o.a.createElement(p,{selected:"dense"===t})],onChange:this.handleItemChange,selectedItemIndex:n,responsive:!0}))}}var y=Object(g.compose)(Object(i.connect)((function({ui:e,viewer:t},{pinView:n}){return{updatedBoardPinDensity:e.views&&e.views[n+"PinView"],viewer:t}})),Object(u.a)({name:"UserMetadataResource",key:"metadata",options:e=>({user:{id:e.viewer.username}})},{allowStale:!1}))(b),v=n("v/Q4"),_=n("sxkF"),E=n("MD/U");function S({board:e,currentView:t,inBoardOrganizationMode:n,onContentViewChange:r,onOrganizeClick:i,pinCount:a,showSortOptions:s}){const l=Object(v.a)();return o.a.createElement(d.e,{alignItems:"center",direction:"row",display:"flex",marginStart:-1,marginEnd:-1},o.a.createElement(d.e,{paddingX:1,flex:"grow"},o.a.createElement(d.s,null,c.a._("Pins","Heading for Pins outside of board sections on board page","Heading for Pins outside of board sections on board page"))),s&&Object(_.c)(a)&&o.a.createElement(d.e,{paddingX:2},o.a.createElement(_.a,{currentView:t,onChange:r,board:e,viewer:l})),a>=E.b&&o.a.createElement(o.a.Fragment,null,a>=E.a&&o.a.createElement(y,{viewType:5,component:13183,pinView:"board"}),!n&&o.a.createElement(d.e,{paddingX:2},o.a.createElement(d.f,{text:c.a._("Organize","The board organization button","The board organization button"),onClick:i}))))}var w=n("KFEb"),C=n("6SCp"),O=n("P2Et");const I=Object(g.compose)(Object(i.connect)((e,t)=>Object(O.b)(e.feeds[w.a.BOARD_PINS][t.board.id])),Object(u.a)({name:"BoardFeedResource",key:"resource",options:e=>Object(C.a)(e.board,e.viewer,e.currentView)}))(O.a);I.displayName="BoardSectionlessPinGrid";var x=I,D=n("qD10");var k=({children:e,shouldNavigate:t,to:n})=>t?o.a.createElement(D.a,{to:n},e):e,T=n("xdpg");var M=e=>{const{numberOfSelectedPins:t}=e;return o.a.createElement(d.e,{alignItems:"center",bottom:!0,display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!0,top:!0},o.a.createElement(d.e,{color:"white",padding:3,rounding:"pill"},o.a.createElement(d.V,{weight:"bold"},Object(T.i)(c.a.ngettext("Move {{ count }} Pin here","Move {{ count }} Pins here",t,"Call to action overlay on a section to move selected Pins","Call to action overlay on a section to move selected Pins"),{count:t}))))},j=n("WjpJ"),P=n.n(j);const B=157,A=141,R=118,L=106;function N(e){return"dense"===e?2:3}function F(e){return(("dense"===e?R:L)+1)*N(e)-1}function z({isHovered:e,mode:t,pins:n}){const r=N(t),i="dense"===t,a=i?B:A,s=i?R:L,c=F(t);return o.a.createElement(d.A,{rounding:4,width:c},o.a.createElement(d.e,{display:"flex"},o.a.createElement(d.e,{bottom:!0,dangerouslySetInlineStyle:{__style:e?{zIndex:1,backgroundColor:"rgba(0,0,0,0.06)"}:{}},left:!0,position:"absolute",right:!0,top:!0}),P()(r).map(e=>{const t=e===r-1,i=n[e];return o.a.createElement("div",{key:e,style:{paddingRight:!t&&1}},o.a.createElement(d.A,{height:a,width:s,rounding:0,wash:!0},i&&o.a.createElement(d.v,{alt:i.description,color:"transparent",fit:"cover",naturalHeight:i.image_large_size_pixels.height,naturalWidth:i.image_large_size_pixels.width,src:i.image_large_url})))})))}var q=n("0NP8");function U({children:e,mode:t}){return"dense"===t?o.a.createElement(d.V,{weight:"bold"},e):o.a.createElement(d.s,{size:"sm",truncate:!0},e)}function H({children:e,displayEditIcon:t,mode:n,mouseCursor:r,onEditClick:i,onTouch:a,pinCount:s,title:l}){const u=o.a.createElement(d.e,null,o.a.createElement(d.e,{position:"relative"},e,t&&o.a.createElement(d.e,{position:"absolute",bottom:!0,right:!0},o.a.createElement(d.e,{padding:2},o.a.createElement(d.u,{bgColor:"white",icon:"edit",iconColor:"darkGray",onClick:i,accessibilityLabel:c.a._("Edit","BoardSectionCard.SectionRep.EditIcon","accessibility label for the board section name edit button"),accessibilityHaspopup:!0,size:"sm"})))),o.a.createElement(d.e,{alignItems:"start",display:"flex",justifyContent:"between",width:F(n)},o.a.createElement(d.e,{padding:2,flex:"grow"},o.a.createElement(U,{mode:n},l),o.a.createElement(d.e,{marginTop:1},o.a.createElement(q.b,{count:s,size:"sm"})))));return a?o.a.createElement(d.U,{fullWidth:!1,mouseCursor:r,onTap:a,rounding:4},u):u}var K=e=>{const{board:t,boardSection:n,canEdit:r,focused:a,hovered:s,inOrganizationMode:c,isDragging:l,isMergeTarget:u,onBlur:h,oneTapMovePinsHandler:p,onFocus:f,onMouseEnter:m,onMouseLeave:g,onShowEditSectionModal:b}=e,{slug:y,title:v,preview_pins:_=[]}=n,E=Object(i.useSelector)(({ui:e})=>e.views.boardPinView),S=p&&p.numberOfSelectedPins;let w;S&&p&&(w=()=>{p.moveToSection(n)});let C="pointer";l?C="grabbing":!S&&c&&(C="grab");const O=!!r&&!l&&(s||a),I=p&&p.numberOfSelectedPins>0&&!!S&&s&&!l&&o.a.createElement(M,{numberOfSelectedPins:p.numberOfSelectedPins});return o.a.createElement(d.e,{alignItems:"center",color:"white",direction:"row",display:"flex",onBlur:h,onFocus:f,onMouseEnter:m,onMouseLeave:g,position:"relative",rounding:2},o.a.createElement(k,{shouldNavigate:!c,to:`${t.url}${y}/`},o.a.createElement(H,{displayEditIcon:O,mode:E,mouseCursor:C,onEditClick:({event:e})=>{e.stopPropagation(),e.preventDefault(),b(n)},onTouch:w,pinCount:n.pin_count,title:v},o.a.createElement(o.a.Fragment,null,o.a.createElement(z,{isHovered:s||u||a,mode:E,pins:_}),I))),o.a.createElement("div",{className:"sectionHoverSurface"}))},V=n("ks/r"),W=n("7pfs"),G=n("9X5u"),Y=n("rg+c"),J=n("9ip6");function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Q extends r.Component{constructor(...e){super(...e),X(this,"state",{dragDrop:null,sectionIds:this.props.sections.map(e=>e.id)}),X(this,"cancelHoverTimeout",()=>{const e=this.dragHoverTimeout;e&&clearTimeout(e.timeoutId),this.dragHoverTimeout=null}),X(this,"dragHoverTimeout",null),X(this,"isDragging",()=>!!this.state.dragDrop),X(this,"handleSectionDragBegin",e=>{this.setState({dragDrop:{previewIndex:e,sourceIndex:e,target:null}})}),X(this,"handleSectionDragHover",(e,t)=>{const{dragDrop:n}=this.state,r=this.props.allowReordering;if(!t||!n)return;const{previewIndex:o}=n,i=Object(J.a)({hoverRelativePosition:t,centerEnabled:e!==o&&r}),a={itemIndex:e,regionWithinItem:i};if(this.dragHoverTimeout&&Object(J.c)(a,this.dragHoverTimeout.hoverLocation))return;this.cancelHoverTimeout();const s="center"===i?"merge":"reorder",c={action:s,index:Object(J.b)({hoverLocation:a,sourceIndex:o})};c.index!==o?this.dragHoverTimeout={hoverLocation:a,timeoutId:setTimeout(()=>{this.dragHoverTimeout=null,"reorder"===s?this.setState({dragDrop:{...this.state.dragDrop,target:c,previewIndex:c.index},sectionIds:Object(w.c)(this.state.sectionIds,o,c.index)}):this.setState({dragDrop:{...this.state.dragDrop,target:c}})},"reorder"===s?200:20)}:n.target&&n.target.index!==c.index&&this.setState({dragDrop:{...n,target:c}})}),X(this,"handleSectionDragEnd",e=>{const{sections:t,onShowMergeSectionsConfirmationModal:n,onSectionReorder:r}=this.props,{dragDrop:o,sectionIds:i}=this.state,a=o&&o.target;if(this.cancelHoverTimeout(),!e||!o||!a||a.index===o.sourceIndex)return void this.setState({dragDrop:null,sectionIds:t.map(e=>e.id)});const{previewIndex:s,sourceIndex:c}=o,{action:l,index:u}=a;if(this.setState({dragDrop:null}),"merge"===l){const e=e=>{const n=i[e];return n&&t.find(({id:e})=>e===n)},r=e(s),o=e(u);r&&o&&n(r,o)}else r(c,u)}),X(this,"renderSection",(e,t)=>{const{allowReordering:n,board:r,canEdit:i,oneTapMovePinsHandler:a,onShowEditSectionModal:s,organizeMode:c}=this.props,{dragDrop:l}=this.state,u=l&&l.target;return o.a.createElement(d.e,{padding:2},o.a.createElement(W.a,null,({focused:l,hovered:d,onBlur:h,onFocus:p,onMouseEnter:f,onMouseLeave:m})=>o.a.createElement(K,{allowReordering:n,board:r,boardSection:e,canEdit:i,focused:l,hovered:d,inOrganizationMode:c,isDragging:this.isDragging(),isMergeTarget:!!u&&"merge"===u.action&&t===u.index,onBlur:e=>{const t=e.currentTarget;setTimeout(()=>{t.contains(document.activeElement)||h()},0)},onFocus:p,onMouseEnter:f,onMouseLeave:m,oneTapMovePinsHandler:a,onShowEditSectionModal:s})))})}componentDidUpdate(e){const{sections:t}=e,{sections:n}=this.props,r=e=>e.map(({id:e})=>e).join(",");if(t.length!==n.length&&r(t)!==r(n)){this.cancelHoverTimeout();const e=n.map(e=>e.id);this.setState({dragDrop:null,sectionIds:e})}}componentWillUnmount(){this.cancelHoverTimeout()}render(){const{allowReordering:e,connectDropTarget:t,isDragWithinBounds:n,sections:r}=this.props,{sectionIds:i}=this.state,a=this.isDragging(),s=r.reduce((e,t)=>({...e,[t.id]:t}),{}),c=o.a.createElement(d.e,{display:"flex",justifyContent:"center",marginStart:6,marginEnd:6,wrap:!0},i.map(e=>s[e]).filter(e=>!!e).map((t,r)=>o.a.createElement(d.e,{key:t.id},e?o.a.createElement(Y.b,{index:r,onDragBegin:this.handleSectionDragBegin,onDragEnd:this.handleSectionDragEnd,onDragHover:this.handleSectionDragHover,type:Y.a.Section},o.a.createElement("div",{style:{opacity:a&&!n?.5:1}},this.renderSection(t,r))):o.a.createElement(d.e,null,this.renderSection(t,r)))));return o.a.createElement(d.e,{width:"100%"},e&&t?t(o.a.createElement("div",null,c)):c,a&&o.a.createElement(V.a,null))}}const $=Object(G.a)(Y.a.Section)(Q);function Z(e){const{allowReordering:t,fetchMore:n,isAtEnd:r,isFetching:i}=e;return o.a.createElement(d.e,{width:"100%"},o.a.createElement(d.J,{isAtEnd:r,isFetching:i,fetchMore:n}),t?o.a.createElement($,e):o.a.createElement(Q,e),i&&!r&&o.a.createElement(d.e,{position:"relative",paddingY:6},o.a.createElement(d.O,{accessibilityLabel:c.a._("Loading sections","loading state for board sections","loading state for board sections"),show:!0})))}var ee=n("MaRn"),te=n("eOdZ");var ne=n("U4JR");class re extends r.Component{constructor(...e){var t,n,r;super(...e),r=(e,t)=>{const{board:n,dispatch:r,enableReordering:o,sections:i,viewParameter:a}=this.props;if(!o)return;const s=i[e].id,c=i[t].id,l=Object(w.c)(i,e,t).map(e=>e.id),u=l.indexOf(s),d=e=>e>=0&&e<l.length,h={boardId:n.id,sourceSectionId:s,targetSectionId:c,...d(u+1)?{sectionIdAfter:l[u+1]}:{},...d(u-1)?{sectionIdBefore:l[u-1]}:{}},p={objectId:s,view:5,viewParameter:a};var f;r((f=h,e=>{const{boardId:t,sectionIdBefore:n,sectionIdAfter:r,sourceSectionId:o,targetSectionId:i}=f;e(Object(ee.a)({feedType:w.a.BOARD_SECTIONS,feedId:t,itemType:"board_section",sourceItemId:o,targetItemId:i}));const a={section_id:o,section_before:n||void 0,section_after:r||void 0};return te.a.create("BoardSectionsReorderResource",a).callUpdate({showError:!1})})).then(()=>Object(ne.a)(7133,p))},(n="handleSectionReorder")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}componentDidMount(){const{sectionsInvalidated:e,onLoadedAll:t,sectionsResource:{isFetching:n,refreshData:r,isAtEnd:o}}=this.props;e&&!n&&r(),o&&t()}componentDidUpdate(e){!this.props.sectionsInvalidated||e.sectionsInvalidated||this.props.isFetching||this.props.refreshData(),!e.sectionsResource.isAtEnd&&this.props.sectionsResource.isAtEnd&&this.props.onLoadedAll()}render(){const{board:e,enableReordering:t,inBoardOrganizationMode:n,oneTapMovePinsHandler:r,onShowEditSectionModal:i,onShowMergeSectionsConfirmationModal:a,sections:s,sectionsResource:l}=this.props,{isLoaded:u,isFetching:h,fetchMore:p,isAtEnd:f}=l;if(!u)return c.a._("Board sections loading spinner","BoardPage.BoardSections.loadingSpinner","Accessibility label for the spinner on board sections"),o.a.createElement(d.O,{accessibilityLabel:c.a._("Board sections loading spinner"),show:!0});const m=(e.access||[]).includes("write");return o.a.createElement(d.e,{justifyContent:"center",display:"flex"},o.a.createElement(Z,{allowReordering:t,board:e,canEdit:m,fetchMore:p,isAtEnd:f,isFetching:h,oneTapMovePinsHandler:r,onSectionReorder:this.handleSectionReorder,onShowEditSectionModal:i,onShowMergeSectionsConfirmationModal:a,organizeMode:n,sections:s}))}}var oe=Object(g.compose)(Object(i.connect)((function(e,t){const{feeds:{[w.a.BOARD_SECTIONS]:n={}},sections:r}=e,{board:{id:o}}=t,i=n[o];return{sections:(i||[]).reduce((e,t)=>"board_section"===t.type&&r[t.id]?e.concat([r[t.id]]):e,[]),sectionsInvalidated:null===i}})),Object(u.a)({name:"BoardSectionsResource",key:"sectionsResource",options:e=>({board_id:e.board.id,redux_normalize_feed:!0})}))(re),ie=n("i/p3"),ae=n("79tv");t.a=Object(i.connect)((function({boards:e,ui:t,viewer:n},{board:r}){const{views:{boardPinView:o}}=t,i=((e||{}).content||{})[r.id];return{boardPinView:o,sectionCount:(i?i.section_count:r.section_count)||0,viewer:n}}),()=>({}))((function({actions:e,board:t,boardPinView:n,bulkEditSelectedPins:i,currentView:c,displayActionBar:l,enableReordering:u,inBoardOrganizationMode:h,inSectionOrganizationMode:p,inSelectAll:f,isOwnBoard:m,isPinGridSorted:g,onBulkEditPinClick:b,onContentViewChange:y,oneTapMovePinsHandler:v,onPinDelete:_,onShowEditSectionModal:w,onShowMergeSectionsConfirmationModal:C,sectionCount:O,viewParameter:I,viewer:D}){const[k,T]=Object(r.useState)(0===O),M=Object(ae.a)(t.url),j=Object(a.a)(()=>{const{onBoardOrganizeClick:t}=e;Object(ne.a)(101,{component:69,element:400}),t(!0)}),{is_collaborative:P,pin_count:B}=t,A=(t.access||[]).includes("write"),R=m||t.collaborated_by_me,L=B>=E.c&&P&&R;return o.a.createElement(d.e,{marginBottom:12},o.a.createElement(s.a,{setMaxWidth:!1},o.a.createElement(d.e,null,O>0&&o.a.createElement(oe,{board:t,enableReordering:u,inBoardOrganizationMode:h,inSectionOrganizationMode:p,oneTapMovePinsHandler:v,onLoadedAll:()=>T(!0),onShowEditSectionModal:w,onShowMergeSectionsConfirmationModal:C,viewParameter:I}),l&&k&&R&&O>0&&o.a.createElement(S,{board:t,currentView:c,inBoardOrganizationMode:h,onContentViewChange:y,onOrganizeClick:j,pinCount:B,showSortOptions:L}))),k&&o.a.createElement(d.e,{"data-test-id":"board-feed",dangerouslySetInlineStyle:{__style:{paddingBottom:"8px"}},paddingX:3,position:"relative"},o.a.createElement(x,{board:t,bulkEditSelectedPins:i,currentView:c,denseViewSelected:A&&"dense"===n,inBoardOrganizationMode:h,inSectionOrganizationMode:p,inSelectAll:f,isOwnBoard:m,isPinGridSorted:g,onBulkEditPinClick:b,onPinDelete:_,renderFooterStory:e=>!t.archived_by_me_at&&o.a.createElement(d.e,{marginBottom:6},o.a.createElement(s.a,null,o.a.createElement(ie.a,{collection:t,storyId:e,url:M}))),viewParameter:I,viewer:D})))}))},m75S:function(e,t,n){e.exports={initODS:function(){},handleExtensionCausedError:function(){}}},mEMi:function(e,t,n){n.d(t,"a",(function(){return c}));var r=n("q1tI"),o=n.n(r),i=n("DzJC"),a=n.n(i);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends o.a.PureComponent{constructor(...e){super(...e),s(this,"setContainerRef",e=>{this.containerRef=e}),s(this,"fetchMoreIfNecessary",a()(()=>{const{fetchMore:e,scrollBuffer:t}=this.props;e&&this.containerRef&&(({scrollTop:e,clientHeight:t,scrollHeight:n},r)=>e+t+(r?r(t):2*t)>n)(this.containerRef,t)&&e()},200))}componentDidMount(){setTimeout(this.fetchMoreIfNecessary)}componentDidUpdate(){this.fetchMoreIfNecessary()}render(){const{children:e}=this.props;return e({onScroll:this.fetchMoreIfNecessary,setRef:this.setContainerRef})}}},mFyV:function(e,t,n){var r=function(e){if(void 0===e)throw new Error("invariant(...): Second argument must be a string.")};e.exports=function(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];if(r(t),!e){var a;if(void 0===t)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;(a=new Error(t.replace(/%s/g,(function(){return String(o[s++])})))).name="Invariant Violation"}throw a.framesToPop=1,a}}},mHb8:function(e,t,n){n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));const r=(e,t)=>{const n="object"==typeof t.owner?t.owner.id:t.owner;return e.isAuth&&n===e.id},o=(e,t)=>e.isAuth&&t.collaborated_by_me,i=(e,t)=>r(e,t)?3069:3070},mLS1:function(e,t,n){var r=n("q1tI"),o=n.n(r),i=n("/MKj"),a=n("Ye/N"),s=n("TiQD"),c=n("eOdZ"),l=n("Wrea"),u=n("xdpg"),d=n("n6mq");function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(){return o.a.createElement("div",{className:"ImageCrop"},o.a.createElement("div",{className:"holder"},o.a.createElement(d.e,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",alignItems:"center",justifyContent:"center"},o.a.createElement(d.O,{accessibilityLabel:a.a._("Loading","accessibility label for loading spinner","accessibility label for loading spinner"),show:!0}))))}const f={border:0,top:120};class m extends o.a.Component{constructor(...e){super(...e),h(this,"state",{deltaY:0,deltaX:0,holderHeight:0,holderWidth:0,isSpinnerShown:!0,startBgPos:{left:0,top:0}}),h(this,"handleUpdateImage",()=>{const e=this.image;if(!e)return;const t=e.offsetHeight,n=e.offsetWidth;this.setState({isSpinnerShown:!1,startBgPos:{left:-(n-this.state.holderWidth)/2,top:-(t-this.state.holderHeight)/2}})}),h(this,"handleOnMouseUp",()=>{this.isDragging=!1,this.setState({startBgPos:{left:this.getBgLeft(),top:this.getBgTop()},deltaX:0,deltaY:0}),this.props.updateImgCrop(this.getCropData())}),h(this,"isDragging",!1)}componentDidMount(){this.holder&&this.setState({holderHeight:this.holder.offsetHeight,holderWidth:this.holder.offsetWidth}),document.body&&document.body.addEventListener("mouseup",this.handleOnMouseUp,!1)}componentDidUpdate(e){e.pin.id!==this.props.pin.id&&this.setState({isSpinnerShown:!0})}componentWillUnmount(){document.body&&document.body.removeEventListener("mouseup",this.handleOnMouseUp)}getFrameBounds(){const{frameHeight:e,frameWidth:t}=this.props,{holderHeight:n,holderWidth:r}=this.state;return{left:r/2-t/2,width:t,height:e,top:n/2-e/2}}getBgLeft(){const{frameWidth:e}=this.props,t=this.getFrameBounds(),n=this.getImgScale(),r=this._getImageDimensions(),o=r.imgHeight*n,i=r.imgWidth*n;let a=0;return o&&i&&(a=this.state.startBgPos.left+this.state.deltaX,a+i-e<t.left&&(a=t.left-i+e),a>t.left&&(a=t.left)),a}getBgTop(){const{frameHeight:e}=this.props,t=this.getFrameBounds(),n=this.getImgScale(),r=this._getImageDimensions(),o=r.imgHeight*n,i=r.imgWidth*n;let a=0;return o&&i&&(a=this.state.startBgPos.top+this.state.deltaY,a+o-e<t.top&&(a=t.top-o+e),a>t.top&&(a=t.top)),a}getImgScale(){const{frameHeight:e,frameWidth:t}=this.props,{imgHeight:n,imgWidth:r}=this._getImageDimensions(),o=this.getFrameBounds();if(n&&r){let i=n/r;return i=i>=o.height/o.width?t/r:e/n,i}return 1}getImageBounds(){const{imgHeight:e,imgWidth:t}=this._getImageDimensions();let n={};if(e&&t){const r=this.getImgScale();n={width:r*t,height:r*e}}return n}getBgBounds(){return{left:this.getBgLeft(),top:this.getBgTop()}}getCropData(){const{frameHeight:e,frameWidth:t}=this.props,n=this.getFrameBounds(),r=this.getBgBounds(),o=this.getImgScale();return{cropX:Math.round(-(r.left-n.left)/o),cropY:Math.round(-(r.top-n.top)/o),height:Math.round(e/o),width:Math.round(t/o),scale:o}}handleOnMouseDown(e){0===e.button&&(e.stopPropagation(),this.isDragging=!0,this.originX=e.pageX,this.originY=e.pageY)}handleOnMouseMove(e){this.isDragging&&this.setState({deltaX:e.pageX-(this.originX||0),deltaY:e.pageY-(this.originY||0)})}_getImageDimensions(){const{pin:e}=this.props,t=e.images["236x"];return{imgHeight:t.height,imgWidth:t.width}}render(){const{boardName:e,frameHeight:t,frameWidth:n,isFirst:r,isLast:i,pin:s,showNextPin:c,showPrevPin:l}=this.props,{isSpinnerShown:h}=this.state,{imgHeight:p,imgWidth:m}=this._getImageDimensions(),g=this.getFrameBounds(),b=this.getImageBounds(),y=this.getBgBounds();let v="";return p&&m&&(v="in"),o.a.createElement("div",{className:"ImageCrop"},o.a.createElement("div",{className:"holder",ref:e=>{this.holder=e}},o.a.createElement("div",{className:"bg",style:y},o.a.createElement("img",{alt:u.c(a.a._("Board cover for {{ boardName }}"),{boardName:e}),className:v,onLoad:this.handleUpdateImage,ref:e=>{this.image=e},src:s.images["236x"].url,style:b})),o.a.createElement("div",{className:"mask"},o.a.createElement("span",{style:{top:0,left:0,right:0,height:g.top}}),o.a.createElement("span",{style:{top:g.top,left:g.left+n,right:0,height:t}}),o.a.createElement("span",{style:{top:t+g.top,left:0,right:0,bottom:0}}),o.a.createElement("span",{style:{top:g.top,left:0,width:g.left,height:t}})),o.a.createElement("div",{className:"frame",style:g}),o.a.createElement("div",{className:"drag",onMouseDown:e=>{this.handleOnMouseDown(e)},onMouseMove:e=>{this.handleOnMouseMove(e)}}),o.a.createElement("div",{className:"spinner",style:{display:h?"":"none"}})),r?null:o.a.createElement(d.e,{position:"absolute",width:46,height:46,dangerouslySetInlineStyle:{__style:{...f,left:100}}},o.a.createElement(d.u,{icon:"arrow-back",accessibilityLabel:a.a._("Previous","Label for indicating selecting the previous pin","Label for indicating selecting the previous pin"),onClick:l})),i?null:o.a.createElement(d.e,{position:"absolute",width:46,height:46,dangerouslySetInlineStyle:{__style:{...f,right:100}}},o.a.createElement(d.u,{icon:"arrow-forward",accessibilityLabel:a.a._("Next","Label for indicating selecting the previous pin","Label for indicating selecting the previous pin"),onClick:c})))}}h(m,"defaultProps",{frameHeight:236,frameWidth:236});var g=n("w70y");function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){return e.reduce((e,t)=>("pin"===t.type&&e.push(t),e),[])}function v({boardFeedResource:{data:e},coverPinId:t}){return Math.max(0,y(e||[]).findIndex(e=>e.id===t))}class _ extends o.a.Component{constructor(...e){super(...e),b(this,"state",{coverPinIndex:v(this.props),imgCropData:null,previousBoardFeedResourceData:null}),b(this,"handleSave",()=>{const{boardId:e,dispatch:t}=this.props,{coverPinIndex:n,imgCropData:r}=this.state,o=(this.pins||[])[n];if(!o)return;const i=o.images["236x"],a=i.url,s={board_id:e,url:a,pin_id:o.id,pin_image_url:a,...r?{crop_x:r.cropX,crop_y:r.cropY,height:r.height,width:r.width,scale:r.scale}:{}},u={height:i.height,width:i.width,x:r?r.cropX:0,y:r?r.cropY:0};c.a.create("BoardResource",s).callUpdate().then(()=>{this.props.onSave(a),t(Object(l.a)(e,{custom_cover:!0,scale:r?r.scale:1,pin_id:o.id,crop:u,image_url:a}))})}),b(this,"updateImgCrop",e=>this.setState({imgCropData:e})),b(this,"handleShowNextPin",()=>{const{boardFeedResource:{isAtEnd:e,isFetching:t,fetchMore:n}}=this.props,r=(this.pins||[]).length;r&&this.setState(({coverPinIndex:e})=>({coverPinIndex:(e+1)%r}),()=>{this.pins&&this.state.coverPinIndex+5>=this.pins.length&&!e&&!t&&n()})}),b(this,"handleShowPrevPin",()=>{const e=(this.pins||[]).length;e&&this.setState(({coverPinIndex:t})=>({coverPinIndex:(t||e)-1}))})}static getDerivedStateFromProps(e,t){const n=e.boardFeedResource.data,{previousBoardFeedResourceData:r}=t;return!r&&n?{previousBoardFeedResourceData:n,coverPinIndex:v(e)}:{previousBoardFeedResourceData:n}}componentDidUpdate(e){const t=this.props.boardFeedResource.data,n=e.boardFeedResource.data;(t&&n!==t&&t.length||t&&n&&t.length!==n.length)&&t.forEach(e=>{if("pin"===e.type){(new Image).src=e.url}})}get pins(){const{boardFeedResource:{data:e}}=this.props;return e?y(e):void 0}render(){const{boardName:e,frameHeight:t,frameWidth:n,heading:r,onCancel:i}=this.props,{coverPinIndex:c}=this.state,l=this.pins||[],u=l[c];return o.a.createElement(s.b,{accessibilityModalLabel:a.a._("Change Board Cover","accessible label for modal to change board cover image","accessible label for modal to change board cover image"),size:"lg",heading:r,onDismiss:i},o.a.createElement(d.e,{position:"relative",dangerouslySetInlineStyle:{__style:{userSelect:"none"}}},u?o.a.createElement(m,{boardName:e,frameHeight:t,frameWidth:n,isFirst:!c,isLast:c===l.length-1,pin:u,showNextPin:this.handleShowNextPin,showPrevPin:this.handleShowPrevPin,updateImgCrop:this.updateImgCrop}):o.a.createElement(p,null)),o.a.createElement(d.e,{display:"flex",justifyContent:"end"},o.a.createElement(d.e,{padding:2},o.a.createElement(d.f,{inline:!0,onClick:i,text:a.a._("Cancel")})),o.a.createElement(d.e,{padding:2},o.a.createElement(d.f,{disabled:!u,inline:!0,onClick:this.handleSave,text:a.a._("Save Changes","Button for saving board cover edit","Button for saving board cover edit"),color:"red"}))))}}function E(e){const t=Object(i.useDispatch)(),n=Object(g.a)({name:"BoardFeedResource",options:{board_id:e.boardId,field_set_key:"images_only_item",filter_section_pins:!1,page_size:50}});return o.a.createElement(_,Object.assign({},e,{boardFeedResource:n,dispatch:t}))}var S=n("0rqM");const w=({label:e,labelId:t})=>t?o.a.createElement(d.w,{htmlFor:t},o.a.createElement(d.V,{size:"sm"},e)):o.a.createElement(d.V,{size:"sm"},e);function C(e){const{children:t,label:n,labelId:i}=e;return o.a.createElement(r.Fragment,null,o.a.createElement(d.e,{marginBottom:2},o.a.createElement(w,{label:n,labelId:i})),t)}const O=138;function I({coverPin:e,handleShowBoardCoverEditModal:t}){const[n,i]=Object(r.useState)(!1);return o.a.createElement(C,{label:a.a._("Board cover","BoardForm.BoardFormCoverButton","Form label for updating board cover")},o.a.createElement(d.e,{width:O,position:"relative"},o.a.createElement(d.U,{onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),onTap:t,rounding:4},(null==e?void 0:e.custom_cover)?o.a.createElement(r.Fragment,null,o.a.createElement(d.A,{height:O,rounding:4,width:O},o.a.createElement(d.v,{alt:e.image_url,color:"gray",fit:"cover",naturalHeight:e.size&&e.size[0]||O,naturalWidth:e.size&&e.size[0]||O,src:e.image_url})),o.a.createElement(d.e,{position:"absolute",right:!0,bottom:!0,padding:2},o.a.createElement(d.e,{alignItems:"center",display:"flex",height:44,justifyContent:"center",rounding:"circle",width:44,dangerouslySetInlineStyle:{__style:{background:n?"white":"rgba(255, 255, 255, 0.8)"}}},o.a.createElement(d.t,{accessibilityLabel:a.a._("Edit board cover","BoardForm.BoardFormBoardCoverButton","Accessibility label on icon"),icon:"edit",color:"darkGray",size:16})))):o.a.createElement(d.e,{alignItems:"center",color:n?"darkWash":"lightGray",display:"flex",height:O,justifyContent:"center",rounding:4,width:O},o.a.createElement(d.t,{accessibilityLabel:a.a._("Add cover photo","BoardForm.BoardFormCoverButton","Accessibility label on icon"),color:"darkGray",icon:"add",size:24})))))}function x({categories:e,currentCategory:t,onChange:n}){const r=a.a._("What kind of board is it?");return o.a.createElement(C,{label:a.a._("Category","BoardForm.BoardFormCategoriesDropdown","Form field label"),labelId:"boardEditCategory"},o.a.createElement(d.M,{id:"boardEditCategory",name:"category",onChange:n,options:e.map(({name:e,key:t})=>({label:e,value:t})),placeholder:r,size:"lg",value:t||null}))}function D({children:e,label:t,labelId:n,subtext:i}){return o.a.createElement(r.Fragment,null,o.a.createElement(d.e,{alignItems:"center",display:"flex",justifyContent:"between",paddingY:1},o.a.createElement(d.w,{htmlFor:n},o.a.createElement(d.s,{size:"sm"},t)),e),i)}function k({hasCollabBoardEmail:e,isCollaborative:t,onChange:n}){return t&&o.a.createElement(D,{label:a.a._("Email notifications","BoardForm.BoardFormCollaboratorsEmailCheckbox","Form label"),labelId:"emailNotificationsCheckbox",subtext:o.a.createElement(d.V,{color:"gray",size:"lg"},a.a._("Get an email when someone saves Pins to this board","BoardForm.BoardFormCollaboratorsEmailCheckbox","Text explaing field on board form"))},o.a.createElement(d.e,{alignItems:"center",display:"flex",paddingY:2},o.a.createElement(d.e,{marginEnd:1},o.a.createElement(d.R,{switched:e,id:"emailNotificationsCheckbox",name:"email",onChange:n}))))}var T=n("+HMQ"),M=n("88U9"),j=n("8Mj5"),P=n("zpFB");function B({board:e,onCollaboratorInviteClick:t}){return o.a.createElement(T.a,{board:e},e=>{const{limitedCollaborators:n,overflowNumber:r}=Object(M.a)(e.length,e);return o.a.createElement(d.I,{justifyContent:"between"},o.a.createElement(j.a,{additionalCount:r,faces:n.map(e=>({...e,key:e.name})),faceSize:"lg",overlap:P.a}),o.a.createElement(d.u,{accessibilityLabel:a.a._("Invite collaborators","BoardEdit.BoardCollaboratorsAndInviteSection","Accessibility label on button"),bgColor:"lightGray",icon:"add",iconColor:"darkGray",onClick:t,size:"lg"}))})}var A=n("KEt0"),R=n("kmwA");function L({board:e,currentUserIsOwner:t,handleBoardLeave:n,onCollaboratorInviteClick:r}){const i=o.a.createElement(d.I,null,o.a.createElement(d.V,{size:"sm",inline:!0},a.a._("Collaborators")),o.a.createElement(A.a,null),o.a.createElement(d.V,{inline:!0,size:"sm",weight:"bold"},o.a.createElement(d.z,{inline:!0,target:"blank",href:R.a.settings.HELP_BOARDS_INVITE_URL_SRC_CREATE},a.a._("Learn more"))));return o.a.createElement(C,{alignTop:!0,label:i,labelId:"collaborators"},o.a.createElement(B,{board:e,onCollaboratorInviteClick:r}))}function N({collaboratorInvitesEnabled:e,isCollaborative:t,onChange:n}){return t&&o.a.createElement(D,{label:a.a._("Let collaborators add people","BoardForm.BoardFormCollaboratorsInviteToggle","Form label"),labelId:"collaboratorInvitesEnabledCheckbox"},o.a.createElement(d.e,{paddingY:2},o.a.createElement(d.R,{switched:e,id:"collaboratorInvitesEnabledCheckbox",name:"collaboratorInvitesEnabled",onChange:n})))}var F=n("QoKk");function z({boardDates:e,onChange:t,onToggleFlyout:n}){return o.a.createElement(C,{label:a.a._("Dates","BoardForm.BoardFormDateField.label","Label next to date picker for adding a date to a board"),labelId:"secret"},o.a.createElement(F.a,{dates:e,onChange:t,onToggleFlyout:n}))}function q({description:e,descriptionValidatorErrors:t,onChange:n}){const r="boardEditDescription";return o.a.createElement(C,{alignTop:!0,label:a.a._("Description","BoardForm.BoardFormDescription"," Form field label"),labelId:r},o.a.createElement(d.W,{errorMessage:t.join(", "),id:r,name:"description",onChange:n,placeholder:a.a._("What's your board about?"),value:e}))}var U=({children:e})=>o.a.createElement(d.e,{paddingX:8,role:"list"},r.Children.map(e,(t,n)=>t&&o.a.createElement(d.e,{role:"listitem",marginBottom:n===r.Children.count(e)-1?1:8,key:n},t))),H=n("JW66");function K({isProtectedToggler:e,isToggleDisable:t,onChange:n,privacy:i}){if(!0===e)return o.a.createElement(D,{label:a.a._("Protected board (not listed on user's profile)","BoardForm.BoardFormSecretToggle","protected board"),labelId:"protected"},o.a.createElement(d.e,{paddingY:2},o.a.createElement(d.R,{onChange:n,switched:i===H.a.BoardPrivacy.PROTECTED,id:"protected",disabled:t})));if(i!==H.a.BoardPrivacy.PROTECTED){const e=a.a._("Keep this board secret","BoardForm.BoardFormSecretToggle","Caption for board settings to set visibility"),s=o.a.createElement(r.Fragment,null,o.a.createElement(d.V,{color:"gray",size:"lg"},a.a._("So only you and collaborators can see it.","BoardForm.BoardFormSecretToggle","notifying the board owner only they and the collaborators can see the board if it set to secret")," ",o.a.createElement(d.z,{inline:!0,target:"blank",href:R.a.settings.HELP_BOARDS_SECRET_URL_SRC_CREATE},a.a._("Learn more","BoardForm.BoardFormSecretToggle","Link to learn more about secret boards"))));return o.a.createElement(D,{label:e,labelId:"secret",subtext:s},o.a.createElement(d.e,{display:"flex",alignItems:"center"},o.a.createElement(d.R,{switched:i===H.a.BoardPrivacy.SECRET,id:"secret",name:"secret",onChange:n,disabled:t})))}return null}function V({allowHomefeedRecommendations:e,onChange:t}){return o.a.createElement(D,{label:a.a._("Personalization","BoardForm.BoardFormRecommendationToggle","form label"),labelId:"recommendation",subtext:o.a.createElement(d.V,{color:"gray",size:"lg"},a.a._("Show Pins inspired by this board in your home feed.","BoardForm.BoardFormRecommendationToggle","Caption for board settings to set visibility"))},o.a.createElement(d.R,{switched:e,id:"recommendation",name:"recommendation",onChange:t}))}function W({boardOwnerHasActiveAds:e,hasActiveAds:t,isAdAccountOwner:n,onChange:i,privacy:s,showConfirmation:c}){if(!1===n)return o.a.createElement(D,{label:a.a._("Protected board (not listed on user's profile)","BoardForm.BoardFormSecretToggle","protected board"),labelId:"protected"},o.a.createElement(d.e,{paddingY:2},o.a.createElement(d.R,{onChange:()=>{},id:"protected",switched:!0,disabled:!0})));if(s!==H.a.BoardPrivacy.PROTECTED){const n=a.a._("Keep this board secret","BoardForm.BoardFormSecretToggle","Caption for board settings to set visibility"),l=o.a.createElement(r.Fragment,null,o.a.createElement(d.V,{color:"gray",size:"lg"},e?a.a._("Ads from secret boards won’t run.","BoardForm.BoardFormSecretToggle","notifying the board owner ads will not run if the board is set to secret"):a.a._("So only you and collaborators can see it.","BoardForm.BoardFormSecretToggle","notifying the board owner only they and the collaborators can see the board if it set to secret")," ",o.a.createElement(d.z,{inline:!0,target:"blank",href:R.a.settings.HELP_BOARDS_SECRET_URL_SRC_CREATE},a.a._("Learn more","BoardForm.BoardFormSecretToggle","Link to learn more about secret boards"))));return o.a.createElement(D,{label:n,labelId:"secret",subtext:l},o.a.createElement(d.e,{display:"flex",alignItems:"center"},o.a.createElement(d.R,{switched:"secret"===s,id:"secret",name:"secret",onChange:"public"===s&&t?c:i})))}return null}function G({name:e,nameValidatorErrors:t,onChange:n}){return o.a.createElement(C,{label:a.a._("Name","BoardForm.BoardFormTitleInput","Form field label"),labelId:"boardEditName"},o.a.createElement(d.X,{errorMessage:t.join(", "),id:"boardEditName",name:"boardName",onChange:n,placeholder:a.a._('Like "Places to Go" or "Recipes to Make"'),size:"lg",value:e}))}var Y=n("4dcN"),J=n("CvCA"),X=n("XCz/"),Q=n("VwDf"),$=n("vvax"),Z=n("nGHF"),ee=n("guDk"),te=n("c50B");function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const re=e=>Object(te.j)({max:e,maxErrorString:Object(u.i)(a.a._("Please enter no more than {{ maxLength }} characters.","Validation error when a string is too long","Validation error when a string is too long"),{maxLength:e})}),oe=()=>[re(H.a.MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION)],ie=()=>[Object(te.o)({message:a.a._("Don't forget to name your board!")}),re(H.a.MAX_CHARS_FOR_BOARD_TITLE)];class ae extends r.Component{constructor(e){super(e),ne(this,"handleChangeName",({value:e})=>{const t=Object(te.r)(ie(),e);this.setState({name:e,nameValidatorErrors:t})}),ne(this,"handleChangeDescription",({value:e})=>{const t=Object(te.r)(oe(),e);this.setState({description:e,descriptionValidatorErrors:t})}),ne(this,"handleChangeBoardDates",e=>{this.setState({boardDates:e})}),ne(this,"handleChangeCategory",({value:e})=>{"true"!==e&&this.setState({category:e})}),ne(this,"handleChangePrivacyToggle",({value:e})=>{let t="public";e&&(t=this.props.isAdAccount?"protected":"secret"),this.state.privacy!==t&&this.setState({privacy:t})}),ne(this,"handleChangePrivateToggle",({value:e})=>{this.setState({privacy:e?"secret":"public"})}),ne(this,"handleEnableSecret",()=>{this.setState({privacy:"secret",showSecretConfirmation:!1})}),ne(this,"handleShowSecretConfirmation",()=>{this.setState({showSecretConfirmation:!0})}),ne(this,"handleHideSecretConfirmation",()=>{this.setState({showSecretConfirmation:!1})}),ne(this,"handleChangeRecommendationToggle",({value:e})=>{this.setState({allowHomefeedRecommendations:e})}),ne(this,"handleChangeCollabBoardEmail",({value:e})=>{this.setState({collab_board_email:e})}),ne(this,"handleChangeCollaboratorInvitesEnabled",({value:e})=>{this.setState({collaboratorInvitesEnabled:e})}),ne(this,"handleCancel",()=>{Y.a.trackEvent(this.props.gaCategory,"click_cancel"),this.props.onClose()}),ne(this,"handleSubmit",e=>{const{board:{event_date:t,event_start_date:n},onSubmit:r,toastManagerContext:i,onClose:s}=this.props,{boardDates:c,category:l,collab_board_email:u,collaboratorInvitesEnabled:d,description:h,name:p,privacy:f,allowHomefeedRecommendations:m}=this.state;if(e.preventDefault&&e.preventDefault(),this.submitDisabled())return;const g=p.trim(),b=h.trim(),{eventEndDate:y,eventStartDate:v}=Object(Q.a)({currentEventStartDate:c.length>1?c[0]:null,currentEventEndDate:c[1]||c[0],initialEventStartDate:n,initialEventEndDate:t});this.setState({submitting:!0,submitError:""}),Y.a.trackEvent(this.props.gaCategory,"click_submit"),r({event_start_date:v,event_date:y,name:g,category:l,collab_board_email:u,collaborator_invites_enabled:d,description:b,privacy:f,allow_homefeed_recommendations:m}).then(()=>{this.setState({submitting:!1})}).catch(e=>{let t=a.a._("Uh oh! Something went wrong.");if(e.message){const{message:n,message_detail:r}=e;t=r?`${n} ${r}`:n}else"string"==typeof e&&(t=e);t=Object(ee.a)(e)||t,Object(ee.b)(e)?(i.showOneToast(({onHide:e})=>o.a.createElement(J.a,{color:"red",duration:500,onHide:e,text:t})),s()):this.setState({submitting:!1,submitError:t})})}),ne(this,"handleShowBoardCoverEditModal",()=>{this.setState({showBoardCoverEdit:!0})}),ne(this,"handleHideBoardCoverEditModal",()=>{this.setState({showBoardCoverEdit:!1})}),ne(this,"handleSaveBoardCoverEditModal",e=>{this.handleHideBoardCoverEditModal();const{onCropChange:t}=this.props;t&&t(e)});const{board:{category:t,collab_board_email:n,collaborator_invites_enabled:r,description:i,event_date:s,event_start_date:c,name:l,pin_count:u,privacy:d,allow_homefeed_recommendations:h}}=e,p=[];c&&p.push(new Date(c)),s&&p.push(new Date(s)),this.state={boardDates:p,category:t,collab_board_email:n,description:i,name:l,pin_count:u,privacy:d,allowHomefeedRecommendations:h,collaboratorInvitesEnabled:r,nameValidatorErrors:[],descriptionValidatorErrors:[],showBoardCoverEdit:!1,showSecretConfirmation:!1,submitting:!1,previousName:l,previousDescription:i,previousCategory:t,previousPrivacy:d}}static getDerivedStateFromProps(e,t){const n={};return e.board.name!==t.previousName&&(n.previousName=e.board.name,n.nameValidatorErrors=Object(te.r)(ie(),e.board.name)),e.board.description!==t.previousDescription&&(n.previousDescription=e.board.description,n.descriptionValidatorErrors=Object(te.r)(oe(),e.board.description)),void 0===t.category&&(n.category=e.board.category),e.board.category!==t.previousCategory&&(n.previousCategory=e.board.category),e.board.privacy!==t.previousPrivacy&&(n.previousPrivacy=e.board.privacy),n}getFormFooter(){const{board:{archived_by_me_at:e},isArchivable:t,isDeletable:n,onArchiveButtonClick:i,onDeleteButtonClick:s,onMergeButtonClick:c,onUnarchiveButtonClick:l,submitText:u}=this.props,{submitError:h,submitting:p}=this.state;return o.a.createElement(r.Fragment,null,o.a.createElement(d.e,{alignItems:"center",display:"flex",justifyContent:"between",wrap:!0},o.a.createElement(d.e,{alignItems:"center",display:"flex"},n&&o.a.createElement(d.e,{"data-test-id":"deleteBoardButton",padding:1},o.a.createElement(d.f,{disabled:p,inline:!0,onClick:s,size:"lg",text:a.a._("Delete","button label during board edit","button label during board edit")})),t&&!e&&o.a.createElement(d.e,{padding:1},o.a.createElement(d.f,{disabled:p,inline:!0,onClick:i,size:"lg",text:a.a._("Archive","button label during board edit","button label during board edit")})),e&&o.a.createElement(d.e,{padding:1},o.a.createElement(d.f,{disabled:p,inline:!0,onClick:l,size:"lg",text:a.a._("Unarchive","button label during board edit","button label during board edit")})),c&&o.a.createElement(d.e,{padding:1},o.a.createElement(d.f,{disabled:p,inline:!0,onClick:c,size:"lg",text:a.a._("Merge","button label during board edit","button label during board edit")}))),o.a.createElement(d.e,null,o.a.createElement(d.e,{display:"flex"},o.a.createElement(d.e,{padding:1},o.a.createElement(d.f,{color:"red",disabled:this.submitDisabled(),inline:!0,onClick:this.handleSubmit,size:"lg",text:u,type:"submit"}))))),h&&o.a.createElement(d.e,{paddingX:1},o.a.createElement(d.V,{color:"red"},h)))}submitDisabled(){const{descriptionValidatorErrors:e,name:t,nameValidatorErrors:n,submitting:r}=this.state;return!t||n.length>0||e.length>0||r}render(){const{board:e,board:{archived_by_me_at:t,board_owner_has_active_ads:n,cover_pin:i,has_active_ads:c,id:l,is_collaborative:u,name:h},categories:p,coverImageHeight:f,coverImageWidth:m,currentUserIsOwner:g,handleBoardLeave:b,isAdAccount:y,isAdAccountOwner:v,isEditable:_,isNameAndSecretView:w,onClose:C,onCollaboratorInviteClick:O,onToggleFlyout:D,title:T}=this.props,{allowHomefeedRecommendations:M,boardDates:j,category:P,collab_board_email:B,collaboratorInvitesEnabled:A,description:R,descriptionValidatorErrors:F,name:H,nameValidatorErrors:Y,pin_count:J,privacy:Q,showBoardCoverEdit:Z,showSecretConfirmation:ee}=this.state,te=_&&J>0;let ne=o.a.createElement(U,null,te&&o.a.createElement(I,{coverPin:i,handleShowBoardCoverEditModal:this.handleShowBoardCoverEditModal}),o.a.createElement(G,{name:H,nameValidatorErrors:Y,onChange:this.handleChangeName}),o.a.createElement(q,{description:R,descriptionValidatorErrors:F,onChange:this.handleChangeDescription}),p&&o.a.createElement(X.a,{name:"web_remove_board_categories"},({anyEnabled:e})=>!e&&o.a.createElement(x,{categories:p,currentCategory:P||null,onChange:this.handleChangeCategory})),o.a.createElement(z,{boardDates:j,onChange:this.handleChangeBoardDates,onToggleFlyout:D}),g&&!!b&&!!O&&o.a.createElement(L,{board:e,currentUserIsOwner:g,handleBoardLeave:b,onCollaboratorInviteClick:O}),o.a.createElement(d.e,{marginBottom:-7},o.a.createElement(d.V,{size:"sm"},a.a._("Settings","BoardForm.BoardForm","Section heading in board edit form"))),o.a.createElement(X.a,{name:"sterling_protected_board_by_owner",activate:!0},({anyEnabled:e})=>e?o.a.createElement(K,{isProtectedToggler:!!y,isToggleDisable:!!y&&!v,onChange:this.handleChangePrivacyToggle,privacy:Q}):o.a.createElement(W,{boardOwnerHasActiveAds:n,hasActiveAds:c,isAdAccountOwner:v,onChange:this.handleChangePrivateToggle,privacy:Q,showConfirmation:this.handleShowSecretConfirmation})),!t&&o.a.createElement(V,{allowHomefeedRecommendations:M,onChange:this.handleChangeRecommendationToggle}),o.a.createElement(k,{hasCollabBoardEmail:B,isCollaborative:u,onChange:this.handleChangeCollabBoardEmail}),o.a.createElement(N,{collaboratorInvitesEnabled:A,isCollaborative:u,onChange:this.handleChangeCollaboratorInvitesEnabled}));return g?w&&(ne=o.a.createElement(U,null,o.a.createElement(G,{name:H,nameValidatorErrors:Y,onChange:this.handleChangeName}),o.a.createElement(z,{onChange:this.handleChangeBoardDates,onToggleFlyout:D}),o.a.createElement(X.a,{name:"sterling_protected_board_by_owner",activate:!0},({anyEnabled:e})=>e?o.a.createElement(K,{isProtectedToggler:!!y,isToggleDisable:!!y&&!v,onChange:this.handleChangePrivacyToggle,privacy:Q}):o.a.createElement(W,{boardOwnerHasActiveAds:n,hasActiveAds:c,isAdAccountOwner:!!v,onChange:this.handleChangePrivateToggle,privacy:Q,showConfirmation:this.handleShowSecretConfirmation})))):ne=o.a.createElement(U,null,!!b&&!!O&&o.a.createElement(L,{board:e,currentUserIsOwner:g,handleBoardLeave:b,onCollaboratorInviteClick:O}),o.a.createElement(k,{hasCollabBoardEmail:B,isCollaborative:u,onChange:this.handleChangeCollabBoardEmail}),!t&&o.a.createElement(V,{allowHomefeedRecommendations:M,onChange:this.handleChangeRecommendationToggle}),o.a.createElement(d.V,{color:"gray",size:"lg"},Object($.b)(a.a._("Only the board’s owner ({{ boardOwner }}) can manage the rest of its features","BoardForm.CollaboratorPermissionsCopy","Copy on board edit form letting collaborators know of their permissions on a board"),{boardOwner:o.a.createElement(d.V,{color:"gray",inline:!0,size:"lg",weight:"bold"},e.owner.full_name)}))),o.a.createElement(r.Fragment,null,o.a.createElement(s.b,{accessibilityModalLabel:a.a._("Board form","BoardForm.BoardForm","Accessibility label on board form"),size:"sm",onDismiss:C,footer:this.getFormFooter(),heading:T},o.a.createElement(d.e,{marginEnd:"auto",marginStart:"auto",rounding:2},o.a.createElement("form",{method:"post",onSubmit:this.handleSubmit},ne))),Z&&o.a.createElement(E,{boardId:l,boardName:H,coverPinId:null==i?void 0:i.pin_id,frameHeight:f,frameWidth:m,heading:`${a.a._("Change Board Cover")}/ ${h}`,onCancel:this.handleHideBoardCoverEditModal,onSave:this.handleSaveBoardCoverEditModal}),ee&&o.a.createElement(S.a,{confirmButtonLabel:a.a._("Make secret","Setting the boards visibility to secret","Setting the boards visibility to secret"),heading:a.a._("Are you sure?","Warning label asking users to be sure of their action","Warning label asking users to be sure of their action"),message:a.a._("If you make this board secret, some active ads will stop running","Explicitly warning users of the board visibility action they are doing","Explicitly warning users of the board visibility action they are doing"),onCancel:this.handleHideSecretConfirmation,onConfirm:this.handleEnableSecret}))}}ne(ae,"defaultProps",{isNameAndSecretView:!1});t.a=Object(Z.c)(ae)},mQlh:function(e,t,n){var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("tXUN"),a=(r=i)&&r.__esModule?r:{default:r};var s="-",c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.decorators=a.default.List(t)}return o(e,[{key:"getDecorations",value:function(e,t){var n=new Array(e.getText().length).fill(null);return this.decorators.forEach((function(r,o){r.getDecorations(e,t).forEach((function(e,t){e&&(n[t]=o+s+e)}))})),a.default.List(n)}},{key:"getComponentForKey",value:function(t){return this.getDecoratorForKey(t).getComponentForKey(e.getInnerKey(t))}},{key:"getPropsForKey",value:function(t){return this.getDecoratorForKey(t).getPropsForKey(e.getInnerKey(t))}},{key:"getDecoratorForKey",value:function(e){var t=e.split(s),n=Number(t[0]);return this.decorators.get(n)}}],[{key:"getInnerKey",value:function(e){return e.split(s).slice(1).join(s)}}]),e}();e.exports=c},mRg4:function(e,t,n){n.d(t,"a",(function(){return y}));let r=null;var o=(e,t)=>(r=r||{results:[],context:t},r.results.push(e),r),i=n("FZ8N"),a=n("LrH5"),s=n("bNC6"),c=n("3/Bf"),l=n("o9su"),u=n("FylZ");const d=(e,t)=>Object.keys(e).reduce((n,r)=>{const o=e[r];return o&&(n[r]={timestamp:t+o}),n},{}),h=({span:e,id:t,parentId:n,timeOrigin:r})=>{return{id:t,parent_id:n,result:1,name:e.name,timestamp:r+e.startTime,duration:e.endTime-e.startTime,annotations:d(e.annotationMap,r),binary_annotations:(o=e.binaryAnnotationMap,Object.keys(o).reduce((e,t)=>{const n=o[t];if(!n)return e;const{value:r,type:i}=n;return null==r?e:e.concat({name:t,value:r,annotation_type:i})},[]))};var o},p=(e,{startTime:t,endTime:n,annotationMap:r,binaryAnnotationMap:o})=>({name:"pwt/"+e,startTime:t,endTime:n,annotationMap:r,binaryAnnotationMap:o}),f=({annotations:e})=>e.reduce((e,{key:t,timestamp:n})=>({...e,["server_"+t]:{timestamp:n}}),{}),m=(e,t)=>({...e,annotations:{...f(t),...e.annotations},binary_annotations:[...t.binary_annotations,...e.binary_annotations]}),g=({traceId:e,actionName:t,result:n,timeOrigin:r,serverDataToJoin:o})=>{const i=(null==o?void 0:o.client_span_id)||Object(u.a)();let a=h({span:p(t,n),id:i,parentId:null,timeOrigin:r}),s=null;return o&&(a=m(a,o),s=((e,t,n)=>{const r=Object(l.a)();return(null==r?void 0:r.responseEnd)?m(h({span:{name:"html",startTime:0,endTime:(null==r?void 0:r.responseEnd)||1,annotationMap:{},binaryAnnotationMap:{}},id:e.server_span_id||Object(u.a)(),parentId:t,timeOrigin:n}),e):null})(o,i,r)),{trace_id:e,spans:[a,...s?[s]:[],...n.spans.map(e=>h({span:e,id:Object(u.a)(),parentId:i,timeOrigin:r}))]}},b=Object(a.a)("reportResult");function y({metricId:e,pwtStaticContext:t,result:n}){const{ajax:r,serverData:a}=t,l=Object(s.b)(e),u=`${n.type}.${l}`;if(Object(c.c)(n.reason?u.concat("."+n.reason):u),"COMPLETE"!==n.type)return void b("Abort metric "+l,n);const d=(null===(h=window.performance)||void 0===h?void 0:h.now)?Date.now()-window.performance.now():"unknown";var h,p;if("unknown"===d)return b(`Unable to convert to absolute times for ${l} due to missing time origin`),void Object(c.c)("missingTimeOrigin."+l);if(i.c&&(window.PWT_LAB_DATA=o(n,t)),!i.c){const o="surface"===e.type&&"initial_app_load"===e.navigationType,s=n.traceId,c=g({traceId:s,actionName:l,result:n,timeOrigin:d,serverDataToJoin:o&&a||null});r({type:"POST",url:"/_/_/trace/trace/",data:{report_data:JSON.stringify(c),report_context:JSON.stringify((p=t,{debugTrace:i.a,locale:p.locale,stageName:p.stageName,userId:p.isAuthenticated?p.userId:null}))}}),b(`PinTrace ${l} will be available shortly: https://pintrace.pinadmin.com/zipkin/traces/${s}`,{duration:n.endTime-n.startTime,result:n,pwtStaticContext:t})}}},mbKr:function(e,t,n){var r=function(){function e(e){var t,n,r;r=void 0,(n="_uri")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,this._uri=e}return e.prototype.toString=function(){return this._uri},e}();e.exports=r},mc7v:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return null===t?null===e:Array.isArray(e)?e.some((function(e){return e===t})):e===t}},mmKv:function(e,t,n){var r=n("q1tI"),o=n.n(r),i=n("/MKj"),a=n("+ip3"),s=n("ELJR"),c=n("qD10"),l=n("g5OB"),u=n("n6mq");const d=1.25*l.a;function h({story:e}){const{action:{text:t,url:n},custom_properties:{image:r,image_alt:i}}=e;return o.a.createElement(u.e,{position:"relative"},o.a.createElement(u.A,{rounding:4,height:d,width:l.a},o.a.createElement(u.v,{alt:i,color:"black",fit:"cover",naturalHeight:2688,naturalWidth:2e3,src:r})),o.a.createElement(u.e,{bottom:!0,display:"flex",justifyContent:"center",position:"absolute",width:l.a,padding:4},o.a.createElement(c.a,{to:n},o.a.createElement(u.f,{color:"white",text:t}))))}t.a=Object(i.connect)((e,t)=>({story:e.stories[t.storyId]}),()=>({}))((function({story:e,...t}){if(!e)return null;switch(e.story_type){case"BUBBLE_ONE_COL":return o.a.createElement(s.a,{bubbles:e.objects,id:t.storyId,referringSource:e.referring_source,slotIndex:t.slot,storyType:e.story_type,title:e.title,viewType:t.viewType,viewParameter:t.viewParameter});case"feed_card_default":return o.a.createElement(h,{story:e});case"add_pin":return o.a.createElement(a.b,null);default:return null}}))},mvLR:function(e,t,n){function r(e){let t=!1;return{promise:new Promise((n,r)=>{e.then(e=>t?r({isCanceled:!0}):n(e),e=>r(t?{isCanceled:!0}:e))}),cancel(){t=!0}}}n.d(t,"a",(function(){return r}))},mwIZ:function(e,t,n){var r=n("ZWtO");e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},mxGF:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n("P1kZ"),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(e){return function(t,n,r){t.findEntityRanges((function(t){var n=t.getEntity();return null!==n&&r.getEntity(n).getType()===(0,i.default)(e)}),n)}}},nEAA:function(e,t,n){n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return s}));const r=e=>"number"==typeof e?Math.round(e):e,o=e=>({type:"I16",value:r(e)}),i=e=>({type:"I32",value:r(e)}),a=e=>({type:"STRING",value:e}),s=e=>({type:"BOOL",value:e})},nEfj:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("tXUN"),o=a(n("WPzw")),i=a(n("mQlh"));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){return"function"==typeof e.getDecorations&&"function"==typeof e.getComponentForKey&&"function"==typeof e.getPropsForKey},c=function(e){var t=e.decorators,n=e.plugins;return(0,r.List)([{decorators:t}].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(n))).filter((function(e){return void 0!==e.decorators})).flatMap((function(e){return e.decorators}))};t.default=function(e,t,n){var r=c(e),a=(0,o.default)(r.filter((function(e){return!s(e)})),t,n),l=r.filter((function(e){return s(e)}));return new i.default(l.push(a))}},nmnc:function(e,t,n){var r=n("Kz5y").Symbol;e.exports=r},nnOA:function(e,t,n){e.exports=function(e){return e.Window&&e instanceof e.Window?{x:e.pageXOffset||e.document.documentElement.scrollLeft,y:e.pageYOffset||e.document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}},nokP:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultSuggestionsFilter=t.defaultTheme=t.MentionSuggestions=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n("fEmT");Object.defineProperty(t,"MentionSuggestions",{enumerable:!0,get:function(){return y(o).default}});var i=y(n("q1tI")),a=n("s5IZ"),s=y(n("z2oT")),c=y(o),l=y(n("16ai")),u=y(n("aAL+")),d=y(n("mxGF")),h=y(n("5Wuq")),p=y({mention:"draftJsMentionPlugin__mention__29BEd"}),f=y({mentionSuggestions:"draftJsMentionPlugin__mentionSuggestions__2DWjA"}),m=y({mentionSuggestionsEntry:"draftJsMentionPlugin__mentionSuggestionsEntry__3mSwm",mentionSuggestionsEntryFocused:"draftJsMentionPlugin__mentionSuggestionsEntryFocused__3LcTd draftJsMentionPlugin__mentionSuggestionsEntry__3mSwm",mentionSuggestionsEntryText:"draftJsMentionPlugin__mentionSuggestionsEntryText__3Jobq",mentionSuggestionsEntryAvatar:"draftJsMentionPlugin__mentionSuggestionsEntryAvatar__1xgA9"}),g=y(n("9qGe")),b=y(n("aAE7"));function y(e){return e&&e.__esModule?e:{default:e}}var v=t.defaultTheme={mention:p.default.mention,mentionSuggestions:f.default.mentionSuggestions,mentionSuggestionsEntry:m.default.mentionSuggestionsEntry,mentionSuggestionsEntryFocused:m.default.mentionSuggestionsEntryFocused,mentionSuggestionsEntryText:m.default.mentionSuggestionsEntryText,mentionSuggestionsEntryAvatar:m.default.mentionSuggestionsEntryAvatar};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={keyBindingFn:void 0,handleKeyCommand:void 0,handleReturn:void 0,onChange:void 0},n={ariaHasPopup:"false",ariaExpanded:!1,ariaOwneeID:void 0,ariaActiveDescendantID:void 0},o=(0,a.Map)(),p=void 0,f=(0,a.Map)(),m=void 0,g={getEditorState:void 0,setEditorState:void 0,getPortalClientRect:function(e){return f.get(e)()},getAllSearches:function(){return o},isEscaped:function(e){return p===e},escapeSearch:function(e){p=e},resetEscapedSearch:function(){p=void 0},register:function(e){o=o.set(e,e)},updatePortalClientRect:function(e,t){f=f.set(e,t)},unregister:function(e){o=o.delete(e),f=f.delete(e)},getIsOpened:function(){return m},setIsOpened:function(e){m=e}},y=e.mentionPrefix,_=void 0===y?"":y,E=e.theme,S=void 0===E?v:E,w=e.positionSuggestions,C=void 0===w?b.default:w,O=e.mentionComponent,I=e.mentionSuggestionsComponent,x=void 0===I?c.default:I,D=e.entityMutability,k=void 0===D?"SEGMENTED":D,T=e.mentionTrigger,M=void 0===T?"@":T,j=e.mentionRegExp,P=void 0===j?u.default:j,B=e.supportWhitespace,A=void 0!==B&&B,R={ariaProps:n,callbacks:t,theme:S,store:g,entityMutability:k,positionSuggestions:C,mentionTrigger:M,mentionPrefix:_},L=function(e){return i.default.createElement(x,r({},e,R))},N=function(e){return i.default.createElement(s.default,r({},e,{theme:S,mentionComponent:O}))},F=function(e){return i.default.createElement(l.default,r({},e,{store:g}))};return{MentionSuggestions:L,decorators:[{strategy:(0,d.default)(M),component:N},{strategy:(0,h.default)(M,A,P),component:F}],getAccessibilityProps:function(){return{role:"combobox",ariaAutoComplete:"list",ariaHasPopup:n.ariaHasPopup,ariaExpanded:n.ariaExpanded,ariaActiveDescendantID:n.ariaActiveDescendantID,ariaOwneeID:n.ariaOwneeID}},initialize:function(e){var t=e.getEditorState,n=e.setEditorState;g.getEditorState=t,g.setEditorState=n},keyBindingFn:function(e){return t.keyBindingFn&&t.keyBindingFn(e)},handleReturn:function(e){return t.handleReturn&&t.handleReturn(e)},onChange:function(e){return t.onChange?t.onChange(e):e}}};t.defaultSuggestionsFilter=g.default},nrB0:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("2S0S"),o=!1,i=!1,a=function(){function e(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}return e.prototype.receiveHandlerId=function(e){this.sourceId=e},e.prototype.getHandlerId=function(){return this.sourceId},e.prototype.canDrag=function(){r(!o,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return o=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{o=!1}},e.prototype.isDragging=function(){if(!this.sourceId)return!1;r(!i,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return i=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{i=!1}},e.prototype.subscribeToStateChange=function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)},e.prototype.isDraggingSource=function(e){return this.internalMonitor.isDraggingSource(e)},e.prototype.isOverTarget=function(e,t){return this.internalMonitor.isOverTarget(e,t)},e.prototype.getTargetIds=function(){return this.internalMonitor.getTargetIds()},e.prototype.isSourcePublic=function(){return this.internalMonitor.isSourcePublic()},e.prototype.getSourceId=function(){return this.internalMonitor.getSourceId()},e.prototype.subscribeToOffsetChange=function(e){return this.internalMonitor.subscribeToOffsetChange(e)},e.prototype.canDragSource=function(e){return this.internalMonitor.canDragSource(e)},e.prototype.canDropOnTarget=function(e){return this.internalMonitor.canDropOnTarget(e)},e.prototype.getItemType=function(){return this.internalMonitor.getItemType()},e.prototype.getItem=function(){return this.internalMonitor.getItem()},e.prototype.getDropResult=function(){return this.internalMonitor.getDropResult()},e.prototype.didDrop=function(){return this.internalMonitor.didDrop()},e.prototype.getInitialClientOffset=function(){return this.internalMonitor.getInitialClientOffset()},e.prototype.getInitialSourceClientOffset=function(){return this.internalMonitor.getInitialSourceClientOffset()},e.prototype.getSourceClientOffset=function(){return this.internalMonitor.getSourceClientOffset()},e.prototype.getClientOffset=function(){return this.internalMonitor.getClientOffset()},e.prototype.getDifferenceFromInitialOffset=function(){return this.internalMonitor.getDifferenceFromInitialOffset()},e}();t.default=a},nwWm:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("QWk2"),o=n("TT16"),i=n("Gytx"),a=function(){function e(e){var t=this;this.backend=e,this.hooks=r.default({dragSource:function(e,n){t.dragSourceOptions=n||null,o.isRef(e)?t.dragSourceRef=e:t.dragSourceNode=e,t.reconnectDragSource()},dragPreview:function(e,n){t.dragPreviewOptions=n||null,o.isRef(e)?t.dragPreviewRef=e:t.dragPreviewNode=e,t.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null}return e.prototype.receiveHandlerId=function(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())},Object.defineProperty(e.prototype,"connectTarget",{get:function(){return this.dragSource},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dragSourceOptions",{get:function(){return this.dragSourceOptionsInternal},set:function(e){this.dragSourceOptionsInternal=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dragPreviewOptions",{get:function(){return this.dragPreviewOptionsInternal},set:function(e){this.dragPreviewOptionsInternal=e},enumerable:!0,configurable:!0}),e.prototype.reconnect=function(){this.reconnectDragSource(),this.reconnectDragPreview()},e.prototype.reconnectDragSource=function(){var e=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();e&&this.disconnectDragSource();var t=this.dragSource;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=t,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,t,this.dragSourceOptions)):this.lastConnectedDragSource=t)},e.prototype.reconnectDragPreview=function(){var e=this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();e&&this.disconnectDragPreview();var t=this.dragPreview;this.handlerId&&t&&e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=t,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,t,this.dragPreviewOptions))},e.prototype.didHandlerIdChange=function(){return this.lastConnectedHandlerId!==this.handlerId},e.prototype.didConnectedDragSourceChange=function(){return this.lastConnectedDragSource!==this.dragSource},e.prototype.didConnectedDragPreviewChange=function(){return this.lastConnectedDragPreview!==this.dragPreview},e.prototype.didDragSourceOptionsChange=function(){return!i(this.lastConnectedDragSourceOptions,this.dragSourceOptions)},e.prototype.didDragPreviewOptionsChange=function(){return!i(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)},e.prototype.disconnectDragSource=function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)},e.prototype.disconnectDragPreview=function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)},Object.defineProperty(e.prototype,"dragSource",{get:function(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dragPreview",{get:function(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current},enumerable:!0,configurable:!0}),e}();t.default=a},o2GA:function(e,t,n){var r=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){if(!e)return null;var o={};for(var i in e)r.call(e,i)&&(o[i]=t.call(n,e[i],i,e));return o}},o9su:function(e,t,n){var r=n("XtwW");t.a=()=>{const[e]=r.a?r.a.getEntriesByType("navigation"):[];return e}},oN2T:function(e,t,n){n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return m})),n.d(t,"i",(function(){return g})),n.d(t,"g",(function(){return b})),n.d(t,"e",(function(){return y})),n.d(t,"m",(function(){return v})),n.d(t,"h",(function(){return E})),n.d(t,"d",(function(){return S})),n.d(t,"a",(function(){return w})),n.d(t,"l",(function(){return C})),n.d(t,"j",(function(){return O})),n.d(t,"k",(function(){return I})),n.d(t,"f",(function(){return x}));var r=n("4dcN"),o=n("Pqnw"),i=n("7w6Q"),a=n("eOdZ"),s=n("KFEb"),c=n("5FNA"),l=n("NjDU"),u=n("Wer7");const d="board_create",h="board_delete",p="board_edit";function f(e,t){return Object(u.a)("BoardResource",{board_id:e,field_set_key:t})}function m(e={},t,n){return{type:"BOARD_CREATE_COMPLETE",payload:{options:e,board:t},error:n}}function g(){return(e,t)=>{const{viewer:n}=t();n.isAuth&&Object(c.b)(n.username).forEach(t=>{e(t)})}}function b(e,t){const n={...e};return o=>(o({type:"BOARD_CREATE",payload:{board:e}}),a.a.create("BoardResource",n).callCreate().then(e=>{r.a.trackEvent(d,"success");const i=e.resource_response.data;return i&&(o(g()),(null==t?void 0:t.isFBC)||o(m(n,i))),i}).catch(e=>{throw r.a.trackEvent(d,"error"),e}))}function y(e={},t,n){return{type:"BOARD_UPDATE_COMPLETE",payload:{options:e,board:t},error:n}}function v(e){return t=>{const n=void 0===e.collaborator_requests_enabled||null===e.collaborator_requests_enabled?{}:{collaborator_requests_enabled:e.collaborator_requests_enabled},o={board_id:e.id,name:e.name,description:e.description,category:e.category,event_date:e.event_date,event_start_date:e.event_start_date,collaborator_permissions_setting:e.collaborator_permissions_setting,privacy:e.privacy,collab_board_email:e.collab_board_email,collaborator_invites_enabled:e.collaborator_invites_enabled,allow_homefeed_recommendations:e.allow_homefeed_recommendations,...n};return t({type:"BOARD_UPDATE",payload:{boardUpdateOptions:o}}),a.a.create("BoardResource",o).callUpdate().then(n=>{r.a.trackEvent(p,"success");const i=n&&n.resource_response&&n.resource_response.data||e;t(y(o,i))}).catch(e=>{throw r.a.trackEvent(p,"error"),e})}}function _(e,t){return{type:"BOARD_DELETE_COMPLETE",payload:{boardId:e},error:t}}function E(e){return(t,n)=>{const o=n().boards.content[e],{pin_count:i}=o,{id:s}=o.owner;return t({type:"BOARD_DELETE",payload:{boardId:e}}),a.a.create("BoardResource",{board_id:e}).callDelete().then(()=>{r.a.trackEvent(h,"error"),t(_(e)),t(Object(l.b)({userId:s,increment:-i}))}).catch(e=>{throw r.a.trackEvent(h,"error"),e})}}function S(e){return{type:"BOARD_PIN_TO",payload:{board:e}}}function w(e){return t=>(t(function(e){return{type:"BOARD_ARCHIVED",payload:{boardId:e}}}(e)),a.a.create("BoardArchiveResource",{boardId:e}).callUpdate())}function C(e){return t=>(t(function(e){return{type:"BOARD_UNARCHIVED",payload:{boardId:e}}}(e)),a.a.create("BoardArchiveResource",{boardId:e}).callDelete())}function O(e,t){return n=>a.a.create("BoardsMergeResource",{source_board_id:e,target_board_id:t}).callUpdate().then(()=>Promise.all([n(_(e)),n(f(t,"pin_count")),n(Object(o.a)(s.a.BOARD_SECTIONS,t))]))}function I(e,t){return n=>a.a.create("SocialSearchCampaignResource",{boardId:e}).callGet().then(e=>{if(!e||!e.resource_response){return n({type:"SET_SOCIAL_SEASONAL_BOARD",payload:{isSocialSeasonalBoard:!1,socialHeaderBgImage:"",socialHeaderBgColor:"",textIconColor:""}})}const r=e.resource_response.data||{},o=(r.model||{}).custom_properties||{},{campaign_id:a="unknown"}=o,s=r.display_data||{},c={isSocialSeasonalBoard:!!r.display_data,socialHeaderBgImage:s.header_image,socialHeaderBgColor:s.header_background_color,textIconColor:s.text_icon_color};return i.a.increment(`web.seasonal_board.${a}.${t}.land`),n({type:"SET_SOCIAL_SEASONAL_BOARD",payload:c})})}function x(){return e=>e({type:"SET_SOCIAL_SEASONAL_BOARD",payload:{isSocialSeasonalBoard:!1,socialHeaderBgImage:"",socialHeaderBgColor:"",textIconColor:""}})}},oTtT:function(e,t,n){n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var r=n("FZ8N"),o=n("j0Fm");const{Provider:i,useHook:a}=Object(o.a)({name:"board_picker",v2LoggerMetricName:16,sampleRate:r.b?1:.1}),s=i,c=a},ocgx:function(e,t,n){var r=n("fyOY"),o=n("3sOJ"),i=n("DYKh");e.exports=function(e){var t=e.getSelection();if(!t.isCollapsed())return e;var n=t.getAnchorOffset();if(0===n)return e;var a,s,c=t.getAnchorKey(),l=e.getCurrentContent(),u=l.getBlockForKey(c).getLength();if(u<=1)return e;n===u?(a=t.set("anchorOffset",n-1),s=t):s=(a=t.set("focusOffset",n+1)).set("anchorOffset",n+1);var d=i(l,a),h=r.removeRange(l,a,"backward"),p=h.getSelectionAfter(),f=p.getAnchorOffset()-1,m=p.merge({anchorOffset:f,focusOffset:f}),g=r.replaceWithFragment(h,m,d),b=o.push(e,g,"insert-fragment");return o.acceptSelection(b,s)}},ou9u:function(e,t,n){function r(e){const t=e.videos&&e.videos.video_list&&Object.keys(e.videos.video_list).length>0?e.videos.video_list:null;return t?t.V_HLSV3_MOBILE||t.V_HLSV4||t.V_720P:null}n.d(t,"a",(function(){return r}))},pIlY:function(e,t,n){n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return u}));var r=n("q1tI"),o=n.n(r),i=n("1dBE"),a=n("DzJC"),s=n.n(a);const{Provider:c,Consumer:l,useHook:u}=Object(i.c)("HeaderShadow");function d({children:e}){const[t,n]=Object(r.useState)(!1),[i,a]=Object(r.useState)(!1),[l,u]=Object(r.useState)(0),[d,h]=Object(r.useState)(null),p=s()(()=>{t&&(a(window.scrollY>0),u(window.scrollY))},50);return Object(r.useEffect)(()=>(n(!0),()=>{n(!1)}),[]),Object(r.useEffect)(()=>(window.addEventListener("scroll",p),()=>{window.removeEventListener("scroll",p)}),[t]),o.a.createElement(c,{value:{currentScrollPosition:l,isScrolled:i,setSubheaderShadow:h,subheaderShadow:d}},e)}},pLLR:function(e,t,n){n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return u}));var r=n("q1tI"),o=n.n(r);const i=Object(r.createContext)(),a=i.Provider;function s(e){function t(t){const n=Object(r.useContext)(i);if(!n)throw new Error("withRequestContext must be used within a RequestContextProvider");return o.a.createElement(e,Object.assign({},t,{requestContext:n}))}return t.displayName=`withRequestContext(${String(e.displayName||e.name)})`,t}const c=({children:e})=>{const t=Object(r.useContext)(i);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t)},l=({children:e})=>{const t=Object(r.useContext)(i);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t)};function u(){const e=o.a.useContext(i);if(!e)throw new Error("useRequestContext must be used within a RequestContextProvider");return e}},pMlp:function(e,t,n){e.exports={BACKSPACE:8,TAB:9,RETURN:13,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,COMMA:188,PERIOD:190,A:65,Z:90,ZERO:48,NUMPAD_0:96,NUMPAD_9:105}},pWuj:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("pYMm"),o=n("fOPN"),i=n("N4T/"),a=n("YuQ1"),s=n("LTlA");t.default=function(e,t){switch(void 0===e&&(e=a.NONE),t.type){case r.HOVER:break;case o.ADD_SOURCE:case o.ADD_TARGET:case o.REMOVE_TARGET:case o.REMOVE_SOURCE:return a.NONE;case r.BEGIN_DRAG:case r.PUBLISH_DRAG_SOURCE:case r.END_DRAG:case r.DROP:default:return a.ALL}var n=t.payload,c=n.targetIds,l=void 0===c?[]:c,u=n.prevTargetIds,d=void 0===u?[]:u,h=s.xor(l,d);if(!(h.length>0||!i.areArraysEqual(l,d)))return a.NONE;var p=d[d.length-1],f=l[l.length-1];return p!==f&&(p&&h.push(p),f&&h.push(f)),h}},pXmp:function(e,t,n){function r(e){return e.replace(/\//g,"-")}e.exports=function(e){return"object"==typeof e?Object.keys(e).filter((function(t){return e[t]})).map(r).join(" "):Array.prototype.map.call(arguments,r).join(" ")}},pYMm:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("bVL4"),o=n("rV1A"),i=n("sAMb"),a=n("BEzM"),s=n("vmVG");!function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n("7nh8")),t.default=function(e){return{beginDrag:r.default(e),publishDragSource:o.default(e),hover:i.default(e),drop:a.default(e),endDrag:s.default(e)}}},pdBG:function(e,t,n){var r=n("AHhP"),o=n.n(r);const i=function(e,t){this.uid=e,this.item=t,this.next=null,this.prev=null},a=function(e){this._maxNumItems=e||10,this._uidToData={},this._numItems=0,this._firstData=null,this._lastData=null};a.prototype.set=function(e,t){let n=this._uidToData[e];n||(n=new i(e,t),this._uidToData[e]=n,this._numItems+=1),this._moveToFront(n),this._numItems>this._maxNumItems&&this._evict()},a.prototype.get=function(e){const t=this._uidToData[e];return t?(this._moveToFront(t),t.item):null},a.prototype.remove=function(e){const t=this._uidToData[e];t&&(delete this._uidToData[e],this._firstData===t&&(this._firstData=t.next),this._lastData===t&&(this._lastData=t.prev),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),this._numItems-=1)},a.prototype._moveToFront=function(e){this._firstData!==e&&(this._firstData?(this._lastData===e&&(this._lastData=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),this._firstData.prev=e,e.next=this._firstData,e.prev=null,this._firstData=e):(this._firstData=e,this._lastData=e))},a.prototype._evict=function(){delete this._uidToData[this._lastData.uid],this._firstData===this._lastData?(this._firstData=null,this._lastData=null):(this._lastData=this._lastData.prev,this._lastData.next=null),this._numItems-=1};var s=a,c=n("eOdZ"),l=n("mBfy");const u=function(e){e=e||{},this.tags=e.tags,this.enable_recent_queries=!!e.enable_recent_queries,this.minimum_term_character_length=e.minimum_term_character_length||0,this.bypass_lru_cache=e.bypass_lru_cache;const t={tags:e.tags,pin:e.pin_id},n=e.num_places;n?t.num_places=n:t.count="count"in e?e.count:5,e.exclude_non_followers&&(t.exclude_non_followers=!0),e.field_set_key&&(t.field_set_key=e.field_set_key),e.pin_scope&&(t.pin_scope=e.pin_scope),e.suggestion_type&&(t.suggestion_type=e.suggestion_type);let r="TypeaheadResource";e.resource_name&&(r=e.resource_name),this.searchResource=c.a.create(r,t),this.itemsCache=new s};Object.assign(u.prototype,o.a),Object.assign(u.prototype,{search(e,t){let n;if(!e&&"pinners_and_contacts"===this.tags)return this.abortSearch(),this.publishData(e,[],{},t);if(!e&&l.default.isLimitedLogin())return this.abortSearch(),this.publishData(e,[],{},t);if(!e&&this.enable_recent_queries&&l.default&&l.default.isAuthenticated())n="recent_search";else{const n=this.bypass_lru_cache?{}:this.itemsCache.get(e);if(n){const r=n.items;if(r&&r.length){this.abortSearch();const o=n.hint;return void this.publishData(e,r,o,t)}}}e.length>=this.minimum_term_character_length?this.fetch(e,n,t):this.publishData(e,[],{},t)},getResource(){return this.searchResource},abortSearch(){this.getResource().abort()},publishData(e,t,n,r){const o={term:e,items:t,hint:n};this.trigger("data",o),r&&r(o)},setAutocompleteScope(e){this.getResource().set("autocompleteScope",e)},fetch(e,t,n){const r=this.getResource();if(r.isCalling()){const t=r.get("term");if(e===t)return;this.abortSearch()}""!==this.tags&&(r.set("term",e),r.set("tags",t||this.tags),r.resetBookmark(),r.callGet({showError:!1}).then(t=>{const r=t.resource_response.data,o=r.items,i=r.hint||{},a={hint:i,items:o};this.cacheData(e,a),this.publishData(e,o,i,n)},e=>{this.trigger("fetchError",e)}),this.warm=!0)},removeCacheForTerm(e){this.itemsCache.remove(e)},cacheData(e,t){this.itemsCache.set(e,t)},prefetch(){if(this.warm)return;c.a.create("TypeaheadPrepareResource").callGet({showError:!1}),this.warm=!0}});t.a=u},peh1:function(e,t,n){function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){return e===t}function i(e){var t=arguments.length<=1||void 0===arguments[1]?o:arguments[1],n=null,r=null;return function(){for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return null!==n&&n.length===i.length&&i.every((function(e,r){return t(e,n[r])}))||(r=e.apply(void 0,i)),n=i,r}}function a(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}function s(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return function(){for(var t=arguments.length,o=Array(t),i=0;i<t;i++)o[i]=arguments[i];var s=0,c=o.pop(),l=a(o),u=e.apply(void 0,[function(){return s++,c.apply(void 0,arguments)}].concat(n)),d=function(e,t){for(var n=arguments.length,o=Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];var a=l.map((function(n){return n.apply(void 0,[e,t].concat(o))}));return u.apply(void 0,r(a))};return d.resultFunc=c,d.recomputations=function(){return s},d.resetRecomputations=function(){return s=0},d}}t.__esModule=!0,t.defaultMemoize=i,t.createSelectorCreator=s,t.createStructuredSelector=function(e){var t=arguments.length<=1||void 0===arguments[1]?c:arguments[1];if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e);return t(n.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t,r){return e[n[r]]=t,e}),{})}))};var c=t.createSelector=s(i)},pg4M:function(e,t,n){var r=n("3sOJ"),o=n("4pIB");e.exports=function(e,t){var n=e._latestEditorState,i=n.getSelection();if(!i.getHasFocus()){var a=i.set("hasFocus",!0);e.props.onFocus&&e.props.onFocus(t),o.isBrowser("Chrome < 60.0.3081.0")?e.update(r.forceSelection(n,a)):e.update(r.acceptSelection(n,a))}}},pody:function(e,t,n){t.a=e=>({connectEnd:e.connectEnd||0,connectStart:e.connectStart||0,domainLookupEnd:e.domainLookupEnd||0,domainLookupStart:e.domainLookupStart||0,fetchStart:e.fetchStart||0,requestStart:e.requestStart||0,redirectEnd:e.redirectEnd||0,redirectStart:e.redirectStart||0,responseEnd:e.responseEnd||0,responseStart:e.responseStart||0,secureConnectionStart:e.secureConnectionStart||0,startTime:e.startTime||0,workerStart:e.workerStart||0})},px3X:function(e,t,n){var r=n("q1tI"),o=n.n(r),i=n("/MKj"),a=n("QIf8"),s=n("4dcN"),c=n("Ye/N"),l=n("U4JR"),u=n("nGHF"),d=n("dMCU"),h=n("n6mq"),p=n("+qOO");t.a=Object(d.a)((function({authAction:e,boardId:t,boardImage:n,boardName:r,boardUrl:d,children:f,isFollowed:m,showPulsar:g,variant:b="default"}){const{showOneToast:y}=Object(u.b)(),v=Object(i.useDispatch)(),_=Object(i.useSelector)(({boards:e})=>{const n=e.content[t];return n?Boolean(n.followed_by_me):m}),E=_?c.a._("Following","BoardFollowButton.ButtonText.Following","Text for a button to follow a board"):c.a._("Follow","BoardFollowButton.ButtonText.Follow","Text for board follow button on a board the user follows"),S=()=>{_?v(Object(p.b)(t)):(v(Object(p.a)(t)),y(({onHide:e})=>o.a.createElement(a.a,{boardImage:n,boardName:r,boardUrl:d,onHide:e})))},w=({event:n})=>{n.preventDefault(),n.stopPropagation(),e(S)(),Object(l.a)(101,{component:1,element:_?1154:37,objectId:t,view:4}),s.a.trackEvent(_?"board_unfollow":"board_follow","click")},C="lego"===b?o.a.createElement(h.f,{color:"red",inline:!0,onClick:w,selected:_,size:"lg",text:E}):o.a.createElement(h.f,{color:_?"gray":"red",inline:!0,onClick:w,text:E});return o.a.createElement(h.e,{position:"relative",display:"flex","data-test-id":`board-${_?"unfollow":"follow"}-button`},f?f({buttonText:E,handleFollow:w,isFollowed:_}):C,g&&o.a.createElement(h.U,{onTap:e=>w(e)},o.a.createElement(h.e,{position:"absolute",display:"inlineBlock",dangerouslySetInlineStyle:{__style:{marginLeft:-86,marginTop:-28}}},o.a.createElement(h.G,{paused:_}))))}))},q2v6:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("q1tI"),a=m(i),s=m(n("CsLl")),c=n("v83y"),l=n("tXUN"),u=m(n("Undz")),d=m(n("h2as")),h=m(n("nEfj")),p=m(n("iBcn")),f=m(n("fUU4"));function m(e){return e&&e.__esModule?e:{default:e}}function g(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function b(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var y=function(e){var t=void 0;return null!=e.decorators?t=e.decorators:null!=e._decorators&&(t=e._decorators),null!=t.size?t.size:t.length},v=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return _.call(n),[n.props].concat(b(n.resolvePlugins())).forEach((function(e){"function"==typeof e.initialize&&e.initialize(n.getPluginMethods())})),u.default.forEach((function(e){n[e]=function(){var t;return(t=n.editor)[e].apply(t,arguments)}})),n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentWillMount",value:function(){var e=(0,h.default)(this.props,this.getEditorState,this.onChange),t=c.EditorState.set(this.props.editorState,{decorator:e});this.onChange((0,d.default)(t))}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.editorState.getDecorator(),n=e.editorState.getDecorator();if(t&&!(t===n||t&&n&&y(t)===y(n))){var r=c.EditorState.set(e.editorState,{decorator:t});this.onChange((0,d.default)(r))}}},{key:"componentWillUnmount",value:function(){var e=this;this.resolvePlugins().forEach((function(t){t.willUnmount&&t.willUnmount({getEditorState:e.getEditorState,setEditorState:e.onChange})}))}},{key:"render",value:function(){var e=this,t=this.createPluginHooks(),n=this.resolveCustomStyleMap(),o=this.resolveAccessibilityProps(),i=this.resolveblockRenderMap();return a.default.createElement(c.Editor,r({},this.props,o,t,{readOnly:this.props.readOnly||this.state.readOnly,customStyleMap:n,blockRenderMap:i,onChange:this.onChange,editorState:this.props.editorState,ref:function(t){e.editor=t}}))}}]),t}(i.Component);v.propTypes={editorState:s.default.object.isRequired,onChange:s.default.func.isRequired,plugins:s.default.array,defaultKeyBindings:s.default.bool,defaultKeyCommands:s.default.bool,defaultBlockRenderMap:s.default.bool,customStyleMap:s.default.object,decorators:s.default.array},v.defaultProps={defaultBlockRenderMap:!0,defaultKeyBindings:!0,defaultKeyCommands:!0,customStyleMap:{},plugins:[],decorators:[]};var _=function(){var e=this;this.onChange=function(t){var n=t;e.resolvePlugins().forEach((function(t){t.onChange&&(n=t.onChange(n,e.getPluginMethods()))})),e.props.onChange&&e.props.onChange(n,e.getPluginMethods())},this.getPlugins=function(){return e.props.plugins.slice(0)},this.getProps=function(){return r({},e.props)},this.getReadOnly=function(){return e.props.readOnly},this.setReadOnly=function(t){t!==e.state.readOnly&&e.setState({readOnly:t})},this.getEditorRef=function(){return e.editor},this.getEditorState=function(){return e.props.editorState},this.getPluginMethods=function(){return{getPlugins:e.getPlugins,getProps:e.getProps,setEditorState:e.onChange,getEditorState:e.getEditorState,getReadOnly:e.getReadOnly,setReadOnly:e.setReadOnly,getEditorRef:e.getEditorRef}},this.createEventHooks=function(t,n){return function(){for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];var a=[].slice.apply(o);return a.push(e.getPluginMethods()),n.some((function(e){return"function"==typeof e[t]&&!0===e[t].apply(e,b(a))}))}},this.createHandleHooks=function(t,n){return function(){for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];var a=[].slice.apply(o);return a.push(e.getPluginMethods()),n.some((function(e){return"function"==typeof e[t]&&"handled"===e[t].apply(e,b(a))}))?"handled":"not-handled"}},this.createFnHooks=function(t,n){return function(){for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];var s=[].slice.apply(i);if(s.push(e.getPluginMethods()),"blockRendererFn"===t){var c={props:{}};return n.forEach((function(e){if("function"==typeof e[t]){var n=e[t].apply(e,b(s));if(null!=n){var o=n.props,i=g(n,["props"]),a=c,l=a.props,u=g(a,["props"]);c=r({},u,i,{props:r({},l,o)})}}})),!!c.component&&c}if("blockStyleFn"===t){var l=void 0;return n.forEach((function(e){if("function"==typeof e[t]){var n=e[t].apply(e,b(s));null!=n&&(l=(l?l+" ":"")+n)}})),l||""}var u=void 0,d=n.some((function(e){return"function"==typeof e[t]&&void 0!==(u=e[t].apply(e,b(s)))}));return!!d&&u}},this.createPluginHooks=function(){var t={},n=[],r=[],o=[],i=[e.props].concat(b(e.resolvePlugins()));return i.forEach((function(e){Object.keys(e).forEach((function(e){"onChange"!==e&&(-1===n.indexOf(e)&&-1===o.indexOf(e)&&(0===e.indexOf("on")?n.push(e):0===e.indexOf("handle")?r.push(e):e.length-2===e.indexOf("Fn")&&o.push(e)))}))})),n.forEach((function(n){t[n]=e.createEventHooks(n,i)})),r.forEach((function(n){t[n]=e.createHandleHooks(n,i)})),o.forEach((function(n){t[n]=e.createFnHooks(n,i)})),t},this.resolvePlugins=function(){var t=e.props.plugins.slice(0);return!0===e.props.defaultKeyBindings&&t.push(p.default),!0===e.props.defaultKeyCommands&&t.push(f.default),t},this.resolveCustomStyleMap=function(){return e.props.plugins.filter((function(e){return void 0!==e.customStyleMap})).map((function(e){return e.customStyleMap})).concat([e.props.customStyleMap]).reduce((function(e,t){return r({},e,t)}),{})},this.resolveblockRenderMap=function(){var t=e.props.plugins.filter((function(e){return void 0!==e.blockRenderMap})).reduce((function(e,t){return e.merge(t.blockRenderMap)}),(0,l.Map)({}));return e.props.defaultBlockRenderMap&&(t=c.DefaultDraftBlockRenderMap.merge(t)),e.props.blockRenderMap&&(t=t.merge(e.props.blockRenderMap)),t},this.resolveAccessibilityProps=function(){var t={};return[e.props].concat(b(e.resolvePlugins())).forEach((function(e){if("function"==typeof e.getAccessibilityProps){var n=e.getAccessibilityProps(),o={};void 0===t.ariaHasPopup?o.ariaHasPopup=n.ariaHasPopup:"true"===n.ariaHasPopup&&(o.ariaHasPopup="true"),void 0===t.ariaExpanded?o.ariaExpanded=n.ariaExpanded:!0===n.ariaExpanded&&(o.ariaExpanded=!0),t=r({},t,n,o)}})),t}};t.default=v},q8wg:function(e,t,n){var r=n("q1tI"),o=n.n(r),i=n("8wun"),a=n("1u47");t.a=e=>o.a.createElement(a.a,Object.assign({},e,{timeSpentManager:i.a}))},qD10:function(e,t,n){var r=n("q1tI"),o=n.n(r),i=n("/MKj"),a=n("zwad"),s=n("ANjH"),c=n("Y8Sn"),l=n("z19Z"),u=n("EC67");function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends r.Component{constructor(...e){super(...e),d(this,"state",{spamCheck:null}),d(this,"spamCheckExperimentGroup",null),d(this,"mounted",!1),d(this,"handleSpammyDomainCheck",()=>{const{external:e,location:t,pinId:n,pin:r,surface:o,to:i}=this.props;(e||a.a.isOffsiteUrl(i))&&r&&!Object(c.f)(r)&&Object(l.f)({location:t,pinId:n,surface:o})&&i&&Object(l.a)({isMounted:this.mounted,pin:r,location:t,spamCheckCallback:e=>this.setState({spamCheck:e}),href:i})}),d(this,"handleClick",e=>{const{auxData:t,external:n,focusOnBody:r,forceOnClick:o,history:i,internalNewTab:s,location:c,onClick:u,pin:d,pinId:h,shouldShowAltLinks:p,stopPropagation:f,to:m}=this.props;f&&e.stopPropagation();const g=n||a.a.isOffsiteUrl(m);Object(l.b)({isExternalLink:g,event:e,forceOnClick:o})||(e.nativeEvent.preventDefault(),u&&u(e),m&&!p&&(g?Object(l.c)({href:m,pinId:h,pin:d,location:c,auxData:t,spamCheck:this.state.spamCheck}):Object(l.d)({event:e,onHistoryChange:()=>{r&&Object(l.e)()},href:m,history:i,target:s?"blank":null})))})}componentDidMount(){this.mounted=!0,this.handleSpammyDomainCheck()}componentWillUnmount(){this.mounted=!1}componentDidUpdate(){null===this.state.spamCheck&&this.handleSpammyDomainCheck()}render(){const{accessibilityLabel:e,children:t,className:n,"data-test-id":r,external:i,noFollow:a,setAnchorRef:s,style:c,tabIndex:l,target:u,to:d}=this.props;return o.a.createElement("a",{"aria-label":e,className:n,"data-test-id":r,href:d,onClick:this.handleClick,ref:s,rel:i||a?"nofollow":"",style:c,tabIndex:l,target:u?"_blank":null},t)}}t.a=Object(s.compose)(Object(i.connect)((function({pins:e},{pinId:t}){return{pin:t&&e&&e[t]}}),()=>({})),u.k)(h)},qLDv:function(e,t,n){n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return c}));const r=36,o=44,i=446,a=["enabled_left_stela","employees","enabled_v2_holdout"],s=["employees","enabled","enabled_holdout"],c=["employees","enabled_popular_bestseller_colorful","enabled_popular_bestseller_neutral","enabled_popular_colorful","enabled_popular_neutral"]},qUzp:function(e,t,n){n.d(t,"a",(function(){return i}));var r=n("8A+h"),o=n("E58E");function i({board:e,viewer:t}){return Object(r.a)(t,e)||Object(o.a)({board:e,viewer:t})}},qYux:function(e,t,n){n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var r=n("q1tI"),o=n.n(r),i=n("1dBE");const{Provider:a,Consumer:s,useHook:c}=Object(i.c)("ContentHeader");function l({children:e}){const[t,n]=Object(r.useState)(!1);return o.a.createElement(a,{value:{isContentHeaderPresent:t,setIsContentHeaderPresent:n}},e)}},qdVQ:function(e,t,n){n.d(t,"a",(function(){return x}));var r=n("q1tI"),o=n.n(r),i=n("/MKj"),a=n("0rqM"),s=n("weYu"),c=n("1inl"),l=n("4dcN"),u=n("Ye/N"),d=n("eOdZ"),h=n("CvCA"),p=n("vVEi"),f=n("ANjH"),m=n("vvax"),g=n("U4JR"),b=n("mLS1"),y=n("oN2T"),v=n("pLLR"),_=n("nGHF"),E=n("n6mq");function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class w extends r.Component{constructor(...e){super(...e),S(this,"state",{editMode:"main"}),S(this,"handleBoardLeave",()=>{const{board:e,onBoardLeave:t,onClose:n}=this.props;n(),t&&t(e.id)}),S(this,"handleArchive",()=>{const{archiveBoard:e,onClose:t}=this.props;e(),this.returnToMainEditMode(),t()}),S(this,"handleUnarchive",()=>{const{onClose:e,unarchiveBoard:t}=this.props;t(),this.returnToMainEditMode(),e()}),S(this,"returnToMainEditMode",()=>this.setState({editMode:"main"})),S(this,"handleShowArchiveModal",()=>this.setState({editMode:"confirmArchive"})),S(this,"handleShowUnarchiveModal",()=>this.setState({editMode:"confirmUnarchive"})),S(this,"handleShowMergeModal",()=>this.setState({editMode:"merge"})),S(this,"handleDelete",()=>{const{board:e,deleteBoard:t,onBoardDelete:n,onClose:r,toastManagerContext:i}=this.props;t().then(()=>{i.showToast(({onHide:e})=>o.a.createElement(h.a,{onHide:e,text:u.a._("Board deleted!","User deleted their board","User deleted their board")}))}),this.returnToMainEditMode(),r(),n&&n(e)}),S(this,"handleMerge",e=>{const{board:t,mergeToBoard:n,onBoardDelete:r,onClose:o}=this.props;Object(g.a)(7172,{objectId:t.id,merge_flow:"menu"}),n(e),o(),r&&r(t)}),S(this,"handleShowDeleteModal",()=>{l.a.trackEvent("board_delete","open_modal"),this.setState({editMode:"confirmDelete"})}),S(this,"handleSubmit",e=>{const{viewer:t,board:n,updateBoard:r,onBoardPrivacyChange:o,onBoardUpdate:i,onClose:a}=this.props,s=this.props.board.id;if(t.id===n.owner.id){const t={id:s,...e};return r(t).then(()=>{e.event_date||e.event_start_date?Object(g.a)(8624,{component:13304,objectId:t.id}):""!==e.event_date&&""!==e.event_start_date||Object(g.a)(8625,{component:13304,objectId:t.id}),n.privacy!==e.privacy&&o?o():i&&i(s,t),a()})}{const{allow_homefeed_recommendations:t,collab_board_email:o}=e;t!==n.allow_homefeed_recommendations&&r({id:s,allow_homefeed_recommendations:t});return d.a.create("BoardSettingsResource",{board_id:s,collab_board_email:o}).callUpdate({showError:!1}).then(e=>a()).catch(e=>{throw e.message})}})}render(){const{board:e,categories:t,viewer:n,onCropChange:i,onClose:c,onCollaboratorInviteClick:l,onToggleFlyout:d}=this.props,{editMode:h}=this.state,p=n.isAuth&&n.id===e.owner.id,f=!!!e.archived_by_me_at&&p;return o.a.createElement(r.Fragment,null,"main"===h&&o.a.createElement(b.a,{board:e,categories:t,currentUserIsOwner:p,gaCategory:"board_edit",handleBoardLeave:this.handleBoardLeave,isArchivable:!0,isDeletable:p,isEditable:p,onClose:c,onCropChange:i,onArchiveButtonClick:this.handleShowArchiveModal,onDeleteButtonClick:this.handleShowDeleteModal,onMergeButtonClick:f?this.handleShowMergeModal:void 0,onCollaboratorInviteClick:l,onSubmit:this.handleSubmit,onToggleFlyout:d,onUnarchiveButtonClick:this.handleShowUnarchiveModal,submitText:u.a._("Done","BoardEdit.BoardEdit","Submit button text"),title:o.a.createElement(E.e,{paddingY:8},o.a.createElement(E.s,{align:"center",size:"md"},u.a._("Edit your board")))}),"merge"===h&&o.a.createElement(s.a,{onCancel:this.returnToMainEditMode,onSubmit:this.handleMerge,sourceBoardId:e.id}),"confirmDelete"===h&&o.a.createElement(a.a,{confirmButtonLabel:u.a._("Delete forever","Confirms the user wants to permanently delete the board","Confirms the user wants to permanently delete the board"),cancelButtonLabel:u.a._("Cancel"),message:u.a._("Once you delete a board and all its Pins, you can't undo it!"),onConfirm:this.handleDelete,onCancel:this.returnToMainEditMode}),"confirmArchive"===h&&o.a.createElement(a.a,{confirmButtonLabel:u.a._("Archive","button label on confirming board archive","button label on confirming board archive"),heading:u.a._("Archive this board?","modal heading for board archive confirmation","modal heading for board archive confirmation"),message:Object(m.b)(u.a._("If you archive {{ boardName }}, you won’t be able to save Pins to it. We’ll hide it from your profile and stop using it for recommendations. (Don’t worry: You can unarchive your board to undo this!)","BoardEdit","Confirmation message when archiving a board"),{boardName:o.a.createElement(E.V,{inline:!0,key:e.name,weight:"bold"},e.name)}),onCancel:this.returnToMainEditMode,onConfirm:this.handleArchive}),"confirmUnarchive"===h&&o.a.createElement(a.a,{confirmButtonLabel:u.a._("Unarchive","button label on confirming board unarchive","button label on confirming board unarchive"),heading:u.a._("Unarchive this board?","modal heading for board unarchive confirmation","modal heading for board unarchive confirmation"),message:Object(m.b)(u.a._("If you unarchive {{ boardName }}, it will show up on your profile and you'll be able to save new Pins to it."),{boardName:o.a.createElement(E.V,{inline:!0,key:e.name,weight:"bold"},e.name)}),onCancel:this.returnToMainEditMode,onConfirm:this.handleUnarchive}))}}var C=Object(f.compose)(_.c,p.d,v.e,Object(i.connect)(e=>({viewer:e.viewer}),(e,t)=>{const n=e=>()=>{const{board:n,onBoardArchiveChange:r,toastManagerContext:i}=t;r&&r(),i.showToast(({onHide:t})=>o.a.createElement(h.a,{imageUrl:n.image_cover_url,onHide:t,text:Object(m.b)(e?u.a._("Archived {{ boardName }}","Toast text on complete archiving board","Toast text on complete archiving board"):u.a._("Unarchived {{ boardName }}","Toast text on complete unarchiving board","Toast text on complete unarchiving board"),{boardName:n.name}).join("")}))};return{archiveBoard:()=>e(Object(y.a)(t.board.id)).then(n(!0)),deleteBoard:()=>e(Object(y.h)(t.board.id)),mergeToBoard:n=>e(Object(y.j)(t.board.id,n.id)).then(()=>{t.showBlockingActionToast({actionType:"merge",board:n})}).catch(e=>{c.a.showError(e.message||u.a._("Failed to merge boards","Error message when failed to merge boards","Error message when failed to merge boards"))}),updateBoard:t=>e(Object(y.m)(t)),unarchiveBoard:()=>e(Object(y.l)(t.board.id)).then(n(!1))}}))(w),O=n("TiQD"),I=n("w70y");function x({boardId:e,coverImageHeight:t,coverImageWidth:n,onBoardArchiveChange:a,onBoardPrivacyChange:s,onBoardLeave:c,onBoardDelete:l,onBoardUpdate:d,onClose:h,onCollaboratorInviteClick:p,onCropChange:f}){const[m,g]=Object(r.useState)(!1),{data:b}=Object(I.a)({name:"CategoriesResource",allowStale:!1});Object(I.a)({name:"BoardResource",options:{field_set_key:"edit",board_id:e},allowStale:!1});const y=Object(i.useSelector)(({boards:t})=>t.content[e]);if(!!(!y||!b))return o.a.createElement(O.b,{accessibilityModalLabel:u.a._("Board edit","BoardEdit.BoardEditModal","Accessibility label on modal"),onDismiss:h,size:"sm"},o.a.createElement(E.e,{padding:12},o.a.createElement(E.O,{accessibilityLabel:u.a._("Board edit","BoardEdit.BoardEditModal","Accessibility label on loading spinner"),show:!0})));return o.a.createElement(C,{board:y,categories:b,coverImageHeight:t,coverImageWidth:n,onBoardArchiveChange:a,onBoardPrivacyChange:s,onBoardLeave:c,onBoardDelete:l,onBoardUpdate:d,onClose:()=>{m||h()},onCollaboratorInviteClick:p,onCropChange:f,onToggleFlyout:()=>g(!m)})}},qnky:function(e,t,n){var r=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.getType=function(){return this.get("type")},o.getMutability=function(){return this.get("mutability")},o.getData=function(){return this.get("data")},r}((0,n("zVay").Record)({type:"TOKEN",mutability:"IMMUTABLE",data:Object}));e.exports=r},quS2:function(e,t,n){n("Z6/o");var r={isValidBlock:function(e,t){var n=e.getKey(),r=e.getParentKey();if(null!=r&&!t.get(r).getChildKeys().includes(n))return!1;if(!e.getChildKeys().map((function(e){return t.get(e)})).every((function(e){return e.getParentKey()===n})))return!1;var o=e.getPrevSiblingKey();if(null!=o&&t.get(o).getNextSiblingKey()!==n)return!1;var i=e.getNextSiblingKey();if(null!=i&&t.get(i).getPrevSiblingKey()!==n)return!1;return(null===i||null===o||o!==i)&&!(""!=e.text&&e.getChildKeys().size>0)},isConnectedTree:function(e){var t=e.toArray().filter((function(e){return null==e.getParentKey()&&null==e.getPrevSiblingKey()}));if(1!==t.length)return!1;for(var n=0,r=t.shift().getKey(),o=[];null!=r;){var i=e.get(r),a=i.getChildKeys(),s=i.getNextSiblingKey();if(a.size>0){null!=s&&o.unshift(s);var c=a.map((function(t){return e.get(t)})).find((function(e){return null==e.getPrevSiblingKey()}));if(null==c)return!1;r=c.getKey()}else r=null!=i.getNextSiblingKey()?i.getNextSiblingKey():o.shift();n++}return n===e.size},isValidTree:function(e){var t=this;return!!e.toArray().every((function(n){return t.isValidBlock(n,e)}))&&this.isConnectedTree(e)}};e.exports=r},qyR9:function(e,t,n){n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return y}));var r=n("q1tI"),o=n.n(r),i=n("jdx6"),a=n("gONw"),s=n("Ye/N"),c=n("gdcG"),l=n("n6mq");var u=Object(c.a)((function(e){const{buttonLabel:t,isHovering:n,isRowItem:r,hasHoverState:i,hoverHandlers:a,name:c,onClick:u}=e,d=c||t||s.a._("Create board");return o.a.createElement(l.U,{onMouseEnter:a.onMouseOver,onMouseLeave:a.onMouseLeave,onTap:u},o.a.createElement(l.e,{alignItems:"center",color:i&&n?"lightGray":"white",display:"flex",flex:r?"shrink":"none",height:64,width:"100%"},o.a.createElement(l.e,{marginStart:6,marginEnd:3,"data-test-id":"createBoardButton"},o.a.createElement(l.t,{accessibilityLabel:s.a._("Add a board"),size:"32",icon:"add-circle",color:"red"})),c?o.a.createElement(l.e,{margin:1},o.a.createElement(l.V,{inline:!0,overflow:"normal"}," ",s.a._("Create: ")," ")):null,o.a.createElement(l.V,{align:"center",inline:!0,truncate:!0,weight:"bold"}," ",d," ")))})),d=n("9QW3"),h=n("NdQN"),p=n("IBrh"),f=n("oTtT");function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const g=2;class b extends r.Component{constructor(...e){super(...e),m(this,"state",{searchQuery:""}),m(this,"handleSelectItem",e=>{const{onCreate:t,onSelected:n}=this.props;if(!e&&t){const{searchQuery:e}=this.state;t(e)}else e&&n(e);(t||e)&&this.setState({searchQuery:""})}),m(this,"handleSearchQueryInput",e=>{this.setState({searchQuery:e})}),m(this,"renderSectionHeader",(e,t)=>e.title?o.a.createElement(l.e,null,t>0&&o.a.createElement(l.o,null),o.a.createElement(l.e,{paddingX:3,paddingY:1},o.a.createElement(l.V,{size:"md"},e.title))):null),m(this,"renderRow",({item:e,hovered:t,sectionProps:n={}})=>{const{boardSavedTo:r,isSelectMode:a,disabledRowId:s}=this.props,{searchQuery:c}=this.state,{inSectionSelection:l=!1}=n,u=r&&r.board===e.id?r&&r.state:null,d="board_section"===e.type;return o.a.createElement(i.a,{isSelectMode:a,disabled:e.id===s&&l,item:e,isSection:d,isWithinSectionPicker:l,saveState:u,searchQuery:c,selected:t})})}componentDidUpdate(e){if(!e.isLoaded&&this.props.isLoaded){const{boardPickerStopwatch:e,hasLoadError:t}=this.props;e&&(t?e.error():e.stop())}}render(){const{boardSavedTo:e,createButtonLabel:t,hasLowBoardCount:n,getSections:r,isLoaded:i,onCreate:c,pinId:f}=this.props;if(i){const{searchQuery:i}=this.state,s=r(i);return this.indexManager=new d.a(s.map(e=>e.items)),this.indexManager.setSelectItem(this.handleSelectItem),o.a.createElement(l.e,{minHeight:0,flex:"grow",height:"100%",overflow:"auto",display:"flex",direction:"column",dangerouslySetInlineStyle:{__style:{zIndex:0}}},!n&&o.a.createElement(l.e,null,o.a.createElement(l.e,{paddingX:3,marginBottom:4,marginTop:1},o.a.createElement(h.a,{disabled:!!e,indexManager:this.indexManager,onChange:this.handleSearchQueryInput,value:i})),o.a.createElement(l.o,null)),o.a.createElement(p.a,{disabled:!!e,grow:!n&&!i,indexManager:this.indexManager,onSelectItem:this.handleSelectItem,renderItem:this.renderRow,renderSectionHeader:this.renderSectionHeader,sections:s}),o.a.createElement(l.o,null),c&&o.a.createElement(u,{buttonLabel:t,hasHoverState:!0,name:i,onClick:()=>c(i)}),n&&c&&f&&o.a.createElement(a.a,{onBoardSelected:c,pinId:f}))}return o.a.createElement(l.e,{paddingY:5},o.a.createElement(l.O,{accessibilityLabel:s.a._("loading section picker","accessibility label for the loading spinner the repin picker","accessibility label for the loading spinner the repin picker"),show:!0}))}}function y(e){const t=Object(f.b)();return o.a.createElement(b,Object.assign({},e,{boardPickerStopwatch:t}))}},qyXF:function(e,t,n){n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return h}));var r=n("Ye/N"),o=n("vvax");const i=()=>r.a._("{{ first }}","Generic message that lists 1 item","Generic message that lists 1 item (ex: Stevie)"),a=()=>r.a._("{{ first }} and {{ second }}","Generic message that lists 2 items","Generic message that lists 2 items (ex: Stevie and Michael)"),s=()=>r.a._("{{ first }}, {{ second }} and {{ third }}","Generic message that lists 3 items","Generic message that lists 3 items (ex: Stevie, Michael and Cyndi)"),c=()=>r.a._("{{ first }}, {{ second }}, {{ third }} and {{ fourth }}","Generic message that lists 4 items","Generic message that lists 4 items (ex: Stevie, Michael, Cyndi and Bob)"),l=()=>r.a._("{{ first }}, {{ second }}, {{ third }}, {{ fourth }} and {{ fifth }}","Generic message that lists 5 items","Generic message that lists 5 items (ex: Stevie, Michael, Cyndi, Bob and Bruce)"),u=()=>r.a._("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ sixth }}","Generic message that lists 6 items","Generic message that lists 6 items (ex: Stevie, Michael, Cyndi, Bob, Bruce and Lionel)");function d(e){const t={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],remaining:e.length-5};switch(e.length){case 0:return[];case 1:return Object(o.b)(i(),t);case 2:return Object(o.b)(a(),t);case 3:return Object(o.b)(s(),t);case 4:return Object(o.b)(c(),t);case 5:return Object(o.b)(l(),t);case 6:return Object(o.b)(u(),t);default:return Object(o.b)(r.a._("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ remaining }} others","Generic message that lists more than 6 items","Generic message that lists more than 6 items (ex: Stevie, Michael, Cyndi, Bob, Bruce and 2 others)"),t)}}function h(e){const t={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],seventh:e[6],remaining:e.length-6};switch(e.length){case 0:return[];case 1:return Object(o.b)(i(),t);case 2:return Object(o.b)(a(),t);case 3:return Object(o.b)(s(),t);case 4:return Object(o.b)(c(),t);case 5:return Object(o.b)(l(),t);case 6:return Object(o.b)(u(),t);case 7:return Object(o.b)(r.a._("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ seventh }}","Generic message that lists 7 items","Generic message that lists 7 items (ex: Stevie, Michael, Cyndi, Bob, Bruce, Lionel and Tina)"),t);default:return Object(o.b)(r.a._("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ remaining }} others","Generic message that lists more than 7 items","Generic message that lists more than 7 items (ex: Stevie, Michael, Cyndi, Bob, Bruce, Lionel and 2 others)"),t)}}},qysv:function(e,t,n){e.exports=function(e){if(null!=e)return e;throw new Error("Got unexpected null or undefined")}},r36Y:function(e,t,n){e.exports=n("Copi")},rAV9:function(e,t,n){var r=n("q1tI"),o=n("pXmp"),i=(0,n("zVay").Map)({"header-one":{element:"h1"},"header-two":{element:"h2"},"header-three":{element:"h3"},"header-four":{element:"h4"},"header-five":{element:"h5"},"header-six":{element:"h6"},section:{element:"section"},article:{element:"article"},"unordered-list-item":{element:"li",wrapper:r.createElement("ul",{className:o("public/DraftStyleDefault/ul")})},"ordered-list-item":{element:"li",wrapper:r.createElement("ol",{className:o("public/DraftStyleDefault/ol")})},blockquote:{element:"blockquote"},atomic:{element:"figure"},"code-block":{element:"pre",wrapper:r.createElement("pre",{className:o("public/DraftStyleDefault/pre")})},unstyled:{element:"div",aliasedElements:["p"]}});e.exports=i},rJY1:function(e,t,n){var r={},o=Math.pow(2,24);e.exports=function(){for(var e;void 0===e||r.hasOwnProperty(e)||!isNaN(+e);)e=Math.floor(Math.random()*o).toString(32);return r[e]=!0,e}},rV1A:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("7nh8");t.default=function(e){return function(){if(e.getMonitor().isDragging())return{type:r.PUBLISH_DRAG_SOURCE}}}},rYoy:function(e,t,n){var r=n("E8d4");t.a=r.a},"rg+c":function(e,t,n){n.d(t,"a",(function(){return c}));var r=n("q1tI"),o=n.n(r),i=n("P9b8"),a=n("i8i4"),s=n("ANjH");const c={Pin:"pin",Board:"board",Section:"section",CarouselItem:"carouselitem"};const l={hover:({index:e,onDragHover:t},n,r)=>{t(e,function(e,t){const n=Object(a.findDOMNode)(t);if(!(n&&n instanceof HTMLElement))return null;const{x:r,y:o}=e.getClientOffset(),{left:i,right:s,top:c,bottom:l,width:u,height:d}=n.getBoundingClientRect();return{positionRelativeToCenter:{x:r-(i+s)/2,y:o-(c+l)/2},boundingBox:{width:u,height:d}}}(n,r))}};class u extends o.a.Component{render(){const{children:e,connectDragSource:t,connectDropTarget:n,isDragging:r,isDraggingInternal:i}=this.props,a=r||i?0:1;return t(n(o.a.createElement("div",{style:{opacity:a}},e)))}}t.b=Object(s.compose)(Object(i.DropTarget)(e=>e.type,l,e=>({connectDropTarget:e.dropTarget()})),Object(i.DragSource)(e=>e.type,{beginDrag:({index:e,onDragBegin:t})=>(t(e),{index:e}),endDrag:({onDragEnd:e},t)=>e(t.didDrop())},(e,t)=>({connectDragSource:e.dragSource(),isDraggingInternal:t.isDragging()})))(u)},rrvb:function(e,t,n){var r=n("q1tI"),o=n.n(r),i=n("Ye/N"),a=n("9QW3"),s=n("NdQN"),c=n("IBrh"),l=n("gdcG"),u=n("n6mq");function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends o.a.Component{constructor(...e){super(...e),d(this,"state",{showFlyout:!1}),d(this,"setContainerRef",e=>{this.containerRef=e}),d(this,"handleCreate",()=>{this.hideFlyout();const{onCreate:e}=this.props;e&&e()}),d(this,"handleSelectItem",e=>{this.hideFlyout();const{onSelect:t,onCreate:n}=this.props;e?t(e):n&&n()}),d(this,"handleDropdownTouch",()=>{this.setState(e=>({showFlyout:!e.showFlyout}))}),d(this,"handleHideFlyout",e=>{this.containerRef&&e.target instanceof HTMLElement&&!this.containerRef.contains(e.target)&&this.hideFlyout()}),d(this,"hideFlyout",()=>{const{hoverHandlers:{onMouseLeave:e}}=this.props;e(),this.setState({showFlyout:!1})})}componentDidMount(){document.addEventListener("click",this.handleHideFlyout,{capture:!0})}componentWillUnmount(){document.removeEventListener("click",this.handleHideFlyout,{capture:!0})}render(){const{dropdownValue:e,fetchMore:t,hoverHandlers:{onMouseOver:n,onMouseLeave:r},isHovering:l,isStoryPin:d,onCreate:h,onSearchQueryUpdate:p,renderRow:f,searchQuery:m,sections:g,createBtnDisabled:b}=this.props,{showFlyout:y}=this.state;this.indexManager=new a.a(g.map(e=>e.items)),this.indexManager.setSelectItem(this.handleSelectItem);const v=!m.trim()||!!b;return o.a.createElement("div",{ref:this.setContainerRef,style:{...d?{flex:"grow"}:{}}},o.a.createElement(u.U,{fullWidth:!!d,onMouseEnter:n,onMouseLeave:r,onTap:this.handleDropdownTouch,rounding:2},o.a.createElement(u.e,{alignItems:"center",color:l?"lightWash":"lightGray",direction:"row",display:"flex",flex:"grow",paddingX:4,paddingY:d?4:3,rounding:d?4:2},o.a.createElement(u.e,{display:"flex",flex:"grow"},o.a.createElement(u.V,{weight:"bold"},e)),o.a.createElement(u.t,{accessibilityLabel:"",color:"darkGray",icon:"arrow-down",size:14}))),y&&o.a.createElement(u.e,{position:"relative"},o.a.createElement(u.e,{borderStyle:"sm",color:"white",dangerouslySetInlineStyle:{__style:{zIndex:1}},direction:"column",display:"flex",overflow:"hidden",position:"absolute",rounding:d?4:2,width:"100%"},o.a.createElement(u.e,null,o.a.createElement(u.e,{display:"flex",marginStart:-1,marginEnd:-1,padding:2},o.a.createElement(u.e,{display:"flex",flex:"grow",paddingX:1},o.a.createElement(s.a,{hideIcon:!0,indexManager:this.indexManager,onChange:p,value:m})),h&&o.a.createElement(u.e,{paddingX:1},o.a.createElement(u.f,{disabled:v,inline:!0,onClick:this.handleCreate,text:i.a._("Create","board or section dropdown create button","board or section dropdown create button")})))),o.a.createElement(c.a,{fetchMore:t,indexManager:this.indexManager,maxHeight:240,onSelectItem:this.handleSelectItem,renderItem:f,sections:g}))))}}t.a=Object(l.a)(h)},rxSY:function(e,t,n){n.d(t,"a",(function(){return I}));var r=n("q1tI"),o=n.n(r),i=n("Cufx"),a=n("Ye/N"),s=n("w70y"),c=n("n6mq");function l({boardId:e,invitedUserId:t,isInvited:n,onClick:i,buttonSize:l="sm"}){const u=Object(s.a)({name:"BoardInviteResource",options:{board_id:e,invited_user_id:t}});Object(r.useEffect)(()=>{u.refreshData()},[]);const d={text:a.a._("Invite","[button] invite someone to collaborate on a board","it appears in the list expanded when click invite button at the top of board page"),color:"red",disabled:!1};return u.isFetching&&(d.text=a.a._("Loading","[button] disabled button status text when checking if the user has been invited","it appears in the list expanded when click invite button at the top of board page"),d.color="gray",d.disabled=!0),(n||u.isLoaded&&u.data)&&(d.text=a.a._("Invited","[button] disabled button status text when a user has been invited to a board","it appears in the list expanded when click invite button at the top of board page"),d.color="gray",d.disabled=!0),o.a.createElement(c.f,{color:d.color,size:l,disabled:d.disabled,onClick:i,text:d.text})}var u=n("ViqK"),d=n("xZ6X"),h=n("7w6Q"),p=n("lUWX"),f=n("jZhD"),m=n("v/Q4"),g=n("TN0d"),b=n("xdpg"),y=n("U4JR"),v=n("O3d3"),_=n("ZE2w");const E=[];function S({boardId:e,onInvitesDidUpdate:t,onInviteDidComplete:n,shareSuggestions:s}){const S=Object(m.a)(),[w,C]=Object(r.useState)(S.isAuth?S.socialNetwork:void 0),[O,I]=Object(r.useState)(""),[x,D]=Object(r.useState)([]),[k,T]=Object(r.useState)({}),[M,j]=Object(r.useState)({}),P=e=>{if(!e)return[];return Object.keys(e).filter(e=>E.includes(e)).filter(t=>!1===e[t].connected).map((e,t)=>o.a.createElement(p.a,{key:"socialConnect-"+e,network:e}))},B=e=>{switch(e.type){case"user":case"user_share_suggestion":return e.username||a.a._("On Pinterest","is a user of Pinterest","is a user of Pinterest");case"emailcontact":case"email_share_suggestion":return e.email||a.a._("Email Contact","invited user has an email","invited user has an email")}return""},A=(g.b.subscribe("currentUser","socialNetworkUpdated",(e,t,n)=>{C(Object(v.a)(n))}),(r,o)=>{const{id:i,full_name:a,debug_reason:s}=r;let c="";s&&(c=s.reason),((t,n)=>{const r=O?1044:1039;Object(y.a)(101,{component:13029,element:r,entered_query:O,result_index:t+1,rs:n,objectId:e,view:5,viewParameter:3059})})(o,c);const l={...k};l[i]=!0,T(l),Object(_.d)(e,[i]).then(()=>{n(a,!0)}).catch(e=>{n(a,!1,e);const t={...k};t[i]=!1,T(t)}).finally(t)}),R=[...P(w)];let L=s;return O&&(L=x),o.a.createElement(c.e,{minHeight:0,display:"flex",direction:"column"},o.a.createElement(c.e,{paddingY:4,flex:"none",display:"flex",alignItems:"center"},o.a.createElement(c.e,{flex:"grow"},o.a.createElement(f.a,{onTypeaheadSuggestionsChange:e=>{h.a.increment("web_contacts_search",1,{source:"board_invite"}),D(e)},resourceName:"ShareSuggestionsTypeaheadResource",resourceOptions:{suggestion_type:"group_board",count:25},value:O},o.a.createElement(c.e,{paddingX:4},o.a.createElement(c.K,{accessibilityLabel:a.a._("Search for a name or email","accessible label for contact search input field","accessible label for contact search input field"),id:"search",onChange:({value:e})=>{I(e),Object(y.a)(4113,{component:13029,element:1043,entered_query:e,viewParameter:3059})},placeholder:a.a._("Search by name or email","search input field prompt for finding contacts","search input field prompt for finding contacts"),size:"lg",value:O}))))),o.a.createElement(c.e,{overflow:"scrollY",maxHeight:414},L.map((t,n)=>{const r=t.username?`/${t.username}/`:null;return o.a.createElement(c.e,{key:n},o.a.createElement(u.a,{imageUrl:t.image_medium_url||"",name:t.full_name||t.email,title:t.full_name||t.email,subtitle:B(t),accessory:o.a.createElement(l,{boardId:e,invitedUserId:t.id,isInvited:(i=t.id,!!k[i]),onClick:()=>A(t,n),buttonSize:"lg"}),linkURL:r}));var i}),O&&(Object(b.g)(O)?o.a.createElement(u.a,{name:O,title:O,accessory:(N=!!M[O],F=()=>{const r=O;if(!Object(b.g)(r))return;const o={...M};o[r]=!0,j(o),Object(_.c)(e,[r]).then(()=>{n(r,!0),I("")}).catch(e=>{n(r,!1,e);const t={...M};t[r]=!1,j(t)}).finally(t)},z="lg",o.a.createElement(c.f,{color:N?"gray":"red",disabled:!!N,size:z,onClick:F,text:N?a.a._("Invited","[button] disabled button status text when a user has been invited to a board","[button] disabled button status text when a user has been invited to a board"):a.a._("Invite","[button] invite someone to collaborate on a board","[button] invite someone to collaborate on a board")}))}):o.a.createElement(d.a,{iconNode:o.a.createElement(i.a,{name:O,size:"md"}),title:O,subtitle:a.a._("Keep typing!","boardCollabInviterForm.label","Message for user to keep typing")})),R));var N,F,z}var w=n("CvCA"),C=n("vvax"),O=n("nGHF");function I({boardId:e}){const t=Object(O.b)(),{refreshData:n}=Object(s.a)({name:"BoardInvitesResource",options:{board_id:e,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0},allowStale:!1}),{refreshData:i}=Object(s.a)({name:"BoardInvitesResource",options:{board_id:e,field_set_key:"boardEdit",status_filters:"pending_approval"},allowStale:!1}),{data:l,isLoaded:u}=Object(s.a)({name:"ShareSuggestionsResource",options:{page_size:5,field_set_key:"default",suggestion_type:"group_board"},allowStale:!1});Object(r.useEffect)(()=>{Object(y.a)(7120,{objectId:e,view:5,viewParameter:3059})},[]),Object(r.useEffect)(()=>{if(u){const e=l&&l.length>0?7511:7512;Object(y.a)(e,{component:13305,element:10592,view:5,viewParameter:3059})}},[u]);const d=(e,n=!1)=>{t.showOneToast(({onHide:t})=>o.a.createElement(w.a,{color:n?"red":"darkGray",duration:3e3,onHide:t,text:e}))};return u?o.a.createElement(S,{boardId:e,onInvitesDidUpdate:()=>{n(),i()},onInviteDidComplete:(e,t,n)=>{t?(e=>{const t=a.a._("Invited {{userIdentifier}} to collaborate","Toast for successfully sending invitation of collaborating a board","Toast for successfully sending invitation of collaborating a board");d(Object(C.b)(t,{userIdentifier:e}).join(""))})(e):((e,t)=>{const n=a.a._("Failed to invite {{userIdentifier}} to collaborate","Toast for failing to send invitation of collaborating a board","Toast for failing to send invitation of collaborating a board");d(t&&t.message?t.message:Object(C.b)(n,{userIdentifier:e}).join(""),!0)})(e,n)},shareSuggestions:l||[]}):o.a.createElement(c.e,{display:"flex",justifyContent:"center",paddingY:12,width:"100%"},o.a.createElement(c.O,{accessibilityLabel:a.a._("Loading contacts","BoardCollab.BoardCollabInviteFormContainer","Accessibility label on loading spinner"),show:!0}))}},s5IZ:function(e,t,n){e.exports=function(){var e=Array.prototype.slice;function t(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function n(e){return a(e)?e:G(e)}function r(e){return s(e)?e:Y(e)}function o(e){return c(e)?e:J(e)}function i(e){return a(e)&&!l(e)?e:X(e)}function a(e){return!(!e||!e[d])}function s(e){return!(!e||!e[h])}function c(e){return!(!e||!e[p])}function l(e){return s(e)||c(e)}function u(e){return!(!e||!e[f])}t(r,n),t(o,n),t(i,n),n.isIterable=a,n.isKeyed=s,n.isIndexed=c,n.isAssociative=l,n.isOrdered=u,n.Keyed=r,n.Indexed=o,n.Set=i;var d="@@__IMMUTABLE_ITERABLE__@@",h="@@__IMMUTABLE_KEYED__@@",p="@@__IMMUTABLE_INDEXED__@@",f="@@__IMMUTABLE_ORDERED__@@",m="delete",g=5,b=1<<g,y=b-1,v={},_={value:!1},E={value:!1};function S(e){return e.value=!1,e}function w(e){e&&(e.value=!0)}function C(){}function O(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),o=0;o<n;o++)r[o]=e[o+t];return r}function I(e){return void 0===e.size&&(e.size=e.__iterate(D)),e.size}function x(e,t){if("number"!=typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?I(e)+t:t}function D(){return!0}function k(e,t,n){return(0===e||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function T(e,t){return j(e,t,0)}function M(e,t){return j(e,t,t)}function j(e,t,n){return void 0===e?n:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}var P=0,B=1,A=2,R="function"==typeof Symbol&&Symbol.iterator,L="@@iterator",N=R||L;function F(e){this.next=e}function z(e,t,n,r){var o=0===e?t:1===e?n:[t,n];return r?r.value=o:r={value:o,done:!1},r}function q(){return{value:void 0,done:!0}}function U(e){return!!V(e)}function H(e){return e&&"function"==typeof e.next}function K(e){var t=V(e);return t&&t.call(e)}function V(e){var t=e&&(R&&e[R]||e[L]);if("function"==typeof t)return t}function W(e){return e&&"number"==typeof e.length}function G(e){return null==e?ae():a(e)?e.toSeq():le(e)}function Y(e){return null==e?ae().toKeyedSeq():a(e)?s(e)?e.toSeq():e.fromEntrySeq():se(e)}function J(e){return null==e?ae():a(e)?s(e)?e.entrySeq():e.toIndexedSeq():ce(e)}function X(e){return(null==e?ae():a(e)?s(e)?e.entrySeq():e:ce(e)).toSetSeq()}F.prototype.toString=function(){return"[Iterator]"},F.KEYS=P,F.VALUES=B,F.ENTRIES=A,F.prototype.inspect=F.prototype.toSource=function(){return this.toString()},F.prototype[N]=function(){return this},t(G,n),G.of=function(){return G(arguments)},G.prototype.toSeq=function(){return this},G.prototype.toString=function(){return this.__toString("Seq {","}")},G.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},G.prototype.__iterate=function(e,t){return de(this,e,t,!0)},G.prototype.__iterator=function(e,t){return he(this,e,t,!0)},t(Y,G),Y.prototype.toKeyedSeq=function(){return this},t(J,G),J.of=function(){return J(arguments)},J.prototype.toIndexedSeq=function(){return this},J.prototype.toString=function(){return this.__toString("Seq [","]")},J.prototype.__iterate=function(e,t){return de(this,e,t,!1)},J.prototype.__iterator=function(e,t){return he(this,e,t,!1)},t(X,G),X.of=function(){return X(arguments)},X.prototype.toSetSeq=function(){return this},G.isSeq=ie,G.Keyed=Y,G.Set=X,G.Indexed=J;var Q,$,Z,ee="@@__IMMUTABLE_SEQ__@@";function te(e){this._array=e,this.size=e.length}function ne(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function re(e){this._iterable=e,this.size=e.length||e.size}function oe(e){this._iterator=e,this._iteratorCache=[]}function ie(e){return!(!e||!e[ee])}function ae(){return Q||(Q=new te([]))}function se(e){var t=Array.isArray(e)?new te(e).fromEntrySeq():H(e)?new oe(e).fromEntrySeq():U(e)?new re(e).fromEntrySeq():"object"==typeof e?new ne(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function ce(e){var t=ue(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function le(e){var t=ue(e)||"object"==typeof e&&new ne(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}function ue(e){return W(e)?new te(e):H(e)?new oe(e):U(e)?new re(e):void 0}function de(e,t,n,r){var o=e._cache;if(o){for(var i=o.length-1,a=0;a<=i;a++){var s=o[n?i-a:a];if(!1===t(s[1],r?s[0]:a,e))return a+1}return a}return e.__iterateUncached(t,n)}function he(e,t,n,r){var o=e._cache;if(o){var i=o.length-1,a=0;return new F((function(){var e=o[n?i-a:a];return a++>i?q():z(t,r?e[0]:a-1,e[1])}))}return e.__iteratorUncached(t,n)}function pe(e,t){return t?fe(t,e,"",{"":e}):me(e)}function fe(e,t,n,r){return Array.isArray(t)?e.call(r,n,J(t).map((function(n,r){return fe(e,n,r,t)}))):ge(t)?e.call(r,n,Y(t).map((function(n,r){return fe(e,n,r,t)}))):t}function me(e){return Array.isArray(e)?J(e).map(me).toList():ge(e)?Y(e).map(me).toMap():e}function ge(e){return e&&(e.constructor===Object||void 0===e.constructor)}function be(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!=e&&t!=t)return!0;if(!e||!t)return!1}return!("function"!=typeof e.equals||"function"!=typeof t.equals||!e.equals(t))}function ye(e,t){if(e===t)return!0;if(!a(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||s(e)!==s(t)||c(e)!==c(t)||u(e)!==u(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!l(e);if(u(e)){var r=e.entries();return t.every((function(e,t){var o=r.next().value;return o&&be(o[1],e)&&(n||be(o[0],t))}))&&r.next().done}var o=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{o=!0;var i=e;e=t,t=i}var d=!0,h=t.__iterate((function(t,r){if(n?!e.has(t):o?!be(t,e.get(r,v)):!be(e.get(r,v),t))return d=!1,!1}));return d&&e.size===h}function ve(e,t){if(!(this instanceof ve))return new ve(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if($)return $;$=this}}function _e(e,t){if(!e)throw new Error(t)}function Ee(e,t,n){if(!(this instanceof Ee))return new Ee(e,t,n);if(_e(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),n=void 0===n?1:Math.abs(n),t<e&&(n=-n),this._start=e,this._end=t,this._step=n,this.size=Math.max(0,Math.ceil((t-e)/n-1)+1),0===this.size){if(Z)return Z;Z=this}}function Se(){throw TypeError("Abstract")}function we(){}function Ce(){}function Oe(){}G.prototype[ee]=!0,t(te,J),te.prototype.get=function(e,t){return this.has(e)?this._array[x(this,e)]:t},te.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length-1,o=0;o<=r;o++)if(!1===e(n[t?r-o:o],o,this))return o+1;return o},te.prototype.__iterator=function(e,t){var n=this._array,r=n.length-1,o=0;return new F((function(){return o>r?q():z(e,o,n[t?r-o++:o++])}))},t(ne,Y),ne.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},ne.prototype.has=function(e){return this._object.hasOwnProperty(e)},ne.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,o=r.length-1,i=0;i<=o;i++){var a=r[t?o-i:i];if(!1===e(n[a],a,this))return i+1}return i},ne.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,o=r.length-1,i=0;return new F((function(){var a=r[t?o-i:i];return i++>o?q():z(e,a,n[a])}))},ne.prototype[f]=!0,t(re,J),re.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=K(this._iterable),r=0;if(H(n))for(var o;!(o=n.next()).done&&!1!==e(o.value,r++,this););return r},re.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=K(this._iterable);if(!H(n))return new F(q);var r=0;return new F((function(){var t=n.next();return t.done?t:z(e,r++,t.value)}))},t(oe,J),oe.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var n,r=this._iterator,o=this._iteratorCache,i=0;i<o.length;)if(!1===e(o[i],i++,this))return i;for(;!(n=r.next()).done;){var a=n.value;if(o[i]=a,!1===e(a,i++,this))break}return i},oe.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterator,r=this._iteratorCache,o=0;return new F((function(){if(o>=r.length){var t=n.next();if(t.done)return t;r[o]=t.value}return z(e,o,r[o++])}))},t(ve,J),ve.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},ve.prototype.get=function(e,t){return this.has(e)?this._value:t},ve.prototype.includes=function(e){return be(this._value,e)},ve.prototype.slice=function(e,t){var n=this.size;return k(e,t,n)?this:new ve(this._value,M(t,n)-T(e,n))},ve.prototype.reverse=function(){return this},ve.prototype.indexOf=function(e){return be(this._value,e)?0:-1},ve.prototype.lastIndexOf=function(e){return be(this._value,e)?this.size:-1},ve.prototype.__iterate=function(e,t){for(var n=0;n<this.size;n++)if(!1===e(this._value,n,this))return n+1;return n},ve.prototype.__iterator=function(e,t){var n=this,r=0;return new F((function(){return r<n.size?z(e,r++,n._value):q()}))},ve.prototype.equals=function(e){return e instanceof ve?be(this._value,e._value):ye(e)},t(Ee,J),Ee.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},Ee.prototype.get=function(e,t){return this.has(e)?this._start+x(this,e)*this._step:t},Ee.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},Ee.prototype.slice=function(e,t){return k(e,t,this.size)?this:(e=T(e,this.size),(t=M(t,this.size))<=e?new Ee(0,0):new Ee(this.get(e,this._end),this.get(t,this._end),this._step))},Ee.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step==0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},Ee.prototype.lastIndexOf=function(e){return this.indexOf(e)},Ee.prototype.__iterate=function(e,t){for(var n=this.size-1,r=this._step,o=t?this._start+n*r:this._start,i=0;i<=n;i++){if(!1===e(o,i,this))return i+1;o+=t?-r:r}return i},Ee.prototype.__iterator=function(e,t){var n=this.size-1,r=this._step,o=t?this._start+n*r:this._start,i=0;return new F((function(){var a=o;return o+=t?-r:r,i>n?q():z(e,i++,a)}))},Ee.prototype.equals=function(e){return e instanceof Ee?this._start===e._start&&this._end===e._end&&this._step===e._step:ye(this,e)},t(Se,n),t(we,Se),t(Ce,Se),t(Oe,Se),Se.Keyed=we,Se.Indexed=Ce,Se.Set=Oe;var Ie="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var n=65535&(e|=0),r=65535&(t|=0);return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0};function xe(e){return e>>>1&1073741824|3221225471&e}function De(e){if(!1===e||null==e)return 0;if("function"==typeof e.valueOf&&(!1===(e=e.valueOf())||null==e))return 0;if(!0===e)return 1;var t=typeof e;if("number"===t){var n=0|e;for(n!==e&&(n^=4294967295*e);e>4294967295;)n^=e/=4294967295;return xe(n)}if("string"===t)return e.length>Fe?ke(e):Te(e);if("function"==typeof e.hashCode)return e.hashCode();if("object"===t)return Me(e);if("function"==typeof e.toString)return Te(e.toString());throw new Error("Value type "+t+" cannot be hashed.")}function ke(e){var t=Ue[e];return void 0===t&&(t=Te(e),qe===ze&&(qe=0,Ue={}),qe++,Ue[e]=t),t}function Te(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return xe(t)}function Me(e){var t;if(Re&&void 0!==(t=Ae.get(e)))return t;if(void 0!==(t=e[Ne]))return t;if(!Pe){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Ne]))return t;if(void 0!==(t=Be(e)))return t}if(t=++Le,1073741824&Le&&(Le=0),Re)Ae.set(e,t);else{if(void 0!==je&&!1===je(e))throw new Error("Non-extensible objects are not allowed as keys.");if(Pe)Object.defineProperty(e,Ne,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Ne]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Ne]=t}}return t}var je=Object.isExtensible,Pe=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}();function Be(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}var Ae,Re="function"==typeof WeakMap;Re&&(Ae=new WeakMap);var Le=0,Ne="__immutablehash__";"function"==typeof Symbol&&(Ne=Symbol(Ne));var Fe=16,ze=255,qe=0,Ue={};function He(e){_e(e!==1/0,"Cannot perform this action with an infinite size.")}function Ke(e){return null==e?ot():Ve(e)&&!u(e)?e:ot().withMutations((function(t){var n=r(e);He(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}function Ve(e){return!(!e||!e[Ge])}t(Ke,we),Ke.prototype.toString=function(){return this.__toString("Map {","}")},Ke.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},Ke.prototype.set=function(e,t){return it(this,e,t)},Ke.prototype.setIn=function(e,t){return this.updateIn(e,v,(function(){return t}))},Ke.prototype.remove=function(e){return it(this,e,v)},Ke.prototype.deleteIn=function(e){return this.updateIn(e,(function(){return v}))},Ke.prototype.update=function(e,t,n){return 1===arguments.length?e(this):this.updateIn([e],t,n)},Ke.prototype.updateIn=function(e,t,n){n||(n=t,t=void 0);var r=gt(this,Sn(e),t,n);return r===v?void 0:r},Ke.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):ot()},Ke.prototype.merge=function(){return ht(this,void 0,arguments)},Ke.prototype.mergeWith=function(t){return ht(this,t,e.call(arguments,1))},Ke.prototype.mergeIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,ot(),(function(e){return"function"==typeof e.merge?e.merge.apply(e,n):n[n.length-1]}))},Ke.prototype.mergeDeep=function(){return ht(this,pt,arguments)},Ke.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return ht(this,ft(t),n)},Ke.prototype.mergeDeepIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,ot(),(function(e){return"function"==typeof e.mergeDeep?e.mergeDeep.apply(e,n):n[n.length-1]}))},Ke.prototype.sort=function(e){return Ut(dn(this,e))},Ke.prototype.sortBy=function(e,t){return Ut(dn(this,t,e))},Ke.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},Ke.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new C)},Ke.prototype.asImmutable=function(){return this.__ensureOwner()},Ke.prototype.wasAltered=function(){return this.__altered},Ke.prototype.__iterator=function(e,t){return new et(this,e,t)},Ke.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate((function(t){return r++,e(t[1],t[0],n)}),t),r},Ke.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?rt(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Ke.isMap=Ve;var We,Ge="@@__IMMUTABLE_MAP__@@",Ye=Ke.prototype;function Je(e,t){this.ownerID=e,this.entries=t}function Xe(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n}function Qe(e,t,n){this.ownerID=e,this.count=t,this.nodes=n}function $e(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n}function Ze(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n}function et(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&nt(e._root)}function tt(e,t){return z(e,t[0],t[1])}function nt(e,t){return{node:e,index:0,__prev:t}}function rt(e,t,n,r){var o=Object.create(Ye);return o.size=e,o._root=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function ot(){return We||(We=rt(0))}function it(e,t,n){var r,o;if(e._root){var i=S(_),a=S(E);if(r=at(e._root,e.__ownerID,0,void 0,t,n,i,a),!a.value)return e;o=e.size+(i.value?n===v?-1:1:0)}else{if(n===v)return e;o=1,r=new Je(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=o,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?rt(o,r):ot()}function at(e,t,n,r,o,i,a,s){return e?e.update(t,n,r,o,i,a,s):i===v?e:(w(s),w(a),new Ze(t,r,[o,i]))}function st(e){return e.constructor===Ze||e.constructor===$e}function ct(e,t,n,r,o){if(e.keyHash===r)return new $e(t,r,[e.entry,o]);var i,a=(0===n?e.keyHash:e.keyHash>>>n)&y,s=(0===n?r:r>>>n)&y;return new Xe(t,1<<a|1<<s,a===s?[ct(e,t,n+g,r,o)]:(i=new Ze(t,r,o),a<s?[e,i]:[i,e]))}function lt(e,t,n,r){e||(e=new C);for(var o=new Ze(e,De(n),[n,r]),i=0;i<t.length;i++){var a=t[i];o=o.update(e,0,void 0,a[0],a[1])}return o}function ut(e,t,n,r){for(var o=0,i=0,a=new Array(n),s=0,c=1,l=t.length;s<l;s++,c<<=1){var u=t[s];void 0!==u&&s!==r&&(o|=c,a[i++]=u)}return new Xe(e,o,a)}function dt(e,t,n,r,o){for(var i=0,a=new Array(b),s=0;0!==n;s++,n>>>=1)a[s]=1&n?t[i++]:void 0;return a[r]=o,new Qe(e,i+1,a)}function ht(e,t,n){for(var o=[],i=0;i<n.length;i++){var s=n[i],c=r(s);a(s)||(c=c.map((function(e){return pe(e)}))),o.push(c)}return mt(e,t,o)}function pt(e,t,n){return e&&e.mergeDeep&&a(t)?e.mergeDeep(t):be(e,t)?e:t}function ft(e){return function(t,n,r){if(t&&t.mergeDeepWith&&a(n))return t.mergeDeepWith(e,n);var o=e(t,n,r);return be(t,o)?t:o}}function mt(e,t,n){return 0===(n=n.filter((function(e){return 0!==e.size}))).length?e:0!==e.size||e.__ownerID||1!==n.length?e.withMutations((function(e){for(var r=t?function(n,r){e.update(r,v,(function(e){return e===v?n:t(e,n,r)}))}:function(t,n){e.set(n,t)},o=0;o<n.length;o++)n[o].forEach(r)})):e.constructor(n[0])}function gt(e,t,n,r){var o=e===v,i=t.next();if(i.done){var a=o?n:e,s=r(a);return s===a?e:s}_e(o||e&&e.set,"invalid keyPath");var c=i.value,l=o?v:e.get(c,v),u=gt(l,t,n,r);return u===l?e:u===v?e.remove(c):(o?ot():e).set(c,u)}function bt(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function yt(e,t,n,r){var o=r?e:O(e);return o[t]=n,o}function vt(e,t,n,r){var o=e.length+1;if(r&&t+1===o)return e[t]=n,e;for(var i=new Array(o),a=0,s=0;s<o;s++)s===t?(i[s]=n,a=-1):i[s]=e[s+a];return i}function _t(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var o=new Array(r),i=0,a=0;a<r;a++)a===t&&(i=1),o[a]=e[a+i];return o}Ye[Ge]=!0,Ye[m]=Ye.remove,Ye.removeIn=Ye.deleteIn,Je.prototype.get=function(e,t,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(be(n,o[i][0]))return o[i][1];return r},Je.prototype.update=function(e,t,n,r,o,i,a){for(var s=o===v,c=this.entries,l=0,u=c.length;l<u&&!be(r,c[l][0]);l++);var d=l<u;if(d?c[l][1]===o:s)return this;if(w(a),(s||!d)&&w(i),!s||1!==c.length){if(!d&&!s&&c.length>=Et)return lt(e,c,r,o);var h=e&&e===this.ownerID,p=h?c:O(c);return d?s?l===u-1?p.pop():p[l]=p.pop():p[l]=[r,o]:p.push([r,o]),h?(this.entries=p,this):new Je(e,p)}},Xe.prototype.get=function(e,t,n,r){void 0===t&&(t=De(n));var o=1<<((0===e?t:t>>>e)&y),i=this.bitmap;return 0==(i&o)?r:this.nodes[bt(i&o-1)].get(e+g,t,n,r)},Xe.prototype.update=function(e,t,n,r,o,i,a){void 0===n&&(n=De(r));var s=(0===t?n:n>>>t)&y,c=1<<s,l=this.bitmap,u=0!=(l&c);if(!u&&o===v)return this;var d=bt(l&c-1),h=this.nodes,p=u?h[d]:void 0,f=at(p,e,t+g,n,r,o,i,a);if(f===p)return this;if(!u&&f&&h.length>=St)return dt(e,h,l,s,f);if(u&&!f&&2===h.length&&st(h[1^d]))return h[1^d];if(u&&f&&1===h.length&&st(f))return f;var m=e&&e===this.ownerID,b=u?f?l:l^c:l|c,_=u?f?yt(h,d,f,m):_t(h,d,m):vt(h,d,f,m);return m?(this.bitmap=b,this.nodes=_,this):new Xe(e,b,_)},Qe.prototype.get=function(e,t,n,r){void 0===t&&(t=De(n));var o=(0===e?t:t>>>e)&y,i=this.nodes[o];return i?i.get(e+g,t,n,r):r},Qe.prototype.update=function(e,t,n,r,o,i,a){void 0===n&&(n=De(r));var s=(0===t?n:n>>>t)&y,c=o===v,l=this.nodes,u=l[s];if(c&&!u)return this;var d=at(u,e,t+g,n,r,o,i,a);if(d===u)return this;var h=this.count;if(u){if(!d&&--h<wt)return ut(e,l,h,s)}else h++;var p=e&&e===this.ownerID,f=yt(l,s,d,p);return p?(this.count=h,this.nodes=f,this):new Qe(e,h,f)},$e.prototype.get=function(e,t,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(be(n,o[i][0]))return o[i][1];return r},$e.prototype.update=function(e,t,n,r,o,i,a){void 0===n&&(n=De(r));var s=o===v;if(n!==this.keyHash)return s?this:(w(a),w(i),ct(this,e,t,n,[r,o]));for(var c=this.entries,l=0,u=c.length;l<u&&!be(r,c[l][0]);l++);var d=l<u;if(d?c[l][1]===o:s)return this;if(w(a),(s||!d)&&w(i),s&&2===u)return new Ze(e,this.keyHash,c[1^l]);var h=e&&e===this.ownerID,p=h?c:O(c);return d?s?l===u-1?p.pop():p[l]=p.pop():p[l]=[r,o]:p.push([r,o]),h?(this.entries=p,this):new $e(e,this.keyHash,p)},Ze.prototype.get=function(e,t,n,r){return be(n,this.entry[0])?this.entry[1]:r},Ze.prototype.update=function(e,t,n,r,o,i,a){var s=o===v,c=be(r,this.entry[0]);return(c?o===this.entry[1]:s)?this:(w(a),s?void w(i):c?e&&e===this.ownerID?(this.entry[1]=o,this):new Ze(e,this.keyHash,[r,o]):(w(i),ct(this,e,t,De(r),[r,o])))},Je.prototype.iterate=$e.prototype.iterate=function(e,t){for(var n=this.entries,r=0,o=n.length-1;r<=o;r++)if(!1===e(n[t?o-r:r]))return!1},Xe.prototype.iterate=Qe.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,o=n.length-1;r<=o;r++){var i=n[t?o-r:r];if(i&&!1===i.iterate(e,t))return!1}},Ze.prototype.iterate=function(e,t){return e(this.entry)},t(et,F),et.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n,r=t.node,o=t.index++;if(r.entry){if(0===o)return tt(e,r.entry)}else if(r.entries){if(o<=(n=r.entries.length-1))return tt(e,r.entries[this._reverse?n-o:o])}else if(o<=(n=r.nodes.length-1)){var i=r.nodes[this._reverse?n-o:o];if(i){if(i.entry)return tt(e,i.entry);t=this._stack=nt(i,t)}continue}t=this._stack=this._stack.__prev}return q()};var Et=b/4,St=b/2,wt=b/4;function Ct(e){var t=Bt();if(null==e)return t;if(Ot(e))return e;var n=o(e),r=n.size;return 0===r?t:(He(r),r>0&&r<b?Pt(0,r,g,null,new Dt(n.toArray())):t.withMutations((function(e){e.setSize(r),n.forEach((function(t,n){return e.set(n,t)}))})))}function Ot(e){return!(!e||!e[It])}t(Ct,Ce),Ct.of=function(){return this(arguments)},Ct.prototype.toString=function(){return this.__toString("List [","]")},Ct.prototype.get=function(e,t){if((e=x(this,e))>=0&&e<this.size){var n=Nt(this,e+=this._origin);return n&&n.array[e&y]}return t},Ct.prototype.set=function(e,t){return At(this,e,t)},Ct.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},Ct.prototype.insert=function(e,t){return this.splice(e,0,t)},Ct.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=g,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Bt()},Ct.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations((function(n){Ft(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])}))},Ct.prototype.pop=function(){return Ft(this,0,-1)},Ct.prototype.unshift=function(){var e=arguments;return this.withMutations((function(t){Ft(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])}))},Ct.prototype.shift=function(){return Ft(this,1)},Ct.prototype.merge=function(){return zt(this,void 0,arguments)},Ct.prototype.mergeWith=function(t){return zt(this,t,e.call(arguments,1))},Ct.prototype.mergeDeep=function(){return zt(this,pt,arguments)},Ct.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return zt(this,ft(t),n)},Ct.prototype.setSize=function(e){return Ft(this,0,e)},Ct.prototype.slice=function(e,t){var n=this.size;return k(e,t,n)?this:Ft(this,T(e,n),M(t,n))},Ct.prototype.__iterator=function(e,t){var n=0,r=jt(this,t);return new F((function(){var t=r();return t===Mt?q():z(e,n++,t)}))},Ct.prototype.__iterate=function(e,t){for(var n,r=0,o=jt(this,t);(n=o())!==Mt&&!1!==e(n,r++,this););return r},Ct.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Pt(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},Ct.isList=Ot;var It="@@__IMMUTABLE_LIST__@@",xt=Ct.prototype;function Dt(e,t){this.array=e,this.ownerID=t}xt[It]=!0,xt[m]=xt.remove,xt.setIn=Ye.setIn,xt.deleteIn=xt.removeIn=Ye.removeIn,xt.update=Ye.update,xt.updateIn=Ye.updateIn,xt.mergeIn=Ye.mergeIn,xt.mergeDeepIn=Ye.mergeDeepIn,xt.withMutations=Ye.withMutations,xt.asMutable=Ye.asMutable,xt.asImmutable=Ye.asImmutable,xt.wasAltered=Ye.wasAltered,Dt.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var r=n>>>t&y;if(r>=this.array.length)return new Dt([],e);var o,i=0===r;if(t>0){var a=this.array[r];if((o=a&&a.removeBefore(e,t-g,n))===a&&i)return this}if(i&&!o)return this;var s=Lt(this,e);if(!i)for(var c=0;c<r;c++)s.array[c]=void 0;return o&&(s.array[r]=o),s},Dt.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var r,o=n-1>>>t&y;if(o>=this.array.length)return this;if(t>0){var i=this.array[o];if((r=i&&i.removeAfter(e,t-g,n))===i&&o===this.array.length-1)return this}var a=Lt(this,e);return a.array.splice(o+1),r&&(a.array[o]=r),a};var kt,Tt,Mt={};function jt(e,t){var n=e._origin,r=e._capacity,o=qt(r),i=e._tail;return a(e._root,e._level,0);function a(e,t,n){return 0===t?s(e,n):c(e,t,n)}function s(e,a){var s=a===o?i&&i.array:e&&e.array,c=a>n?0:n-a,l=r-a;return l>b&&(l=b),function(){if(c===l)return Mt;var e=t?--l:c++;return s&&s[e]}}function c(e,o,i){var s,c=e&&e.array,l=i>n?0:n-i>>o,u=1+(r-i>>o);return u>b&&(u=b),function(){for(;;){if(s){var e=s();if(e!==Mt)return e;s=null}if(l===u)return Mt;var n=t?--u:l++;s=a(c&&c[n],o-g,i+(n<<o))}}}}function Pt(e,t,n,r,o,i,a){var s=Object.create(xt);return s.size=t-e,s._origin=e,s._capacity=t,s._level=n,s._root=r,s._tail=o,s.__ownerID=i,s.__hash=a,s.__altered=!1,s}function Bt(){return kt||(kt=Pt(0,0,g))}function At(e,t,n){if((t=x(e,t))!=t)return e;if(t>=e.size||t<0)return e.withMutations((function(e){t<0?Ft(e,t).set(0,n):Ft(e,0,t+1).set(t,n)}));t+=e._origin;var r=e._tail,o=e._root,i=S(E);return t>=qt(e._capacity)?r=Rt(r,e.__ownerID,0,t,n,i):o=Rt(o,e.__ownerID,e._level,t,n,i),i.value?e.__ownerID?(e._root=o,e._tail=r,e.__hash=void 0,e.__altered=!0,e):Pt(e._origin,e._capacity,e._level,o,r):e}function Rt(e,t,n,r,o,i){var a,s=r>>>n&y,c=e&&s<e.array.length;if(!c&&void 0===o)return e;if(n>0){var l=e&&e.array[s],u=Rt(l,t,n-g,r,o,i);return u===l?e:((a=Lt(e,t)).array[s]=u,a)}return c&&e.array[s]===o?e:(w(i),a=Lt(e,t),void 0===o&&s===a.array.length-1?a.array.pop():a.array[s]=o,a)}function Lt(e,t){return t&&e&&t===e.ownerID?e:new Dt(e?e.array.slice():[],t)}function Nt(e,t){if(t>=qt(e._capacity))return e._tail;if(t<1<<e._level+g){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&y],r-=g;return n}}function Ft(e,t,n){void 0!==t&&(t|=0),void 0!==n&&(n|=0);var r=e.__ownerID||new C,o=e._origin,i=e._capacity,a=o+t,s=void 0===n?i:n<0?i+n:o+n;if(a===o&&s===i)return e;if(a>=s)return e.clear();for(var c=e._level,l=e._root,u=0;a+u<0;)l=new Dt(l&&l.array.length?[void 0,l]:[],r),u+=1<<(c+=g);u&&(a+=u,o+=u,s+=u,i+=u);for(var d=qt(i),h=qt(s);h>=1<<c+g;)l=new Dt(l&&l.array.length?[l]:[],r),c+=g;var p=e._tail,f=h<d?Nt(e,s-1):h>d?new Dt([],r):p;if(p&&h>d&&a<i&&p.array.length){for(var m=l=Lt(l,r),b=c;b>g;b-=g){var v=d>>>b&y;m=m.array[v]=Lt(m.array[v],r)}m.array[d>>>g&y]=p}if(s<i&&(f=f&&f.removeAfter(r,0,s)),a>=h)a-=h,s-=h,c=g,l=null,f=f&&f.removeBefore(r,0,a);else if(a>o||h<d){for(u=0;l;){var _=a>>>c&y;if(_!==h>>>c&y)break;_&&(u+=(1<<c)*_),c-=g,l=l.array[_]}l&&a>o&&(l=l.removeBefore(r,c,a-u)),l&&h<d&&(l=l.removeAfter(r,c,h-u)),u&&(a-=u,s-=u)}return e.__ownerID?(e.size=s-a,e._origin=a,e._capacity=s,e._level=c,e._root=l,e._tail=f,e.__hash=void 0,e.__altered=!0,e):Pt(a,s,c,l,f)}function zt(e,t,n){for(var r=[],i=0,s=0;s<n.length;s++){var c=n[s],l=o(c);l.size>i&&(i=l.size),a(c)||(l=l.map((function(e){return pe(e)}))),r.push(l)}return i>e.size&&(e=e.setSize(i)),mt(e,t,r)}function qt(e){return e<b?0:e-1>>>g<<g}function Ut(e){return null==e?Vt():Ht(e)?e:Vt().withMutations((function(t){var n=r(e);He(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}function Ht(e){return Ve(e)&&u(e)}function Kt(e,t,n,r){var o=Object.create(Ut.prototype);return o.size=e?e.size:0,o._map=e,o._list=t,o.__ownerID=n,o.__hash=r,o}function Vt(){return Tt||(Tt=Kt(ot(),Bt()))}function Wt(e,t,n){var r,o,i=e._map,a=e._list,s=i.get(t),c=void 0!==s;if(n===v){if(!c)return e;a.size>=b&&a.size>=2*i.size?(r=(o=a.filter((function(e,t){return void 0!==e&&s!==t}))).toKeyedSeq().map((function(e){return e[0]})).flip().toMap(),e.__ownerID&&(r.__ownerID=o.__ownerID=e.__ownerID)):(r=i.remove(t),o=s===a.size-1?a.pop():a.set(s,void 0))}else if(c){if(n===a.get(s)[1])return e;r=i,o=a.set(s,[t,n])}else r=i.set(t,a.size),o=a.set(a.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=o,e.__hash=void 0,e):Kt(r,o)}function Gt(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function Yt(e){this._iter=e,this.size=e.size}function Jt(e){this._iter=e,this.size=e.size}function Xt(e){this._iter=e,this.size=e.size}function Qt(e){var t=vn(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=_n,t.__iterateUncached=function(t,n){var r=this;return e.__iterate((function(e,n){return!1!==t(n,e,r)}),n)},t.__iteratorUncached=function(t,n){if(t===A){var r=e.__iterator(t,n);return new F((function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e}))}return e.__iterator(t===B?P:B,n)},t}function $t(e,t,n){var r=vn(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,o){var i=e.get(r,v);return i===v?o:t.call(n,i,r,e)},r.__iterateUncached=function(r,o){var i=this;return e.__iterate((function(e,o,a){return!1!==r(t.call(n,e,o,a),o,i)}),o)},r.__iteratorUncached=function(r,o){var i=e.__iterator(A,o);return new F((function(){var o=i.next();if(o.done)return o;var a=o.value,s=a[0];return z(r,s,t.call(n,a[1],s,e),o)}))},r}function Zt(e,t){var n=vn(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=Qt(e);return t.reverse=function(){return e.flip()},t}),n.get=function(n,r){return e.get(t?n:-1-n,r)},n.has=function(n){return e.has(t?n:-1-n)},n.includes=function(t){return e.includes(t)},n.cacheResult=_n,n.__iterate=function(t,n){var r=this;return e.__iterate((function(e,n){return t(e,n,r)}),!n)},n.__iterator=function(t,n){return e.__iterator(t,!n)},n}function en(e,t,n,r){var o=vn(e);return r&&(o.has=function(r){var o=e.get(r,v);return o!==v&&!!t.call(n,o,r,e)},o.get=function(r,o){var i=e.get(r,v);return i!==v&&t.call(n,i,r,e)?i:o}),o.__iterateUncached=function(o,i){var a=this,s=0;return e.__iterate((function(e,i,c){if(t.call(n,e,i,c))return s++,o(e,r?i:s-1,a)}),i),s},o.__iteratorUncached=function(o,i){var a=e.__iterator(A,i),s=0;return new F((function(){for(;;){var i=a.next();if(i.done)return i;var c=i.value,l=c[0],u=c[1];if(t.call(n,u,l,e))return z(o,r?l:s++,u,i)}}))},o}function tn(e,t,n){var r=Ke().asMutable();return e.__iterate((function(o,i){r.update(t.call(n,o,i,e),0,(function(e){return e+1}))})),r.asImmutable()}function nn(e,t,n){var r=s(e),o=(u(e)?Ut():Ke()).asMutable();e.__iterate((function(i,a){o.update(t.call(n,i,a,e),(function(e){return(e=e||[]).push(r?[a,i]:i),e}))}));var i=yn(e);return o.map((function(t){return mn(e,i(t))}))}function rn(e,t,n,r){var o=e.size;if(void 0!==t&&(t|=0),void 0!==n&&(n|=0),k(t,n,o))return e;var i=T(t,o),a=M(n,o);if(i!=i||a!=a)return rn(e.toSeq().cacheResult(),t,n,r);var s,c=a-i;c==c&&(s=c<0?0:c);var l=vn(e);return l.size=0===s?s:e.size&&s||void 0,!r&&ie(e)&&s>=0&&(l.get=function(t,n){return(t=x(this,t))>=0&&t<s?e.get(t+i,n):n}),l.__iterateUncached=function(t,n){var o=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(t,n);var a=0,c=!0,l=0;return e.__iterate((function(e,n){if(!c||!(c=a++<i))return l++,!1!==t(e,r?n:l-1,o)&&l!==s})),l},l.__iteratorUncached=function(t,n){if(0!==s&&n)return this.cacheResult().__iterator(t,n);var o=0!==s&&e.__iterator(t,n),a=0,c=0;return new F((function(){for(;a++<i;)o.next();if(++c>s)return q();var e=o.next();return r||t===B?e:z(t,c-1,t===P?void 0:e.value[1],e)}))},l}function on(e,t,n){var r=vn(e);return r.__iterateUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterate(r,o);var a=0;return e.__iterate((function(e,o,s){return t.call(n,e,o,s)&&++a&&r(e,o,i)})),a},r.__iteratorUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterator(r,o);var a=e.__iterator(A,o),s=!0;return new F((function(){if(!s)return q();var e=a.next();if(e.done)return e;var o=e.value,c=o[0],l=o[1];return t.call(n,l,c,i)?r===A?e:z(r,c,l,e):(s=!1,q())}))},r}function an(e,t,n,r){var o=vn(e);return o.__iterateUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterate(o,i);var s=!0,c=0;return e.__iterate((function(e,i,l){if(!s||!(s=t.call(n,e,i,l)))return c++,o(e,r?i:c-1,a)})),c},o.__iteratorUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterator(o,i);var s=e.__iterator(A,i),c=!0,l=0;return new F((function(){var e,i,u;do{if((e=s.next()).done)return r||o===B?e:z(o,l++,o===P?void 0:e.value[1],e);var d=e.value;i=d[0],u=d[1],c&&(c=t.call(n,u,i,a))}while(c);return o===A?e:z(o,i,u,e)}))},o}function sn(e,t){var n=s(e),o=[e].concat(t).map((function(e){return a(e)?n&&(e=r(e)):e=n?se(e):ce(Array.isArray(e)?e:[e]),e})).filter((function(e){return 0!==e.size}));if(0===o.length)return e;if(1===o.length){var i=o[0];if(i===e||n&&s(i)||c(e)&&c(i))return i}var l=new te(o);return n?l=l.toKeyedSeq():c(e)||(l=l.toSetSeq()),(l=l.flatten(!0)).size=o.reduce((function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}}),0),l}function cn(e,t,n){var r=vn(e);return r.__iterateUncached=function(r,o){var i=0,s=!1;function c(e,l){var u=this;e.__iterate((function(e,o){return(!t||l<t)&&a(e)?c(e,l+1):!1===r(e,n?o:i++,u)&&(s=!0),!s}),o)}return c(e,0),i},r.__iteratorUncached=function(r,o){var i=e.__iterator(r,o),s=[],c=0;return new F((function(){for(;i;){var e=i.next();if(!1===e.done){var l=e.value;if(r===A&&(l=l[1]),t&&!(s.length<t)||!a(l))return n?e:z(r,c++,l,e);s.push(i),i=l.__iterator(r,o)}else i=s.pop()}return q()}))},r}function ln(e,t,n){var r=yn(e);return e.toSeq().map((function(o,i){return r(t.call(n,o,i,e))})).flatten(!0)}function un(e,t){var n=vn(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var o=this,i=0;return e.__iterate((function(e,r){return(!i||!1!==n(t,i++,o))&&!1!==n(e,i++,o)}),r),i},n.__iteratorUncached=function(n,r){var o,i=e.__iterator(B,r),a=0;return new F((function(){return(!o||a%2)&&(o=i.next()).done?o:a%2?z(n,a++,t):z(n,a++,o.value,o)}))},n}function dn(e,t,n){t||(t=En);var r=s(e),o=0,i=e.toSeq().map((function(t,r){return[r,t,o++,n?n(t,r,e):t]})).toArray();return i.sort((function(e,n){return t(e[3],n[3])||e[2]-n[2]})).forEach(r?function(e,t){i[t].length=2}:function(e,t){i[t]=e[1]}),r?Y(i):c(e)?J(i):X(i)}function hn(e,t,n){if(t||(t=En),n){var r=e.toSeq().map((function(t,r){return[t,n(t,r,e)]})).reduce((function(e,n){return pn(t,e[1],n[1])?n:e}));return r&&r[0]}return e.reduce((function(e,n){return pn(t,e,n)?n:e}))}function pn(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(null==n||n!=n)||r>0}function fn(e,t,r){var o=vn(e);return o.size=new te(r).map((function(e){return e.size})).min(),o.__iterate=function(e,t){for(var n,r=this.__iterator(B,t),o=0;!(n=r.next()).done&&!1!==e(n.value,o++,this););return o},o.__iteratorUncached=function(e,o){var i=r.map((function(e){return e=n(e),K(o?e.reverse():e)})),a=0,s=!1;return new F((function(){var n;return s||(n=i.map((function(e){return e.next()})),s=n.some((function(e){return e.done}))),s?q():z(e,a++,t.apply(null,n.map((function(e){return e.value}))))}))},o}function mn(e,t){return ie(e)?t:e.constructor(t)}function gn(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function bn(e){return He(e.size),I(e)}function yn(e){return s(e)?r:c(e)?o:i}function vn(e){return Object.create((s(e)?Y:c(e)?J:X).prototype)}function _n(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):G.prototype.cacheResult.call(this)}function En(e,t){return e>t?1:e<t?-1:0}function Sn(e){var t=K(e);if(!t){if(!W(e))throw new TypeError("Expected iterable or array-like: "+e);t=K(n(e))}return t}function wn(e,t){var n,r=function(i){if(i instanceof r)return i;if(!(this instanceof r))return new r(i);if(!n){n=!0;var a=Object.keys(e);xn(o,a),o.size=a.length,o._name=t,o._keys=a,o._defaultValues=e}this._map=Ke(i)},o=r.prototype=Object.create(Cn);return o.constructor=r,r}t(Ut,Ke),Ut.of=function(){return this(arguments)},Ut.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Ut.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},Ut.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Vt()},Ut.prototype.set=function(e,t){return Wt(this,e,t)},Ut.prototype.remove=function(e){return Wt(this,e,v)},Ut.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Ut.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate((function(t){return t&&e(t[1],t[0],n)}),t)},Ut.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},Ut.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?Kt(t,n,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=n,this)},Ut.isOrderedMap=Ht,Ut.prototype[f]=!0,Ut.prototype[m]=Ut.prototype.remove,t(Gt,Y),Gt.prototype.get=function(e,t){return this._iter.get(e,t)},Gt.prototype.has=function(e){return this._iter.has(e)},Gt.prototype.valueSeq=function(){return this._iter.valueSeq()},Gt.prototype.reverse=function(){var e=this,t=Zt(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},Gt.prototype.map=function(e,t){var n=this,r=$t(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},Gt.prototype.__iterate=function(e,t){var n,r=this;return this._iter.__iterate(this._useKeys?function(t,n){return e(t,n,r)}:(n=t?bn(this):0,function(o){return e(o,t?--n:n++,r)}),t)},Gt.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var n=this._iter.__iterator(B,t),r=t?bn(this):0;return new F((function(){var o=n.next();return o.done?o:z(e,t?--r:r++,o.value,o)}))},Gt.prototype[f]=!0,t(Yt,J),Yt.prototype.includes=function(e){return this._iter.includes(e)},Yt.prototype.__iterate=function(e,t){var n=this,r=0;return this._iter.__iterate((function(t){return e(t,r++,n)}),t)},Yt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(B,t),r=0;return new F((function(){var t=n.next();return t.done?t:z(e,r++,t.value,t)}))},t(Jt,X),Jt.prototype.has=function(e){return this._iter.includes(e)},Jt.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){return e(t,t,n)}),t)},Jt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(B,t);return new F((function(){var t=n.next();return t.done?t:z(e,t.value,t.value,t)}))},t(Xt,Y),Xt.prototype.entrySeq=function(){return this._iter.toSeq()},Xt.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){if(t){gn(t);var r=a(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}}),t)},Xt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(B,t);return new F((function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){gn(r);var o=a(r);return z(e,o?r.get(0):r[0],o?r.get(1):r[1],t)}}}))},Yt.prototype.cacheResult=Gt.prototype.cacheResult=Jt.prototype.cacheResult=Xt.prototype.cacheResult=_n,t(wn,we),wn.prototype.toString=function(){return this.__toString(In(this)+" {","}")},wn.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},wn.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._defaultValues[e];return this._map?this._map.get(e,n):n},wn.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=On(this,ot()))},wn.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+In(this));var n=this._map&&this._map.set(e,t);return this.__ownerID||n===this._map?this:On(this,n)},wn.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:On(this,t)},wn.prototype.wasAltered=function(){return this._map.wasAltered()},wn.prototype.__iterator=function(e,t){var n=this;return r(this._defaultValues).map((function(e,t){return n.get(t)})).__iterator(e,t)},wn.prototype.__iterate=function(e,t){var n=this;return r(this._defaultValues).map((function(e,t){return n.get(t)})).__iterate(e,t)},wn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?On(this,t,e):(this.__ownerID=e,this._map=t,this)};var Cn=wn.prototype;function On(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._map=t,r.__ownerID=n,r}function In(e){return e._name||e.constructor.name||"Record"}function xn(e,t){try{t.forEach(Dn.bind(void 0,e))}catch(n){}}function Dn(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){_e(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}function kn(e){return null==e?Rn():Tn(e)&&!u(e)?e:Rn().withMutations((function(t){var n=i(e);He(n.size),n.forEach((function(e){return t.add(e)}))}))}function Tn(e){return!(!e||!e[jn])}Cn[m]=Cn.remove,Cn.deleteIn=Cn.removeIn=Ye.removeIn,Cn.merge=Ye.merge,Cn.mergeWith=Ye.mergeWith,Cn.mergeIn=Ye.mergeIn,Cn.mergeDeep=Ye.mergeDeep,Cn.mergeDeepWith=Ye.mergeDeepWith,Cn.mergeDeepIn=Ye.mergeDeepIn,Cn.setIn=Ye.setIn,Cn.update=Ye.update,Cn.updateIn=Ye.updateIn,Cn.withMutations=Ye.withMutations,Cn.asMutable=Ye.asMutable,Cn.asImmutable=Ye.asImmutable,t(kn,Oe),kn.of=function(){return this(arguments)},kn.fromKeys=function(e){return this(r(e).keySeq())},kn.prototype.toString=function(){return this.__toString("Set {","}")},kn.prototype.has=function(e){return this._map.has(e)},kn.prototype.add=function(e){return Bn(this,this._map.set(e,!0))},kn.prototype.remove=function(e){return Bn(this,this._map.remove(e))},kn.prototype.clear=function(){return Bn(this,this._map.clear())},kn.prototype.union=function(){var t=e.call(arguments,0);return 0===(t=t.filter((function(e){return 0!==e.size}))).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations((function(e){for(var n=0;n<t.length;n++)i(t[n]).forEach((function(t){return e.add(t)}))})):this.constructor(t[0])},kn.prototype.intersect=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return i(e)}));var n=this;return this.withMutations((function(e){n.forEach((function(n){t.every((function(e){return e.includes(n)}))||e.remove(n)}))}))},kn.prototype.subtract=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return i(e)}));var n=this;return this.withMutations((function(e){n.forEach((function(n){t.some((function(e){return e.includes(n)}))&&e.remove(n)}))}))},kn.prototype.merge=function(){return this.union.apply(this,arguments)},kn.prototype.mergeWith=function(t){var n=e.call(arguments,1);return this.union.apply(this,n)},kn.prototype.sort=function(e){return Ln(dn(this,e))},kn.prototype.sortBy=function(e,t){return Ln(dn(this,t,e))},kn.prototype.wasAltered=function(){return this._map.wasAltered()},kn.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate((function(t,r){return e(r,r,n)}),t)},kn.prototype.__iterator=function(e,t){return this._map.map((function(e,t){return t})).__iterator(e,t)},kn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},kn.isSet=Tn;var Mn,jn="@@__IMMUTABLE_SET__@@",Pn=kn.prototype;function Bn(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function An(e,t){var n=Object.create(Pn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Rn(){return Mn||(Mn=An(ot()))}function Ln(e){return null==e?Un():Nn(e)?e:Un().withMutations((function(t){var n=i(e);He(n.size),n.forEach((function(e){return t.add(e)}))}))}function Nn(e){return Tn(e)&&u(e)}Pn[jn]=!0,Pn[m]=Pn.remove,Pn.mergeDeep=Pn.merge,Pn.mergeDeepWith=Pn.mergeWith,Pn.withMutations=Ye.withMutations,Pn.asMutable=Ye.asMutable,Pn.asImmutable=Ye.asImmutable,Pn.__empty=Rn,Pn.__make=An,t(Ln,kn),Ln.of=function(){return this(arguments)},Ln.fromKeys=function(e){return this(r(e).keySeq())},Ln.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Ln.isOrderedSet=Nn;var Fn,zn=Ln.prototype;function qn(e,t){var n=Object.create(zn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Un(){return Fn||(Fn=qn(Vt()))}function Hn(e){return null==e?Jn():Kn(e)?e:Jn().unshiftAll(e)}function Kn(e){return!(!e||!e[Wn])}zn[f]=!0,zn.__empty=Un,zn.__make=qn,t(Hn,Ce),Hn.of=function(){return this(arguments)},Hn.prototype.toString=function(){return this.__toString("Stack [","]")},Hn.prototype.get=function(e,t){var n=this._head;for(e=x(this,e);n&&e--;)n=n.next;return n?n.value:t},Hn.prototype.peek=function(){return this._head&&this._head.value},Hn.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,n=arguments.length-1;n>=0;n--)t={value:arguments[n],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):Yn(e,t)},Hn.prototype.pushAll=function(e){if(0===(e=o(e)).size)return this;He(e.size);var t=this.size,n=this._head;return e.reverse().forEach((function(e){t++,n={value:e,next:n}})),this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):Yn(t,n)},Hn.prototype.pop=function(){return this.slice(1)},Hn.prototype.unshift=function(){return this.push.apply(this,arguments)},Hn.prototype.unshiftAll=function(e){return this.pushAll(e)},Hn.prototype.shift=function(){return this.pop.apply(this,arguments)},Hn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Jn()},Hn.prototype.slice=function(e,t){if(k(e,t,this.size))return this;var n=T(e,this.size);if(M(t,this.size)!==this.size)return Ce.prototype.slice.call(this,e,t);for(var r=this.size-n,o=this._head;n--;)o=o.next;return this.__ownerID?(this.size=r,this._head=o,this.__hash=void 0,this.__altered=!0,this):Yn(r,o)},Hn.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Yn(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Hn.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var n=0,r=this._head;r&&!1!==e(r.value,n++,this);)r=r.next;return n},Hn.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var n=0,r=this._head;return new F((function(){if(r){var t=r.value;return r=r.next,z(e,n++,t)}return q()}))},Hn.isStack=Kn;var Vn,Wn="@@__IMMUTABLE_STACK__@@",Gn=Hn.prototype;function Yn(e,t,n,r){var o=Object.create(Gn);return o.size=e,o._head=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function Jn(){return Vn||(Vn=Yn(0))}function Xn(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}Gn[Wn]=!0,Gn.withMutations=Ye.withMutations,Gn.asMutable=Ye.asMutable,Gn.asImmutable=Ye.asImmutable,Gn.wasAltered=Ye.wasAltered,n.Iterator=F,Xn(n,{toArray:function(){He(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate((function(t,n){e[n]=t})),e},toIndexedSeq:function(){return new Yt(this)},toJS:function(){return this.toSeq().map((function(e){return e&&"function"==typeof e.toJS?e.toJS():e})).__toJS()},toJSON:function(){return this.toSeq().map((function(e){return e&&"function"==typeof e.toJSON?e.toJSON():e})).__toJS()},toKeyedSeq:function(){return new Gt(this,!0)},toMap:function(){return Ke(this.toKeyedSeq())},toObject:function(){He(this.size);var e={};return this.__iterate((function(t,n){e[n]=t})),e},toOrderedMap:function(){return Ut(this.toKeyedSeq())},toOrderedSet:function(){return Ln(s(this)?this.valueSeq():this)},toSet:function(){return kn(s(this)?this.valueSeq():this)},toSetSeq:function(){return new Jt(this)},toSeq:function(){return c(this)?this.toIndexedSeq():s(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Hn(s(this)?this.valueSeq():this)},toList:function(){return Ct(s(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){return mn(this,sn(this,e.call(arguments,0)))},includes:function(e){return this.some((function(t){return be(t,e)}))},entries:function(){return this.__iterator(A)},every:function(e,t){He(this.size);var n=!0;return this.__iterate((function(r,o,i){if(!e.call(t,r,o,i))return n=!1,!1})),n},filter:function(e,t){return mn(this,en(this,e,t,!0))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},findEntry:function(e,t){var n;return this.__iterate((function(r,o,i){if(e.call(t,r,o,i))return n=[o,r],!1})),n},findLastEntry:function(e,t){return this.toSeq().reverse().findEntry(e,t)},forEach:function(e,t){return He(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){He(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate((function(r){n?n=!1:t+=e,t+=null!=r?r.toString():""})),t},keys:function(){return this.__iterator(P)},map:function(e,t){return mn(this,$t(this,e,t))},reduce:function(e,t,n){var r,o;return He(this.size),arguments.length<2?o=!0:r=t,this.__iterate((function(t,i,a){o?(o=!1,r=t):r=e.call(n,r,t,i,a)})),r},reduceRight:function(e,t,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return mn(this,Zt(this,!0))},slice:function(e,t){return mn(this,rn(this,e,t,!0))},some:function(e,t){return!this.every(tr(e),t)},sort:function(e){return mn(this,dn(this,e))},values:function(){return this.__iterator(B)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(e,t){return I(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return tn(this,e,t)},equals:function(e){return ye(this,e)},entrySeq:function(){var e=this;if(e._cache)return new te(e._cache);var t=e.toSeq().map(er).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(tr(e),t)},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},first:function(){return this.find(D)},flatMap:function(e,t){return mn(this,ln(this,e,t))},flatten:function(e){return mn(this,cn(this,e,!0))},fromEntrySeq:function(){return new Xt(this)},get:function(e,t){return this.find((function(t,n){return be(n,e)}),void 0,t)},getIn:function(e,t){for(var n,r=this,o=Sn(e);!(n=o.next()).done;){var i=n.value;if((r=r&&r.get?r.get(i,v):v)===v)return t}return r},groupBy:function(e,t){return nn(this,e,t)},has:function(e){return this.get(e,v)!==v},hasIn:function(e){return this.getIn(e,v)!==v},isSubset:function(e){return e="function"==typeof e.includes?e:n(e),this.every((function(t){return e.includes(t)}))},isSuperset:function(e){return(e="function"==typeof e.isSubset?e:n(e)).isSubset(this)},keySeq:function(){return this.toSeq().map(Zn).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(e){return hn(this,e)},maxBy:function(e,t){return hn(this,t,e)},min:function(e){return hn(this,e?nr(e):ir)},minBy:function(e,t){return hn(this,t?nr(t):ir,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return mn(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return mn(this,an(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(tr(e),t)},sortBy:function(e,t){return mn(this,dn(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return mn(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return mn(this,on(this,e,t))},takeUntil:function(e,t){return this.takeWhile(tr(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=ar(this))}});var Qn=n.prototype;Qn[d]=!0,Qn[N]=Qn.values,Qn.__toJS=Qn.toArray,Qn.__toStringMapper=rr,Qn.inspect=Qn.toSource=function(){return this.toString()},Qn.chain=Qn.flatMap,Qn.contains=Qn.includes,function(){try{Object.defineProperty(Qn,"length",{get:function(){if(!n.noLengthWarning){var e;try{throw new Error}catch(t){e=t.stack}if(-1===e.indexOf("_wrapObject"))return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+e),this.size}}})}catch(e){}}(),Xn(r,{flip:function(){return mn(this,Qt(this))},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLastKey:function(e,t){return this.toSeq().reverse().findKey(e,t)},keyOf:function(e){return this.findKey((function(t){return be(t,e)}))},lastKeyOf:function(e){return this.findLastKey((function(t){return be(t,e)}))},mapEntries:function(e,t){var n=this,r=0;return mn(this,this.toSeq().map((function(o,i){return e.call(t,[i,o],r++,n)})).fromEntrySeq())},mapKeys:function(e,t){var n=this;return mn(this,this.toSeq().flip().map((function(r,o){return e.call(t,r,o,n)})).flip())}});var $n=r.prototype;function Zn(e,t){return t}function er(e,t){return[t,e]}function tr(e){return function(){return!e.apply(this,arguments)}}function nr(e){return function(){return-e.apply(this,arguments)}}function rr(e){return"string"==typeof e?JSON.stringify(e):e}function or(){return O(arguments)}function ir(e,t){return e<t?1:e>t?-1:0}function ar(e){if(e.size===1/0)return 0;var t=u(e),n=s(e),r=t?1:0;return sr(e.__iterate(n?t?function(e,t){r=31*r+cr(De(e),De(t))|0}:function(e,t){r=r+cr(De(e),De(t))|0}:t?function(e){r=31*r+De(e)|0}:function(e){r=r+De(e)|0}),r)}function sr(e,t){return t=Ie(t,3432918353),t=Ie(t<<15|t>>>-15,461845907),t=Ie(t<<13|t>>>-13,5),t=Ie((t=(t+3864292196|0)^e)^t>>>16,2246822507),t=xe((t=Ie(t^t>>>13,3266489909))^t>>>16)}function cr(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}return $n[h]=!0,$n[N]=Qn.entries,$n.__toJS=Qn.toObject,$n.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+rr(e)},Xn(o,{toKeyedSeq:function(){return new Gt(this,!1)},filter:function(e,t){return mn(this,en(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.toKeyedSeq().keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.toKeyedSeq().reverse().keyOf(e);return void 0===t?-1:t},reverse:function(){return mn(this,Zt(this,!1))},slice:function(e,t){return mn(this,rn(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(0|t,0),0===n||2===n&&!t)return this;e=T(e,e<0?this.count():this.size);var r=this.slice(0,e);return mn(this,1===n?r:r.concat(O(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.toKeyedSeq().findLastKey(e,t);return void 0===n?-1:n},first:function(){return this.get(0)},flatten:function(e){return mn(this,cn(this,e,!1))},get:function(e,t){return(e=x(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find((function(t,n){return n===e}),void 0,t)},has:function(e){return(e=x(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return mn(this,un(this,e))},interleave:function(){var e=[this].concat(O(arguments)),t=fn(this.toSeq(),J.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),mn(this,n)},last:function(){return this.get(-1)},skipWhile:function(e,t){return mn(this,an(this,e,t,!1))},zip:function(){return mn(this,fn(this,or,[this].concat(O(arguments))))},zipWith:function(e){var t=O(arguments);return t[0]=this,mn(this,fn(this,e,t))}}),o.prototype[p]=!0,o.prototype[f]=!0,Xn(i,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),i.prototype.has=Qn.includes,Xn(Y,r.prototype),Xn(J,o.prototype),Xn(X,i.prototype),Xn(we,r.prototype),Xn(Ce,o.prototype),Xn(Oe,i.prototype),{Iterable:n,Seq:G,Collection:Se,Map:Ke,OrderedMap:Ut,List:Ct,Stack:Hn,Set:kn,OrderedSet:Ln,Record:wn,Range:Ee,Repeat:ve,is:be,fromJS:pe}}()},"s6a/":function(e,t,n){n.d(t,"a",(function(){return a}));var r=n("q1tI"),o=n.n(r),i=n("n6mq");function a({children:e,label:t}){return o.a.createElement(i.e,{marginTop:2,paddingY:2,role:"listitem"},o.a.createElement(i.e,{paddingX:2},o.a.createElement(i.V,{size:"sm"},t)),o.a.createElement(i.e,{marginTop:2,role:"list"},e))}},s8ra:function(e,t,n){var r=n("4pIB"),o=n("kE58"),i=r.isPlatform("Mac OS X"),a={isCtrlKeyCommand:function(e){return!!e.ctrlKey&&!e.altKey},isOptionKeyCommand:function(e){return i&&e.altKey},usesMacOSHeuristics:function(){return i},hasCommandModifier:function(e){return i?!!e.metaKey&&!e.altKey:a.isCtrlKeyCommand(e)},isSoftNewlineEvent:o};e.exports=a},sAMb:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("mc7v"),o=n("7nh8"),i=n("QLaP");t.default=function(e){return function(t,n){var a=(void 0===n?{}:n).clientOffset;!function(e){i(Array.isArray(e),"Expected targetIds to be an array.")}(t);var s=t.slice(0),c=e.getMonitor(),l=e.getRegistry();return function(e,t,n){i(t.isDragging(),"Cannot call hover while not dragging."),i(!t.didDrop(),"Cannot call hover after drop.");for(var r=0;r<e.length;r++){var o=e[r];i(e.lastIndexOf(o)===r,"Expected targetIds to be unique in the passed array.");var a=n.getTarget(o);i(a,"Expected targetIds to be registered.")}}(s,c,l),function(e,t,n){for(var o=e.length-1;o>=0;o--){var i=e[o],a=t.getTargetType(i);r.default(a,n)||e.splice(o,1)}}(s,l,c.getItemType()),function(e,t,n){for(var r=0,o=e;r<o.length;r++){var i=o[r];n.getTarget(i).hover(t,i)}}(s,c,l),{type:o.HOVER,payload:{targetIds:s,clientOffset:a||null}}}}},sEfC:function(e,t,n){var r=n("GoyQ"),o=n("QIyF"),i=n("tLB3"),a=Math.max,s=Math.min;e.exports=function(e,t,n){var c,l,u,d,h,p,f=0,m=!1,g=!1,b=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=c,r=l;return c=l=void 0,f=t,d=e.apply(r,n)}function v(e){return f=e,h=setTimeout(E,t),m?y(e):d}function _(e){var n=e-p;return void 0===p||n>=t||n<0||g&&e-f>=u}function E(){var e=o();if(_(e))return S(e);h=setTimeout(E,function(e){var n=t-(e-p);return g?s(n,u-(e-f)):n}(e))}function S(e){return h=void 0,b&&c?y(e):(c=l=void 0,d)}function w(){var e=o(),n=_(e);if(c=arguments,l=this,p=e,n){if(void 0===h)return v(p);if(g)return clearTimeout(h),h=setTimeout(E,t),y(p)}return void 0===h&&(h=setTimeout(E,t)),d}return t=i(t)||0,r(n)&&(m=!!n.leading,u=(g="maxWait"in n)?a(i(n.maxWait)||0,t):u,b="trailing"in n?!!n.trailing:b),w.cancel=function(){void 0!==h&&clearTimeout(h),f=0,c=p=l=h=void 0},w.flush=function(){return void 0===h?d:S(o())},w}},sGxw:function(e,t,n){function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n("jirY")),r(n("z3qU")),r(n("UJTY"))},sOsl:function(e,t,n){function r(e,t){return!!t&&(e===t.documentElement||e===t.body)}var o={getTop:function(e){var t=e.ownerDocument;return r(e,t)?t.body.scrollTop||t.documentElement.scrollTop:e.scrollTop},setTop:function(e,t){var n=e.ownerDocument;r(e,n)?n.body.scrollTop=n.documentElement.scrollTop=t:e.scrollTop=t},getLeft:function(e){var t=e.ownerDocument;return r(e,t)?t.body.scrollLeft||t.documentElement.scrollLeft:e.scrollLeft},setLeft:function(e,t){var n=e.ownerDocument;r(e,n)?n.body.scrollLeft=n.documentElement.scrollLeft=t:e.scrollLeft=t}};e.exports=o},sWW6:function(e,t,n){var r=n("IqbG");e.exports=function(e){return r(e)&&3==e.nodeType}},sZWH:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("S8b/"),o=n("PRGv");t.getEmptyImage=o.default;var i=n("QSJg");t.NativeTypes=i,t.default=function(e){return new r.default(e)}},shej:function(e,t,n){function r(){return{type:"SHOW_SECTION_TOOLTIP"}}function o(){return{type:"HIDE_SECTION_TOOLTIP"}}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}))},slCJ:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n("q1tI"),s=n("SFi7"),c=n("jxrL"),l=n("dJ9d"),u=(n("QWfI"),n("2S0S")),d=n("2mql"),h=n("Gytx");t.default=function(e){var t=e.DecoratedComponent,n=e.createHandler,r=e.createMonitor,p=e.createConnector,f=e.registerHandler,m=e.containerDisplayName,g=e.getType,b=e.collect,y=e.options.arePropsEqual,v=void 0===y?h:y,_=t,E=t.displayName||t.name||"Component",S=function(e){function d(t){var n=e.call(this,t)||this;return n.decoratedRef=a.createRef(),n.handleChange=function(){var e=n.getCurrentState();h(e,n.state)||n.setState(e)},n.disposable=new c.SerialDisposable,n.receiveProps(t),n.dispose(),n}return o(d,e),d.prototype.getHandlerId=function(){return this.handlerId},d.prototype.getDecoratedComponentInstance=function(){return u(this.decoratedRef.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.decoratedRef.current},d.prototype.shouldComponentUpdate=function(e,t){return!v(e,this.props)||!h(t,this.state)},d.prototype.componentDidMount=function(){this.disposable=new c.SerialDisposable,this.currentType=void 0,this.receiveProps(this.props),this.handleChange()},d.prototype.componentDidUpdate=function(e){v(this.props,e)||(this.receiveProps(this.props),this.handleChange())},d.prototype.componentWillUnmount=function(){this.dispose()},d.prototype.receiveProps=function(e){this.handler&&(this.handler.receiveProps(e),this.receiveType(g(e)))},d.prototype.receiveType=function(e){if(this.handlerMonitor&&this.manager&&this.handlerConnector&&e!==this.currentType){this.currentType=e;var t=f(e,this.handler,this.manager),n=t[0],r=t[1];this.handlerId=n,this.handlerMonitor.receiveHandlerId(n),this.handlerConnector.receiveHandlerId(n);var o=this.manager.getMonitor().subscribeToStateChange(this.handleChange,{handlerIds:[n]});this.disposable.setDisposable(new c.CompositeDisposable(new c.Disposable(o),new c.Disposable(r)))}},d.prototype.dispose=function(){this.disposable.dispose(),this.handlerConnector&&this.handlerConnector.receiveHandlerId(null)},d.prototype.getCurrentState=function(){return this.handlerConnector?b(this.handlerConnector.hooks,this.handlerMonitor,this.props):{}},d.prototype.render=function(){var e=this;return a.createElement(s.Consumer,null,(function(t){var n=t.dragDropManager;return e.receiveDragDropManager(n),"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame((function(){return e.handlerConnector.reconnect()})),a.createElement(_,i({},e.props,e.getCurrentState(),{ref:l.isRefable(_)?e.decoratedRef:null}))}))},d.prototype.receiveDragDropManager=function(e){void 0===this.manager&&(u(void 0!==e,"Could not find the drag and drop manager in the context of %s. Make sure to wrap the top-level component of your app with DragDropContext. Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context",E,E),void 0!==e&&(this.manager=e,this.handlerMonitor=r(e),this.handlerConnector=p(e.getBackend()),this.handler=n(this.handlerMonitor,this.decoratedRef)))},d.DecoratedComponent=t,d.displayName=m+"("+E+")",d}(a.Component);return d(S,t)}},sxkF:function(e,t,n){n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return m}));var r=n("q1tI"),o=n.n(r),i=n("Ye/N"),a=n("QLqj"),s=n("mHb8"),c=n("n6mq"),l=n("U4JR");function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d="GroupBoardContentViewSwitcher_Settings",h=e=>e<=500,p=Object.freeze({}),f={custom:11566,newest:11564,oldest:11565,most_comments:11563,most_reactions:11562,by_pinner:11561},m=(e,t)=>{const n=a.b.localStorage.getItem(d)||p;return(e.isAuth&&n[e.id]||{})[t.id]||null};class g extends o.a.Component{constructor(...e){super(...e),u(this,"handleChange",({event:e,value:t})=>{const n=t,{onChange:r,viewer:o,board:i}=this.props;e.stopPropagation(),window.scrollTo({top:0,left:0,behavior:"smooth"}),((e,t,n)=>{if(!e.isAuth)return;const r=a.b.localStorage.getItem(d)||p,o=r[e.id]||{},i={...r,[e.id]:{...o,[t.id]:n}};a.b.localStorage.setItem(d,i)})(o,i,n),r(n),Object(l.a)(101,{view:5,viewParameter:Object(s.a)(o,i),component:13475,element:f[n],board_id:i.id})}),u(this,"logDropdownClick",()=>{const{board:e,viewer:t}=this.props;Object(l.a)(101,{view:5,viewParameter:Object(s.a)(t,e),component:13486,element:11567,board_id:e.id})}),u(this,"handleKeyPress",e=>{const{charCode:t=0}=e;32===t&&(e.preventDefault(),this.logDropdownClick())})}render(){const{currentView:e}=this.props,t=[{value:"custom",label:i.a._("Custom","Option for users to filter their Pins in a custom order (as it currently is)","Option for users to filter their Pins in a custom order (as it currently is)")},{value:"most_reactions",label:i.a._("Most reactions","Option for users to filter their Pins by the most reactions","Option for users to filter their Pins by the most reactions")}];return o.a.createElement("div",{role:"listbox",tabIndex:0,onClick:this.logDropdownClick,onKeyPress:this.handleKeyPress},o.a.createElement(c.M,{id:"gbFilterSelectlist",onChange:this.handleChange,options:t,size:"lg",value:e}))}}t.a=g},t3tn:function(e,t,n){function r(e){return{type:"UPDATE_PROFILE_BOARD_VIEW",payload:{profileBoardView:e}}}function o(e){return{type:"UPDATE_BOARD_SORT_OPTION",payload:{updatedBoardOrder:e}}}function i(e){return{type:"UPDATE_BOARD_PIN_VIEW",payload:{boardPinView:e}}}function a(e){return{type:"UPDATE_PROFILE_PIN_VIEW",payload:{profilePinView:e}}}n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return a}))},t9Ac:function(e,t,n){n.d(t,"a",(function(){return l}));var r=n("q1tI"),o=n.n(r),i=n("6A0I"),a=n("Ye/N"),s=n("TiQD"),c=n("n6mq");function l(e){const{onSectionCreate:t,onClose:n,selectedBoard:r,useLayer:l=!0}=e,u=l?s.b:c.E;return o.a.createElement(u,{accessibilityModalLabel:a.a._("Add a section to the board","modal to add a section to a board","modal to add a section to a board"),heading:a.a._("Add section","Modal header for adding a section","Modal header for adding a section"),onDismiss:n,size:"sm"},o.a.createElement(c.e,{display:"flex",color:"white",rounding:2},o.a.createElement(i.a,{board:r,completeCreateSectionAction:t,onClearModal:n,positionRelative:!0,showTitle:!1})))}},tEMl:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("MCs0"),o=(n("QWfI"),n("2S0S")),i=["canDrop","hover","drop"],a=function(){function e(e,t,n){this.spec=e,this.monitor=t,this.ref=n,this.props=null}return e.prototype.receiveProps=function(e){this.props=e},e.prototype.receiveMonitor=function(e){this.monitor=e},e.prototype.canDrop=function(){return!this.spec.canDrop||this.spec.canDrop(this.props,this.monitor)},e.prototype.hover=function(){this.spec.hover&&this.spec.hover(this.props,this.monitor,r.getDecoratedComponent(this.ref))},e.prototype.drop=function(){if(this.spec.drop)return this.spec.drop(this.props,this.monitor,this.ref.current)},e}();t.default=function(e){return Object.keys(e).forEach((function(t){o(i.indexOf(t)>-1,'Expected the drop target specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',i.join(", "),t),o("function"==typeof e[t],"Expected %s in the drop target specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target",t,t,e[t])})),function(t,n){return new a(e,t,n)}}},tLB3:function(e,t,n){var r=n("GoyQ"),o=n("/9aa"),i=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=s.test(e);return n||c.test(e)?l(e.slice(2),n?2:8):a.test(e)?NaN:+e}},tXUN:function(e,t,n){e.exports=function(){var e=Array.prototype.slice;function t(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function n(e){return a(e)?e:G(e)}function r(e){return s(e)?e:Y(e)}function o(e){return c(e)?e:J(e)}function i(e){return a(e)&&!l(e)?e:X(e)}function a(e){return!(!e||!e[d])}function s(e){return!(!e||!e[h])}function c(e){return!(!e||!e[p])}function l(e){return s(e)||c(e)}function u(e){return!(!e||!e[f])}t(r,n),t(o,n),t(i,n),n.isIterable=a,n.isKeyed=s,n.isIndexed=c,n.isAssociative=l,n.isOrdered=u,n.Keyed=r,n.Indexed=o,n.Set=i;var d="@@__IMMUTABLE_ITERABLE__@@",h="@@__IMMUTABLE_KEYED__@@",p="@@__IMMUTABLE_INDEXED__@@",f="@@__IMMUTABLE_ORDERED__@@",m="delete",g=5,b=1<<g,y=b-1,v={},_={value:!1},E={value:!1};function S(e){return e.value=!1,e}function w(e){e&&(e.value=!0)}function C(){}function O(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),o=0;o<n;o++)r[o]=e[o+t];return r}function I(e){return void 0===e.size&&(e.size=e.__iterate(D)),e.size}function x(e,t){if("number"!=typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?I(e)+t:t}function D(){return!0}function k(e,t,n){return(0===e||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function T(e,t){return j(e,t,0)}function M(e,t){return j(e,t,t)}function j(e,t,n){return void 0===e?n:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}var P=0,B=1,A=2,R="function"==typeof Symbol&&Symbol.iterator,L="@@iterator",N=R||L;function F(e){this.next=e}function z(e,t,n,r){var o=0===e?t:1===e?n:[t,n];return r?r.value=o:r={value:o,done:!1},r}function q(){return{value:void 0,done:!0}}function U(e){return!!V(e)}function H(e){return e&&"function"==typeof e.next}function K(e){var t=V(e);return t&&t.call(e)}function V(e){var t=e&&(R&&e[R]||e[L]);if("function"==typeof t)return t}function W(e){return e&&"number"==typeof e.length}function G(e){return null==e?ae():a(e)?e.toSeq():le(e)}function Y(e){return null==e?ae().toKeyedSeq():a(e)?s(e)?e.toSeq():e.fromEntrySeq():se(e)}function J(e){return null==e?ae():a(e)?s(e)?e.entrySeq():e.toIndexedSeq():ce(e)}function X(e){return(null==e?ae():a(e)?s(e)?e.entrySeq():e:ce(e)).toSetSeq()}F.prototype.toString=function(){return"[Iterator]"},F.KEYS=P,F.VALUES=B,F.ENTRIES=A,F.prototype.inspect=F.prototype.toSource=function(){return this.toString()},F.prototype[N]=function(){return this},t(G,n),G.of=function(){return G(arguments)},G.prototype.toSeq=function(){return this},G.prototype.toString=function(){return this.__toString("Seq {","}")},G.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},G.prototype.__iterate=function(e,t){return de(this,e,t,!0)},G.prototype.__iterator=function(e,t){return he(this,e,t,!0)},t(Y,G),Y.prototype.toKeyedSeq=function(){return this},t(J,G),J.of=function(){return J(arguments)},J.prototype.toIndexedSeq=function(){return this},J.prototype.toString=function(){return this.__toString("Seq [","]")},J.prototype.__iterate=function(e,t){return de(this,e,t,!1)},J.prototype.__iterator=function(e,t){return he(this,e,t,!1)},t(X,G),X.of=function(){return X(arguments)},X.prototype.toSetSeq=function(){return this},G.isSeq=ie,G.Keyed=Y,G.Set=X,G.Indexed=J;var Q,$,Z,ee="@@__IMMUTABLE_SEQ__@@";function te(e){this._array=e,this.size=e.length}function ne(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function re(e){this._iterable=e,this.size=e.length||e.size}function oe(e){this._iterator=e,this._iteratorCache=[]}function ie(e){return!(!e||!e[ee])}function ae(){return Q||(Q=new te([]))}function se(e){var t=Array.isArray(e)?new te(e).fromEntrySeq():H(e)?new oe(e).fromEntrySeq():U(e)?new re(e).fromEntrySeq():"object"==typeof e?new ne(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function ce(e){var t=ue(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function le(e){var t=ue(e)||"object"==typeof e&&new ne(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}function ue(e){return W(e)?new te(e):H(e)?new oe(e):U(e)?new re(e):void 0}function de(e,t,n,r){var o=e._cache;if(o){for(var i=o.length-1,a=0;a<=i;a++){var s=o[n?i-a:a];if(!1===t(s[1],r?s[0]:a,e))return a+1}return a}return e.__iterateUncached(t,n)}function he(e,t,n,r){var o=e._cache;if(o){var i=o.length-1,a=0;return new F((function(){var e=o[n?i-a:a];return a++>i?q():z(t,r?e[0]:a-1,e[1])}))}return e.__iteratorUncached(t,n)}function pe(e,t){return t?fe(t,e,"",{"":e}):me(e)}function fe(e,t,n,r){return Array.isArray(t)?e.call(r,n,J(t).map((function(n,r){return fe(e,n,r,t)}))):ge(t)?e.call(r,n,Y(t).map((function(n,r){return fe(e,n,r,t)}))):t}function me(e){return Array.isArray(e)?J(e).map(me).toList():ge(e)?Y(e).map(me).toMap():e}function ge(e){return e&&(e.constructor===Object||void 0===e.constructor)}function be(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!=e&&t!=t)return!0;if(!e||!t)return!1}return!("function"!=typeof e.equals||"function"!=typeof t.equals||!e.equals(t))}function ye(e,t){if(e===t)return!0;if(!a(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||s(e)!==s(t)||c(e)!==c(t)||u(e)!==u(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!l(e);if(u(e)){var r=e.entries();return t.every((function(e,t){var o=r.next().value;return o&&be(o[1],e)&&(n||be(o[0],t))}))&&r.next().done}var o=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{o=!0;var i=e;e=t,t=i}var d=!0,h=t.__iterate((function(t,r){if(n?!e.has(t):o?!be(t,e.get(r,v)):!be(e.get(r,v),t))return d=!1,!1}));return d&&e.size===h}function ve(e,t){if(!(this instanceof ve))return new ve(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if($)return $;$=this}}function _e(e,t){if(!e)throw new Error(t)}function Ee(e,t,n){if(!(this instanceof Ee))return new Ee(e,t,n);if(_e(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),n=void 0===n?1:Math.abs(n),t<e&&(n=-n),this._start=e,this._end=t,this._step=n,this.size=Math.max(0,Math.ceil((t-e)/n-1)+1),0===this.size){if(Z)return Z;Z=this}}function Se(){throw TypeError("Abstract")}function we(){}function Ce(){}function Oe(){}G.prototype[ee]=!0,t(te,J),te.prototype.get=function(e,t){return this.has(e)?this._array[x(this,e)]:t},te.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length-1,o=0;o<=r;o++)if(!1===e(n[t?r-o:o],o,this))return o+1;return o},te.prototype.__iterator=function(e,t){var n=this._array,r=n.length-1,o=0;return new F((function(){return o>r?q():z(e,o,n[t?r-o++:o++])}))},t(ne,Y),ne.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},ne.prototype.has=function(e){return this._object.hasOwnProperty(e)},ne.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,o=r.length-1,i=0;i<=o;i++){var a=r[t?o-i:i];if(!1===e(n[a],a,this))return i+1}return i},ne.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,o=r.length-1,i=0;return new F((function(){var a=r[t?o-i:i];return i++>o?q():z(e,a,n[a])}))},ne.prototype[f]=!0,t(re,J),re.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=K(this._iterable),r=0;if(H(n))for(var o;!(o=n.next()).done&&!1!==e(o.value,r++,this););return r},re.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=K(this._iterable);if(!H(n))return new F(q);var r=0;return new F((function(){var t=n.next();return t.done?t:z(e,r++,t.value)}))},t(oe,J),oe.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var n,r=this._iterator,o=this._iteratorCache,i=0;i<o.length;)if(!1===e(o[i],i++,this))return i;for(;!(n=r.next()).done;){var a=n.value;if(o[i]=a,!1===e(a,i++,this))break}return i},oe.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterator,r=this._iteratorCache,o=0;return new F((function(){if(o>=r.length){var t=n.next();if(t.done)return t;r[o]=t.value}return z(e,o,r[o++])}))},t(ve,J),ve.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},ve.prototype.get=function(e,t){return this.has(e)?this._value:t},ve.prototype.includes=function(e){return be(this._value,e)},ve.prototype.slice=function(e,t){var n=this.size;return k(e,t,n)?this:new ve(this._value,M(t,n)-T(e,n))},ve.prototype.reverse=function(){return this},ve.prototype.indexOf=function(e){return be(this._value,e)?0:-1},ve.prototype.lastIndexOf=function(e){return be(this._value,e)?this.size:-1},ve.prototype.__iterate=function(e,t){for(var n=0;n<this.size;n++)if(!1===e(this._value,n,this))return n+1;return n},ve.prototype.__iterator=function(e,t){var n=this,r=0;return new F((function(){return r<n.size?z(e,r++,n._value):q()}))},ve.prototype.equals=function(e){return e instanceof ve?be(this._value,e._value):ye(e)},t(Ee,J),Ee.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},Ee.prototype.get=function(e,t){return this.has(e)?this._start+x(this,e)*this._step:t},Ee.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},Ee.prototype.slice=function(e,t){return k(e,t,this.size)?this:(e=T(e,this.size),(t=M(t,this.size))<=e?new Ee(0,0):new Ee(this.get(e,this._end),this.get(t,this._end),this._step))},Ee.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step==0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},Ee.prototype.lastIndexOf=function(e){return this.indexOf(e)},Ee.prototype.__iterate=function(e,t){for(var n=this.size-1,r=this._step,o=t?this._start+n*r:this._start,i=0;i<=n;i++){if(!1===e(o,i,this))return i+1;o+=t?-r:r}return i},Ee.prototype.__iterator=function(e,t){var n=this.size-1,r=this._step,o=t?this._start+n*r:this._start,i=0;return new F((function(){var a=o;return o+=t?-r:r,i>n?q():z(e,i++,a)}))},Ee.prototype.equals=function(e){return e instanceof Ee?this._start===e._start&&this._end===e._end&&this._step===e._step:ye(this,e)},t(Se,n),t(we,Se),t(Ce,Se),t(Oe,Se),Se.Keyed=we,Se.Indexed=Ce,Se.Set=Oe;var Ie="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var n=65535&(e|=0),r=65535&(t|=0);return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0};function xe(e){return e>>>1&1073741824|3221225471&e}function De(e){if(!1===e||null==e)return 0;if("function"==typeof e.valueOf&&(!1===(e=e.valueOf())||null==e))return 0;if(!0===e)return 1;var t=typeof e;if("number"===t){var n=0|e;for(n!==e&&(n^=4294967295*e);e>4294967295;)n^=e/=4294967295;return xe(n)}if("string"===t)return e.length>Fe?ke(e):Te(e);if("function"==typeof e.hashCode)return e.hashCode();if("object"===t)return Me(e);if("function"==typeof e.toString)return Te(e.toString());throw new Error("Value type "+t+" cannot be hashed.")}function ke(e){var t=Ue[e];return void 0===t&&(t=Te(e),qe===ze&&(qe=0,Ue={}),qe++,Ue[e]=t),t}function Te(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return xe(t)}function Me(e){var t;if(Re&&void 0!==(t=Ae.get(e)))return t;if(void 0!==(t=e[Ne]))return t;if(!Pe){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Ne]))return t;if(void 0!==(t=Be(e)))return t}if(t=++Le,1073741824&Le&&(Le=0),Re)Ae.set(e,t);else{if(void 0!==je&&!1===je(e))throw new Error("Non-extensible objects are not allowed as keys.");if(Pe)Object.defineProperty(e,Ne,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Ne]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Ne]=t}}return t}var je=Object.isExtensible,Pe=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}();function Be(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}var Ae,Re="function"==typeof WeakMap;Re&&(Ae=new WeakMap);var Le=0,Ne="__immutablehash__";"function"==typeof Symbol&&(Ne=Symbol(Ne));var Fe=16,ze=255,qe=0,Ue={};function He(e){_e(e!==1/0,"Cannot perform this action with an infinite size.")}function Ke(e){return null==e?ot():Ve(e)&&!u(e)?e:ot().withMutations((function(t){var n=r(e);He(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}function Ve(e){return!(!e||!e[Ge])}t(Ke,we),Ke.prototype.toString=function(){return this.__toString("Map {","}")},Ke.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},Ke.prototype.set=function(e,t){return it(this,e,t)},Ke.prototype.setIn=function(e,t){return this.updateIn(e,v,(function(){return t}))},Ke.prototype.remove=function(e){return it(this,e,v)},Ke.prototype.deleteIn=function(e){return this.updateIn(e,(function(){return v}))},Ke.prototype.update=function(e,t,n){return 1===arguments.length?e(this):this.updateIn([e],t,n)},Ke.prototype.updateIn=function(e,t,n){n||(n=t,t=void 0);var r=gt(this,Sn(e),t,n);return r===v?void 0:r},Ke.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):ot()},Ke.prototype.merge=function(){return ht(this,void 0,arguments)},Ke.prototype.mergeWith=function(t){return ht(this,t,e.call(arguments,1))},Ke.prototype.mergeIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,ot(),(function(e){return"function"==typeof e.merge?e.merge.apply(e,n):n[n.length-1]}))},Ke.prototype.mergeDeep=function(){return ht(this,pt,arguments)},Ke.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return ht(this,ft(t),n)},Ke.prototype.mergeDeepIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,ot(),(function(e){return"function"==typeof e.mergeDeep?e.mergeDeep.apply(e,n):n[n.length-1]}))},Ke.prototype.sort=function(e){return Ut(dn(this,e))},Ke.prototype.sortBy=function(e,t){return Ut(dn(this,t,e))},Ke.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},Ke.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new C)},Ke.prototype.asImmutable=function(){return this.__ensureOwner()},Ke.prototype.wasAltered=function(){return this.__altered},Ke.prototype.__iterator=function(e,t){return new et(this,e,t)},Ke.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate((function(t){return r++,e(t[1],t[0],n)}),t),r},Ke.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?rt(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Ke.isMap=Ve;var We,Ge="@@__IMMUTABLE_MAP__@@",Ye=Ke.prototype;function Je(e,t){this.ownerID=e,this.entries=t}function Xe(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n}function Qe(e,t,n){this.ownerID=e,this.count=t,this.nodes=n}function $e(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n}function Ze(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n}function et(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&nt(e._root)}function tt(e,t){return z(e,t[0],t[1])}function nt(e,t){return{node:e,index:0,__prev:t}}function rt(e,t,n,r){var o=Object.create(Ye);return o.size=e,o._root=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function ot(){return We||(We=rt(0))}function it(e,t,n){var r,o;if(e._root){var i=S(_),a=S(E);if(r=at(e._root,e.__ownerID,0,void 0,t,n,i,a),!a.value)return e;o=e.size+(i.value?n===v?-1:1:0)}else{if(n===v)return e;o=1,r=new Je(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=o,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?rt(o,r):ot()}function at(e,t,n,r,o,i,a,s){return e?e.update(t,n,r,o,i,a,s):i===v?e:(w(s),w(a),new Ze(t,r,[o,i]))}function st(e){return e.constructor===Ze||e.constructor===$e}function ct(e,t,n,r,o){if(e.keyHash===r)return new $e(t,r,[e.entry,o]);var i,a=(0===n?e.keyHash:e.keyHash>>>n)&y,s=(0===n?r:r>>>n)&y;return new Xe(t,1<<a|1<<s,a===s?[ct(e,t,n+g,r,o)]:(i=new Ze(t,r,o),a<s?[e,i]:[i,e]))}function lt(e,t,n,r){e||(e=new C);for(var o=new Ze(e,De(n),[n,r]),i=0;i<t.length;i++){var a=t[i];o=o.update(e,0,void 0,a[0],a[1])}return o}function ut(e,t,n,r){for(var o=0,i=0,a=new Array(n),s=0,c=1,l=t.length;s<l;s++,c<<=1){var u=t[s];void 0!==u&&s!==r&&(o|=c,a[i++]=u)}return new Xe(e,o,a)}function dt(e,t,n,r,o){for(var i=0,a=new Array(b),s=0;0!==n;s++,n>>>=1)a[s]=1&n?t[i++]:void 0;return a[r]=o,new Qe(e,i+1,a)}function ht(e,t,n){for(var o=[],i=0;i<n.length;i++){var s=n[i],c=r(s);a(s)||(c=c.map((function(e){return pe(e)}))),o.push(c)}return mt(e,t,o)}function pt(e,t,n){return e&&e.mergeDeep&&a(t)?e.mergeDeep(t):be(e,t)?e:t}function ft(e){return function(t,n,r){if(t&&t.mergeDeepWith&&a(n))return t.mergeDeepWith(e,n);var o=e(t,n,r);return be(t,o)?t:o}}function mt(e,t,n){return 0===(n=n.filter((function(e){return 0!==e.size}))).length?e:0!==e.size||e.__ownerID||1!==n.length?e.withMutations((function(e){for(var r=t?function(n,r){e.update(r,v,(function(e){return e===v?n:t(e,n,r)}))}:function(t,n){e.set(n,t)},o=0;o<n.length;o++)n[o].forEach(r)})):e.constructor(n[0])}function gt(e,t,n,r){var o=e===v,i=t.next();if(i.done){var a=o?n:e,s=r(a);return s===a?e:s}_e(o||e&&e.set,"invalid keyPath");var c=i.value,l=o?v:e.get(c,v),u=gt(l,t,n,r);return u===l?e:u===v?e.remove(c):(o?ot():e).set(c,u)}function bt(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function yt(e,t,n,r){var o=r?e:O(e);return o[t]=n,o}function vt(e,t,n,r){var o=e.length+1;if(r&&t+1===o)return e[t]=n,e;for(var i=new Array(o),a=0,s=0;s<o;s++)s===t?(i[s]=n,a=-1):i[s]=e[s+a];return i}function _t(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var o=new Array(r),i=0,a=0;a<r;a++)a===t&&(i=1),o[a]=e[a+i];return o}Ye[Ge]=!0,Ye[m]=Ye.remove,Ye.removeIn=Ye.deleteIn,Je.prototype.get=function(e,t,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(be(n,o[i][0]))return o[i][1];return r},Je.prototype.update=function(e,t,n,r,o,i,a){for(var s=o===v,c=this.entries,l=0,u=c.length;l<u&&!be(r,c[l][0]);l++);var d=l<u;if(d?c[l][1]===o:s)return this;if(w(a),(s||!d)&&w(i),!s||1!==c.length){if(!d&&!s&&c.length>=Et)return lt(e,c,r,o);var h=e&&e===this.ownerID,p=h?c:O(c);return d?s?l===u-1?p.pop():p[l]=p.pop():p[l]=[r,o]:p.push([r,o]),h?(this.entries=p,this):new Je(e,p)}},Xe.prototype.get=function(e,t,n,r){void 0===t&&(t=De(n));var o=1<<((0===e?t:t>>>e)&y),i=this.bitmap;return 0==(i&o)?r:this.nodes[bt(i&o-1)].get(e+g,t,n,r)},Xe.prototype.update=function(e,t,n,r,o,i,a){void 0===n&&(n=De(r));var s=(0===t?n:n>>>t)&y,c=1<<s,l=this.bitmap,u=0!=(l&c);if(!u&&o===v)return this;var d=bt(l&c-1),h=this.nodes,p=u?h[d]:void 0,f=at(p,e,t+g,n,r,o,i,a);if(f===p)return this;if(!u&&f&&h.length>=St)return dt(e,h,l,s,f);if(u&&!f&&2===h.length&&st(h[1^d]))return h[1^d];if(u&&f&&1===h.length&&st(f))return f;var m=e&&e===this.ownerID,b=u?f?l:l^c:l|c,_=u?f?yt(h,d,f,m):_t(h,d,m):vt(h,d,f,m);return m?(this.bitmap=b,this.nodes=_,this):new Xe(e,b,_)},Qe.prototype.get=function(e,t,n,r){void 0===t&&(t=De(n));var o=(0===e?t:t>>>e)&y,i=this.nodes[o];return i?i.get(e+g,t,n,r):r},Qe.prototype.update=function(e,t,n,r,o,i,a){void 0===n&&(n=De(r));var s=(0===t?n:n>>>t)&y,c=o===v,l=this.nodes,u=l[s];if(c&&!u)return this;var d=at(u,e,t+g,n,r,o,i,a);if(d===u)return this;var h=this.count;if(u){if(!d&&--h<wt)return ut(e,l,h,s)}else h++;var p=e&&e===this.ownerID,f=yt(l,s,d,p);return p?(this.count=h,this.nodes=f,this):new Qe(e,h,f)},$e.prototype.get=function(e,t,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(be(n,o[i][0]))return o[i][1];return r},$e.prototype.update=function(e,t,n,r,o,i,a){void 0===n&&(n=De(r));var s=o===v;if(n!==this.keyHash)return s?this:(w(a),w(i),ct(this,e,t,n,[r,o]));for(var c=this.entries,l=0,u=c.length;l<u&&!be(r,c[l][0]);l++);var d=l<u;if(d?c[l][1]===o:s)return this;if(w(a),(s||!d)&&w(i),s&&2===u)return new Ze(e,this.keyHash,c[1^l]);var h=e&&e===this.ownerID,p=h?c:O(c);return d?s?l===u-1?p.pop():p[l]=p.pop():p[l]=[r,o]:p.push([r,o]),h?(this.entries=p,this):new $e(e,this.keyHash,p)},Ze.prototype.get=function(e,t,n,r){return be(n,this.entry[0])?this.entry[1]:r},Ze.prototype.update=function(e,t,n,r,o,i,a){var s=o===v,c=be(r,this.entry[0]);return(c?o===this.entry[1]:s)?this:(w(a),s?void w(i):c?e&&e===this.ownerID?(this.entry[1]=o,this):new Ze(e,this.keyHash,[r,o]):(w(i),ct(this,e,t,De(r),[r,o])))},Je.prototype.iterate=$e.prototype.iterate=function(e,t){for(var n=this.entries,r=0,o=n.length-1;r<=o;r++)if(!1===e(n[t?o-r:r]))return!1},Xe.prototype.iterate=Qe.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,o=n.length-1;r<=o;r++){var i=n[t?o-r:r];if(i&&!1===i.iterate(e,t))return!1}},Ze.prototype.iterate=function(e,t){return e(this.entry)},t(et,F),et.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n,r=t.node,o=t.index++;if(r.entry){if(0===o)return tt(e,r.entry)}else if(r.entries){if(o<=(n=r.entries.length-1))return tt(e,r.entries[this._reverse?n-o:o])}else if(o<=(n=r.nodes.length-1)){var i=r.nodes[this._reverse?n-o:o];if(i){if(i.entry)return tt(e,i.entry);t=this._stack=nt(i,t)}continue}t=this._stack=this._stack.__prev}return q()};var Et=b/4,St=b/2,wt=b/4;function Ct(e){var t=Bt();if(null==e)return t;if(Ot(e))return e;var n=o(e),r=n.size;return 0===r?t:(He(r),r>0&&r<b?Pt(0,r,g,null,new Dt(n.toArray())):t.withMutations((function(e){e.setSize(r),n.forEach((function(t,n){return e.set(n,t)}))})))}function Ot(e){return!(!e||!e[It])}t(Ct,Ce),Ct.of=function(){return this(arguments)},Ct.prototype.toString=function(){return this.__toString("List [","]")},Ct.prototype.get=function(e,t){if((e=x(this,e))>=0&&e<this.size){var n=Nt(this,e+=this._origin);return n&&n.array[e&y]}return t},Ct.prototype.set=function(e,t){return At(this,e,t)},Ct.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},Ct.prototype.insert=function(e,t){return this.splice(e,0,t)},Ct.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=g,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Bt()},Ct.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations((function(n){Ft(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])}))},Ct.prototype.pop=function(){return Ft(this,0,-1)},Ct.prototype.unshift=function(){var e=arguments;return this.withMutations((function(t){Ft(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])}))},Ct.prototype.shift=function(){return Ft(this,1)},Ct.prototype.merge=function(){return zt(this,void 0,arguments)},Ct.prototype.mergeWith=function(t){return zt(this,t,e.call(arguments,1))},Ct.prototype.mergeDeep=function(){return zt(this,pt,arguments)},Ct.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return zt(this,ft(t),n)},Ct.prototype.setSize=function(e){return Ft(this,0,e)},Ct.prototype.slice=function(e,t){var n=this.size;return k(e,t,n)?this:Ft(this,T(e,n),M(t,n))},Ct.prototype.__iterator=function(e,t){var n=0,r=jt(this,t);return new F((function(){var t=r();return t===Mt?q():z(e,n++,t)}))},Ct.prototype.__iterate=function(e,t){for(var n,r=0,o=jt(this,t);(n=o())!==Mt&&!1!==e(n,r++,this););return r},Ct.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Pt(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},Ct.isList=Ot;var It="@@__IMMUTABLE_LIST__@@",xt=Ct.prototype;function Dt(e,t){this.array=e,this.ownerID=t}xt[It]=!0,xt[m]=xt.remove,xt.setIn=Ye.setIn,xt.deleteIn=xt.removeIn=Ye.removeIn,xt.update=Ye.update,xt.updateIn=Ye.updateIn,xt.mergeIn=Ye.mergeIn,xt.mergeDeepIn=Ye.mergeDeepIn,xt.withMutations=Ye.withMutations,xt.asMutable=Ye.asMutable,xt.asImmutable=Ye.asImmutable,xt.wasAltered=Ye.wasAltered,Dt.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var r=n>>>t&y;if(r>=this.array.length)return new Dt([],e);var o,i=0===r;if(t>0){var a=this.array[r];if((o=a&&a.removeBefore(e,t-g,n))===a&&i)return this}if(i&&!o)return this;var s=Lt(this,e);if(!i)for(var c=0;c<r;c++)s.array[c]=void 0;return o&&(s.array[r]=o),s},Dt.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var r,o=n-1>>>t&y;if(o>=this.array.length)return this;if(t>0){var i=this.array[o];if((r=i&&i.removeAfter(e,t-g,n))===i&&o===this.array.length-1)return this}var a=Lt(this,e);return a.array.splice(o+1),r&&(a.array[o]=r),a};var kt,Tt,Mt={};function jt(e,t){var n=e._origin,r=e._capacity,o=qt(r),i=e._tail;return a(e._root,e._level,0);function a(e,t,n){return 0===t?s(e,n):c(e,t,n)}function s(e,a){var s=a===o?i&&i.array:e&&e.array,c=a>n?0:n-a,l=r-a;return l>b&&(l=b),function(){if(c===l)return Mt;var e=t?--l:c++;return s&&s[e]}}function c(e,o,i){var s,c=e&&e.array,l=i>n?0:n-i>>o,u=1+(r-i>>o);return u>b&&(u=b),function(){for(;;){if(s){var e=s();if(e!==Mt)return e;s=null}if(l===u)return Mt;var n=t?--u:l++;s=a(c&&c[n],o-g,i+(n<<o))}}}}function Pt(e,t,n,r,o,i,a){var s=Object.create(xt);return s.size=t-e,s._origin=e,s._capacity=t,s._level=n,s._root=r,s._tail=o,s.__ownerID=i,s.__hash=a,s.__altered=!1,s}function Bt(){return kt||(kt=Pt(0,0,g))}function At(e,t,n){if((t=x(e,t))!=t)return e;if(t>=e.size||t<0)return e.withMutations((function(e){t<0?Ft(e,t).set(0,n):Ft(e,0,t+1).set(t,n)}));t+=e._origin;var r=e._tail,o=e._root,i=S(E);return t>=qt(e._capacity)?r=Rt(r,e.__ownerID,0,t,n,i):o=Rt(o,e.__ownerID,e._level,t,n,i),i.value?e.__ownerID?(e._root=o,e._tail=r,e.__hash=void 0,e.__altered=!0,e):Pt(e._origin,e._capacity,e._level,o,r):e}function Rt(e,t,n,r,o,i){var a,s=r>>>n&y,c=e&&s<e.array.length;if(!c&&void 0===o)return e;if(n>0){var l=e&&e.array[s],u=Rt(l,t,n-g,r,o,i);return u===l?e:((a=Lt(e,t)).array[s]=u,a)}return c&&e.array[s]===o?e:(w(i),a=Lt(e,t),void 0===o&&s===a.array.length-1?a.array.pop():a.array[s]=o,a)}function Lt(e,t){return t&&e&&t===e.ownerID?e:new Dt(e?e.array.slice():[],t)}function Nt(e,t){if(t>=qt(e._capacity))return e._tail;if(t<1<<e._level+g){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&y],r-=g;return n}}function Ft(e,t,n){void 0!==t&&(t|=0),void 0!==n&&(n|=0);var r=e.__ownerID||new C,o=e._origin,i=e._capacity,a=o+t,s=void 0===n?i:n<0?i+n:o+n;if(a===o&&s===i)return e;if(a>=s)return e.clear();for(var c=e._level,l=e._root,u=0;a+u<0;)l=new Dt(l&&l.array.length?[void 0,l]:[],r),u+=1<<(c+=g);u&&(a+=u,o+=u,s+=u,i+=u);for(var d=qt(i),h=qt(s);h>=1<<c+g;)l=new Dt(l&&l.array.length?[l]:[],r),c+=g;var p=e._tail,f=h<d?Nt(e,s-1):h>d?new Dt([],r):p;if(p&&h>d&&a<i&&p.array.length){for(var m=l=Lt(l,r),b=c;b>g;b-=g){var v=d>>>b&y;m=m.array[v]=Lt(m.array[v],r)}m.array[d>>>g&y]=p}if(s<i&&(f=f&&f.removeAfter(r,0,s)),a>=h)a-=h,s-=h,c=g,l=null,f=f&&f.removeBefore(r,0,a);else if(a>o||h<d){for(u=0;l;){var _=a>>>c&y;if(_!==h>>>c&y)break;_&&(u+=(1<<c)*_),c-=g,l=l.array[_]}l&&a>o&&(l=l.removeBefore(r,c,a-u)),l&&h<d&&(l=l.removeAfter(r,c,h-u)),u&&(a-=u,s-=u)}return e.__ownerID?(e.size=s-a,e._origin=a,e._capacity=s,e._level=c,e._root=l,e._tail=f,e.__hash=void 0,e.__altered=!0,e):Pt(a,s,c,l,f)}function zt(e,t,n){for(var r=[],i=0,s=0;s<n.length;s++){var c=n[s],l=o(c);l.size>i&&(i=l.size),a(c)||(l=l.map((function(e){return pe(e)}))),r.push(l)}return i>e.size&&(e=e.setSize(i)),mt(e,t,r)}function qt(e){return e<b?0:e-1>>>g<<g}function Ut(e){return null==e?Vt():Ht(e)?e:Vt().withMutations((function(t){var n=r(e);He(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}function Ht(e){return Ve(e)&&u(e)}function Kt(e,t,n,r){var o=Object.create(Ut.prototype);return o.size=e?e.size:0,o._map=e,o._list=t,o.__ownerID=n,o.__hash=r,o}function Vt(){return Tt||(Tt=Kt(ot(),Bt()))}function Wt(e,t,n){var r,o,i=e._map,a=e._list,s=i.get(t),c=void 0!==s;if(n===v){if(!c)return e;a.size>=b&&a.size>=2*i.size?(r=(o=a.filter((function(e,t){return void 0!==e&&s!==t}))).toKeyedSeq().map((function(e){return e[0]})).flip().toMap(),e.__ownerID&&(r.__ownerID=o.__ownerID=e.__ownerID)):(r=i.remove(t),o=s===a.size-1?a.pop():a.set(s,void 0))}else if(c){if(n===a.get(s)[1])return e;r=i,o=a.set(s,[t,n])}else r=i.set(t,a.size),o=a.set(a.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=o,e.__hash=void 0,e):Kt(r,o)}function Gt(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function Yt(e){this._iter=e,this.size=e.size}function Jt(e){this._iter=e,this.size=e.size}function Xt(e){this._iter=e,this.size=e.size}function Qt(e){var t=vn(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=_n,t.__iterateUncached=function(t,n){var r=this;return e.__iterate((function(e,n){return!1!==t(n,e,r)}),n)},t.__iteratorUncached=function(t,n){if(t===A){var r=e.__iterator(t,n);return new F((function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e}))}return e.__iterator(t===B?P:B,n)},t}function $t(e,t,n){var r=vn(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,o){var i=e.get(r,v);return i===v?o:t.call(n,i,r,e)},r.__iterateUncached=function(r,o){var i=this;return e.__iterate((function(e,o,a){return!1!==r(t.call(n,e,o,a),o,i)}),o)},r.__iteratorUncached=function(r,o){var i=e.__iterator(A,o);return new F((function(){var o=i.next();if(o.done)return o;var a=o.value,s=a[0];return z(r,s,t.call(n,a[1],s,e),o)}))},r}function Zt(e,t){var n=vn(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=Qt(e);return t.reverse=function(){return e.flip()},t}),n.get=function(n,r){return e.get(t?n:-1-n,r)},n.has=function(n){return e.has(t?n:-1-n)},n.includes=function(t){return e.includes(t)},n.cacheResult=_n,n.__iterate=function(t,n){var r=this;return e.__iterate((function(e,n){return t(e,n,r)}),!n)},n.__iterator=function(t,n){return e.__iterator(t,!n)},n}function en(e,t,n,r){var o=vn(e);return r&&(o.has=function(r){var o=e.get(r,v);return o!==v&&!!t.call(n,o,r,e)},o.get=function(r,o){var i=e.get(r,v);return i!==v&&t.call(n,i,r,e)?i:o}),o.__iterateUncached=function(o,i){var a=this,s=0;return e.__iterate((function(e,i,c){if(t.call(n,e,i,c))return s++,o(e,r?i:s-1,a)}),i),s},o.__iteratorUncached=function(o,i){var a=e.__iterator(A,i),s=0;return new F((function(){for(;;){var i=a.next();if(i.done)return i;var c=i.value,l=c[0],u=c[1];if(t.call(n,u,l,e))return z(o,r?l:s++,u,i)}}))},o}function tn(e,t,n){var r=Ke().asMutable();return e.__iterate((function(o,i){r.update(t.call(n,o,i,e),0,(function(e){return e+1}))})),r.asImmutable()}function nn(e,t,n){var r=s(e),o=(u(e)?Ut():Ke()).asMutable();e.__iterate((function(i,a){o.update(t.call(n,i,a,e),(function(e){return(e=e||[]).push(r?[a,i]:i),e}))}));var i=yn(e);return o.map((function(t){return mn(e,i(t))}))}function rn(e,t,n,r){var o=e.size;if(void 0!==t&&(t|=0),void 0!==n&&(n|=0),k(t,n,o))return e;var i=T(t,o),a=M(n,o);if(i!=i||a!=a)return rn(e.toSeq().cacheResult(),t,n,r);var s,c=a-i;c==c&&(s=c<0?0:c);var l=vn(e);return l.size=0===s?s:e.size&&s||void 0,!r&&ie(e)&&s>=0&&(l.get=function(t,n){return(t=x(this,t))>=0&&t<s?e.get(t+i,n):n}),l.__iterateUncached=function(t,n){var o=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(t,n);var a=0,c=!0,l=0;return e.__iterate((function(e,n){if(!c||!(c=a++<i))return l++,!1!==t(e,r?n:l-1,o)&&l!==s})),l},l.__iteratorUncached=function(t,n){if(0!==s&&n)return this.cacheResult().__iterator(t,n);var o=0!==s&&e.__iterator(t,n),a=0,c=0;return new F((function(){for(;a++<i;)o.next();if(++c>s)return q();var e=o.next();return r||t===B?e:z(t,c-1,t===P?void 0:e.value[1],e)}))},l}function on(e,t,n){var r=vn(e);return r.__iterateUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterate(r,o);var a=0;return e.__iterate((function(e,o,s){return t.call(n,e,o,s)&&++a&&r(e,o,i)})),a},r.__iteratorUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterator(r,o);var a=e.__iterator(A,o),s=!0;return new F((function(){if(!s)return q();var e=a.next();if(e.done)return e;var o=e.value,c=o[0],l=o[1];return t.call(n,l,c,i)?r===A?e:z(r,c,l,e):(s=!1,q())}))},r}function an(e,t,n,r){var o=vn(e);return o.__iterateUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterate(o,i);var s=!0,c=0;return e.__iterate((function(e,i,l){if(!s||!(s=t.call(n,e,i,l)))return c++,o(e,r?i:c-1,a)})),c},o.__iteratorUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterator(o,i);var s=e.__iterator(A,i),c=!0,l=0;return new F((function(){var e,i,u;do{if((e=s.next()).done)return r||o===B?e:z(o,l++,o===P?void 0:e.value[1],e);var d=e.value;i=d[0],u=d[1],c&&(c=t.call(n,u,i,a))}while(c);return o===A?e:z(o,i,u,e)}))},o}function sn(e,t){var n=s(e),o=[e].concat(t).map((function(e){return a(e)?n&&(e=r(e)):e=n?se(e):ce(Array.isArray(e)?e:[e]),e})).filter((function(e){return 0!==e.size}));if(0===o.length)return e;if(1===o.length){var i=o[0];if(i===e||n&&s(i)||c(e)&&c(i))return i}var l=new te(o);return n?l=l.toKeyedSeq():c(e)||(l=l.toSetSeq()),(l=l.flatten(!0)).size=o.reduce((function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}}),0),l}function cn(e,t,n){var r=vn(e);return r.__iterateUncached=function(r,o){var i=0,s=!1;function c(e,l){var u=this;e.__iterate((function(e,o){return(!t||l<t)&&a(e)?c(e,l+1):!1===r(e,n?o:i++,u)&&(s=!0),!s}),o)}return c(e,0),i},r.__iteratorUncached=function(r,o){var i=e.__iterator(r,o),s=[],c=0;return new F((function(){for(;i;){var e=i.next();if(!1===e.done){var l=e.value;if(r===A&&(l=l[1]),t&&!(s.length<t)||!a(l))return n?e:z(r,c++,l,e);s.push(i),i=l.__iterator(r,o)}else i=s.pop()}return q()}))},r}function ln(e,t,n){var r=yn(e);return e.toSeq().map((function(o,i){return r(t.call(n,o,i,e))})).flatten(!0)}function un(e,t){var n=vn(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var o=this,i=0;return e.__iterate((function(e,r){return(!i||!1!==n(t,i++,o))&&!1!==n(e,i++,o)}),r),i},n.__iteratorUncached=function(n,r){var o,i=e.__iterator(B,r),a=0;return new F((function(){return(!o||a%2)&&(o=i.next()).done?o:a%2?z(n,a++,t):z(n,a++,o.value,o)}))},n}function dn(e,t,n){t||(t=En);var r=s(e),o=0,i=e.toSeq().map((function(t,r){return[r,t,o++,n?n(t,r,e):t]})).toArray();return i.sort((function(e,n){return t(e[3],n[3])||e[2]-n[2]})).forEach(r?function(e,t){i[t].length=2}:function(e,t){i[t]=e[1]}),r?Y(i):c(e)?J(i):X(i)}function hn(e,t,n){if(t||(t=En),n){var r=e.toSeq().map((function(t,r){return[t,n(t,r,e)]})).reduce((function(e,n){return pn(t,e[1],n[1])?n:e}));return r&&r[0]}return e.reduce((function(e,n){return pn(t,e,n)?n:e}))}function pn(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(null==n||n!=n)||r>0}function fn(e,t,r){var o=vn(e);return o.size=new te(r).map((function(e){return e.size})).min(),o.__iterate=function(e,t){for(var n,r=this.__iterator(B,t),o=0;!(n=r.next()).done&&!1!==e(n.value,o++,this););return o},o.__iteratorUncached=function(e,o){var i=r.map((function(e){return e=n(e),K(o?e.reverse():e)})),a=0,s=!1;return new F((function(){var n;return s||(n=i.map((function(e){return e.next()})),s=n.some((function(e){return e.done}))),s?q():z(e,a++,t.apply(null,n.map((function(e){return e.value}))))}))},o}function mn(e,t){return ie(e)?t:e.constructor(t)}function gn(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function bn(e){return He(e.size),I(e)}function yn(e){return s(e)?r:c(e)?o:i}function vn(e){return Object.create((s(e)?Y:c(e)?J:X).prototype)}function _n(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):G.prototype.cacheResult.call(this)}function En(e,t){return e>t?1:e<t?-1:0}function Sn(e){var t=K(e);if(!t){if(!W(e))throw new TypeError("Expected iterable or array-like: "+e);t=K(n(e))}return t}function wn(e,t){var n,r=function(i){if(i instanceof r)return i;if(!(this instanceof r))return new r(i);if(!n){n=!0;var a=Object.keys(e);xn(o,a),o.size=a.length,o._name=t,o._keys=a,o._defaultValues=e}this._map=Ke(i)},o=r.prototype=Object.create(Cn);return o.constructor=r,r}t(Ut,Ke),Ut.of=function(){return this(arguments)},Ut.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Ut.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},Ut.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Vt()},Ut.prototype.set=function(e,t){return Wt(this,e,t)},Ut.prototype.remove=function(e){return Wt(this,e,v)},Ut.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Ut.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate((function(t){return t&&e(t[1],t[0],n)}),t)},Ut.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},Ut.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?Kt(t,n,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=n,this)},Ut.isOrderedMap=Ht,Ut.prototype[f]=!0,Ut.prototype[m]=Ut.prototype.remove,t(Gt,Y),Gt.prototype.get=function(e,t){return this._iter.get(e,t)},Gt.prototype.has=function(e){return this._iter.has(e)},Gt.prototype.valueSeq=function(){return this._iter.valueSeq()},Gt.prototype.reverse=function(){var e=this,t=Zt(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},Gt.prototype.map=function(e,t){var n=this,r=$t(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},Gt.prototype.__iterate=function(e,t){var n,r=this;return this._iter.__iterate(this._useKeys?function(t,n){return e(t,n,r)}:(n=t?bn(this):0,function(o){return e(o,t?--n:n++,r)}),t)},Gt.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var n=this._iter.__iterator(B,t),r=t?bn(this):0;return new F((function(){var o=n.next();return o.done?o:z(e,t?--r:r++,o.value,o)}))},Gt.prototype[f]=!0,t(Yt,J),Yt.prototype.includes=function(e){return this._iter.includes(e)},Yt.prototype.__iterate=function(e,t){var n=this,r=0;return this._iter.__iterate((function(t){return e(t,r++,n)}),t)},Yt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(B,t),r=0;return new F((function(){var t=n.next();return t.done?t:z(e,r++,t.value,t)}))},t(Jt,X),Jt.prototype.has=function(e){return this._iter.includes(e)},Jt.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){return e(t,t,n)}),t)},Jt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(B,t);return new F((function(){var t=n.next();return t.done?t:z(e,t.value,t.value,t)}))},t(Xt,Y),Xt.prototype.entrySeq=function(){return this._iter.toSeq()},Xt.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){if(t){gn(t);var r=a(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}}),t)},Xt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(B,t);return new F((function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){gn(r);var o=a(r);return z(e,o?r.get(0):r[0],o?r.get(1):r[1],t)}}}))},Yt.prototype.cacheResult=Gt.prototype.cacheResult=Jt.prototype.cacheResult=Xt.prototype.cacheResult=_n,t(wn,we),wn.prototype.toString=function(){return this.__toString(In(this)+" {","}")},wn.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},wn.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._defaultValues[e];return this._map?this._map.get(e,n):n},wn.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=On(this,ot()))},wn.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+In(this));var n=this._map&&this._map.set(e,t);return this.__ownerID||n===this._map?this:On(this,n)},wn.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:On(this,t)},wn.prototype.wasAltered=function(){return this._map.wasAltered()},wn.prototype.__iterator=function(e,t){var n=this;return r(this._defaultValues).map((function(e,t){return n.get(t)})).__iterator(e,t)},wn.prototype.__iterate=function(e,t){var n=this;return r(this._defaultValues).map((function(e,t){return n.get(t)})).__iterate(e,t)},wn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?On(this,t,e):(this.__ownerID=e,this._map=t,this)};var Cn=wn.prototype;function On(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._map=t,r.__ownerID=n,r}function In(e){return e._name||e.constructor.name||"Record"}function xn(e,t){try{t.forEach(Dn.bind(void 0,e))}catch(n){}}function Dn(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){_e(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}function kn(e){return null==e?Rn():Tn(e)&&!u(e)?e:Rn().withMutations((function(t){var n=i(e);He(n.size),n.forEach((function(e){return t.add(e)}))}))}function Tn(e){return!(!e||!e[jn])}Cn[m]=Cn.remove,Cn.deleteIn=Cn.removeIn=Ye.removeIn,Cn.merge=Ye.merge,Cn.mergeWith=Ye.mergeWith,Cn.mergeIn=Ye.mergeIn,Cn.mergeDeep=Ye.mergeDeep,Cn.mergeDeepWith=Ye.mergeDeepWith,Cn.mergeDeepIn=Ye.mergeDeepIn,Cn.setIn=Ye.setIn,Cn.update=Ye.update,Cn.updateIn=Ye.updateIn,Cn.withMutations=Ye.withMutations,Cn.asMutable=Ye.asMutable,Cn.asImmutable=Ye.asImmutable,t(kn,Oe),kn.of=function(){return this(arguments)},kn.fromKeys=function(e){return this(r(e).keySeq())},kn.prototype.toString=function(){return this.__toString("Set {","}")},kn.prototype.has=function(e){return this._map.has(e)},kn.prototype.add=function(e){return Bn(this,this._map.set(e,!0))},kn.prototype.remove=function(e){return Bn(this,this._map.remove(e))},kn.prototype.clear=function(){return Bn(this,this._map.clear())},kn.prototype.union=function(){var t=e.call(arguments,0);return 0===(t=t.filter((function(e){return 0!==e.size}))).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations((function(e){for(var n=0;n<t.length;n++)i(t[n]).forEach((function(t){return e.add(t)}))})):this.constructor(t[0])},kn.prototype.intersect=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return i(e)}));var n=this;return this.withMutations((function(e){n.forEach((function(n){t.every((function(e){return e.includes(n)}))||e.remove(n)}))}))},kn.prototype.subtract=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return i(e)}));var n=this;return this.withMutations((function(e){n.forEach((function(n){t.some((function(e){return e.includes(n)}))&&e.remove(n)}))}))},kn.prototype.merge=function(){return this.union.apply(this,arguments)},kn.prototype.mergeWith=function(t){var n=e.call(arguments,1);return this.union.apply(this,n)},kn.prototype.sort=function(e){return Ln(dn(this,e))},kn.prototype.sortBy=function(e,t){return Ln(dn(this,t,e))},kn.prototype.wasAltered=function(){return this._map.wasAltered()},kn.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate((function(t,r){return e(r,r,n)}),t)},kn.prototype.__iterator=function(e,t){return this._map.map((function(e,t){return t})).__iterator(e,t)},kn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},kn.isSet=Tn;var Mn,jn="@@__IMMUTABLE_SET__@@",Pn=kn.prototype;function Bn(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function An(e,t){var n=Object.create(Pn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Rn(){return Mn||(Mn=An(ot()))}function Ln(e){return null==e?Un():Nn(e)?e:Un().withMutations((function(t){var n=i(e);He(n.size),n.forEach((function(e){return t.add(e)}))}))}function Nn(e){return Tn(e)&&u(e)}Pn[jn]=!0,Pn[m]=Pn.remove,Pn.mergeDeep=Pn.merge,Pn.mergeDeepWith=Pn.mergeWith,Pn.withMutations=Ye.withMutations,Pn.asMutable=Ye.asMutable,Pn.asImmutable=Ye.asImmutable,Pn.__empty=Rn,Pn.__make=An,t(Ln,kn),Ln.of=function(){return this(arguments)},Ln.fromKeys=function(e){return this(r(e).keySeq())},Ln.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Ln.isOrderedSet=Nn;var Fn,zn=Ln.prototype;function qn(e,t){var n=Object.create(zn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Un(){return Fn||(Fn=qn(Vt()))}function Hn(e){return null==e?Jn():Kn(e)?e:Jn().unshiftAll(e)}function Kn(e){return!(!e||!e[Wn])}zn[f]=!0,zn.__empty=Un,zn.__make=qn,t(Hn,Ce),Hn.of=function(){return this(arguments)},Hn.prototype.toString=function(){return this.__toString("Stack [","]")},Hn.prototype.get=function(e,t){var n=this._head;for(e=x(this,e);n&&e--;)n=n.next;return n?n.value:t},Hn.prototype.peek=function(){return this._head&&this._head.value},Hn.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,n=arguments.length-1;n>=0;n--)t={value:arguments[n],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):Yn(e,t)},Hn.prototype.pushAll=function(e){if(0===(e=o(e)).size)return this;He(e.size);var t=this.size,n=this._head;return e.reverse().forEach((function(e){t++,n={value:e,next:n}})),this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):Yn(t,n)},Hn.prototype.pop=function(){return this.slice(1)},Hn.prototype.unshift=function(){return this.push.apply(this,arguments)},Hn.prototype.unshiftAll=function(e){return this.pushAll(e)},Hn.prototype.shift=function(){return this.pop.apply(this,arguments)},Hn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Jn()},Hn.prototype.slice=function(e,t){if(k(e,t,this.size))return this;var n=T(e,this.size);if(M(t,this.size)!==this.size)return Ce.prototype.slice.call(this,e,t);for(var r=this.size-n,o=this._head;n--;)o=o.next;return this.__ownerID?(this.size=r,this._head=o,this.__hash=void 0,this.__altered=!0,this):Yn(r,o)},Hn.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Yn(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Hn.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var n=0,r=this._head;r&&!1!==e(r.value,n++,this);)r=r.next;return n},Hn.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var n=0,r=this._head;return new F((function(){if(r){var t=r.value;return r=r.next,z(e,n++,t)}return q()}))},Hn.isStack=Kn;var Vn,Wn="@@__IMMUTABLE_STACK__@@",Gn=Hn.prototype;function Yn(e,t,n,r){var o=Object.create(Gn);return o.size=e,o._head=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function Jn(){return Vn||(Vn=Yn(0))}function Xn(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}Gn[Wn]=!0,Gn.withMutations=Ye.withMutations,Gn.asMutable=Ye.asMutable,Gn.asImmutable=Ye.asImmutable,Gn.wasAltered=Ye.wasAltered,n.Iterator=F,Xn(n,{toArray:function(){He(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate((function(t,n){e[n]=t})),e},toIndexedSeq:function(){return new Yt(this)},toJS:function(){return this.toSeq().map((function(e){return e&&"function"==typeof e.toJS?e.toJS():e})).__toJS()},toJSON:function(){return this.toSeq().map((function(e){return e&&"function"==typeof e.toJSON?e.toJSON():e})).__toJS()},toKeyedSeq:function(){return new Gt(this,!0)},toMap:function(){return Ke(this.toKeyedSeq())},toObject:function(){He(this.size);var e={};return this.__iterate((function(t,n){e[n]=t})),e},toOrderedMap:function(){return Ut(this.toKeyedSeq())},toOrderedSet:function(){return Ln(s(this)?this.valueSeq():this)},toSet:function(){return kn(s(this)?this.valueSeq():this)},toSetSeq:function(){return new Jt(this)},toSeq:function(){return c(this)?this.toIndexedSeq():s(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Hn(s(this)?this.valueSeq():this)},toList:function(){return Ct(s(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){return mn(this,sn(this,e.call(arguments,0)))},includes:function(e){return this.some((function(t){return be(t,e)}))},entries:function(){return this.__iterator(A)},every:function(e,t){He(this.size);var n=!0;return this.__iterate((function(r,o,i){if(!e.call(t,r,o,i))return n=!1,!1})),n},filter:function(e,t){return mn(this,en(this,e,t,!0))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},findEntry:function(e,t){var n;return this.__iterate((function(r,o,i){if(e.call(t,r,o,i))return n=[o,r],!1})),n},findLastEntry:function(e,t){return this.toSeq().reverse().findEntry(e,t)},forEach:function(e,t){return He(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){He(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate((function(r){n?n=!1:t+=e,t+=null!=r?r.toString():""})),t},keys:function(){return this.__iterator(P)},map:function(e,t){return mn(this,$t(this,e,t))},reduce:function(e,t,n){var r,o;return He(this.size),arguments.length<2?o=!0:r=t,this.__iterate((function(t,i,a){o?(o=!1,r=t):r=e.call(n,r,t,i,a)})),r},reduceRight:function(e,t,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return mn(this,Zt(this,!0))},slice:function(e,t){return mn(this,rn(this,e,t,!0))},some:function(e,t){return!this.every(tr(e),t)},sort:function(e){return mn(this,dn(this,e))},values:function(){return this.__iterator(B)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(e,t){return I(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return tn(this,e,t)},equals:function(e){return ye(this,e)},entrySeq:function(){var e=this;if(e._cache)return new te(e._cache);var t=e.toSeq().map(er).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(tr(e),t)},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},first:function(){return this.find(D)},flatMap:function(e,t){return mn(this,ln(this,e,t))},flatten:function(e){return mn(this,cn(this,e,!0))},fromEntrySeq:function(){return new Xt(this)},get:function(e,t){return this.find((function(t,n){return be(n,e)}),void 0,t)},getIn:function(e,t){for(var n,r=this,o=Sn(e);!(n=o.next()).done;){var i=n.value;if((r=r&&r.get?r.get(i,v):v)===v)return t}return r},groupBy:function(e,t){return nn(this,e,t)},has:function(e){return this.get(e,v)!==v},hasIn:function(e){return this.getIn(e,v)!==v},isSubset:function(e){return e="function"==typeof e.includes?e:n(e),this.every((function(t){return e.includes(t)}))},isSuperset:function(e){return(e="function"==typeof e.isSubset?e:n(e)).isSubset(this)},keySeq:function(){return this.toSeq().map(Zn).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(e){return hn(this,e)},maxBy:function(e,t){return hn(this,t,e)},min:function(e){return hn(this,e?nr(e):ir)},minBy:function(e,t){return hn(this,t?nr(t):ir,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return mn(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return mn(this,an(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(tr(e),t)},sortBy:function(e,t){return mn(this,dn(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return mn(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return mn(this,on(this,e,t))},takeUntil:function(e,t){return this.takeWhile(tr(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=ar(this))}});var Qn=n.prototype;Qn[d]=!0,Qn[N]=Qn.values,Qn.__toJS=Qn.toArray,Qn.__toStringMapper=rr,Qn.inspect=Qn.toSource=function(){return this.toString()},Qn.chain=Qn.flatMap,Qn.contains=Qn.includes,function(){try{Object.defineProperty(Qn,"length",{get:function(){if(!n.noLengthWarning){var e;try{throw new Error}catch(t){e=t.stack}if(-1===e.indexOf("_wrapObject"))return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+e),this.size}}})}catch(e){}}(),Xn(r,{flip:function(){return mn(this,Qt(this))},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLastKey:function(e,t){return this.toSeq().reverse().findKey(e,t)},keyOf:function(e){return this.findKey((function(t){return be(t,e)}))},lastKeyOf:function(e){return this.findLastKey((function(t){return be(t,e)}))},mapEntries:function(e,t){var n=this,r=0;return mn(this,this.toSeq().map((function(o,i){return e.call(t,[i,o],r++,n)})).fromEntrySeq())},mapKeys:function(e,t){var n=this;return mn(this,this.toSeq().flip().map((function(r,o){return e.call(t,r,o,n)})).flip())}});var $n=r.prototype;function Zn(e,t){return t}function er(e,t){return[t,e]}function tr(e){return function(){return!e.apply(this,arguments)}}function nr(e){return function(){return-e.apply(this,arguments)}}function rr(e){return"string"==typeof e?JSON.stringify(e):e}function or(){return O(arguments)}function ir(e,t){return e<t?1:e>t?-1:0}function ar(e){if(e.size===1/0)return 0;var t=u(e),n=s(e),r=t?1:0;return sr(e.__iterate(n?t?function(e,t){r=31*r+cr(De(e),De(t))|0}:function(e,t){r=r+cr(De(e),De(t))|0}:t?function(e){r=31*r+De(e)|0}:function(e){r=r+De(e)|0}),r)}function sr(e,t){return t=Ie(t,3432918353),t=Ie(t<<15|t>>>-15,461845907),t=Ie(t<<13|t>>>-13,5),t=Ie((t=(t+3864292196|0)^e)^t>>>16,2246822507),t=xe((t=Ie(t^t>>>13,3266489909))^t>>>16)}function cr(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}return $n[h]=!0,$n[N]=Qn.entries,$n.__toJS=Qn.toObject,$n.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+rr(e)},Xn(o,{toKeyedSeq:function(){return new Gt(this,!1)},filter:function(e,t){return mn(this,en(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.toKeyedSeq().keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.toKeyedSeq().reverse().keyOf(e);return void 0===t?-1:t},reverse:function(){return mn(this,Zt(this,!1))},slice:function(e,t){return mn(this,rn(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(0|t,0),0===n||2===n&&!t)return this;e=T(e,e<0?this.count():this.size);var r=this.slice(0,e);return mn(this,1===n?r:r.concat(O(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.toKeyedSeq().findLastKey(e,t);return void 0===n?-1:n},first:function(){return this.get(0)},flatten:function(e){return mn(this,cn(this,e,!1))},get:function(e,t){return(e=x(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find((function(t,n){return n===e}),void 0,t)},has:function(e){return(e=x(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return mn(this,un(this,e))},interleave:function(){var e=[this].concat(O(arguments)),t=fn(this.toSeq(),J.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),mn(this,n)},last:function(){return this.get(-1)},skipWhile:function(e,t){return mn(this,an(this,e,t,!1))},zip:function(){return mn(this,fn(this,or,[this].concat(O(arguments))))},zipWith:function(e){var t=O(arguments);return t[0]=this,mn(this,fn(this,e,t))}}),o.prototype[p]=!0,o.prototype[f]=!0,Xn(i,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),i.prototype.has=Qn.includes,Xn(Y,r.prototype),Xn(J,o.prototype),Xn(X,i.prototype),Xn(we,r.prototype),Xn(Ce,o.prototype),Xn(Oe,i.prototype),{Iterable:n,Seq:G,Collection:Se,Map:Ke,OrderedMap:Ut,List:Ct,Stack:Hn,Set:kn,OrderedSet:Ln,Record:wn,Range:Ee,Repeat:ve,is:be,fromJS:pe}}()},tuJh:function(e,t,n){var r=n("3sOJ"),o=n("y5P+"),i=n("DEWG"),a=n("8d//");e.exports=function(e){var t=a(e,(function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=t.getAnchorKey(),a=t.getAnchorOffset(),s=n.getBlockForKey(r).getText()[a];return i(e,s?o.getUTF16Length(s,0):1)}),"forward");if(t===e.getCurrentContent())return e;var n=e.getSelection();return r.push(e,t.set("selectionBefore",n),n.isCollapsed()?"delete-character":"remove-range")}},tvWU:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("+k3R"),o=n("slCJ"),i=n("TPjH"),a=n("tEMl"),s=n("E3gc"),c=n("bY+3"),l=n("IRZy"),u=n("QWfI"),d=n("2S0S");t.default=function(e,t,n,h){void 0===h&&(h={}),r.default("DropTarget","type, spec, collect[, options]",e,t,n,h);var p=e;"function"!=typeof e&&(d(s.default(e,!0),'Expected "type" provided as the first argument to DropTarget to be a string, an array of strings, or a function that returns either given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',e),p=function(){return e}),d(u.isPlainObject(t),'Expected "spec" provided as the second argument to DropTarget to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',t);var f=a.default(t);return d("function"==typeof n,'Expected "collect" provided as the third argument to DropTarget to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',n),d(u.isPlainObject(h),'Expected "options" provided as the fourth argument to DropTarget to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',n),function(e){return o.default({containerDisplayName:"DropTarget",createHandler:f,registerHandler:i.default,createMonitor:function(e){return new c.default(e)},createConnector:function(e){return new l.default(e)},DecoratedComponent:e,getType:p,collect:n,options:h})}}},uCRx:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("QLaP");t.validateSourceContract=function(e){r("function"==typeof e.canDrag,"Expected canDrag to be a function."),r("function"==typeof e.beginDrag,"Expected beginDrag to be a function."),r("function"==typeof e.endDrag,"Expected endDrag to be a function.")},t.validateTargetContract=function(e){r("function"==typeof e.canDrop,"Expected canDrop to be a function."),r("function"==typeof e.hover,"Expected hover to be a function."),r("function"==typeof e.drop,"Expected beginDrag to be a function.")},t.validateType=function e(t,n){n&&Array.isArray(t)?t.forEach((function(t){return e(t,!1)})):r("string"==typeof t||"symbol"==typeof t,n?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}},ubb0:function(e,t,n){var r=n("i8i4").unstable_flushControlled;e.exports=r},ueFs:function(e,t,n){function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n("8uQm"),a=n("JL7T"),s=n("LpQA"),c=n("TzU/"),l=n("PFU8"),u=(n("quS2"),n("hMpd")),d=n("TlXQ"),h=n("bNdj"),p=n("RCR6"),f=n("rJY1"),m=n("cwFY"),g=n("zVay"),b=n("mFyV"),y=m("draft_tree_data_support"),v=g.List,_=g.Map,E=g.OrderedMap,S=function(e,t){var n=e.key,r=e.type,o=e.data;return{text:e.text,depth:e.depth||0,type:r||"unstyled",key:n||f(),data:_(o),characterList:w(e,t)}},w=function(e,t){var n=e.text,o=e.entityRanges,i=e.inlineStyleRanges,a=o||[];return d(p(n,i||[]),h(n,a.filter((function(e){return t.hasOwnProperty(e.key)})).map((function(e){return r({},e,{key:t[e.key]})}))))},C=function(e){return r({},e,{key:e.key||f()})},O=function(e,t,n){var o=t.map((function(e){return r({},e,{parentRef:n})}));return e.concat(o.reverse())},I=function(e,t){var n=e.blocks.find((function(e){return Array.isArray(e.children)&&e.children.length>0})),o=y&&!n?l.fromRawStateToRawTreeState(e).blocks:e.blocks;return y?function(e,t){return e.map(C).reduce((function(n,o,i){Array.isArray(o.children)||b(!1);var s=o.children.map(C),c=new a(r({},S(o,t),{prevSibling:0===i?null:e[i-1].key,nextSibling:i===e.length-1?null:e[i+1].key,children:v(s.map((function(e){return e.key})))}));n=n.set(c.getKey(),c);for(var l=O([],s,c);l.length>0;){var u=l.pop(),d=u.parentRef,h=d.getChildKeys(),p=h.indexOf(u.key),f=Array.isArray(u.children);if(!f){f||b(!1);break}var m=u.children.map(C),g=new a(r({},S(u,t),{parent:d.getKey(),children:v(m.map((function(e){return e.key}))),prevSibling:0===p?null:h.get(p-1),nextSibling:p===h.size-1?null:h.get(p+1)}));n=n.set(g.getKey(),g),l=O(l,m,g)}return n}),E())}(o,t):function(e,t){return E(e.map((function(e){var n=new i(S(e,t));return[n.getKey(),n]})))}(n?l.fromRawTreeStateToRawState(e).blocks:o,t)};e.exports=function(e){Array.isArray(e.blocks)||b(!1);var t=function(e){var t=e.entityMap,n={};return Object.keys(t).forEach((function(e){var r=t[e],o=r.type,i=r.mutability,a=r.data;n[e]=c.__create(o,i,a||{})})),n}(e),n=I(e,t),r=n.isEmpty()?new u:u.createEmpty(n.first().getKey());return new s({blockMap:n,entityMap:t,selectionBefore:r,selectionAfter:r})}},ujuU:function(e,t,n){var r=n("3sOJ");e.exports=function(e){var t=e.getSelection(),n=t.getStartKey();return r.set(e,{selection:t.merge({anchorKey:n,anchorOffset:0,focusKey:n,focusOffset:0,isBackward:!1}),forceSelection:!0})}},utGV:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("q1tI"),o=n("TPjH"),i=n("/acK"),a=n("IRZy"),s=n("bY+3");t.useDropTargetMonitor=function(){var e=i.useDragDropManager();return[r.useMemo((function(){return new s.default(e)}),[e]),r.useMemo((function(){return new a.default(e.getBackend())}),[e])]},t.useDropHandler=function(e,t,n){var a=i.useDragDropManager(),s=r.useMemo((function(){return{canDrop:function(){var n=e.current.canDrop;return!n||n(t.getItem(),t)},hover:function(){var n=e.current.hover;n&&n(t.getItem(),t)},drop:function(){var n=e.current.drop;if(n)return n(t.getItem(),t)}}}),[t]);r.useEffect((function(){var r=o.default(e.current.accept,s,a),i=r[0],c=r[1];return t.receiveHandlerId(i),n.receiveHandlerId(i),c}),[t,n])}},uyxo:function(e,t,n){n.d(t,"a",(function(){return s}));var r=n("q1tI"),o=n.n(r),i=n("jHGc"),a=n("n6mq");function s(e){const{children:t,currentCarouselIndex:n,onDeleteSavedState:r,onEditSubmit:s,onToggleModal:c,pinId:l,variant:u,viewParameter:d}=e,h="pin"===u?{bgColor:"white",iconColor:"darkGray",size:"sm"}:{bgColor:"transparent",iconColor:"darkGray",size:"sm"};return o.a.createElement(a.e,{display:"flex",direction:"row",alignItems:"center",width:"closeup"===u?"100%":void 0,paddingX:"closeup"===u?2:void 0,marginStart:"pin"===u?-1:void 0,marginEnd:"pin"===u?-1:void 0},t&&o.a.createElement(a.e,{paddingX:1,"data-test-id":"saved-info",flex:"grow"},t),o.a.createElement(a.e,{paddingX:1,flex:"none",marginStart:"auto"},o.a.createElement(i.default,{component:0,onDelete:r,onSubmit:s,pinId:l,onToggleModal:c,viewParameter:d,carouselSlotCurrentIndex:n,style:h,useLegoStyles:"pin"===u})))}},"v+PR":function(e,t,n){n.d(t,"a",(function(){return g}));var r=n("q1tI"),o=n.n(r),i=n("Ye/N"),a=n("6vq5"),s=n("vvax"),c=n("n6mq");var l=Object(a.a)({name:"PinSaveStatusResource",key:"saveStatusResource",options:({pin:e})=>({id:e.id})},{allowStale:!1})((function(e){const{saveStatusResource:{data:t}}=e;return t&&t.pinned_to_board?o.a.createElement(c.e,null,o.a.createElement(c.e,{color:"red","data-test-id":"already-pinned",display:"flex",padding:3,rounding:2,width:185},o.a.createElement(c.V,{align:"center",color:"white",size:"md",weight:"bold"},Object(s.b)(i.a._("Psst! You already saved this Pin to {{ board_name }} ","Toast for already having repinned pin","Toast for already having repinned pin"),{board_name:(t.pinned_to_board||{}).name}).join(" "))),o.a.createElement(c.e,{display:"flex",justifyContent:"center",marginTop:-3},o.a.createElement(c.t,{accessibilityLabel:"",color:"red",icon:"heart",size:26}))):null})),u=n("P6kd"),d=n("g/XF"),h=n("U4JR");function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const f=/#[^(. #,\/$%\^&\*;:{}=\`~()\[\]@|<>)]*/,m=/#[^(. #,\/$%\^&\*;:{}=\`~()\[\]@|<>)]*$/;class g extends r.Component{constructor(...e){super(...e),p(this,"state",{cursorIndex:-1,flyoutCursorIndex:-1,description:this.props.pin&&this.props.pin.description&&this.props.pin.description.trim()||"",editing:!1,hashtagQuery:"",isHashtagFlyoutOpen:!1,flyoutOpened:!1}),p(this,"onDescriptionChange",(e,t)=>{const n=new RegExp(f,"g");let r="";if(t<e.length){let o=n.exec(e),i=n.lastIndex<t;for(;o&&i;)o=n.exec(e),i=n.lastIndex<t;const a=!!o&&f.test(e.slice(o.index,t));i=!!o&&o.index<t,o&&a&&i&&(r=o[0])}else{const t=m.exec(e);r=t?t[0]:""}this.updateDescription(e);const o=f.test(r),i=this.state.isHashtagFlyoutOpen?this.state.flyoutCursorIndex:e.slice(0,t).lastIndexOf("#");this.setState({cursorIndex:t,flyoutCursorIndex:i,description:e,hashtagQuery:r,isHashtagFlyoutOpen:o,flyoutOpened:this.state.flyoutOpened||o})}),p(this,"onCursorChange",e=>{const{isHashtagFlyoutOpen:t,flyoutCursorIndex:n}=this.state;t&&e<n&&this.setState({isHashtagFlyoutOpen:!1})}),p(this,"updateDescription",e=>{this.props.updateDescription&&this.props.updateDescription(e)}),p(this,"handleDescriptionBlur",e=>{const t=e.target.value.trim(),{isHashtagFlyoutOpen:n}=this.state;this.updateDescription(t),this.setState({description:t,editing:n})}),p(this,"handleDescriptionEdit",()=>{this.setState({editing:!0})}),p(this,"handleHashtagAddition",e=>{const{pin:t}=this.props;Object(h.a)(101,{component:208,element:10249,hashtags:e,objectId:t.id});const n=this.state.flyoutCursorIndex,r=Number(n+this.state.hashtagQuery.length),o=this.state.description.slice(0,n)+e+" "+this.state.description.slice(r);this.updateDescription(o),this.setState({description:o,editing:!0,hashtagQuery:"",isHashtagFlyoutOpen:!1})}),p(this,"handleRefTextArea",e=>{this._textArea=e})}render(){const{color:e,isFirstPin:t,pin:n,pinImageRef:r}=this.props,{description:i,editing:a,flyoutOpened:s,hashtagQuery:h,isHashtagFlyoutOpen:p}=this.state,{images:f,link:m}=n,g=f&&f["236x"],b=g&&g.url||n.image_base64;return o.a.createElement(c.e,{display:"flex",alignItems:"center",justifyContent:"center",position:"relative",width:t?"50%":"",dangerouslySetInlineStyle:{__style:s&&a?{transform:"translateY(-75px)"}:{}}},o.a.createElement(c.e,{display:"flex",direction:"column",alignItems:"center"},n&&n.id&&o.a.createElement(l,{pin:n}),o.a.createElement(c.e,{paddingY:t?9:0,width:240},o.a.createElement(c.e,{ref:r,maxHeight:s&&a?220:335,rounding:4,overflow:"hidden"},b?o.a.createElement(c.v,{alt:i,src:b,naturalHeight:g.height||1,naturalWidth:g.width||1}):!!m&&o.a.createElement(d.a,{color:e||"",description:i,url:m})))),this.anchor&&p?o.a.createElement(u.a,{addHashtag:this.handleHashtagAddition,anchor:this.anchor,editing:a,query:h}):null)}}},"v/Q4":function(e,t,n){n.d(t,"a",(function(){return o}));var r=n("/MKj");function o(){return Object(r.useSelector)(({viewer:e})=>e)}},v2I7:function(e,t,n){n.d(t,"a",(function(){return s}));var r=n("q1tI"),o=n.n(r),i=n("Ye/N"),a=n("n6mq");function s({isCollaborative:e,noSelection:t,onDeselectAll:n,onSelectAll:r}){return t&&e?null:o.a.createElement(a.U,{fullWidth:!1,onTap:t?r:n},o.a.createElement(a.V,{weight:"bold"},t?i.a._("Select all"):i.a._("Deselect all")))}},v83y:function(e,t,n){var r=n("fyRy"),o=n("YeVe"),i=n("lFJn"),a=n("84lc"),s=n("8uQm"),c=n("LpQA"),l=n("rAV9"),u=n("0TRD"),d=n("6tyx"),h=n("DthY"),p=n("TzU/"),f=n("fyOY"),m=n("qnky"),g=n("3sOJ"),b=n("s8ra"),y=n("7Pus"),v=n("Nx4+"),_=n("hMpd"),E=n("/y+l"),S=n("ueFs"),w=n("rJY1"),C=n("AyB5"),O=n("zxN+"),I={Editor:d,EditorBlock:h,EditorState:g,CompositeDecorator:a,Entity:p,EntityInstance:m,BlockMapBuilder:o,CharacterMetadata:i,ContentBlock:s,ContentState:c,RawDraftContentState:y,SelectionState:_,AtomicBlockUtils:r,KeyBindingUtil:b,Modifier:f,RichUtils:v,DefaultDraftBlockRenderMap:l,DefaultDraftInlineStyle:u,convertFromHTML:n("1qq2"),convertFromRaw:S,convertToRaw:E,genKey:w,getDefaultKeyBinding:C,getVisibleSelectionRect:O};e.exports=I},vVEi:function(e,t,n){n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return g})),n.d(t,"e",(function(){return y})),n.d(t,"c",(function(){return E})),n.d(t,"f",(function(){return S})),n.d(t,"d",(function(){return w}));var r=n("q1tI"),o=n.n(r),i=n("/MKj"),a=n("OWXb"),s=n("nGHF"),c=n("TSYQ"),l=n.n(c),u=n("Ye/N"),d=n("n6mq");function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(){return o.a.createElement(d.e,{display:"flex",justifyContent:"around",overflow:"hidden"},o.a.createElement("div",{className:"boardBlockingActionToastWhiteSpinner"},o.a.createElement(d.t,{accessibilityLabel:u.a._("board action pending","accessibility label for board action toast to indicate pending action","accessibility label for board action toast to indicate pending action"),color:"white",icon:"knoop",size:40})))}class f extends r.Component{constructor(...e){super(...e),h(this,"state",{hiding:!1,visible:!1}),h(this,"handleHide",()=>{this.setState({hiding:!0}),this.timeout=window.setTimeout(this.props.onHide,200)}),h(this,"handleMouseEnter",()=>{window.clearTimeout(this.timeout)}),h(this,"handleMouseLeave",()=>{this.timeout=window.setTimeout(this.handleHide,this.props.duration||2e3)})}componentDidMount(){this.firstLine&&(window.setTimeout(()=>{this.setState({visible:!0})},100),this.timeout=window.setTimeout(this.handleHide,this.props.duration||2e3))}get firstLine(){const{actionType:e,actionStatus:t,location:{isSection:n}}=this.props,r="completed"===t;switch(e){case"create_section":return r?u.a._("Created section","toast text to indicate a section has been created successfully","toast text to indicate a section has been created successfully"):u.a._("Creating section","toast text to indicate a section is being created","toast text to indicate a section is being created");case"delete_pins":return n?r?u.a._("Deleted Pins from","toast text to notify Pins have been deleted from a section","toast text to notify Pins have been deleted from a section"):u.a._("Deleting Pins from","toast text to notify Pins are being deleted from a section","toast text to notify Pins are being deleted from a section"):r?u.a._("Deleted Pins from","toast text to notify Pins have been deleted from a board","toast text to notify Pins have been deleted from a board"):u.a._("Deleting Pins from","toast text to notify Pins are being deleted from a board","toast text to notify Pins are being deleted from a board");case"move_pins":return n?r?u.a._("Moved to","toast text to notify pins have been moved to this section","toast text to notify pins have been moved to this section"):u.a._("Moving to","toast text to notify pins are being moved to this section","toast text to notify pins are being moved to this section"):r?u.a._("Moved to","toast text to notify pins have been moved to this board","toast text to notify pins have been moved to this board"):u.a._("Moving to","toast text to notify pins are being moved to this board","toast text to notify pins are being moved to this board");case"merge":return n?r?u.a._("Moved to","toast text to notify anotehr section has been merged to this section","toast text to notify anotehr section has been merged to this section"):u.a._("Moving to","toast text to notify another section is being merged to this section","toast text to notify another section is being merged to this section"):r?u.a._("Moved to","toast text to notify another board has been merged to this board","toast text to notify another board has been merged to this board"):u.a._("Moving to","toast text to notify another board is being merged to this board","toast text to notify another board is being merged to this board");default:return null}}render(){const{actionStatus:e,location:t}=this.props,{visible:n,hiding:r}=this.state;if(!this.firstLine)return null;const i="inProgress"===e?t.name+"...":t.name;return o.a.createElement("div",{className:l()("ToastBase",{visible:n},{hiding:r}),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},o.a.createElement(d.Y,{text:o.a.createElement(o.a.Fragment,null,o.a.createElement(d.V,{color:"white"},this.firstLine),o.a.createElement(d.V,{color:"white",weight:"bold"},i)),thumbnail:"completed"===e?void 0:o.a.createElement(p,null)}))}}const m=2e3,g=5e3;const b=["merge","move_pins","create_section"];function y({blockingActions:e,actionType:t,boardId:n,sectionId:r}){return e.find(e=>!(function(e){switch(e){case 22:return"delete_board";case 7172:case 7173:return"merge";case 900:case 7158:case 7109:return"delete_pins";case 901:case 7108:return"move_pins";case 7100:return"create_section";case 7102:return"delete_section";default:return null}}(e.action_type)!==t||b.includes(e.action_type)&&e.is_origin||e.board_id!==n||(r?r!==e.section_id:e.section_id&&"-1"!==e.section_id)||1===e.progress))}let v=0;const _={};function E({check:e,checkDelay:t,checkInterval:n,onComplete:r}){const o="timeout"+v;v+=1;const i=()=>{const t=Date.now();e().then(e=>{const a=Date.now()-t;e?(r(),delete _[o]):_[o]=setTimeout(i,Math.max(1e3,n-a))}).catch(()=>{delete _[o]})};_[o]=setTimeout(i,t)}const S=(e,t,n,r)=>({onHide:i})=>o.a.createElement(f,{actionType:t,actionStatus:e,duration:"inProgress"===e?m:2e3,location:{name:r?r.title:n.name,isSection:!!r},onHide:i});function w(e){function t(t){const n=Object(i.useDispatch)(),{showToast:r}=Object(s.b)();return o.a.createElement(e,Object.assign({},t,{showBlockingActionToast:({actionType:e,board:t,section:o})=>{r(S("inProgress",e,t,o)),E({check:()=>n(Object(a.a)(t.id)).then(n=>!y({blockingActions:n,actionType:e,boardId:t.id,sectionId:o&&o.id})),checkDelay:m,checkInterval:g,onComplete:()=>r(S("completed",e,t,o))})}}))}return t.displayName=`WithShowBlockingActionToasts(${e.displayName||e.name||""})`,t}},vYwu:function(e,t,n){var r=n("lFJn");e.exports=function(e,t,n,o){for(var i=t,a=e.getCharacterList();i<n;)a=a.set(i,r.applyEntity(a.get(i),o)),i++;return e.set("characterList",a)}},vcNX:function(e,t,n){var r=n("SF5q"),o=n("3sOJ"),i=n("kWjT"),a=n("8d//");e.exports=function(e){var t=a(e,(function(e){var t=e.getSelection(),n=t.getStartOffset();if(0===n)return i(e,1);var o=t.getStartKey(),a=e.getCurrentContent().getBlockForKey(o).getText().slice(0,n),s=r.getBackward(a);return i(e,s.length||1)}),"backward");return t===e.getCurrentContent()?e:o.push(e,t,"remove-range")}},vgsE:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=i(n("q1tI")),o=i(n("EwI3"));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.mention,n=e.theme,i=(e.isFocused,e.searchValue,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["mention","theme","isFocused","searchValue"]));return r.default.createElement("div",i,r.default.createElement(o.default,{mention:t,theme:n}),r.default.createElement("span",{className:n.mentionSuggestionsEntryText},t.name))}},vh5K:function(e,t,n){n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return d}));var r=n("mwIZ"),o=n.n(r),i=n("17x9"),a=n.n(i);a.a.shape({}),a.a.number.isRequired,a.a.string.isRequired,a.a.number.isRequired,a.a.arrayOf(a.a.string),a.a.number.isRequired;function s(e){return!!e&&0!==e.type}const c=(e,t,n)=>{const r=e[n];return t[n]&&s(r)?r:null};function l(e){return o()(e,["display_data","anchor"])}function u(e,t,n,r=!1,o=!1){if(r&&e&&t)return`${e}%3A${t}`;const i=n[e];if(i){if(i.experience_id===t)return i.id.replace(":","%3A")}else if(o&&e&&t)return`${e}%3A${t}`;return null}function d(e,t){t&&8===t.type&&(e[l(t)]=t)}},vmVG:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("7nh8"),o=n("QLaP");t.default=function(e){return function(){var t=e.getMonitor(),n=e.getRegistry();!function(e){o(e.isDragging(),"Cannot call endDrag while not dragging.")}(t);var i=t.getSourceId();return n.getSource(i,!0).endDrag(t,i),n.unpinSource(),{type:r.END_DRAG}}}},vxan:function(e,t,n){n.d(t,"a",(function(){return s}));var r=n("q1tI"),o=n.n(r),i=n("mvLR");function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){var t,n;return n=t=class extends o.a.Component{constructor(...e){super(...e),a(this,"makeCancelablePromise",(e,t)=>{if(t){const e=this.cancelCallbackMap[t];e&&(e(),delete this.cancelCallbackMap[t])}const{cancel:n,promise:r}=Object(i.a)(e);return t?this.cancelCallbackMap[t]=n:this.cancelCallbacks.push(n),r}),a(this,"cancelCallbacks",[]),a(this,"cancelCallbackMap",{})}componentWillUnmount(){[...Object.keys(this.cancelCallbackMap).map(e=>this.cancelCallbackMap[e]),...this.cancelCallbacks].forEach(e=>e()),this.cancelCallbacks=[],this.cancelCallbackMap={}}render(){return o.a.createElement(e,Object.assign({},this.props,{makeCancelablePromise:this.makeCancelablePromise}))}},a(t,"displayName",`WithPromiseCancellation(${e.displayName||e.name||"Component"})`),n}},"w/op":function(e,t,n){},w70y:function(e,t,n){n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return p}));var r=n("q1tI"),o=n.n(r),i=n("/MKj"),a=n("lSCD"),s=n.n(a),c=n("aK+E"),l=n("EC67"),u=n("Wer7");const d={};function h({acceptPrefetch:e,allowStale:t,enabledRouteRefresh:n,dangerouslyDisableFetch:o,options:a,name:s,headers:h}){const p=Object(i.useDispatch)(),f=Object(c.a)(a),m=Object(r.useRef)(),g=e=>(e[s]||d)[f]||d,{isPrefetch:b,nextBookmark:y,prefetchHasBeenRead:v}=Object(i.useSelector)(({resources:e})=>g(e.data)),_=Object(i.useSelector)(({resources:e})=>g(e.data).data),E=Object(i.useSelector)(({resources:e})=>g(e.data).error),S=Object(i.useSelector)(({resources:e})=>Boolean((e.fetching[s]||d)[f])),w=Object(i.useSelector)(({resources:e})=>Boolean((e.data[s]||d)[f])),C=Object(l.g)(),O=C&&"POP"!==C.action,I=Boolean(w&&n&&O&&!o),[x,D]=Object(r.useState)(I);void 0===m.current&&w&&O&&e&&b&&!v&&!o&&p(Object(u.h)(s,a));const k=Object(r.useCallback)(()=>{o||p(Object(u.a)(s,a,h))},[o,p,h,s,f]),T=Object(r.useCallback)(()=>{o||p(Object(u.d)(s,a,h))},[o,h,s,f]),M=Object(r.useCallback)(()=>{o||(k(),D(!0))},[o,k,D]),j=Object(r.useRef)({data:void 0,error:void 0,fetchMore:T,isAtEnd:!1,isFetching:!1,isLoaded:!1,isPrefetch:void 0,isRefreshing:!1,nextBookmark:void 0,prefetchHasBeenRead:void 0,refreshData:M});Object(r.useEffect)(()=>{!1!==t&&w&&!I||k()},[]),Object(r.useEffect)(()=>{void 0!==m.current&&f!==m.current&&k(),m.current=f},[f]);const P={data:_,error:E,fetchMore:T,isAtEnd:w&&!S&&"-end-"===y,isFetching:S,isLoaded:w,isPrefetch:b,isRefreshing:x,nextBookmark:y,prefetchHasBeenRead:v,refreshData:M};return Object(i.shallowEqual)(P,j.current)||(!x||I||Object(i.shallowEqual)(P.data,j.current.data)||(P.isRefreshing=!1,D(!1)),j.current=P),j.current}function p(e){const t=e.key;return function(n){function r(r){const{dangerouslyDisableFetch:i,options:a,key:c,...l}=e,u=h({...l,options:(s()(a)?a(r):a)||{},dangerouslyDisableFetch:!!i&&i(r)}),d={[t]:u};return o.a.createElement(n,Object.assign({},r,d))}return r.displayName=`withResource[${e.name}](${n.displayName||n.name||""})`,r.WrappedComponent=n,r}}},weYu:function(e,t,n){n.d(t,"a",(function(){return j}));var r=n("q1tI"),o=n.n(r),i=n("8cMa"),a=n("JW66"),s=n("Ye/N"),c=n("rrvb"),l=n("jdx6"),u=n("n6mq");function d({boards:e,fetchMore:t,selectedBoard:n,onSelect:r,onSearchQueryUpdate:d,searchQuery:h}){return o.a.createElement(c.a,{dropdownValue:n?n.name:s.a._("Pick a board"),fetchMore:t,onSearchQueryUpdate:d,onSelect:r,renderRow:({item:{name:e,privacy:t,is_collaborative:n},hovered:r})=>o.a.createElement(u.e,{color:r?"lightGray":"white",display:"flex",padding:2,rounding:2},o.a.createElement(u.e,{flex:"grow"},o.a.createElement(u.V,{weight:"bold"},Object(l.b)(h,e))),o.a.createElement(u.e,{display:"flex",flex:"none",direction:"row"},t===a.a.BoardPrivacy.SECRET&&o.a.createElement(i.a,{type:"secret"}),n&&o.a.createElement(i.a,{type:"group"}))),searchQuery:h,sections:[{items:e}]})}var h=n("e3GI"),p=n("TiQD"),f=n("0BOE"),m=n("qyR9");function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class b extends o.a.PureComponent{constructor(...e){super(...e),g(this,"state",{query:""}),g(this,"handleQueryChange",e=>this.setState({query:e}))}render(){const{allBoardsResource:e,children:t}=this.props,{query:n}=this.state,r=!(e=>e.length<m.a)(n);if(!e.isLoaded||!e.data)return t({isLoaded:!1});const o=Array.isArray(e.data)?e.data:e.data.all_boards;return t({isLoaded:!0,results:r?Object(f.a)(o,n):o,fetchMore:void 0,isSearch:r,onQueryChange:this.handleQueryChange,query:n})}}var y=n("sEfC"),v=n.n(y);class _ extends o.a.PureComponent{constructor(...e){var t,n,r;super(...e),r={results:[]},(n="state")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}static getDerivedStateFromProps({results:e},{results:t}){return{results:e||t||[]}}render(){return this.props.children(this.state.results)}}var E=n("6vq5");var S=Object(E.a)({name:"SearchMyBoardsResource",key:"resource",options:({fieldSetKey:e,query:t})=>({field_set_key:e,query:t})},{dangerouslyDisableFetch:({clientResults:e})=>!!e})((function({children:e,clientResults:t,resource:{data:n}}){return o.a.createElement(_,{results:t||n},e)}));function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const C=e=>e.length<m.a;class O extends o.a.PureComponent{constructor(...e){super(...e),w(this,"state",{query:"",debouncedQuery:""}),w(this,"handleQueryChange",e=>{C(e)||this.props.allBoardsResource.isAtEnd?(this.debouncedSetQuery.cancel(),this.setState({query:e,debouncedQuery:e})):(this.setState({query:e}),this.debouncedSetQuery(e))}),w(this,"debouncedSetQuery",v()(e=>this.setState({debouncedQuery:e}),500,{leading:!0,trailing:!0}))}render(){const{children:e,fieldSetKey:t,allBoardsResource:n}=this.props,{query:r,debouncedQuery:i}=this.state;if(!n.isLoaded||!n.data)return e({isLoaded:!1});const a=Array.isArray(n.data)?n.data:n.data.all_boards,s=!C(i);let c,l;return s?n.isAtEnd&&(c=Object(f.a)(a,i)):(c=a,n.isAtEnd||n.isFetching||(l=n.fetchMore)),o.a.createElement(S,{clientResults:c,fieldSetKey:t,query:i},t=>e({isLoaded:!0,isSearch:s,query:r,onQueryChange:this.handleQueryChange,results:t,fetchMore:l}))}}var I=n("XCz/");function x({children:e,...t}){return o.a.createElement(I.a,{name:"web_paginated_boards"},({anyEnabled:n})=>{const r=n?O:b;return o.a.createElement(r,t,e)})}var D=n("w70y");function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const T="merge";class M extends o.a.Component{constructor(...e){super(...e),k(this,"state",{selectedTargetBoard:null}),k(this,"handleChange",e=>{this.setState({selectedTargetBoard:e})}),k(this,"handleSubmit",()=>{const{onSubmit:e}=this.props,{selectedTargetBoard:t}=this.state;t&&e(t)}),k(this,"renderModalBody",()=>{const{boardsResource:e,sourceBoardId:t}=this.props,{selectedTargetBoard:n}=this.state,{data:r}=e;if(!r)return o.a.createElement(u.O,{accessibilityLabel:s.a._("Loading board list","spinner accessibility label","spinner accessibility label"),show:!0});const i=r.find(e=>e.id===t);return 0===r.filter(e=>e.id!==t).length?o.a.createElement(u.V,null,s.a._("There is no board to merge this board into.","helper text for selecting merge target board","helper text for selecting merge target board")):o.a.createElement(u.e,{minHeight:400},o.a.createElement(u.e,{paddingY:1},o.a.createElement(x,{fieldSetKey:T,allBoardsResource:e},e=>e.isLoaded?o.a.createElement(d,{boards:e.results.filter(e=>e.id!==t),fetchMore:e.fetchMore,onSearchQueryUpdate:e.onQueryChange,onSelect:this.handleChange,searchQuery:e.query,selectedBoard:n}):null)),n&&i&&o.a.createElement(u.e,{paddingY:2},o.a.createElement(h.a,{sourceBoard:i,targetBoard:n})))})}render(){const{boardsResource:{data:e},onCancel:t}=this.props,{selectedTargetBoard:n}=this.state;return o.a.createElement(p.b,{accessibilityModalLabel:s.a._("Move Pins to","BoardEdit.BoardMergeModal.accessibilityLabel","accessibility label for board merging modal"),heading:n?s.a._("Move Pins and delete board?","title for board merging modal","title for board merging modal"):s.a._("Move all Pins to...","title for board merging modal","title for board merging modal"),onDismiss:t,footer:o.a.createElement(u.e,{display:"flex",justifyContent:"end"},o.a.createElement(u.g,null,o.a.createElement(u.f,{inline:!0,onClick:t,text:s.a._("Cancel")}),!!e&&o.a.createElement(u.f,{color:"red",disabled:!n,inline:!0,onClick:this.handleSubmit,text:s.a._("Move Pins and Delete Board","button for merging a board","button for merging a board")})))},o.a.createElement(u.e,{padding:8},this.renderModalBody()))}}function j(e){const t=Object(D.a)({name:"BoardsResource",options:{privacy_filter:"all",sort:"alphabetical",field_set_key:T,username:"me"},allowStale:!1});return o.a.createElement(M,Object.assign({},e,{boardsResource:t}))}},wj9o:function(e,t,n){var r=n("q1tI"),o=n.n(r),i=n("d7JY"),a=n("7pfs"),s=n("qD10"),c=n("+4a+"),l=n("n6mq");const u=Object(r.forwardRef)((e,t)=>{const{boardName:n,boardUrl:r,children:u,overFlowActionsButton:d,sectionName:h}=e;return o.a.createElement(l.e,{display:"flex",justifyContent:"center",marginBottom:8,paddingX:8,ref:t,width:"100%"},o.a.createElement(l.e,{display:"flex",direction:"column",maxWidth:c.a},o.a.createElement(i.a,null,o.a.createElement(l.e,{marginTop:4},o.a.createElement(s.a,{to:r},o.a.createElement(a.a,null,({active:e,focused:t,hovered:r,onBlur:i,onFocus:a,onMouseEnter:s,onMouseLeave:c})=>o.a.createElement(l.e,{onFocus:a,onBlur:i,onMouseEnter:s,onMouseLeave:c},o.a.createElement(l.s,{align:"center",color:e||t||r?"darkGray":"gray"},n)))))),o.a.createElement(i.a,null,o.a.createElement(l.e,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:-2},o.a.createElement(l.s,{align:"center"},h),!!d&&o.a.createElement(l.e,{paddingX:1},d)))),u&&o.a.createElement(l.e,{marginTop:8},u))});u.displayName="SectionHeader",t.a=u},xKh6:function(e,t,n){var r=n("eOdZ");var o=e=>r.a.create("InviteAttributionResource",{invite_code:e}).callCreate(),i=n("RNo4");t.a=(e=(e=>{}))=>{const t=Object(i.k)(window.location.search),n=t.invite_code;n?o(n):e(t)}},xOLo:function(e,t,n){n.r(t),n.d(t,"CarouselSliders",(function(){return m}));var r=n("q1tI"),o=n.n(r),i=n("/MKj"),a=n("XSD5"),s=n("ZbwW"),c=n("Ye/N"),l=n("0nTG"),u=n("U4JR"),d=n("n6mq");const h={slider:{cursor:"pointer",height:"100%",position:"relative",width:"10%",zIndex:"105",pointerEvents:"auto"}},p=(e,t,n,r,o,i,a,s,c,d)=>{if(!d||!o){const{carousel_slots:d,id:h}=o;Object(u.a)(108,{...c,objectId:t,component:s,view:a,viewParameter:i,eventData:{pinCarouselSlotEventData:{carouselSlotId:d[n]&&Number(d[n].id),carouselDataId:Number(h),carouselSlotIndex:n,toCarouselSlotIndex:r}},...Object(l.f)(e)||{}})}},f=(e,t,n,r,o,i)=>{i||void 0===r||(e.preventDefault(),e.stopPropagation(),r(t,n)),void 0!==o&&o(n)},m=({carouselIndex:e,carouselData:t,changeCarouselSlotIndex:n,handleCarouselSwipe:r,pin:i,pinId:a,contextLogData:s,viewParameter:l,viewType:u,componentType:m,isEditMode:g})=>{if(!t)return null;const{carousel_slots:b,index:y}=t,v=void 0!==e?e:y,_=Math.max(0,v-1),E=Math.min(b.length-1,v+1);return o.a.createElement(d.e,{display:"flex",justifyContent:"between",position:"absolute",left:!0,right:!0,bottom:!0,top:!0},o.a.createElement("div",{"data-test-id":"carousel-slider-left",role:"presentation",onClick:e=>{f(e,a,_,n,r,g),p(i,a,v,_,t,l,u,m,s,g)},onKeyUp:e=>{f(e,a,_,n,r,g),p(i,a,v,_,t,l,u,m,s,g)},style:h.slider},v>0&&o.a.createElement(d.e,{height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},o.a.createElement(d.t,{color:"white",icon:"arrow-back",accessibilityLabel:c.a._("View Previous","Button to advance carousel to the previous image","Button to advance carousel to the previous image")}))),o.a.createElement("div",{"data-test-id":"carousel-slider-right",role:"presentation",onClick:e=>{f(e,a,E,n,r,g),p(i,a,v,E,t,l,u,m,s,g)},onKeyUp:e=>{f(e,a,E,n,r,g),p(i,a,v,E,t,l,u,m,s,g)},style:h.slider},v<b.length-1&&o.a.createElement(d.e,{height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},o.a.createElement(d.t,{color:"white",icon:"arrow-forward",accessibilityLabel:c.a._("View Next","Button to advance carousel to the next image","Button to advance carousel to the next image")}))))};t.default=Object(i.connect)(({pins:e},{carouselData:t,pinId:n})=>{const r=e[n];return{pin:r,carouselData:t||Object(s.a)(r)}},e=>({changeCarouselSlotIndex:(t,n)=>e(Object(a.a)(t,n))}))(m)},xZ6X:function(e,t,n){n.d(t,"a",(function(){return a}));var r=n("q1tI"),o=n.n(r),i=n("n6mq");function a(e){const{iconNode:t,title:n,subtitle:r,accessory:a}=e;return o.a.createElement(i.e,{display:"flex",alignItems:"center",paddingX:4,paddingY:2},o.a.createElement(i.e,{marginEnd:2},t),o.a.createElement(i.e,{display:"flex",flex:"grow",alignItems:"start",direction:"column"},o.a.createElement(i.V,{color:"darkGray",size:"lg",truncate:!0,weight:"bold"},n),o.a.createElement(i.V,{truncate:!0,size:"sm",color:"gray"},r)),a&&o.a.createElement(i.e,null,a))}},xfna:function(e,t,n){n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return m}));var r=n("q1tI"),o=n.n(r),i=n("EHyI"),a=n("gg0E"),s=n("SyXB"),c=n("3/Bf"),l=n("+lzj"),u=n("HMdf");const d=Object(r.createContext)(null),h=Object(r.createContext)(null);function p({children:e,immutableLocation:t,resourceTimingCacheSize:n,routerHistoryAction:p,staticContext:f}){const m=Object(r.useRef)(null),g=Object(r.useRef)(null),b=Object(r.useRef)(t),y=Object(r.useRef)(!0);if(Object(r.useEffect)(()=>{Object(u.f)({size:n||1e3}),Object(l.c)(),Object(c.c)("totalSessionVolume"),window.performance?["clearMarks","clearMeasures","clearResourceTimings","getEntries","getEntriesByName","getEntriesByType","mark","measure","now","setResourceTimingBufferSize"].forEach(e=>{window.performance[e]||Object(c.c)("not_supported.window.performance."+e)}):Object(c.c)("not_supported.window.performance"),window.PerformanceObserver||Object(c.c)("not_supported.window.PerformanceObserer"),Object(a.a)()||Object(c.c)("not_supported.grid_profiler"),y.current=!1},[]),b.current!==t){b.current=t,g.current=(null===(v=window.performance)||void 0===v?void 0:v.now)?window.performance.now():null;const{current:e}=g;if(!y.current){Object(c.c)("routeStart",{tags:{action:p}}),Object(u.a)(),Object(l.a)(),Object(s.b)();const{customBufferSize:t,defaultBufferSize:n}=Object(u.e)();e&&(Object(c.c)("routeStart.customBufferSize",{count:t}),Object(c.c)("routeStart.defaultBufferSize",{count:n}),m.current={time:e,action:p})}}var v;const _=Object(i.a)(f.deviceType);return o.a.createElement(d.Provider,{value:_?f:null},o.a.createElement(h.Provider,{value:m.current},e))}const f=()=>Object(r.useContext)(h),m=()=>Object(r.useContext)(d)},xocI:function(e,t,n){var r=n("4pIB"),o=n("mFyV"),i=r.isBrowser("IE <= 9");e.exports=function(e){var t,n=null;return!i&&document.implementation&&document.implementation.createHTMLDocument&&((t=document.implementation.createHTMLDocument("foo")).documentElement||o(!1),t.documentElement.innerHTML=e,n=t.getElementsByTagName("body")[0]),n}},y0lr:function(e,t,n){var r=n("QDEm"),o=n("CJXx"),i=n("Iq8E"),a=n("zVay"),s=n("q1tI"),c=n("pXmp"),l=(a.List,function(e){var t,n;function a(){return e.apply(this,arguments)||this}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this.props,t=e.block,n=e.contentState,a=e.customStyleFn,l=e.customStyleMap,u=e.decorator,d=e.direction,h=e.forceSelection,p=e.hasSelection,f=e.selection,m=e.tree,g=t.getKey(),b=t.getText(),y=m.size-1,v=this.props.children||m.map((function(e,c){var m=e.get("decoratorKey"),v=e.get("leaves"),_=v.size-1,E=v.map((function(e,n){var r=i.encode(g,c,n),u=e.get("start"),d=e.get("end");return s.createElement(o,{key:r,offsetKey:r,block:t,start:u,selection:p?f:null,forceSelection:h,text:b.slice(u,d),styleSet:t.getInlineStyleAt(u),customStyleMap:l,customStyleFn:a,isLast:m===y&&n===_})})).toArray();return m&&u?s.createElement(r,{block:t,children:E,contentState:n,decorator:u,decoratorKey:m,direction:d,leafSet:e,text:b,key:c}):E})).toArray();return s.createElement("div",{"data-offset-key":i.encode(g,0,0),className:c({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":"LTR"===d,"public/DraftStyleDefault/rtl":"RTL"===d})},v)},a}(s.Component));e.exports=l},"y5P+":function(e,t,n){var r=n("mFyV"),o=/[\uD800-\uDFFF]/;function i(e){return 55296<=e&&e<=57343}function a(e){return o.test(e)}function s(e,t){return 1+i(e.charCodeAt(t))}function c(e,t,n){if(t=t||0,n=void 0===n?1/0:n||0,!a(e))return e.substr(t,n);var r=e.length;if(r<=0||t>r||n<=0)return"";var o=0;if(t>0){for(;t>0&&o<r;t--)o+=s(e,o);if(o>=r)return""}else if(t<0){for(o=r;t<0&&0<o;t++)o-=s(e,o-1);o<0&&(o=0)}var i=r;if(n<r)for(i=o;n>0&&i<r;n--)i+=s(e,i);return e.substring(o,i)}var l={getCodePoints:function(e){for(var t=[],n=0;n<e.length;n+=s(e,n))t.push(e.codePointAt(n));return t},getUTF16Length:s,hasSurrogateUnit:a,isCodeUnitInSurrogateRange:i,isSurrogatePair:function(e,t){if(0<=t&&t<e.length||r(!1),t+1===e.length)return!1;var n=e.charCodeAt(t),o=e.charCodeAt(t+1);return 55296<=n&&n<=56319&&56320<=o&&o<=57343},strlen:function(e){if(!a(e))return e.length;for(var t=0,n=0;n<e.length;n+=s(e,n))t++;return t},substring:function(e,t,n){(t=t||0)<0&&(t=0),(n=void 0===n?1/0:n||0)<0&&(n=0);var r=Math.abs(n-t);return c(e,t=t<n?t:n,r)},substr:c};e.exports=l},y9Ij:function(e,t,n){n.d(t,"a",(function(){return h}));var r=n("q1tI"),o=n.n(r),i=(n("PNKV"),n("TSYQ")),a=n.n(i),s=n("XR+S"),c=n("Ye/N"),l=n("uyxo"),u=n("n6mq");const d=Object(r.memo)(Object(r.forwardRef)(({carouselData:e,disabled:t=!1,iconOnly:n,isCloseupPin:r,onBoardUpdated:i,onClick:s,onSavedClick:d,onToggleModal:h,onUnsaved:p,renderSavedStatus:f,saveButtonType:m="classic",saved:g,savedInfo:b,variant:y="classic",viewParameter:v},_)=>g&&"controlled"===m?o.a.createElement(u.f,{disabled:!0,text:c.a._("Saved"),size:"sm"}):!r&&b&&f&&p&&i&&"classic"===m?o.a.createElement(l.a,{currentCarouselIndex:e&&e.index,onDeleteSavedState:p,onEditSubmit:i,onToggleModal:h,pinId:b.localPinId,variant:"pin",viewParameter:v},f()):g&&"classic"===m&&r?o.a.createElement(u.f,{accessibilityLabel:c.a._("Saved button","saveButton.saved.label","Saved state label on save button"),text:c.a._("Saved!","saveButton.saved","Saved state text on save button"),size:"md",color:"white",onClick:d}):n?o.a.createElement("div",{ref:_,"data-test-id":"SaveButton"},o.a.createElement(u.u,{accessibilityLabel:c.a._("Save","Accessibility label for the save button","Accessibility label for the save button"),bgColor:"white",icon:"pin",onClick:({event:e})=>s(e),iconColor:"darkGray"})):o.a.createElement(u.e,{display:r?void 0:"flex",justifyContent:"end"},o.a.createElement("div",{ref:_,className:a()("SaveButton",t?"SaveButton--disabled":"SaveButton--enabled",{"SaveButton--lego":"lego"===y}),"data-test-id":"SaveButton",onClick:t?void 0:s,onKeyPress:t?void 0:e=>{32!==e.charCode&&13!==e.charCode||(e.preventDefault(),s(e))},role:"button",tabIndex:"0"},o.a.createElement("div",{className:a()("SaveButton__background",t?"SaveButton__background--disabled":"SaveButton__background--enabled",{"SaveButton__background--lego":"lego"===y})},o.a.createElement(u.e,{alignItems:"center",minHeight:40,dangerouslySetInlineStyle:{__style:{padding:"10px 14px"}},display:"flex"},o.a.createElement(u.V,{color:t?"gray":"white",size:"lego"===y?"sm":"md",weight:"bold"},o.a.createElement("span",{className:a()("SaveButton__label",{"SaveButton__label--lego":"lego"===y})},c.a._("Save","Pin save button label","Pin save button label"))))))))),h=({isPulsarDisplayed:e,...t})=>{const[n,i]=Object(r.useState)(null),a=Object(r.useCallback)(e=>{i(e)},[n]);return o.a.createElement(s.a,{anchor:".PinActionBar .repin.pinActionBarButton",anchorElementRef:n,isHidden:!e},o.a.createElement(d,Object.assign({ref:a},t)))};t.b=d},yBr6:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("/Ecc"),o=n("zpn9");function i(e){var t=1===e.nodeType?e:e.parentElement;if(!t)return null;var n=t.getBoundingClientRect(),r=n.top;return{x:n.left,y:r}}t.getNodeClientOffset=i,t.getEventClientOffset=function(e){return{x:e.clientX,y:e.clientY}},t.getDragPreviewOffset=function(e,t,n,a,s){var c,l,u="IMG"===(c=t).nodeName&&(r.isFirefox()||!document.documentElement.contains(c)),d=i(u?e:t),h={x:n.x-d.x,y:n.y-d.y},p=e.offsetWidth,f=e.offsetHeight,m=a.anchorX,g=a.anchorY,b=function(e,t,n,o){var i=e?t.width:n,a=e?t.height:o;return r.isSafari()&&e&&(a/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:a}}(u,t,p,f),y=b.dragPreviewWidth,v=b.dragPreviewHeight,_=s.offsetX,E=s.offsetY,S=0===E||E;return{x:0===_||_?_:new o.default([0,.5,1],[h.x,h.x/p*y,h.x+y-p]).interpolate(m),y:S?E:(l=new o.default([0,.5,1],[h.y,h.y/f*v,h.y+v-f]).interpolate(g),r.isSafari()&&u&&(l+=(window.devicePixelRatio-1)*v),l)}}},yCO0:function(e,t,n){function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n("U4W0")),r(n("aS9Y"))},yJZD:function(e,t,n){n.d(t,"a",(function(){return o}));var r=n("w70y");function o({board:{id:e,owner:t},children:n}){const{data:o,isLoaded:i}=Object(r.a)({name:"BoardCollaboratorsResource",options:{board_id:e},allowStale:!1}),a=t.image_key||t.image_medium_url||t.image_small_url,s=[{name:t.full_name,src:a,href:`/${t.username}/`}];return i&&o&&o.length>0&&o.forEach(e=>{const t=e.image_key||e.image_medium_url||e.image_small_url;s.push({name:e.full_name,src:t,href:`/${e.username}/`})}),n(s)}},yKES:function(e,t,n){n.d(t,"a",(function(){return c}));var r=n("q1tI"),o=n.n(r),i=n("Ye/N"),a=n("US8k"),s=n("n6mq");function c({duration:e}){return o.a.createElement(s.e,{alignItems:"center",color:"transparentDarkGray",display:"flex",height:24,justifyContent:"center",paddingX:2,rounding:"pill"},o.a.createElement(s.t,{accessibilityLabel:i.a._("Video camera icon","Video camera indicator icon for a Pin","Video camera indicator icon for a Pin"),color:"white",icon:"video-camera"}),o.a.createElement(s.e,{marginStart:1},o.a.createElement(s.V,{color:"white",size:"sm",truncate:!0},Object(a.a)(e))))}},yUGJ:function(e,t,n){function r(){var e;return document.documentElement&&(e=document.documentElement.clientWidth),!e&&document.body&&(e=document.body.clientWidth),e||0}function o(){var e;return document.documentElement&&(e=document.documentElement.clientHeight),!e&&document.body&&(e=document.body.clientHeight),e||0}function i(){return{width:window.innerWidth||r(),height:window.innerHeight||o()}}i.withoutScrollbars=function(){return{width:r(),height:o()}},e.exports=i},yeYm:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.composeDecorators=t.createEditorStateWithText=t.default=void 0;var r=a(n("83bQ")),o=a(n("7asU")),i=a(n("q2v6"));function a(e){return e&&e.__esModule?e:{default:e}}t.default=i.default;t.createEditorStateWithText=r.default,t.composeDecorators=o.default},ypm9:function(e,t,n){n.d(t,"a",(function(){return c}));var r=n("q1tI"),o=n("/MKj"),i=n("xKh6"),a=n("G8fK"),s=n("EC67");function c(){const e=Object(o.useDispatch)(),t=Object(s.g)(),{pathname:n}=Object(s.h)(),c=Object(o.useSelector)(({ui:e})=>e.mainComponent.locationToErrorMap);Object(r.useEffect)(()=>{Object(i.a)();const r=`/${n.split("/")[1]}/`;c[n]&&(e(Object(a.a)(r,c[n])),t.replace(r))},[])}},yxyD:function(e,t,n){var r=n("y5P+"),o=n("Taje"),i=function(e,t){return e===t},a=function(e){return!!e},s=[];e.exports=function(e){var t=e.getCharacterList().map((function(e){return e.getStyle()})).toList(),n=t.flatten().toSet().map((function(n){return function(e,t,n){var s=[],c=t.map((function(e){return e.has(n)})).toList();return o(c,i,a,(function(t,o){var i=e.getText();s.push({offset:r.strlen(i.slice(0,t)),length:r.strlen(i.slice(t,o)),style:n})})),s}(e,t,n)}));return Array.prototype.concat.apply(s,n.toJS())}},z19Z:function(e,t,n){n.d(t,"e",(function(){return d})),n.d(t,"b",(function(){return h})),n.d(t,"f",(function(){return p})),n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return g}));var r=n("xAAE"),o=n("eOdZ"),i=n("gxu6"),a=n("zwad");var s={open(e,t,n,o,s){const c=Math.round(1e3*Math.random())+"",l=Math.round(1e3*Math.random())+"";i.b("offsite_"+c,l);const u={token:c+"-"+l,url:e,csr:void 0,pin:void 0,client_tracking_params:o,aux_data:s?JSON.stringify(s):void 0};t?u.pin=t:n&&(u.csr=n),Object(r.a)("/offsite/?"+a.a.getQueryStringFromObject(u),!0)}},c=n("ajUs");var l=n("a9a9"),u=n("078/");const d=()=>{window&&window.focus(),document.activeElement&&document.activeElement.blur()},h=({isExternalLink:e,event:t,forceOnClick:n})=>!e&&(t.metaKey||t.ctrlKey)&&!n,p=({location:e,pinId:t="",surface:n})=>{const r=Boolean(n),o=u.a.includes(n),i=e.pathname.includes(t||"");return!!(r&&!o||i)},f=async({isMounted:e,pin:t,location:n,spamCheckCallback:r,href:i})=>{const a=o.a.create("OffsiteLinkResource",{check_only:!0,client_tracking_params:Object(c.a)(t,n),pin_id:null==t?void 0:t.id,url:i}),s=await a.callGet({showError:!1});if(!(null==s?void 0:s.resource_response.error)&&e){const e=s.resource_response.data||{},{message:t,redirect_status:n,url:o}=e;r({blocked:["blocked","suspicious","porn"].includes(n),message:t,redirectStatus:n,sanitized_url:o})}},m=({event:e,onHistoryChange:t,href:n,history:o,target:i})=>{const s=a.a.getUrlClass(n);s===a.a.UrlClass.TRUSTED_DIFFERENT_ORIGIN||"blank"===i?Object(r.a)(n,"blank"===i):o&&s===a.a.UrlClass.SAME_ORIGIN&&(o.push(a.a.normalizeUrl(n)),t&&t({event:e}))},g=({href:e,pinId:t,pin:n,location:r,auxData:i,spamCheck:a})=>{"undefined"!=typeof window&&window.Windows?function({url:e,pinId:t,pin:n,location:r,auxData:i}){const a={check_only:!0,client_tracking_params:n?Object(c.a)(n,r):void 0,pin_id:n?n.id:t,url:e,aux_data:JSON.stringify(i)};o.a.create("OffsiteLinkResource",a).callGet().then(o=>{if(o&&o.resource_response&&!o.resource_response.error){const{resource_response:e}=o,{redirect_status:t,url:n}=e.data;if(!["blocked","suspicious","porn"].includes(t)){if(window.Windows.Foundation&&window.Windows.System&&window.Windows.System.Launcher&&window.Windows.System.Launcher.launchUriAsync){const e=new window.Windows.Foundation.Uri(n);window.Windows.System.Launcher.launchUriAsync(e)}return}}if(n){const o=Object(c.a)(n,r);s.open(e,t,null,o,i)}else s.open(e,t)})}({url:e,pinId:t,pin:n,location:r,auxData:i}):n?(({spamCheck:e,auxData:t,location:n,pin:r,pinId:o,href:i})=>{(null==e?void 0:e.blocked)?Object(l.b)(e):s.open(i,o,null,Object(c.a)(r,n),t)})({spamCheck:a,auxData:i,location:r,pin:n,pinId:t,href:e}):s.open(e,t)}},z2oT:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=i(n("q1tI")),o=i(n("iuhU"));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(e){var t=e.mention,n=e.children,o=e.className;return r.default.createElement("a",{href:t.link,className:o,spellCheck:!1},n)},s=function(e){var t=e.children,n=e.className;return r.default.createElement("span",{className:n,spellCheck:!1},t)};t.default=function(e){var t=e.entityKey,n=e.theme,i=void 0===n?{}:n,c=e.mentionComponent,l=e.children,u=e.decoratedText,d=e.className,h=e.contentState,p=(0,o.default)(i.mention,d),f=h.getEntity(t).getData().mention,m=c||(f.link?a:s);return r.default.createElement(m,{entityKey:t,mention:f,theme:i,className:p,decoratedText:u},l)}},z3qU:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("/ZYE"),o=n("utGV"),i=n("q1tI"),a=n("2S0S");t.useDrop=function(e){var t=i.useRef(e);t.current=e,a(null!=e.accept,"accept must be defined");var n=o.useDropTargetMonitor(),s=n[0],c=n[1];o.useDropHandler(t,s,c);var l=r.useMonitorOutput(s,t.current.collect||function(){return{}},(function(){return c.reconnect()})),u=i.useMemo((function(){return c.hooks.dropTarget()}),[c]);return i.useEffect((function(){c.dropTargetOptions=e.options||null,c.reconnect()}),[e.options]),[l,u]}},zORg:function(e,t,n){var r=n("GyOf");e.exports=function e(t){if(r(t)){var n=t,o=n.getAttribute("data-offset-key");if(o)return o;for(var i=0;i<n.childNodes.length;i++){var a=e(n.childNodes[i]);if(a)return a}}return null}},zUcL:function(e,t,n){n.d(t,"a",(function(){return a}));var r=n("q1tI"),o=n.n(r),i=n("n6mq");function a({children:e,setMaxWidth:t=!0}){return o.a.createElement(i.e,{width:"100%",display:"flex",justifyContent:"center"},t?o.a.createElement(i.e,{width:"100%",paddingX:2,maxWidth:774},e):o.a.createElement(i.e,{width:"100%"},e))}},zVay:function(e,t,n){e.exports=function(){var e=Array.prototype.slice;function t(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function n(e){return a(e)?e:G(e)}function r(e){return s(e)?e:Y(e)}function o(e){return c(e)?e:J(e)}function i(e){return a(e)&&!l(e)?e:X(e)}function a(e){return!(!e||!e[d])}function s(e){return!(!e||!e[h])}function c(e){return!(!e||!e[p])}function l(e){return s(e)||c(e)}function u(e){return!(!e||!e[f])}t(r,n),t(o,n),t(i,n),n.isIterable=a,n.isKeyed=s,n.isIndexed=c,n.isAssociative=l,n.isOrdered=u,n.Keyed=r,n.Indexed=o,n.Set=i;var d="@@__IMMUTABLE_ITERABLE__@@",h="@@__IMMUTABLE_KEYED__@@",p="@@__IMMUTABLE_INDEXED__@@",f="@@__IMMUTABLE_ORDERED__@@",m="delete",g=5,b=1<<g,y=b-1,v={},_={value:!1},E={value:!1};function S(e){return e.value=!1,e}function w(e){e&&(e.value=!0)}function C(){}function O(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),o=0;o<n;o++)r[o]=e[o+t];return r}function I(e){return void 0===e.size&&(e.size=e.__iterate(D)),e.size}function x(e,t){if("number"!=typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?I(e)+t:t}function D(){return!0}function k(e,t,n){return(0===e||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function T(e,t){return j(e,t,0)}function M(e,t){return j(e,t,t)}function j(e,t,n){return void 0===e?n:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}var P=0,B=1,A=2,R="function"==typeof Symbol&&Symbol.iterator,L="@@iterator",N=R||L;function F(e){this.next=e}function z(e,t,n,r){var o=0===e?t:1===e?n:[t,n];return r?r.value=o:r={value:o,done:!1},r}function q(){return{value:void 0,done:!0}}function U(e){return!!V(e)}function H(e){return e&&"function"==typeof e.next}function K(e){var t=V(e);return t&&t.call(e)}function V(e){var t=e&&(R&&e[R]||e[L]);if("function"==typeof t)return t}function W(e){return e&&"number"==typeof e.length}function G(e){return null==e?ae():a(e)?e.toSeq():le(e)}function Y(e){return null==e?ae().toKeyedSeq():a(e)?s(e)?e.toSeq():e.fromEntrySeq():se(e)}function J(e){return null==e?ae():a(e)?s(e)?e.entrySeq():e.toIndexedSeq():ce(e)}function X(e){return(null==e?ae():a(e)?s(e)?e.entrySeq():e:ce(e)).toSetSeq()}F.prototype.toString=function(){return"[Iterator]"},F.KEYS=P,F.VALUES=B,F.ENTRIES=A,F.prototype.inspect=F.prototype.toSource=function(){return this.toString()},F.prototype[N]=function(){return this},t(G,n),G.of=function(){return G(arguments)},G.prototype.toSeq=function(){return this},G.prototype.toString=function(){return this.__toString("Seq {","}")},G.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},G.prototype.__iterate=function(e,t){return de(this,e,t,!0)},G.prototype.__iterator=function(e,t){return he(this,e,t,!0)},t(Y,G),Y.prototype.toKeyedSeq=function(){return this},t(J,G),J.of=function(){return J(arguments)},J.prototype.toIndexedSeq=function(){return this},J.prototype.toString=function(){return this.__toString("Seq [","]")},J.prototype.__iterate=function(e,t){return de(this,e,t,!1)},J.prototype.__iterator=function(e,t){return he(this,e,t,!1)},t(X,G),X.of=function(){return X(arguments)},X.prototype.toSetSeq=function(){return this},G.isSeq=ie,G.Keyed=Y,G.Set=X,G.Indexed=J;var Q,$,Z,ee="@@__IMMUTABLE_SEQ__@@";function te(e){this._array=e,this.size=e.length}function ne(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function re(e){this._iterable=e,this.size=e.length||e.size}function oe(e){this._iterator=e,this._iteratorCache=[]}function ie(e){return!(!e||!e[ee])}function ae(){return Q||(Q=new te([]))}function se(e){var t=Array.isArray(e)?new te(e).fromEntrySeq():H(e)?new oe(e).fromEntrySeq():U(e)?new re(e).fromEntrySeq():"object"==typeof e?new ne(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function ce(e){var t=ue(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function le(e){var t=ue(e)||"object"==typeof e&&new ne(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}function ue(e){return W(e)?new te(e):H(e)?new oe(e):U(e)?new re(e):void 0}function de(e,t,n,r){var o=e._cache;if(o){for(var i=o.length-1,a=0;a<=i;a++){var s=o[n?i-a:a];if(!1===t(s[1],r?s[0]:a,e))return a+1}return a}return e.__iterateUncached(t,n)}function he(e,t,n,r){var o=e._cache;if(o){var i=o.length-1,a=0;return new F((function(){var e=o[n?i-a:a];return a++>i?q():z(t,r?e[0]:a-1,e[1])}))}return e.__iteratorUncached(t,n)}function pe(e,t){return t?fe(t,e,"",{"":e}):me(e)}function fe(e,t,n,r){return Array.isArray(t)?e.call(r,n,J(t).map((function(n,r){return fe(e,n,r,t)}))):ge(t)?e.call(r,n,Y(t).map((function(n,r){return fe(e,n,r,t)}))):t}function me(e){return Array.isArray(e)?J(e).map(me).toList():ge(e)?Y(e).map(me).toMap():e}function ge(e){return e&&(e.constructor===Object||void 0===e.constructor)}function be(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!=e&&t!=t)return!0;if(!e||!t)return!1}return!("function"!=typeof e.equals||"function"!=typeof t.equals||!e.equals(t))}function ye(e,t){if(e===t)return!0;if(!a(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||s(e)!==s(t)||c(e)!==c(t)||u(e)!==u(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!l(e);if(u(e)){var r=e.entries();return t.every((function(e,t){var o=r.next().value;return o&&be(o[1],e)&&(n||be(o[0],t))}))&&r.next().done}var o=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{o=!0;var i=e;e=t,t=i}var d=!0,h=t.__iterate((function(t,r){if(n?!e.has(t):o?!be(t,e.get(r,v)):!be(e.get(r,v),t))return d=!1,!1}));return d&&e.size===h}function ve(e,t){if(!(this instanceof ve))return new ve(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if($)return $;$=this}}function _e(e,t){if(!e)throw new Error(t)}function Ee(e,t,n){if(!(this instanceof Ee))return new Ee(e,t,n);if(_e(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),n=void 0===n?1:Math.abs(n),t<e&&(n=-n),this._start=e,this._end=t,this._step=n,this.size=Math.max(0,Math.ceil((t-e)/n-1)+1),0===this.size){if(Z)return Z;Z=this}}function Se(){throw TypeError("Abstract")}function we(){}function Ce(){}function Oe(){}G.prototype[ee]=!0,t(te,J),te.prototype.get=function(e,t){return this.has(e)?this._array[x(this,e)]:t},te.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length-1,o=0;o<=r;o++)if(!1===e(n[t?r-o:o],o,this))return o+1;return o},te.prototype.__iterator=function(e,t){var n=this._array,r=n.length-1,o=0;return new F((function(){return o>r?q():z(e,o,n[t?r-o++:o++])}))},t(ne,Y),ne.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},ne.prototype.has=function(e){return this._object.hasOwnProperty(e)},ne.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,o=r.length-1,i=0;i<=o;i++){var a=r[t?o-i:i];if(!1===e(n[a],a,this))return i+1}return i},ne.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,o=r.length-1,i=0;return new F((function(){var a=r[t?o-i:i];return i++>o?q():z(e,a,n[a])}))},ne.prototype[f]=!0,t(re,J),re.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=K(this._iterable),r=0;if(H(n))for(var o;!(o=n.next()).done&&!1!==e(o.value,r++,this););return r},re.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=K(this._iterable);if(!H(n))return new F(q);var r=0;return new F((function(){var t=n.next();return t.done?t:z(e,r++,t.value)}))},t(oe,J),oe.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var n,r=this._iterator,o=this._iteratorCache,i=0;i<o.length;)if(!1===e(o[i],i++,this))return i;for(;!(n=r.next()).done;){var a=n.value;if(o[i]=a,!1===e(a,i++,this))break}return i},oe.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterator,r=this._iteratorCache,o=0;return new F((function(){if(o>=r.length){var t=n.next();if(t.done)return t;r[o]=t.value}return z(e,o,r[o++])}))},t(ve,J),ve.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},ve.prototype.get=function(e,t){return this.has(e)?this._value:t},ve.prototype.includes=function(e){return be(this._value,e)},ve.prototype.slice=function(e,t){var n=this.size;return k(e,t,n)?this:new ve(this._value,M(t,n)-T(e,n))},ve.prototype.reverse=function(){return this},ve.prototype.indexOf=function(e){return be(this._value,e)?0:-1},ve.prototype.lastIndexOf=function(e){return be(this._value,e)?this.size:-1},ve.prototype.__iterate=function(e,t){for(var n=0;n<this.size;n++)if(!1===e(this._value,n,this))return n+1;return n},ve.prototype.__iterator=function(e,t){var n=this,r=0;return new F((function(){return r<n.size?z(e,r++,n._value):q()}))},ve.prototype.equals=function(e){return e instanceof ve?be(this._value,e._value):ye(e)},t(Ee,J),Ee.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},Ee.prototype.get=function(e,t){return this.has(e)?this._start+x(this,e)*this._step:t},Ee.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},Ee.prototype.slice=function(e,t){return k(e,t,this.size)?this:(e=T(e,this.size),(t=M(t,this.size))<=e?new Ee(0,0):new Ee(this.get(e,this._end),this.get(t,this._end),this._step))},Ee.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step==0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},Ee.prototype.lastIndexOf=function(e){return this.indexOf(e)},Ee.prototype.__iterate=function(e,t){for(var n=this.size-1,r=this._step,o=t?this._start+n*r:this._start,i=0;i<=n;i++){if(!1===e(o,i,this))return i+1;o+=t?-r:r}return i},Ee.prototype.__iterator=function(e,t){var n=this.size-1,r=this._step,o=t?this._start+n*r:this._start,i=0;return new F((function(){var a=o;return o+=t?-r:r,i>n?q():z(e,i++,a)}))},Ee.prototype.equals=function(e){return e instanceof Ee?this._start===e._start&&this._end===e._end&&this._step===e._step:ye(this,e)},t(Se,n),t(we,Se),t(Ce,Se),t(Oe,Se),Se.Keyed=we,Se.Indexed=Ce,Se.Set=Oe;var Ie="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var n=65535&(e|=0),r=65535&(t|=0);return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0};function xe(e){return e>>>1&1073741824|3221225471&e}function De(e){if(!1===e||null==e)return 0;if("function"==typeof e.valueOf&&(!1===(e=e.valueOf())||null==e))return 0;if(!0===e)return 1;var t=typeof e;if("number"===t){var n=0|e;for(n!==e&&(n^=4294967295*e);e>4294967295;)n^=e/=4294967295;return xe(n)}if("string"===t)return e.length>Fe?ke(e):Te(e);if("function"==typeof e.hashCode)return e.hashCode();if("object"===t)return Me(e);if("function"==typeof e.toString)return Te(e.toString());throw new Error("Value type "+t+" cannot be hashed.")}function ke(e){var t=Ue[e];return void 0===t&&(t=Te(e),qe===ze&&(qe=0,Ue={}),qe++,Ue[e]=t),t}function Te(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return xe(t)}function Me(e){var t;if(Re&&void 0!==(t=Ae.get(e)))return t;if(void 0!==(t=e[Ne]))return t;if(!Pe){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Ne]))return t;if(void 0!==(t=Be(e)))return t}if(t=++Le,1073741824&Le&&(Le=0),Re)Ae.set(e,t);else{if(void 0!==je&&!1===je(e))throw new Error("Non-extensible objects are not allowed as keys.");if(Pe)Object.defineProperty(e,Ne,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Ne]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Ne]=t}}return t}var je=Object.isExtensible,Pe=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}();function Be(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}var Ae,Re="function"==typeof WeakMap;Re&&(Ae=new WeakMap);var Le=0,Ne="__immutablehash__";"function"==typeof Symbol&&(Ne=Symbol(Ne));var Fe=16,ze=255,qe=0,Ue={};function He(e){_e(e!==1/0,"Cannot perform this action with an infinite size.")}function Ke(e){return null==e?ot():Ve(e)&&!u(e)?e:ot().withMutations((function(t){var n=r(e);He(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}function Ve(e){return!(!e||!e[Ge])}t(Ke,we),Ke.prototype.toString=function(){return this.__toString("Map {","}")},Ke.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},Ke.prototype.set=function(e,t){return it(this,e,t)},Ke.prototype.setIn=function(e,t){return this.updateIn(e,v,(function(){return t}))},Ke.prototype.remove=function(e){return it(this,e,v)},Ke.prototype.deleteIn=function(e){return this.updateIn(e,(function(){return v}))},Ke.prototype.update=function(e,t,n){return 1===arguments.length?e(this):this.updateIn([e],t,n)},Ke.prototype.updateIn=function(e,t,n){n||(n=t,t=void 0);var r=gt(this,Sn(e),t,n);return r===v?void 0:r},Ke.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):ot()},Ke.prototype.merge=function(){return ht(this,void 0,arguments)},Ke.prototype.mergeWith=function(t){return ht(this,t,e.call(arguments,1))},Ke.prototype.mergeIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,ot(),(function(e){return"function"==typeof e.merge?e.merge.apply(e,n):n[n.length-1]}))},Ke.prototype.mergeDeep=function(){return ht(this,pt,arguments)},Ke.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return ht(this,ft(t),n)},Ke.prototype.mergeDeepIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,ot(),(function(e){return"function"==typeof e.mergeDeep?e.mergeDeep.apply(e,n):n[n.length-1]}))},Ke.prototype.sort=function(e){return Ut(dn(this,e))},Ke.prototype.sortBy=function(e,t){return Ut(dn(this,t,e))},Ke.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},Ke.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new C)},Ke.prototype.asImmutable=function(){return this.__ensureOwner()},Ke.prototype.wasAltered=function(){return this.__altered},Ke.prototype.__iterator=function(e,t){return new et(this,e,t)},Ke.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate((function(t){return r++,e(t[1],t[0],n)}),t),r},Ke.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?rt(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Ke.isMap=Ve;var We,Ge="@@__IMMUTABLE_MAP__@@",Ye=Ke.prototype;function Je(e,t){this.ownerID=e,this.entries=t}function Xe(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n}function Qe(e,t,n){this.ownerID=e,this.count=t,this.nodes=n}function $e(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n}function Ze(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n}function et(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&nt(e._root)}function tt(e,t){return z(e,t[0],t[1])}function nt(e,t){return{node:e,index:0,__prev:t}}function rt(e,t,n,r){var o=Object.create(Ye);return o.size=e,o._root=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function ot(){return We||(We=rt(0))}function it(e,t,n){var r,o;if(e._root){var i=S(_),a=S(E);if(r=at(e._root,e.__ownerID,0,void 0,t,n,i,a),!a.value)return e;o=e.size+(i.value?n===v?-1:1:0)}else{if(n===v)return e;o=1,r=new Je(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=o,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?rt(o,r):ot()}function at(e,t,n,r,o,i,a,s){return e?e.update(t,n,r,o,i,a,s):i===v?e:(w(s),w(a),new Ze(t,r,[o,i]))}function st(e){return e.constructor===Ze||e.constructor===$e}function ct(e,t,n,r,o){if(e.keyHash===r)return new $e(t,r,[e.entry,o]);var i,a=(0===n?e.keyHash:e.keyHash>>>n)&y,s=(0===n?r:r>>>n)&y;return new Xe(t,1<<a|1<<s,a===s?[ct(e,t,n+g,r,o)]:(i=new Ze(t,r,o),a<s?[e,i]:[i,e]))}function lt(e,t,n,r){e||(e=new C);for(var o=new Ze(e,De(n),[n,r]),i=0;i<t.length;i++){var a=t[i];o=o.update(e,0,void 0,a[0],a[1])}return o}function ut(e,t,n,r){for(var o=0,i=0,a=new Array(n),s=0,c=1,l=t.length;s<l;s++,c<<=1){var u=t[s];void 0!==u&&s!==r&&(o|=c,a[i++]=u)}return new Xe(e,o,a)}function dt(e,t,n,r,o){for(var i=0,a=new Array(b),s=0;0!==n;s++,n>>>=1)a[s]=1&n?t[i++]:void 0;return a[r]=o,new Qe(e,i+1,a)}function ht(e,t,n){for(var o=[],i=0;i<n.length;i++){var s=n[i],c=r(s);a(s)||(c=c.map((function(e){return pe(e)}))),o.push(c)}return mt(e,t,o)}function pt(e,t,n){return e&&e.mergeDeep&&a(t)?e.mergeDeep(t):be(e,t)?e:t}function ft(e){return function(t,n,r){if(t&&t.mergeDeepWith&&a(n))return t.mergeDeepWith(e,n);var o=e(t,n,r);return be(t,o)?t:o}}function mt(e,t,n){return 0===(n=n.filter((function(e){return 0!==e.size}))).length?e:0!==e.size||e.__ownerID||1!==n.length?e.withMutations((function(e){for(var r=t?function(n,r){e.update(r,v,(function(e){return e===v?n:t(e,n,r)}))}:function(t,n){e.set(n,t)},o=0;o<n.length;o++)n[o].forEach(r)})):e.constructor(n[0])}function gt(e,t,n,r){var o=e===v,i=t.next();if(i.done){var a=o?n:e,s=r(a);return s===a?e:s}_e(o||e&&e.set,"invalid keyPath");var c=i.value,l=o?v:e.get(c,v),u=gt(l,t,n,r);return u===l?e:u===v?e.remove(c):(o?ot():e).set(c,u)}function bt(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function yt(e,t,n,r){var o=r?e:O(e);return o[t]=n,o}function vt(e,t,n,r){var o=e.length+1;if(r&&t+1===o)return e[t]=n,e;for(var i=new Array(o),a=0,s=0;s<o;s++)s===t?(i[s]=n,a=-1):i[s]=e[s+a];return i}function _t(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var o=new Array(r),i=0,a=0;a<r;a++)a===t&&(i=1),o[a]=e[a+i];return o}Ye[Ge]=!0,Ye[m]=Ye.remove,Ye.removeIn=Ye.deleteIn,Je.prototype.get=function(e,t,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(be(n,o[i][0]))return o[i][1];return r},Je.prototype.update=function(e,t,n,r,o,i,a){for(var s=o===v,c=this.entries,l=0,u=c.length;l<u&&!be(r,c[l][0]);l++);var d=l<u;if(d?c[l][1]===o:s)return this;if(w(a),(s||!d)&&w(i),!s||1!==c.length){if(!d&&!s&&c.length>=Et)return lt(e,c,r,o);var h=e&&e===this.ownerID,p=h?c:O(c);return d?s?l===u-1?p.pop():p[l]=p.pop():p[l]=[r,o]:p.push([r,o]),h?(this.entries=p,this):new Je(e,p)}},Xe.prototype.get=function(e,t,n,r){void 0===t&&(t=De(n));var o=1<<((0===e?t:t>>>e)&y),i=this.bitmap;return 0==(i&o)?r:this.nodes[bt(i&o-1)].get(e+g,t,n,r)},Xe.prototype.update=function(e,t,n,r,o,i,a){void 0===n&&(n=De(r));var s=(0===t?n:n>>>t)&y,c=1<<s,l=this.bitmap,u=0!=(l&c);if(!u&&o===v)return this;var d=bt(l&c-1),h=this.nodes,p=u?h[d]:void 0,f=at(p,e,t+g,n,r,o,i,a);if(f===p)return this;if(!u&&f&&h.length>=St)return dt(e,h,l,s,f);if(u&&!f&&2===h.length&&st(h[1^d]))return h[1^d];if(u&&f&&1===h.length&&st(f))return f;var m=e&&e===this.ownerID,b=u?f?l:l^c:l|c,_=u?f?yt(h,d,f,m):_t(h,d,m):vt(h,d,f,m);return m?(this.bitmap=b,this.nodes=_,this):new Xe(e,b,_)},Qe.prototype.get=function(e,t,n,r){void 0===t&&(t=De(n));var o=(0===e?t:t>>>e)&y,i=this.nodes[o];return i?i.get(e+g,t,n,r):r},Qe.prototype.update=function(e,t,n,r,o,i,a){void 0===n&&(n=De(r));var s=(0===t?n:n>>>t)&y,c=o===v,l=this.nodes,u=l[s];if(c&&!u)return this;var d=at(u,e,t+g,n,r,o,i,a);if(d===u)return this;var h=this.count;if(u){if(!d&&--h<wt)return ut(e,l,h,s)}else h++;var p=e&&e===this.ownerID,f=yt(l,s,d,p);return p?(this.count=h,this.nodes=f,this):new Qe(e,h,f)},$e.prototype.get=function(e,t,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(be(n,o[i][0]))return o[i][1];return r},$e.prototype.update=function(e,t,n,r,o,i,a){void 0===n&&(n=De(r));var s=o===v;if(n!==this.keyHash)return s?this:(w(a),w(i),ct(this,e,t,n,[r,o]));for(var c=this.entries,l=0,u=c.length;l<u&&!be(r,c[l][0]);l++);var d=l<u;if(d?c[l][1]===o:s)return this;if(w(a),(s||!d)&&w(i),s&&2===u)return new Ze(e,this.keyHash,c[1^l]);var h=e&&e===this.ownerID,p=h?c:O(c);return d?s?l===u-1?p.pop():p[l]=p.pop():p[l]=[r,o]:p.push([r,o]),h?(this.entries=p,this):new $e(e,this.keyHash,p)},Ze.prototype.get=function(e,t,n,r){return be(n,this.entry[0])?this.entry[1]:r},Ze.prototype.update=function(e,t,n,r,o,i,a){var s=o===v,c=be(r,this.entry[0]);return(c?o===this.entry[1]:s)?this:(w(a),s?void w(i):c?e&&e===this.ownerID?(this.entry[1]=o,this):new Ze(e,this.keyHash,[r,o]):(w(i),ct(this,e,t,De(r),[r,o])))},Je.prototype.iterate=$e.prototype.iterate=function(e,t){for(var n=this.entries,r=0,o=n.length-1;r<=o;r++)if(!1===e(n[t?o-r:r]))return!1},Xe.prototype.iterate=Qe.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,o=n.length-1;r<=o;r++){var i=n[t?o-r:r];if(i&&!1===i.iterate(e,t))return!1}},Ze.prototype.iterate=function(e,t){return e(this.entry)},t(et,F),et.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n,r=t.node,o=t.index++;if(r.entry){if(0===o)return tt(e,r.entry)}else if(r.entries){if(o<=(n=r.entries.length-1))return tt(e,r.entries[this._reverse?n-o:o])}else if(o<=(n=r.nodes.length-1)){var i=r.nodes[this._reverse?n-o:o];if(i){if(i.entry)return tt(e,i.entry);t=this._stack=nt(i,t)}continue}t=this._stack=this._stack.__prev}return q()};var Et=b/4,St=b/2,wt=b/4;function Ct(e){var t=Bt();if(null==e)return t;if(Ot(e))return e;var n=o(e),r=n.size;return 0===r?t:(He(r),r>0&&r<b?Pt(0,r,g,null,new Dt(n.toArray())):t.withMutations((function(e){e.setSize(r),n.forEach((function(t,n){return e.set(n,t)}))})))}function Ot(e){return!(!e||!e[It])}t(Ct,Ce),Ct.of=function(){return this(arguments)},Ct.prototype.toString=function(){return this.__toString("List [","]")},Ct.prototype.get=function(e,t){if((e=x(this,e))>=0&&e<this.size){var n=Nt(this,e+=this._origin);return n&&n.array[e&y]}return t},Ct.prototype.set=function(e,t){return At(this,e,t)},Ct.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},Ct.prototype.insert=function(e,t){return this.splice(e,0,t)},Ct.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=g,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Bt()},Ct.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations((function(n){Ft(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])}))},Ct.prototype.pop=function(){return Ft(this,0,-1)},Ct.prototype.unshift=function(){var e=arguments;return this.withMutations((function(t){Ft(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])}))},Ct.prototype.shift=function(){return Ft(this,1)},Ct.prototype.merge=function(){return zt(this,void 0,arguments)},Ct.prototype.mergeWith=function(t){return zt(this,t,e.call(arguments,1))},Ct.prototype.mergeDeep=function(){return zt(this,pt,arguments)},Ct.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return zt(this,ft(t),n)},Ct.prototype.setSize=function(e){return Ft(this,0,e)},Ct.prototype.slice=function(e,t){var n=this.size;return k(e,t,n)?this:Ft(this,T(e,n),M(t,n))},Ct.prototype.__iterator=function(e,t){var n=0,r=jt(this,t);return new F((function(){var t=r();return t===Mt?q():z(e,n++,t)}))},Ct.prototype.__iterate=function(e,t){for(var n,r=0,o=jt(this,t);(n=o())!==Mt&&!1!==e(n,r++,this););return r},Ct.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Pt(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},Ct.isList=Ot;var It="@@__IMMUTABLE_LIST__@@",xt=Ct.prototype;function Dt(e,t){this.array=e,this.ownerID=t}xt[It]=!0,xt[m]=xt.remove,xt.setIn=Ye.setIn,xt.deleteIn=xt.removeIn=Ye.removeIn,xt.update=Ye.update,xt.updateIn=Ye.updateIn,xt.mergeIn=Ye.mergeIn,xt.mergeDeepIn=Ye.mergeDeepIn,xt.withMutations=Ye.withMutations,xt.asMutable=Ye.asMutable,xt.asImmutable=Ye.asImmutable,xt.wasAltered=Ye.wasAltered,Dt.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var r=n>>>t&y;if(r>=this.array.length)return new Dt([],e);var o,i=0===r;if(t>0){var a=this.array[r];if((o=a&&a.removeBefore(e,t-g,n))===a&&i)return this}if(i&&!o)return this;var s=Lt(this,e);if(!i)for(var c=0;c<r;c++)s.array[c]=void 0;return o&&(s.array[r]=o),s},Dt.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var r,o=n-1>>>t&y;if(o>=this.array.length)return this;if(t>0){var i=this.array[o];if((r=i&&i.removeAfter(e,t-g,n))===i&&o===this.array.length-1)return this}var a=Lt(this,e);return a.array.splice(o+1),r&&(a.array[o]=r),a};var kt,Tt,Mt={};function jt(e,t){var n=e._origin,r=e._capacity,o=qt(r),i=e._tail;return a(e._root,e._level,0);function a(e,t,n){return 0===t?s(e,n):c(e,t,n)}function s(e,a){var s=a===o?i&&i.array:e&&e.array,c=a>n?0:n-a,l=r-a;return l>b&&(l=b),function(){if(c===l)return Mt;var e=t?--l:c++;return s&&s[e]}}function c(e,o,i){var s,c=e&&e.array,l=i>n?0:n-i>>o,u=1+(r-i>>o);return u>b&&(u=b),function(){for(;;){if(s){var e=s();if(e!==Mt)return e;s=null}if(l===u)return Mt;var n=t?--u:l++;s=a(c&&c[n],o-g,i+(n<<o))}}}}function Pt(e,t,n,r,o,i,a){var s=Object.create(xt);return s.size=t-e,s._origin=e,s._capacity=t,s._level=n,s._root=r,s._tail=o,s.__ownerID=i,s.__hash=a,s.__altered=!1,s}function Bt(){return kt||(kt=Pt(0,0,g))}function At(e,t,n){if((t=x(e,t))!=t)return e;if(t>=e.size||t<0)return e.withMutations((function(e){t<0?Ft(e,t).set(0,n):Ft(e,0,t+1).set(t,n)}));t+=e._origin;var r=e._tail,o=e._root,i=S(E);return t>=qt(e._capacity)?r=Rt(r,e.__ownerID,0,t,n,i):o=Rt(o,e.__ownerID,e._level,t,n,i),i.value?e.__ownerID?(e._root=o,e._tail=r,e.__hash=void 0,e.__altered=!0,e):Pt(e._origin,e._capacity,e._level,o,r):e}function Rt(e,t,n,r,o,i){var a,s=r>>>n&y,c=e&&s<e.array.length;if(!c&&void 0===o)return e;if(n>0){var l=e&&e.array[s],u=Rt(l,t,n-g,r,o,i);return u===l?e:((a=Lt(e,t)).array[s]=u,a)}return c&&e.array[s]===o?e:(w(i),a=Lt(e,t),void 0===o&&s===a.array.length-1?a.array.pop():a.array[s]=o,a)}function Lt(e,t){return t&&e&&t===e.ownerID?e:new Dt(e?e.array.slice():[],t)}function Nt(e,t){if(t>=qt(e._capacity))return e._tail;if(t<1<<e._level+g){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&y],r-=g;return n}}function Ft(e,t,n){void 0!==t&&(t|=0),void 0!==n&&(n|=0);var r=e.__ownerID||new C,o=e._origin,i=e._capacity,a=o+t,s=void 0===n?i:n<0?i+n:o+n;if(a===o&&s===i)return e;if(a>=s)return e.clear();for(var c=e._level,l=e._root,u=0;a+u<0;)l=new Dt(l&&l.array.length?[void 0,l]:[],r),u+=1<<(c+=g);u&&(a+=u,o+=u,s+=u,i+=u);for(var d=qt(i),h=qt(s);h>=1<<c+g;)l=new Dt(l&&l.array.length?[l]:[],r),c+=g;var p=e._tail,f=h<d?Nt(e,s-1):h>d?new Dt([],r):p;if(p&&h>d&&a<i&&p.array.length){for(var m=l=Lt(l,r),b=c;b>g;b-=g){var v=d>>>b&y;m=m.array[v]=Lt(m.array[v],r)}m.array[d>>>g&y]=p}if(s<i&&(f=f&&f.removeAfter(r,0,s)),a>=h)a-=h,s-=h,c=g,l=null,f=f&&f.removeBefore(r,0,a);else if(a>o||h<d){for(u=0;l;){var _=a>>>c&y;if(_!==h>>>c&y)break;_&&(u+=(1<<c)*_),c-=g,l=l.array[_]}l&&a>o&&(l=l.removeBefore(r,c,a-u)),l&&h<d&&(l=l.removeAfter(r,c,h-u)),u&&(a-=u,s-=u)}return e.__ownerID?(e.size=s-a,e._origin=a,e._capacity=s,e._level=c,e._root=l,e._tail=f,e.__hash=void 0,e.__altered=!0,e):Pt(a,s,c,l,f)}function zt(e,t,n){for(var r=[],i=0,s=0;s<n.length;s++){var c=n[s],l=o(c);l.size>i&&(i=l.size),a(c)||(l=l.map((function(e){return pe(e)}))),r.push(l)}return i>e.size&&(e=e.setSize(i)),mt(e,t,r)}function qt(e){return e<b?0:e-1>>>g<<g}function Ut(e){return null==e?Vt():Ht(e)?e:Vt().withMutations((function(t){var n=r(e);He(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}function Ht(e){return Ve(e)&&u(e)}function Kt(e,t,n,r){var o=Object.create(Ut.prototype);return o.size=e?e.size:0,o._map=e,o._list=t,o.__ownerID=n,o.__hash=r,o}function Vt(){return Tt||(Tt=Kt(ot(),Bt()))}function Wt(e,t,n){var r,o,i=e._map,a=e._list,s=i.get(t),c=void 0!==s;if(n===v){if(!c)return e;a.size>=b&&a.size>=2*i.size?(r=(o=a.filter((function(e,t){return void 0!==e&&s!==t}))).toKeyedSeq().map((function(e){return e[0]})).flip().toMap(),e.__ownerID&&(r.__ownerID=o.__ownerID=e.__ownerID)):(r=i.remove(t),o=s===a.size-1?a.pop():a.set(s,void 0))}else if(c){if(n===a.get(s)[1])return e;r=i,o=a.set(s,[t,n])}else r=i.set(t,a.size),o=a.set(a.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=o,e.__hash=void 0,e):Kt(r,o)}function Gt(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function Yt(e){this._iter=e,this.size=e.size}function Jt(e){this._iter=e,this.size=e.size}function Xt(e){this._iter=e,this.size=e.size}function Qt(e){var t=vn(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=_n,t.__iterateUncached=function(t,n){var r=this;return e.__iterate((function(e,n){return!1!==t(n,e,r)}),n)},t.__iteratorUncached=function(t,n){if(t===A){var r=e.__iterator(t,n);return new F((function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e}))}return e.__iterator(t===B?P:B,n)},t}function $t(e,t,n){var r=vn(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,o){var i=e.get(r,v);return i===v?o:t.call(n,i,r,e)},r.__iterateUncached=function(r,o){var i=this;return e.__iterate((function(e,o,a){return!1!==r(t.call(n,e,o,a),o,i)}),o)},r.__iteratorUncached=function(r,o){var i=e.__iterator(A,o);return new F((function(){var o=i.next();if(o.done)return o;var a=o.value,s=a[0];return z(r,s,t.call(n,a[1],s,e),o)}))},r}function Zt(e,t){var n=vn(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=Qt(e);return t.reverse=function(){return e.flip()},t}),n.get=function(n,r){return e.get(t?n:-1-n,r)},n.has=function(n){return e.has(t?n:-1-n)},n.includes=function(t){return e.includes(t)},n.cacheResult=_n,n.__iterate=function(t,n){var r=this;return e.__iterate((function(e,n){return t(e,n,r)}),!n)},n.__iterator=function(t,n){return e.__iterator(t,!n)},n}function en(e,t,n,r){var o=vn(e);return r&&(o.has=function(r){var o=e.get(r,v);return o!==v&&!!t.call(n,o,r,e)},o.get=function(r,o){var i=e.get(r,v);return i!==v&&t.call(n,i,r,e)?i:o}),o.__iterateUncached=function(o,i){var a=this,s=0;return e.__iterate((function(e,i,c){if(t.call(n,e,i,c))return s++,o(e,r?i:s-1,a)}),i),s},o.__iteratorUncached=function(o,i){var a=e.__iterator(A,i),s=0;return new F((function(){for(;;){var i=a.next();if(i.done)return i;var c=i.value,l=c[0],u=c[1];if(t.call(n,u,l,e))return z(o,r?l:s++,u,i)}}))},o}function tn(e,t,n){var r=Ke().asMutable();return e.__iterate((function(o,i){r.update(t.call(n,o,i,e),0,(function(e){return e+1}))})),r.asImmutable()}function nn(e,t,n){var r=s(e),o=(u(e)?Ut():Ke()).asMutable();e.__iterate((function(i,a){o.update(t.call(n,i,a,e),(function(e){return(e=e||[]).push(r?[a,i]:i),e}))}));var i=yn(e);return o.map((function(t){return mn(e,i(t))}))}function rn(e,t,n,r){var o=e.size;if(void 0!==t&&(t|=0),void 0!==n&&(n|=0),k(t,n,o))return e;var i=T(t,o),a=M(n,o);if(i!=i||a!=a)return rn(e.toSeq().cacheResult(),t,n,r);var s,c=a-i;c==c&&(s=c<0?0:c);var l=vn(e);return l.size=0===s?s:e.size&&s||void 0,!r&&ie(e)&&s>=0&&(l.get=function(t,n){return(t=x(this,t))>=0&&t<s?e.get(t+i,n):n}),l.__iterateUncached=function(t,n){var o=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(t,n);var a=0,c=!0,l=0;return e.__iterate((function(e,n){if(!c||!(c=a++<i))return l++,!1!==t(e,r?n:l-1,o)&&l!==s})),l},l.__iteratorUncached=function(t,n){if(0!==s&&n)return this.cacheResult().__iterator(t,n);var o=0!==s&&e.__iterator(t,n),a=0,c=0;return new F((function(){for(;a++<i;)o.next();if(++c>s)return q();var e=o.next();return r||t===B?e:z(t,c-1,t===P?void 0:e.value[1],e)}))},l}function on(e,t,n){var r=vn(e);return r.__iterateUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterate(r,o);var a=0;return e.__iterate((function(e,o,s){return t.call(n,e,o,s)&&++a&&r(e,o,i)})),a},r.__iteratorUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterator(r,o);var a=e.__iterator(A,o),s=!0;return new F((function(){if(!s)return q();var e=a.next();if(e.done)return e;var o=e.value,c=o[0],l=o[1];return t.call(n,l,c,i)?r===A?e:z(r,c,l,e):(s=!1,q())}))},r}function an(e,t,n,r){var o=vn(e);return o.__iterateUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterate(o,i);var s=!0,c=0;return e.__iterate((function(e,i,l){if(!s||!(s=t.call(n,e,i,l)))return c++,o(e,r?i:c-1,a)})),c},o.__iteratorUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterator(o,i);var s=e.__iterator(A,i),c=!0,l=0;return new F((function(){var e,i,u;do{if((e=s.next()).done)return r||o===B?e:z(o,l++,o===P?void 0:e.value[1],e);var d=e.value;i=d[0],u=d[1],c&&(c=t.call(n,u,i,a))}while(c);return o===A?e:z(o,i,u,e)}))},o}function sn(e,t){var n=s(e),o=[e].concat(t).map((function(e){return a(e)?n&&(e=r(e)):e=n?se(e):ce(Array.isArray(e)?e:[e]),e})).filter((function(e){return 0!==e.size}));if(0===o.length)return e;if(1===o.length){var i=o[0];if(i===e||n&&s(i)||c(e)&&c(i))return i}var l=new te(o);return n?l=l.toKeyedSeq():c(e)||(l=l.toSetSeq()),(l=l.flatten(!0)).size=o.reduce((function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}}),0),l}function cn(e,t,n){var r=vn(e);return r.__iterateUncached=function(r,o){var i=0,s=!1;function c(e,l){var u=this;e.__iterate((function(e,o){return(!t||l<t)&&a(e)?c(e,l+1):!1===r(e,n?o:i++,u)&&(s=!0),!s}),o)}return c(e,0),i},r.__iteratorUncached=function(r,o){var i=e.__iterator(r,o),s=[],c=0;return new F((function(){for(;i;){var e=i.next();if(!1===e.done){var l=e.value;if(r===A&&(l=l[1]),t&&!(s.length<t)||!a(l))return n?e:z(r,c++,l,e);s.push(i),i=l.__iterator(r,o)}else i=s.pop()}return q()}))},r}function ln(e,t,n){var r=yn(e);return e.toSeq().map((function(o,i){return r(t.call(n,o,i,e))})).flatten(!0)}function un(e,t){var n=vn(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var o=this,i=0;return e.__iterate((function(e,r){return(!i||!1!==n(t,i++,o))&&!1!==n(e,i++,o)}),r),i},n.__iteratorUncached=function(n,r){var o,i=e.__iterator(B,r),a=0;return new F((function(){return(!o||a%2)&&(o=i.next()).done?o:a%2?z(n,a++,t):z(n,a++,o.value,o)}))},n}function dn(e,t,n){t||(t=En);var r=s(e),o=0,i=e.toSeq().map((function(t,r){return[r,t,o++,n?n(t,r,e):t]})).toArray();return i.sort((function(e,n){return t(e[3],n[3])||e[2]-n[2]})).forEach(r?function(e,t){i[t].length=2}:function(e,t){i[t]=e[1]}),r?Y(i):c(e)?J(i):X(i)}function hn(e,t,n){if(t||(t=En),n){var r=e.toSeq().map((function(t,r){return[t,n(t,r,e)]})).reduce((function(e,n){return pn(t,e[1],n[1])?n:e}));return r&&r[0]}return e.reduce((function(e,n){return pn(t,e,n)?n:e}))}function pn(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(null==n||n!=n)||r>0}function fn(e,t,r){var o=vn(e);return o.size=new te(r).map((function(e){return e.size})).min(),o.__iterate=function(e,t){for(var n,r=this.__iterator(B,t),o=0;!(n=r.next()).done&&!1!==e(n.value,o++,this););return o},o.__iteratorUncached=function(e,o){var i=r.map((function(e){return e=n(e),K(o?e.reverse():e)})),a=0,s=!1;return new F((function(){var n;return s||(n=i.map((function(e){return e.next()})),s=n.some((function(e){return e.done}))),s?q():z(e,a++,t.apply(null,n.map((function(e){return e.value}))))}))},o}function mn(e,t){return ie(e)?t:e.constructor(t)}function gn(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function bn(e){return He(e.size),I(e)}function yn(e){return s(e)?r:c(e)?o:i}function vn(e){return Object.create((s(e)?Y:c(e)?J:X).prototype)}function _n(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):G.prototype.cacheResult.call(this)}function En(e,t){return e>t?1:e<t?-1:0}function Sn(e){var t=K(e);if(!t){if(!W(e))throw new TypeError("Expected iterable or array-like: "+e);t=K(n(e))}return t}function wn(e,t){var n,r=function(i){if(i instanceof r)return i;if(!(this instanceof r))return new r(i);if(!n){n=!0;var a=Object.keys(e);xn(o,a),o.size=a.length,o._name=t,o._keys=a,o._defaultValues=e}this._map=Ke(i)},o=r.prototype=Object.create(Cn);return o.constructor=r,r}t(Ut,Ke),Ut.of=function(){return this(arguments)},Ut.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Ut.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},Ut.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Vt()},Ut.prototype.set=function(e,t){return Wt(this,e,t)},Ut.prototype.remove=function(e){return Wt(this,e,v)},Ut.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Ut.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate((function(t){return t&&e(t[1],t[0],n)}),t)},Ut.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},Ut.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?Kt(t,n,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=n,this)},Ut.isOrderedMap=Ht,Ut.prototype[f]=!0,Ut.prototype[m]=Ut.prototype.remove,t(Gt,Y),Gt.prototype.get=function(e,t){return this._iter.get(e,t)},Gt.prototype.has=function(e){return this._iter.has(e)},Gt.prototype.valueSeq=function(){return this._iter.valueSeq()},Gt.prototype.reverse=function(){var e=this,t=Zt(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},Gt.prototype.map=function(e,t){var n=this,r=$t(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},Gt.prototype.__iterate=function(e,t){var n,r=this;return this._iter.__iterate(this._useKeys?function(t,n){return e(t,n,r)}:(n=t?bn(this):0,function(o){return e(o,t?--n:n++,r)}),t)},Gt.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var n=this._iter.__iterator(B,t),r=t?bn(this):0;return new F((function(){var o=n.next();return o.done?o:z(e,t?--r:r++,o.value,o)}))},Gt.prototype[f]=!0,t(Yt,J),Yt.prototype.includes=function(e){return this._iter.includes(e)},Yt.prototype.__iterate=function(e,t){var n=this,r=0;return this._iter.__iterate((function(t){return e(t,r++,n)}),t)},Yt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(B,t),r=0;return new F((function(){var t=n.next();return t.done?t:z(e,r++,t.value,t)}))},t(Jt,X),Jt.prototype.has=function(e){return this._iter.includes(e)},Jt.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){return e(t,t,n)}),t)},Jt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(B,t);return new F((function(){var t=n.next();return t.done?t:z(e,t.value,t.value,t)}))},t(Xt,Y),Xt.prototype.entrySeq=function(){return this._iter.toSeq()},Xt.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){if(t){gn(t);var r=a(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}}),t)},Xt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(B,t);return new F((function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){gn(r);var o=a(r);return z(e,o?r.get(0):r[0],o?r.get(1):r[1],t)}}}))},Yt.prototype.cacheResult=Gt.prototype.cacheResult=Jt.prototype.cacheResult=Xt.prototype.cacheResult=_n,t(wn,we),wn.prototype.toString=function(){return this.__toString(In(this)+" {","}")},wn.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},wn.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._defaultValues[e];return this._map?this._map.get(e,n):n},wn.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=On(this,ot()))},wn.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+In(this));var n=this._map&&this._map.set(e,t);return this.__ownerID||n===this._map?this:On(this,n)},wn.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:On(this,t)},wn.prototype.wasAltered=function(){return this._map.wasAltered()},wn.prototype.__iterator=function(e,t){var n=this;return r(this._defaultValues).map((function(e,t){return n.get(t)})).__iterator(e,t)},wn.prototype.__iterate=function(e,t){var n=this;return r(this._defaultValues).map((function(e,t){return n.get(t)})).__iterate(e,t)},wn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?On(this,t,e):(this.__ownerID=e,this._map=t,this)};var Cn=wn.prototype;function On(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._map=t,r.__ownerID=n,r}function In(e){return e._name||e.constructor.name||"Record"}function xn(e,t){try{t.forEach(Dn.bind(void 0,e))}catch(n){}}function Dn(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){_e(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}function kn(e){return null==e?Rn():Tn(e)&&!u(e)?e:Rn().withMutations((function(t){var n=i(e);He(n.size),n.forEach((function(e){return t.add(e)}))}))}function Tn(e){return!(!e||!e[jn])}Cn[m]=Cn.remove,Cn.deleteIn=Cn.removeIn=Ye.removeIn,Cn.merge=Ye.merge,Cn.mergeWith=Ye.mergeWith,Cn.mergeIn=Ye.mergeIn,Cn.mergeDeep=Ye.mergeDeep,Cn.mergeDeepWith=Ye.mergeDeepWith,Cn.mergeDeepIn=Ye.mergeDeepIn,Cn.setIn=Ye.setIn,Cn.update=Ye.update,Cn.updateIn=Ye.updateIn,Cn.withMutations=Ye.withMutations,Cn.asMutable=Ye.asMutable,Cn.asImmutable=Ye.asImmutable,t(kn,Oe),kn.of=function(){return this(arguments)},kn.fromKeys=function(e){return this(r(e).keySeq())},kn.prototype.toString=function(){return this.__toString("Set {","}")},kn.prototype.has=function(e){return this._map.has(e)},kn.prototype.add=function(e){return Bn(this,this._map.set(e,!0))},kn.prototype.remove=function(e){return Bn(this,this._map.remove(e))},kn.prototype.clear=function(){return Bn(this,this._map.clear())},kn.prototype.union=function(){var t=e.call(arguments,0);return 0===(t=t.filter((function(e){return 0!==e.size}))).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations((function(e){for(var n=0;n<t.length;n++)i(t[n]).forEach((function(t){return e.add(t)}))})):this.constructor(t[0])},kn.prototype.intersect=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return i(e)}));var n=this;return this.withMutations((function(e){n.forEach((function(n){t.every((function(e){return e.includes(n)}))||e.remove(n)}))}))},kn.prototype.subtract=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return i(e)}));var n=this;return this.withMutations((function(e){n.forEach((function(n){t.some((function(e){return e.includes(n)}))&&e.remove(n)}))}))},kn.prototype.merge=function(){return this.union.apply(this,arguments)},kn.prototype.mergeWith=function(t){var n=e.call(arguments,1);return this.union.apply(this,n)},kn.prototype.sort=function(e){return Ln(dn(this,e))},kn.prototype.sortBy=function(e,t){return Ln(dn(this,t,e))},kn.prototype.wasAltered=function(){return this._map.wasAltered()},kn.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate((function(t,r){return e(r,r,n)}),t)},kn.prototype.__iterator=function(e,t){return this._map.map((function(e,t){return t})).__iterator(e,t)},kn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},kn.isSet=Tn;var Mn,jn="@@__IMMUTABLE_SET__@@",Pn=kn.prototype;function Bn(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function An(e,t){var n=Object.create(Pn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Rn(){return Mn||(Mn=An(ot()))}function Ln(e){return null==e?Un():Nn(e)?e:Un().withMutations((function(t){var n=i(e);He(n.size),n.forEach((function(e){return t.add(e)}))}))}function Nn(e){return Tn(e)&&u(e)}Pn[jn]=!0,Pn[m]=Pn.remove,Pn.mergeDeep=Pn.merge,Pn.mergeDeepWith=Pn.mergeWith,Pn.withMutations=Ye.withMutations,Pn.asMutable=Ye.asMutable,Pn.asImmutable=Ye.asImmutable,Pn.__empty=Rn,Pn.__make=An,t(Ln,kn),Ln.of=function(){return this(arguments)},Ln.fromKeys=function(e){return this(r(e).keySeq())},Ln.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Ln.isOrderedSet=Nn;var Fn,zn=Ln.prototype;function qn(e,t){var n=Object.create(zn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Un(){return Fn||(Fn=qn(Vt()))}function Hn(e){return null==e?Jn():Kn(e)?e:Jn().unshiftAll(e)}function Kn(e){return!(!e||!e[Wn])}zn[f]=!0,zn.__empty=Un,zn.__make=qn,t(Hn,Ce),Hn.of=function(){return this(arguments)},Hn.prototype.toString=function(){return this.__toString("Stack [","]")},Hn.prototype.get=function(e,t){var n=this._head;for(e=x(this,e);n&&e--;)n=n.next;return n?n.value:t},Hn.prototype.peek=function(){return this._head&&this._head.value},Hn.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,n=arguments.length-1;n>=0;n--)t={value:arguments[n],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):Yn(e,t)},Hn.prototype.pushAll=function(e){if(0===(e=o(e)).size)return this;He(e.size);var t=this.size,n=this._head;return e.reverse().forEach((function(e){t++,n={value:e,next:n}})),this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):Yn(t,n)},Hn.prototype.pop=function(){return this.slice(1)},Hn.prototype.unshift=function(){return this.push.apply(this,arguments)},Hn.prototype.unshiftAll=function(e){return this.pushAll(e)},Hn.prototype.shift=function(){return this.pop.apply(this,arguments)},Hn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Jn()},Hn.prototype.slice=function(e,t){if(k(e,t,this.size))return this;var n=T(e,this.size);if(M(t,this.size)!==this.size)return Ce.prototype.slice.call(this,e,t);for(var r=this.size-n,o=this._head;n--;)o=o.next;return this.__ownerID?(this.size=r,this._head=o,this.__hash=void 0,this.__altered=!0,this):Yn(r,o)},Hn.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Yn(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Hn.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var n=0,r=this._head;r&&!1!==e(r.value,n++,this);)r=r.next;return n},Hn.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var n=0,r=this._head;return new F((function(){if(r){var t=r.value;return r=r.next,z(e,n++,t)}return q()}))},Hn.isStack=Kn;var Vn,Wn="@@__IMMUTABLE_STACK__@@",Gn=Hn.prototype;function Yn(e,t,n,r){var o=Object.create(Gn);return o.size=e,o._head=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function Jn(){return Vn||(Vn=Yn(0))}function Xn(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}Gn[Wn]=!0,Gn.withMutations=Ye.withMutations,Gn.asMutable=Ye.asMutable,Gn.asImmutable=Ye.asImmutable,Gn.wasAltered=Ye.wasAltered,n.Iterator=F,Xn(n,{toArray:function(){He(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate((function(t,n){e[n]=t})),e},toIndexedSeq:function(){return new Yt(this)},toJS:function(){return this.toSeq().map((function(e){return e&&"function"==typeof e.toJS?e.toJS():e})).__toJS()},toJSON:function(){return this.toSeq().map((function(e){return e&&"function"==typeof e.toJSON?e.toJSON():e})).__toJS()},toKeyedSeq:function(){return new Gt(this,!0)},toMap:function(){return Ke(this.toKeyedSeq())},toObject:function(){He(this.size);var e={};return this.__iterate((function(t,n){e[n]=t})),e},toOrderedMap:function(){return Ut(this.toKeyedSeq())},toOrderedSet:function(){return Ln(s(this)?this.valueSeq():this)},toSet:function(){return kn(s(this)?this.valueSeq():this)},toSetSeq:function(){return new Jt(this)},toSeq:function(){return c(this)?this.toIndexedSeq():s(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Hn(s(this)?this.valueSeq():this)},toList:function(){return Ct(s(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){return mn(this,sn(this,e.call(arguments,0)))},includes:function(e){return this.some((function(t){return be(t,e)}))},entries:function(){return this.__iterator(A)},every:function(e,t){He(this.size);var n=!0;return this.__iterate((function(r,o,i){if(!e.call(t,r,o,i))return n=!1,!1})),n},filter:function(e,t){return mn(this,en(this,e,t,!0))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},findEntry:function(e,t){var n;return this.__iterate((function(r,o,i){if(e.call(t,r,o,i))return n=[o,r],!1})),n},findLastEntry:function(e,t){return this.toSeq().reverse().findEntry(e,t)},forEach:function(e,t){return He(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){He(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate((function(r){n?n=!1:t+=e,t+=null!=r?r.toString():""})),t},keys:function(){return this.__iterator(P)},map:function(e,t){return mn(this,$t(this,e,t))},reduce:function(e,t,n){var r,o;return He(this.size),arguments.length<2?o=!0:r=t,this.__iterate((function(t,i,a){o?(o=!1,r=t):r=e.call(n,r,t,i,a)})),r},reduceRight:function(e,t,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return mn(this,Zt(this,!0))},slice:function(e,t){return mn(this,rn(this,e,t,!0))},some:function(e,t){return!this.every(tr(e),t)},sort:function(e){return mn(this,dn(this,e))},values:function(){return this.__iterator(B)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(e,t){return I(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return tn(this,e,t)},equals:function(e){return ye(this,e)},entrySeq:function(){var e=this;if(e._cache)return new te(e._cache);var t=e.toSeq().map(er).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(tr(e),t)},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},first:function(){return this.find(D)},flatMap:function(e,t){return mn(this,ln(this,e,t))},flatten:function(e){return mn(this,cn(this,e,!0))},fromEntrySeq:function(){return new Xt(this)},get:function(e,t){return this.find((function(t,n){return be(n,e)}),void 0,t)},getIn:function(e,t){for(var n,r=this,o=Sn(e);!(n=o.next()).done;){var i=n.value;if((r=r&&r.get?r.get(i,v):v)===v)return t}return r},groupBy:function(e,t){return nn(this,e,t)},has:function(e){return this.get(e,v)!==v},hasIn:function(e){return this.getIn(e,v)!==v},isSubset:function(e){return e="function"==typeof e.includes?e:n(e),this.every((function(t){return e.includes(t)}))},isSuperset:function(e){return(e="function"==typeof e.isSubset?e:n(e)).isSubset(this)},keySeq:function(){return this.toSeq().map(Zn).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(e){return hn(this,e)},maxBy:function(e,t){return hn(this,t,e)},min:function(e){return hn(this,e?nr(e):ir)},minBy:function(e,t){return hn(this,t?nr(t):ir,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return mn(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return mn(this,an(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(tr(e),t)},sortBy:function(e,t){return mn(this,dn(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return mn(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return mn(this,on(this,e,t))},takeUntil:function(e,t){return this.takeWhile(tr(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=ar(this))}});var Qn=n.prototype;Qn[d]=!0,Qn[N]=Qn.values,Qn.__toJS=Qn.toArray,Qn.__toStringMapper=rr,Qn.inspect=Qn.toSource=function(){return this.toString()},Qn.chain=Qn.flatMap,Qn.contains=Qn.includes,function(){try{Object.defineProperty(Qn,"length",{get:function(){if(!n.noLengthWarning){var e;try{throw new Error}catch(t){e=t.stack}if(-1===e.indexOf("_wrapObject"))return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+e),this.size}}})}catch(e){}}(),Xn(r,{flip:function(){return mn(this,Qt(this))},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLastKey:function(e,t){return this.toSeq().reverse().findKey(e,t)},keyOf:function(e){return this.findKey((function(t){return be(t,e)}))},lastKeyOf:function(e){return this.findLastKey((function(t){return be(t,e)}))},mapEntries:function(e,t){var n=this,r=0;return mn(this,this.toSeq().map((function(o,i){return e.call(t,[i,o],r++,n)})).fromEntrySeq())},mapKeys:function(e,t){var n=this;return mn(this,this.toSeq().flip().map((function(r,o){return e.call(t,r,o,n)})).flip())}});var $n=r.prototype;function Zn(e,t){return t}function er(e,t){return[t,e]}function tr(e){return function(){return!e.apply(this,arguments)}}function nr(e){return function(){return-e.apply(this,arguments)}}function rr(e){return"string"==typeof e?JSON.stringify(e):e}function or(){return O(arguments)}function ir(e,t){return e<t?1:e>t?-1:0}function ar(e){if(e.size===1/0)return 0;var t=u(e),n=s(e),r=t?1:0;return sr(e.__iterate(n?t?function(e,t){r=31*r+cr(De(e),De(t))|0}:function(e,t){r=r+cr(De(e),De(t))|0}:t?function(e){r=31*r+De(e)|0}:function(e){r=r+De(e)|0}),r)}function sr(e,t){return t=Ie(t,3432918353),t=Ie(t<<15|t>>>-15,461845907),t=Ie(t<<13|t>>>-13,5),t=Ie((t=(t+3864292196|0)^e)^t>>>16,2246822507),t=xe((t=Ie(t^t>>>13,3266489909))^t>>>16)}function cr(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}return $n[h]=!0,$n[N]=Qn.entries,$n.__toJS=Qn.toObject,$n.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+rr(e)},Xn(o,{toKeyedSeq:function(){return new Gt(this,!1)},filter:function(e,t){return mn(this,en(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.toKeyedSeq().keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.toKeyedSeq().reverse().keyOf(e);return void 0===t?-1:t},reverse:function(){return mn(this,Zt(this,!1))},slice:function(e,t){return mn(this,rn(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(0|t,0),0===n||2===n&&!t)return this;e=T(e,e<0?this.count():this.size);var r=this.slice(0,e);return mn(this,1===n?r:r.concat(O(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.toKeyedSeq().findLastKey(e,t);return void 0===n?-1:n},first:function(){return this.get(0)},flatten:function(e){return mn(this,cn(this,e,!1))},get:function(e,t){return(e=x(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find((function(t,n){return n===e}),void 0,t)},has:function(e){return(e=x(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return mn(this,un(this,e))},interleave:function(){var e=[this].concat(O(arguments)),t=fn(this.toSeq(),J.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),mn(this,n)},last:function(){return this.get(-1)},skipWhile:function(e,t){return mn(this,an(this,e,t,!1))},zip:function(){return mn(this,fn(this,or,[this].concat(O(arguments))))},zipWith:function(e){var t=O(arguments);return t[0]=this,mn(this,fn(this,e,t))}}),o.prototype[p]=!0,o.prototype[f]=!0,Xn(i,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),i.prototype.has=Qn.includes,Xn(Y,r.prototype),Xn(J,o.prototype),Xn(X,i.prototype),Xn(we,r.prototype),Xn(Ce,o.prototype),Xn(Oe,i.prototype),{Iterable:n,Seq:G,Collection:Se,Map:Ke,OrderedMap:Ut,List:Ct,Stack:Hn,Set:kn,OrderedSet:Ln,Record:wn,Range:Ee,Repeat:ve,is:be,fromJS:pe}}()},zXAL:function(e,t,n){var r=n("/MKj"),o=n("peh1"),i=n("Vzit"),a=n("vh5K"),s=n("ANjH");const c=Object(o.createSelector)(e=>e.experiences.eligibleExperiences,e=>e.experiences.mountedPlacements,(e,t)=>t.placementId,a.c);t.a=Object(r.connect)((function(e,t){return{experienceForPlacement:c(e,t)}}),(function(e){return Object(s.bindActionCreators)({completeExperience:i.a,dismissExperience:i.b,fetchAllExperiences:i.d,fetchExperienceForPlacement:i.c,triggerExperimentsForPlacement:i.i,viewExperience:i.h},e)}),(function(e,t,n){return{experienceClient:{...e,...t},...n}}),{forwardRef:!0})},zlY5:function(e,t,n){var r=n("158f");e.exports=function(e){var t=r(e),n=0,o=0,i=0,a=0;if(t.length){if(t.length>1&&0===t[0].width){var s=t[1];n=s.top,o=s.right,i=s.bottom,a=s.left}else{var c=t[0];n=c.top,o=c.right,i=c.bottom,a=c.left}for(var l=1;l<t.length;l++){var u=t[l];0!==u.height&&0!==u.width&&(n=Math.min(n,u.top),o=Math.max(o,u.right),i=Math.max(i,u.bottom),a=Math.min(a,u.left))}}return{top:n,right:o,bottom:i,left:a,width:o-a,height:i-n}}},zoYe:function(e,t,n){var r=n("nmnc"),o=n("eUgh"),i=n("Z0cm"),a=n("/9aa"),s=r?r.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(a(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},zpFB:function(e,t,n){n.d(t,"a",(function(){return r}));const r=-4},zpn9:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=e.length,r=[],o=0;o<n;o++)r.push(o);r.sort((function(t,n){return e[t]<e[n]?-1:1}));var i,a,s=[],c=[],l=[];for(o=0;o<n-1;o++)i=e[o+1]-e[o],a=t[o+1]-t[o],c.push(i),s.push(a),l.push(a/i);var u=[l[0]];for(o=0;o<c.length-1;o++){var d=l[o],h=l[o+1];if(d*h<=0)u.push(0);else{i=c[o];var p=c[o+1],f=i+p;u.push(3*f/((f+p)/d+(f+i)/h))}}u.push(l[l.length-1]);var m,g=[],b=[];for(o=0;o<u.length-1;o++){m=l[o];var y=u[o],v=1/c[o];f=y+u[o+1]-m-m;g.push((m-y-f)*v),b.push(f*v*v)}this.xs=e,this.ys=t,this.c1s=u,this.c2s=g,this.c3s=b}return e.prototype.interpolate=function(e){var t=this,n=t.xs,r=t.ys,o=t.c1s,i=t.c2s,a=t.c3s,s=n.length-1;if(e===n[s])return r[s];for(var c,l=0,u=a.length-1;l<=u;){var d=n[c=Math.floor(.5*(l+u))];if(d<e)l=c+1;else{if(!(d>e))return r[c];u=c-1}}var h=e-n[s=Math.max(0,u)],p=h*h;return r[s]+o[s]*h+i[s]*p+a[s]*h*p},e}();t.default=r},"zxN+":function(e,t,n){var r=n("zlY5");e.exports=function(e){var t=e.getSelection();if(!t.rangeCount)return null;var n=t.getRangeAt(0),o=r(n),i=o.top,a=o.right,s=o.bottom,c=o.left;return 0===i&&0===a&&0===s&&0===c?null:o}}},[["/ySb","runtime","vendor-react",0,6,1,2,3,9,11,12,13,14,10,15,16,20]],[102,98,119,145,"PinBetterSaveCommon","PinSaveButtonCommon","PinRepEditButtonCommon","PinPromoteButtonCommon","PinRepSendShareLinkButtonCommon","QuickSaveButtonCommon"]]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/js/www/[username]/[slug]-authdesktop-ddcafece4335593a2885.mjs.map