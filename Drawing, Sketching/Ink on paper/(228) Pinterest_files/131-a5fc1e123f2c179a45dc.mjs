(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[131,"AuthHandshakeCommon"],{"3fKP":function(e,n,t){t.d(n,"a",(function(){return o})),t.d(n,"c",(function(){return r})),t.d(n,"b",(function(){return a}));const o={login:"login",loginMfa:"loginMfa",signup:"signup",personalizedLogin:"personalizedLogin",socialSignupWithAge:"socialSignupWithAge",FBEmailRerequest:"FBEmailRerequest",FBEmailCollection:"FBEmailCollection",emailConfirmation:"emailConfirmation",FBEmailAlreadyExist:"FBEmailAlreadyExist"},r={login:"login",loginMfa:"loginMfa",signup:"signup",signupOrPersonalizedLogin:"signupOrPersonalizedLogin",socialSignupWithAge:"socialSignupWithAge",FBEmailRerequest:"FBEmailRerequest",emailConfirmation:"emailConfirmation",FBEmailAlreadyExist:"FBEmailAlreadyExist",FBEmailCollection:"FBEmailCollection",respondMessage:"respondMessage"},a={boardPage:"boardPage",boardInvite:"boardInvite",defaultSource:"defaultSource",homePage:"homePage",mwebDefaultSource:"mwebDefaultSource",invite:"invite",login:"login",userFollow:"userFollow",userProfilePage:"userProfilePage",saveButton:"saveButton",actionButton:"actionButton",signupButton:"signupButton",personalizedFlyout:"personalizedFlyout",navigateBoard:"navigateBoard",navigatePin:"navigatePin",navigateInterest:"navigateInterest",unauthHeader:"unauthHeader",unauthBanner:"unauthBanner",visualSearch:"unauthVisualSearch",giftWrap:"giftWrap",loginMfa:"loginMfa",search:"searchSource"}},UPfj:function(e,n,t){t.d(n,"a",(function(){return s})),t.d(n,"b",(function(){return _})),t.d(n,"e",(function(){return c})),t.d(n,"f",(function(){return u})),t.d(n,"d",(function(){return l})),t.d(n,"g",(function(){return d})),t.d(n,"c",(function(){return O}));var o=t("gxu6"),r=t("QLqj");const a=["AU","US","CA","IE","NZ","GB"],i=["AT","BE","CH","CZ","DK","ES","NO","PT","SE","NL"];function s(e,n=!1){return n||!e||a.includes(e)?"tier1":i.includes(e)?"tier2":"tier3"}const _=()=>o.a("hasBeenShownLoginModalInOpen"),c=()=>{o.b("hasBeenShownLoginModalInOpen","true",12)},u=e=>{r.b.localStorage.setItem("uoiou",!!e)},l=()=>r.b.localStorage.getItem("uoiou")||!1,g="openUnauthType",d=()=>{r.b.sessionStorage.setItem(g,"OPEN_UNAUTH")},O=()=>l()||"OPEN_UNAUTH"===r.b.sessionStorage.getItem(g)},VL22:function(e,n,t){t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return s})),t.d(n,"d",(function(){return _})),t.d(n,"c",(function(){return c}));var o=t("17x9"),r=t.n(o),a=t("kmwA");const i={FACEBOOK:"facebook",GOOGLE_ONE_TAP:"google_one_tap",GOOGLE:"google",EMAIL:"email",OTHER:"other"},s=e=>e.facebook_id?i.FACEBOOK:e.google_open_id_token?i.GOOGLE_ONE_TAP:e.gplus_code||e.gplus_id_token?i.GOOGLE:e.email?i.EMAIL:i.OTHER,_=(r.a.shape({credentials:r.a.shape({}),userData:r.a.shape({}),type:r.a.oneOf(Object.values(i))}),(e="")=>e in a.a.settings.MINIMUM_AGE_BY_EU_COUNTRY),c=e=>a.a.settings.EN_COUNTRIES_WITH_MANDATORY_AGE.includes(e)||a.a.settings.LATAM_AGE_COLLECTION.has(e)},b7nI:function(e,n,t){var o=t("q1tI"),r=t.n(o),a=t("pWBZ"),i=t("n6mq");const s=()=>{const e=Object(a.b)();return r.a.createElement(i.O,{accessibilityLabel:e._("Loading","Label for loading spinner","Label for loading spinner"),show:!0})};n.a=()=>r.a.createElement(i.e,null,r.a.createElement(i.e,{alignItems:"center",display:"flex",justifyContent:"center",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,opacity:1,dangerouslySetInlineStyle:{__style:{zIndex:101}}},r.a.createElement(s,null)),r.a.createElement(i.e,{color:"white",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,opacity:.7,dangerouslySetInlineStyle:{__style:{zIndex:100}}}))},dg5e:function(e,n,t){t.r(n);var o=t("JW66"),r=t("+NLT"),a=t("eOdZ"),i=t("kmwA"),s=t("28DW"),_=t("zwad");const c={_parseJson:function(e){return e.json()},_throwError:function(e){const n=new Error(e.statusText);throw n.response=e,c._reconstructError(n),n},_checkStatus:function(e){return 200===e.status||401===e.status?e:(c._throwError(e),{})},_crossDomainRequest:function(e,n,t){if("GET"!==t&&"POST"!==t)return Promise.resolve({});const a={credentials:"include",mode:"cors"};return"POST"===t&&(a.method="POST",a.body=n,a.headers={"Content-type":"application/x-www-form-urlencoded; charset=UTF-8","X-Pinterest-InstallId":r.a.instance.unauth_id},r.a.instance.unauth_id||Object(s.a)("unauth.auth_handshake.cross_domain.no_unauth_id."+t)),fetch(e,a).then(c._checkStatus).then(c._parseJson).then(e=>"success"===e.status?Promise.resolve(e):e.code===o.a.LOGIN_MFA_REQUIRED?(e.api_error_code=e.code,Promise.reject(e)):(c._throwError(e),{})).catch(e=>{throw e})},_reconstructError:e=>{!e.api_error_code&&e.response&&(e.api_error_code=e.response.code,e.message=e.response.message)},_verifyAndGetToken:function(){const e=i.a.settings.ACCOUNTS_PINTEREST_URL+"/v3/handshake/verify/";return c._crossDomainRequest(e,"","GET")},exchangeTokenAndSetSession:function(e,n=!1){return a.a.create("HandshakeSessionResource",{token:e,isRegistration:n}).callCreate()},verifyLoggedInStatus:function(){c._verifyAndGetToken().then(e=>{if(e&&e.data){const n=e.data;c.exchangeTokenAndSetSession(n).then(e=>{window.location.reload()},e=>{})}},e=>{})},_setUpRegisterParameters:function(e){const n={};if(n.email=e.email||"",n.username=e.username||"",n.password=e.password||"",n.first_name=e.first_name||"",n.last_name=e.last_name||"",n.country=e.country||"",n.locale=r.a.instance.locale,n.referrer=r.a.instance.referrer,e.age){const t=new Date;t.setFullYear(t.getFullYear()-e.age);const o=parseInt(t/1e3,10);n.birthday=o.toString()}if(e.custom_gender&&(n.custom_gender=e.custom_gender),e.gender&&(n.gender=e.gender),e.business_name&&(n.account_type=e.account_type,n.business_name=e.business_name,n.first_name=e.business_name),r.a.instance.invite_code&&(n.invite_code=r.a.instance.invite_code),e.facebook_id){const t=r.a.instance.facebook_token||e.facebook_token||"";n.facebook_id=e.facebook_id,n.facebook_token=t,n.social_username=e.social_username||""}else(e.gplus_code||e.gplus_id_token)&&(n.password=e.password||"",n.one_time_code=e.gplus_code,n.id_token=e.gplus_id_token,n.redirect_uri=e.gplus_redirect_uri);return e.recaptchaV3Token&&(n.recaptcha_v3_token=e.recaptchaV3Token),_.a.getQueryStringFromObject(n)},_setUpLoginParameters:function(e,n){const t={};if(e.username_or_email&&(t.username_or_email=e.username_or_email.trim(),t.password=e.password,t.referrer=r.a.instance.referrer),e.facebook_id){const n=r.a.instance.facebook_token||e.facebook_token||"";t.facebook_id=e.facebook_id,t.facebook_token=n,t.facebook_autologin=e.facebook_autologin||!1}return e.gplus_id_token&&(t.gplus_id_token=e.gplus_id_token,t.gplus_access_token=e.gplus_access_token,t.gplus_expires_at=e.gplus_expires_at,t.gplus_autologin=e.gplus_autologin||!1),e.mfa_token&&(t.mfa_token=e.mfa_token),n&&(t.token=n),_.a.getQueryStringFromObject(t)},_getRegisterRequestUrl:function(e){let n="/v3/register/email/handshake/";return e.facebook_id&&(n="/v3/register/facebook/handshake/"),(e.gplus_code||e.gplus_id_token)&&(n="/v3/register/gplus/handshake/"),e.business_name&&(n="/v3/register/partner/handshake/"),i.a.settings.ACCOUNTS_PINTEREST_URL+n},_getLoginRequestUrl:function(e){let n="/v3/login/handshake/";return e.facebook_id&&(n="/v3/login/facebook/handshake/"),e.gplus_id_token&&(n="/v3/login/gplus/handshake/"),e.mfa_token&&(n="/v3/login/mfa/handshake/"),i.a.settings.ACCOUNTS_PINTEREST_URL+n},registerUser:function(e){const n=c._getRegisterRequestUrl(e),t=c._setUpRegisterParameters(e);return c._crossDomainRequest(n,t,"POST")},loginUser:function(e,n){const t=c._getLoginRequestUrl(e),o=c._setUpLoginParameters(e,n);return c._crossDomainRequest(t,o,"POST")}};n.default=c},iFas:function(e,n,t){n.a={ACCOUNT_SWITCHER_FLYOUT:"account_switcher_flyout",ACCOUNT_SWITCHER_MODAL:"account_switcher_modal",VMP_ACCOUNT_SWITCHER_MODAL:"vmp_account_switcher_modal",ACCOUNT_RECOVERY:"account_recovery",BOARD_INVITE:"board_invite",CLOSEUP:"closeup",CLOSEUP_BANNER:"closeup_banner",FOLLOW_BUTTON:"followbtn",FLASHLIGHT_GRID:"flashlight_grid",GOOGLE_ONE_TAP:"google_one_tap_modal",LOGIN_PAGE:"login_page",INSPIRED_BANNER:"inspired_banner",MFA_LOGIN_PAGE:"mfa_login_page",HYBRID_CLICKTHROUGH:"hybrid_clickthrough",HYBRID_BANNER:"hybrid_banner",PIN_GRID:"pin_grid",PIN_IMAGE:"pin_image",RESPONSE_FLYOUT:"response_flyout",STORY_PIN_PAGE:"story_pin_page",UNAUTH_BANNER:"unauth_banner",UNAUTH_HEADER:"unauth_header"}},"liz/":function(e,n,t){t.d(n,"a",(function(){return E})),t.d(n,"e",(function(){return f})),t.d(n,"d",(function(){return p})),t.d(n,"c",(function(){return m})),t.d(n,"k",(function(){return A})),t.d(n,"b",(function(){return h})),t.d(n,"j",(function(){return S})),t.d(n,"i",(function(){return N})),t.d(n,"g",(function(){return b})),t.d(n,"f",(function(){return R})),t.d(n,"h",(function(){return T}));var o=t("xAAE"),r=t("JW66"),a=t("iFas"),i=t("0G5S");const s=e=>"undefined"!=typeof window?Object(i.a)(e):null,_=(e,n)=>{"undefined"!=typeof window&&Object(i.c)(e,n)},c={getAccounts:()=>s(r.a.MULTIPLE_ACCOUNTS),getAccountsJSON:()=>c.getAccounts()?JSON.parse(c.getAccounts()):{},getGroupId:()=>{const e=s(r.a.MULTIPLE_ACCOUNTS_GROUP);return e?JSON.parse(e):null},setAccounts:e=>_(r.a.MULTIPLE_ACCOUNTS,e),setGroupId:e=>_(r.a.MULTIPLE_ACCOUNTS_GROUP,JSON.stringify(e))};var u=c,l=t("xk4V"),g=t.n(l),d=t("D2p8"),O=t("28DW");const E=4,f=()=>u.getAccountsJSON(),p=()=>Object.keys(f()).length,m=()=>({[r.a.MULTIPLE_ACCOUNTS]:u.getAccountsJSON(),[r.a.MULTIPLE_ACCOUNTS_GROUP]:u.getGroupId()}),A=(e,n,t)=>{let o=u.getGroupId();o||(o=(()=>{const e=g()();return Object(O.g)("web_account_switcher.utils.group_created",{group_id:e,group_count:p()}),e})(),u.setGroupId(o));const r={group_id:o,group_count:p()};let i="";t&&(i=t===a.a.ACCOUNT_SWITCHER_MODAL?"modal.":"flyout."),Object(O.g)(`web_account_switcher.${i}${e}`,Object.assign({},n,r))},h=(e,n,t)=>{const o=u.getAccountsJSON();o[e.id]=(e=>{const n={id:e.id,username:e.username,email:e.email,fullName:e.fullName||e.full_name,imageMediumUrl:e.imageMediumUrl||e.image_medium_url,imageLargeUrl:e.imageLargeUrl||e.image_large_url};return n.fullName&&n.imageMediumUrl&&n.imageLargeUrl||A("utils.incomplete_user_values"),e.partner&&e.partner.is_create?{...n,partner:{is_create:e.partner.is_create}}:n})(e),u.setAccounts(JSON.stringify(o)),n&&t&&A("new_account_add_success",{method:n,user_added:e.id},t)},S=e=>{const n=u.getAccountsJSON();delete n[e],u.setAccounts(JSON.stringify(n))},N=(e,n)=>{if(!u.getAccounts()||e&&!(e.id in f())){if(e.partner&&e.partner.is_linked_business&&n)return void h({...e,email:n.partner&&n.partner.is_linked_business?n.partner.biz_ownership_email:""});h(e)}},b=(e,n,t)=>{A("switch_account_success",{destination_user_id:n},t),Object(o.a)(e)},R=(e,n)=>{d.c.resume(d.a),A("switch_account_failure",{destination_user_id:e},n)},T=e=>{d.c.resume(d.b),Object(O.a)("web.dismiss_account_switcher."+e)}},pWBZ:function(e,n,t){t.d(n,"a",(function(){return r})),t.d(n,"b",(function(){return a}));var o=t("1dBE");const{Provider:r,useHook:a}=Object(o.c)("i18n")},"x/Ro":function(e,n,t){var o=t("dg5e"),r=t("+NLT"),a=t("eOdZ"),i=t("QLqj"),s=t("kmwA"),_=t("JW66"),c=t("28DW");const u=new Map([[1,"INVALID_PARAMETERS"],[100,"INVALID_NETWORK_ACCESS_TOKEN"],[105,"FACEBOOK_ACCOUNT_NOT_LINKED"],[12,"API_SERVER_ERROR"],[1202,"LOGIN_MFA_TOKEN_INVALID"],[1203,"MFA_CONNECTION_ERROR"],[13,"API_DOWN"],[181,"GPLUS_CONNECTION_ERROR"],[14,"API_SERVER_SPAM_CONTENT"],[16,"API_REQUEST_TIMEOUT"],[50,"API_ERROR_PIN_NOT_FOUND"],[77,"INVALID_PASSWORD_FB_USER"],[78,"INVALID_PASSWORD_ERROR_CODE"],[79,"INVALID_EMAIL_ERROR_CODE"],[80,"INVALID_EMAIL_OR_PASSWORD"],[82,"LOGIN_DEACTIVATED_USER"],[83,"LOGIN_POLICY_VIOLATION_USER"],[85,"AUTO_PASSWORD_RESET_ERROR_CODE"],[86,"LOGIN_PANICKED_USER"],[87,"LOGIN_SOFT_BANNED_USER"],[93,"API_ERROR_UNDERAGE_REGISTER_ATTEMPT"],[99,"LOGIN_PASSWORD_NOT_CREATED"],[8,"API_LIMIT_EXCEEDED_ERROR"],[9,"API_EVENT_BLOCKED_ERROR"],[19,"USER_IN_SAFE_MODE"],[84,"LOGIN_VOLUNTARILY_DEACTIVATED_USER"],[85,"LOGIN_BAD_PASSWORD_ASK_RESET"],[1201,"LOGIN_MFA_REQUIRED"],[30,"LOGIN_USER_NOT_FOUND"],[88,"LOGIN_HARD_BANNED_USER"],[429,"RESPONSE_CODE_TOO_MANY_REQUESTS"]]);function l(e,n,t="unknown_source",o=!1){if(e){const r=e.http_status===_.a.RESPONSE_CODE_TOO_MANY_REQUESTS?_.a.RESPONSE_CODE_TOO_MANY_REQUESTS:e.api_error_code;let a=r;u.has(r)&&(a=u.get(r));const{container:i}=n;o?Object(c.a)(`unauth_web_client_cctld_login_api_error.${String(a)}.${i||"unknow_container"}.${t}`):Object(c.a)(`unauth_web_client_login_api_error.${String(a)}.${i||"unknow_container"}.${t}`)}}var g=t("UPfj"),d=t("VL22"),O=t("53sj");const E=function(e){return e.mfa_token?"mfa_token":e.mfa_resend?"mfa_resend":e.facebook_id?d.a.FACEBOOK:e.google_open_id_token?d.a.GOOGLE_ONE_TAP:e.gplus_id_token?d.a.GOOGLE:e.phone_number?"phone_number":e.username_or_email?d.a.EMAIL:d.a.OTHER},f=function(e,n,t=!1){let o="referrer_unknown";try{const e=document.referrer;o=e?e.indexOf("/t.co/")>-1?"twitter":e.indexOf("google.")>-1?"google":e.indexOf("bing.")>-1?"bing":e.indexOf("facebook.")>-1?"facebook":"other":"direct"}catch(u){}const r=E(e),a=n===Object(n)?n.hybridTier:"tier_unknown",i=n===Object(n)?n.container:"container_unknown";Object(c.a)("login.referrer."+o+"."+r),Object(c.a)("login.container."+i+"."+r),Object(c.a)("login.type."+r);const s=E(e)||"method_unknown",_=n.page||"page_unknown";e.gplus_autologin?t?(Object(c.a)("mweb_autologin.google_success"),Object(c.h)("new_mweb_autologin_google",{page:_,referrer:o,container:i,hybridTier:a})):(Object(c.a)("web_autologin_google"),Object(c.h)("new_web_autologin_google",{page:_,referrer:o,container:i,hybridTier:a})):e.facebook_autologin?(Object(c.a)("web_autologin_facebook"),Object(c.h)("new_web_autologin_facebook",{page:_,referrer:o,container:i,hybridTier:a})):(Object(c.a)(`web_login.${s}.success.${_}.${i}.${o}.${a}`),Object(c.h)(`new_web_login.${s}.success`,{page:_,referrer:o,container:i,hybridTier:a}))},p=(e,n)=>{Object(c.a)(`web_cross_domain_login.${e}.${E(n)}`)};n.a=function(e,n={},t=null,_=!1,c,u,d=!1){if(function(e){return!e.mfa_resend&&!!e.username_or_email}(e)){if(-1!==s.a.settings.CORS_HANDSHAKE_DOMAINS.indexOf(r.a.instance.origin))return function(e,n,t){return p("attempt",e),o.default.loginUser(e,n).then(n=>{if(n&&n.data){p("success_with_token",e);const r=n.data;return o.default.exchangeTokenAndSetSession(r).then(n=>(p("success_token_exchanged",e),f(e,t),Promise.resolve()),n=>{throw p("success_token_not_exchanged",e),n})}throw p("success_without_token",e),new Error},n=>{throw p("failure",e),l(n,t,E(e),!0),n})}(e,u,n)}e.switch_account&&(e.get_user=!!_||e.get_user);const m=_?null:i.b.localStorage.getItem("visitedPagesBeforeLogin"),A={...e,app_type_from_client:7===r.a.instance.app_type?7:5,visited_pages_before_login:m?JSON.stringify(m):null,recaptchaV2Token:c,recaptchaV3Token:u};return a.a.create("UserSessionResource",A).callCreate({showError:!1,async:!0}).then(t=>(f(e,n,d),Object(g.f)(!1),Object(O.a)("login").then(()=>t)),t=>(l(t,n,E(e)),Promise.reject(t)))}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/js/131-a5fc1e123f2c179a45dc.mjs.map